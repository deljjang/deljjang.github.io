"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[5013],{49833:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(23730),c=o(16491),s=o(19808),a=o(9950),l=o(28429),i=o(9798),r=o(26232),m=o(53743),u=o(15265),d=o(86635),h=o(9343),g=o(8542),x=o(11298),b=o(85881),f=o(10611),w=o(9519),v=o(86608),j=(o(48992),o(44414));const y=()=>{var e;const{title:t,gbn:o,date:y,text:_,image:p,setFireId:S,isLoading:k}=(0,f.x)(),F=(0,l.Zp)(),I=(0,a.useRef)(),{homeId:L}=(0,l.g)(),R=(0,l.zy)(),A=null===R||void 0===R||null===(e=R.state)||void 0===e?void 0:e.fullIndex,{user:T}=(0,w.b)(),{settings:C,saveSettings:E}=(0,v.t)();return(0,a.useEffect)((()=>{E({...C,nodeId:L}),(0,g.zK)(L,A),S("home_txt/".concat(L),"home/".concat(L),"")}),[L,T]),(0,a.useEffect)((()=>{null!==_&&document.querySelectorAll("pre").forEach((e=>{e.innerHTML=(0,m.L)(e.innerHTML)}))}),[_]),console.log("homeId=",L),console.log("detailTitle=",t.current),""===L||void 0===T||null===_?(0,j.jsx)(j.Fragment,{}):(T.uid!==h.q3&&F("/"),console.log("image=",p),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.O,{children:t.current}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(i.R,{}),children:(0,j.jsxs)(s.A,{className:"container",sx:{p:0,width:"100%"},children:[(0,j.jsx)(r.A,{newMode:I.current,onPostSubmit:async(e,t,o)=>{await(0,x.Q9)("home_txt","home",L,t),await(0,x.y1)(L,"home_txt/","home/","".concat(e.edGbn,"/sub/").concat(L),e);const c=await(0,x.F)("home_txt","home",L,o);console.log("onPostSubmit.imageResult",c);const s=await(0,n.hZ)((0,n.KR)(b.mr,"home/".concat(e.edGbn,"/title")),e.edGbn);console.log("onPostSubmit.setTitle=",s),F("/blog/".concat(L))},onNewSubmit:async(e,t)=>{const o=await(0,x.y1)(void 0,"home_txt/","home/",A,e);await(0,x.F)("home_txt","home",o,t),void 0!==o&&F("/homemng/".concat(o)),I.current=!1,F("/blog/".concat(L))},onCancel:()=>{F("/blog/".concat(L))},title:t.current,gbn:o.current,date:y.current,content:_,imageList:p}),(0,j.jsx)(c.A,{sx:{my:2,overflow:"hidden",overflowX:"auto"},children:k&&(0,j.jsx)(i.R,{})})]})}),(0,j.jsx)(d.n,{})]}))}}}]);