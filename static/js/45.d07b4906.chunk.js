"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[45],{67983:(e,n,t)=>{t.d(n,{Z:()=>a});var c=t(9019),i=t(19536),s=t(43407),r=t(53431),o=t(82391),l=t(46417);const a=()=>{const{query:e}=(0,o.j)(),n=e.data;if(void 0!==n&&null!==n)return(0,l.jsxs)(l.Fragment,{children:[n.map(((e,n)=>(0,l.jsxs)(c.ZP,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:"id_".concat(n+1),children:[(0,l.jsx)(c.ZP,{item:!0,xs:1,md:1,children:(0,l.jsx)(r.nf,{to:"/bible/".concat(e.cd1,"_").concat(e.cd2,"_").concat(e.cd3),state:{cd4:e.cd4},children:e.nm})}),(0,l.jsx)(c.ZP,{item:!0,xs:4,sm:6,md:9,lg:11,children:(0,l.jsx)(s.O,{show:!0,text:e.txt})})]},n))),(0,l.jsx)(i.Z,{})]})}},82391:(e,n,t)=>{t.d(n,{j:()=>a});var c=t(12725),i=t(47313),s=t(2024),r=t(96821),o=t(25075),l=t(41962);const a=()=>{const e=new o.S,{user:n}=(0,r.$)(),t=(0,l.a)({queryKey:["useBibleBookmark"],queryFn:()=>async function(){if(void 0===n.uid)return new Error("Error undefined");const e=(0,c.iH)(s.h3,"bible_mark/".concat(n.uid)),t=await(0,c.U2)(e),i=new Array;if(t.exists()){const e=t.val();return Object.values(e).map((e=>{"Y"===e.bookmark&&i.push(e)})),i}return new Error("Error exists")}(),enabled:!1});(0,i.useEffect)((()=>{void 0!==n&&t.refetch()}),[n]);return{query:t,setBibleBookmark:i=>{if(void 0===n)return;if(void 0===n)return;let r="N";void 0!==i.bookmark&&"N"!==i.bookmark||(r="Y"),i.bookmark=r;const o="bible_mark/".concat(n.uid,"/").concat(i.cd1,"_").concat(i.cd2,"_").concat(i.cd3,"_").concat(i.cd4);(0,c.t8)((0,c.iH)(s.h3,o),i),e.invalidateQueries({queryKey:["useBibleBookmark"]}),t.refetch()}}}},48045:(e,n,t)=>{t.r(n),t.d(n,{BibleDetail:()=>I,default:()=>P});var c=t(49336),i=t(41806),s=t(85281),r=t(61113),o=t(47313),l=t(58467),a=t(2024),d=t(9019),m=t(31095),u=t(47825),x=t(43407),h=t(53431),b=t(35328),j=(t(11338),t(8374),t(97322)),f=t(11069),v=t(82391),k=t(96821),p=t(67983),g=t(2774),y=t(25075),Z=t(59941),_=t(46417);const w=e=>{const n=new Array;if(void 0===e.data||null===e.data)return;const t=e.bibleId.split("_");for(let c=1;c<=e.data.cd3;c++){const t={nm:"".concat(e.data.nm2).concat(c,"\uc7a5"),key:e.data.key};n.push(t)}return t&&3===t.length?(0,_.jsxs)(r.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",flexDirection:"column",mb:4},children:[e.nm," ",t[2]," \uc7a5"]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",flexDirection:"column",mb:4},children:e.nm}),(0,_.jsx)(d.ZP,{container:!0,spacing:2,columns:{xs:4,sm:6,md:10,lg:12},children:n.map(((e,n)=>(0,_.jsx)(d.ZP,{item:!0,xs:1,md:1,children:(0,_.jsx)(h.nf,{to:"/bible/".concat(e.key,"_").concat(n+1),children:e.nm})},n)))})]})},B=e=>{const n=e.dataText;if(void 0===e.data||null===e.data)return;if(void 0===n||null===n)return;const t=e.bibleId.split("_");return e.bibleId&&3!==t.length?(0,_.jsx)(_.Fragment,{}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(r.Z,{variant:"h6",sx:{display:"flex",alignItems:"center",flexDirection:"column",mb:4},children:e.nm}),n.map(((n,t)=>{var c,s;void 0!==n.bm&&console.log("item",e.cd4,n);let r="text.primary";e.cd4+""===n.cd4&&(r="warning.main");const o=null===(c=e.bookmark)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.filter((e=>e.cd1===n.cd1&&e.cd2===n.cd2&&e.cd3===n.cd3&&e.cd4===n.cd4&&"Y"===e.bookmark));return o&&o.length>0&&(n.bookmark="Y"),(0,_.jsxs)(d.ZP,{container:!0,spacing:2,columns:{xs:5,sm:6,md:10,lg:12},id:"id_".concat(t+1),children:[(0,_.jsx)(d.ZP,{item:!0,xs:1,md:1,children:(0,_.jsxs)(i.Z,{sx:{color:r,display:"flex"},children:[(0,_.jsx)(h.Jy,{sx:{alignItems:"center",textAlign:"top"},onClick:t=>e.onBookmark(n),children:n.nm}),o&&o.length>0&&(0,_.jsx)(f.Z,{sx:{color:"red"}})]})}),(0,_.jsx)(d.ZP,{item:!0,xs:4,sm:5,md:9,lg:11,children:(0,_.jsx)(i.Z,{sx:{color:r},children:(0,_.jsx)(x.O,{text:n.text})})})]},t)}))]})},I=e=>{var n,t;const[r,x]=(0,o.useState)(null),[h,f]=(0,o.useState)(!0),{query:I,setBibleBookmark:P}=(0,v.j)(),E=(0,o.useRef)(),{bibleId:C}=(0,l.UO)(),F=(0,l.TH)(),[q,D]=(0,o.useState)(!1),[S,O]=(0,o.useState)(!1),{user:T}=(0,k.$)(),A=null===F||void 0===F||null===(n=F.state)||void 0===n?void 0:n.word,H=null===F||void 0===F||null===(t=F.state)||void 0===t?void 0:t.cd4,N=(0,l.s0)();new y.S;console.log("BibleDetail.bookmark=",I),(0,o.useEffect)((()=>{if(void 0!==C){(async()=>{const e=await U(C,A);x(e),f(!1)})(),D(!1),O(!0);const e=C.split("_");if(3===e.length){const n=E.current.cd3;D(1!==Number(e[2])),O(e[2]<n)}}}),[C]),(0,o.useEffect)((()=>{void 0!==H&&setTimeout((()=>{Y("","id_"+H)}),1500)}),[r]);const Y=(e,n)=>{const t=document.getElementById(n);t&&t.scrollIntoView({block:"center",behavior:"smooth"})},U=async(e,n)=>{if(""===e||void 0===e)return"";const t=e.split("_");if(!(t.length<1))if(E.current=b[t[0]][t[1]],console.log("bibleTitle=",E),3!==t.length);else{const e=(0,c.iH)(a.h3,"bible_".concat(t[0],"/").concat(t[1],"/").concat(t[2])),i=await(0,c.U2)(e);if(i.exists()){const e=i.val(),c=new Array;return Object.values(e).map((e=>{if(void 0===e)return;let i=e.txt;if(void 0!==n){const e=new RegExp(n,"gi");i=i.replace(e,"<span class='lightext'>".concat(n,"</span>"))}e.nm="".concat(E.current.nm2).concat(t[2],":").concat(e.cd4),e.text=i,c.push(e)})),c}}};if(""===C)return(0,_.jsx)(_.Fragment,{});const W=e=>{console.log("onMove",e);let n=C.split("_");n[2]=Number(n[2])+e,console.log("onMove.tmp",n),N("/bible/".concat(n[0],"_").concat(n[1],"_").concat(n[2]))};return(0,_.jsxs)(o.Fragment,{children:[(0,_.jsx)("div",{id:"back-to-top-anchor"}),(0,_.jsx)(p.Z,{}),(0,_.jsx)(g.a,{children:null!==E.current&&void 0!==E.current&&null!==E.current.nm?E.current.nm:""}),(0,_.jsx)(w,{data:E.current,bibleId:C}),(0,_.jsx)(B,{dataText:r,data:E.current,searchWord:A,bibleId:C,cd4:H,bookmark:I,onBookmark:e=>{void 0!==T&&P(e)}}),(0,_.jsxs)(u.Z,{sx:{p:0},children:[h&&(0,_.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,_.jsx)(s.Z,{sx:{mt:5}})}),C&&3===C.split("_").length?(0,_.jsx)(i.Z,{sx:{display:"flex",justifyContent:"space-between",mt:5},children:(0,_.jsxs)(d.ZP,{container:!0,spacing:1,children:[q?(0,_.jsx)(d.ZP,{item:!0,xs:S?6:12,children:(0,_.jsx)(j.Z,{children:(0,_.jsx)(m.Z,{type:"button",variant:"outlined",onClick:()=>W(-1),fullWidth:!0,children:"< \uc774\uc804"})})}):"",S?(0,_.jsx)(d.ZP,{item:!0,xs:q?6:12,children:(0,_.jsx)(j.Z,{children:(0,_.jsx)(m.Z,{type:"button",variant:"outlined",onClick:()=>W(1),fullWidth:!0,children:"\ub2e4\uc74c >"})})}):""]})}):""]}),(0,_.jsx)(Z.d,{})]})},P=I},11069:(e,n,t)=>{var c=t(64836);n.Z=void 0;var i=c(t(45045)),s=t(46417),r=(0,i.default)((0,s.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");n.Z=r}}]);