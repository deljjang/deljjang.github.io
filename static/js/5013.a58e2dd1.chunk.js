"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[5013],{49833:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var n=o(23730),s=o(16491),l=o(19808),i=o(9950),a=o(28429),r=o(9798),c=o(26232),m=o(53743),u=o(15265),d=o(86635),h=o(9343),g=o(8542),x=o(11298),b=o(85881),f=o(10611),w=o(9519),v=o(86608),j=(o(48992),o(44414));const y=()=>{var e;const{title:t,gbn:o,date:y,text:$,image:_,setFireId:p,isLoading:S}=(0,f.x)(),k=(0,a.Zp)(),F=(0,i.useRef)(),{homeId:I}=(0,a.g)(),L=(0,a.zy)(),R=null===L||void 0===L||null===(e=L.state)||void 0===e?void 0:e.fullIndex,{user:A}=(0,w.b)(),{settings:T,saveSettings:C}=(0,v.t)();return(0,i.useEffect)((()=>{C({...T,nodeId:I}),(0,g.zK)(I,R),p(`home_txt/${I}`,`home/${I}`,"")}),[I,A]),(0,i.useEffect)((()=>{null!==$&&document.querySelectorAll("pre").forEach((e=>{e.innerHTML=(0,m.L)(e.innerHTML)}))}),[$]),console.log("homeId=",I),console.log("detailTitle=",t.current),""===I||void 0===A||null===$?(0,j.jsx)(j.Fragment,{}):(A.uid!==h.q3&&k("/"),console.log("image=",_),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.O,{children:t.current}),(0,j.jsx)(i.Suspense,{fallback:(0,j.jsx)(r.R,{}),children:(0,j.jsxs)(l.A,{className:"container",sx:{p:0,width:"100%"},children:[(0,j.jsx)(c.A,{newMode:F.current,onPostSubmit:async(e,t,o)=>{await(0,x.Q9)("home_txt","home",I,t),await(0,x.y1)(I,"home_txt/","home/",`${e.edGbn}/sub/${I}`,e);const s=await(0,x.F)("home_txt","home",I,o);console.log("onPostSubmit.imageResult",s);const l=await(0,n.hZ)((0,n.KR)(b.mr,`home/${e.edGbn}/title`),e.edGbn);console.log("onPostSubmit.setTitle=",l),k(`/blog/${I}`)},onNewSubmit:async(e,t)=>{const o=await(0,x.y1)(void 0,"home_txt/","home/",R,e);await(0,x.F)("home_txt","home",o,t),void 0!==o&&k(`/homemng/${o}`),F.current=!1,k(`/blog/${I}`)},onCancel:()=>{k(`/blog/${I}`)},title:t.current,gbn:o.current,date:y.current,content:$,imageList:_}),(0,j.jsx)(s.A,{sx:{my:2,overflow:"hidden",overflowX:"auto"},children:S&&(0,j.jsx)(r.R,{})})]})}),(0,j.jsx)(d.n,{})]}))}}}]);