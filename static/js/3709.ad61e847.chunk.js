"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[3709],{50003:(e,t,n)=>{n.d(t,{_:()=>x});var o=n(19536),i=n(41806),l=n(20463),r=n(61113),a=n(47313),s=n(21587),c=n(68322),d=n(46417);const u={position:"absolute",top:"50%",left:"50%",display:"flex",flexDirection:"column",alignItems:"center",transform:"translate(-50%, -50%)",width:250,maxHeight:"400px",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,boxSizing:"border-box",p:4},h=e=>(0,d.jsxs)(i.Z,{sx:{my:2,mt:3,display:"flex"},children:[(0,d.jsx)(s.ZP,{type:"submit",variant:"outlined",color:"success",onClick:e.onPost,children:"\ud655\uc778"}),(0,d.jsx)(s.ZP,{type:"button",variant:"outlined",onClick:e.onClose,children:"\ucde8\uc18c"})]}),x=e=>{const[t,n]=a.useState(e.open),[s,x]=a.useState(),p=()=>{n(!1),x(void 0),e.onClose()};a.useEffect((()=>{n(e.open)}),[e.open]);return(0,d.jsx)("div",{children:(0,d.jsx)(l.Z,{open:t,onClose:p,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsxs)(i.Z,{sx:u,children:[(0,d.jsx)(r.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\uc774\ub3d9\ud560 \uba54\ubaa8\uc7a5 \uc120\ud0dd"}),(0,d.jsx)(o.Z,{}),(0,d.jsx)(i.Z,{sx:{width:"100%",minHeight:110,maxHeight:200,flexGrow:1,minWidth:100,overflow:"hidden"},children:(0,d.jsx)(c.Z,{data:e.data,onDetail:e=>{x(e)},maxHeight:200})}),(0,d.jsx)(h,{onPost:()=>{void 0!==s?e.onPost(s):alert("\uc774\ub3d9\ud560 \uba54\ubaa8\uc7a5\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694")},onClose:p})]})})})}},4319:(e,t,n)=>{n.d(t,{x:()=>s});var o=n(9019),i=n(42461),l=n(47313),r=n(21587),a=n(46417);const s=e=>{const t=(0,l.useRef)(null);function n(){e.onSearchDataBtn(t.current.value)}return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(o.ZP,{container:!0,spacing:1,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsx)(i.Z,{id:"edSearch",type:"edSearch",name:"edSearch",inputRef:t,placeholder:"Enter Search...",fullWidth:!0,sx:{pt:0,pl:2,pr:2,pb:1},onKeyDownCapture:function(e){13===e.which&&n()}})}),(0,a.jsx)(o.ZP,{item:!0,xs:6,children:(0,a.jsx)(r.ZP,{disableElevation:!0,fullWidth:!0,type:"button",variant:"outlined",color:"success",onClick:function(){return e.onNewMemoBtn(),!1},children:"\uc0c8\uae00"})}),(0,a.jsx)(o.ZP,{item:!0,xs:6,children:(0,a.jsx)(r.ZP,{variant:"outlined",fullWidth:!0,onClick:n,children:"\uc870\ud68c"})})]})})}},93727:(e,t,n)=>{n.d(t,{j:()=>c});var o=n(31095),i=n(19536),l=n(61113),r=(n(47313),n(96821)),a=n(21587),s=n(46417);const c=()=>{const{user:e,handleGoogleLogin:t,handleGoogleLogout:n}=(0,r.$)();return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",margin:8},children:(0,s.jsxs)(o.Z,{type:"button",onClick:n,children:[(0,s.jsx)("img",{height:"30px",src:e.photoURL}),(0,s.jsxs)(l.Z,{noWrap:!0,component:"div",children:["\xa0\xa0",e.displayName]})]})}),(0,s.jsx)(i.Z,{sx:{m:0}})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",margin:8},children:(0,s.jsx)(a.ZP,{type:"button",size:"small",variant:"outlined",color:"success",onClick:t,children:"\ub85c\uadf8\uc778"})}),(0,s.jsx)(i.Z,{})]})}},21587:(e,t,n)=>{n.d(t,{ZP:()=>a});var o=n(31095),i=n(42830),l=n(46417);function r(e){let{children:t,...n}=e;return(0,l.jsx)(o.Z,{variant:"contained",component:i.E.div,whileHover:{scale:1,transition:{duration:.3}},whileTap:{scale:.9},...n,children:t})}r.defaultProps={type:"scale"};const a=r},87185:(e,t,n)=>{n.d(t,{Z:()=>Y});var o=n(24631),i=n(41806),l=n(47313),r=(n(94230),n(4833),n(16)),a=n.n(r),s=n(1550),c=n(23306),d=n(24256),u=n(95765),h=n(75627),x=n(46417);const p=e=>{let{name:t,label:n,control:o,defaultValue:i,selectList:l,...r}=e;const a="".concat(t,"-label");return(0,x.jsxs)(s.Z,{...r,children:[(0,x.jsx)(c.Z,{id:a,children:n}),(0,x.jsx)(h.Qr,{render:e=>{let{field:t}=e;return(0,x.jsx)(d.Z,{labelId:a,label:n,...t,children:l.map(((e,t)=>(0,x.jsx)(u.Z,{value:e.value,children:e.text},t)))})},name:t,control:o,defaultValue:i})]})};var g=n(63325),m=n(63950),f=n(51997),j=n(70501),b=n(47131),v=n(61113),y=n(85281),Z=n(19536),w=n(21587);const D=e=>{const[t,n]=(0,l.useState)(e.imgList);return t&&t.length>0&&t.map(((o,l)=>{const{key:r,name:a,url:s,del:c,ext:d}=o;return void 0!==c?"":(0,x.jsxs)("div",{children:[(0,x.jsxs)(i.Z,{display:"flex",flexDirection:"row",alignItems:"center",sx:{justifyContent:"space-between"},children:["mp4"===d&&(0,x.jsx)(v.Z,{style:{width:"50px",textAlign:"center"},variant:"body",children:d}),"jpg"===d&&(0,x.jsx)("img",{src:s,style:{width:"50px"}}),(0,x.jsx)("div",{children:a}),(0,x.jsxs)("div",{style:{display:"flex"},children:[s&&(0,x.jsx)(w.ZP,{variant:"outlined",color:"success",onClick:n=>{n.preventDefault(),(n=>{t.map((t=>{if(t.key===n)return e.onInsert(t),!1}))})(r)},children:"\ucd94\uac00"}),(0,x.jsx)(b.Z,{"aria-label":"delete",onClick:()=>(o=>{console.log("onDeleteClick.key=",o);const i=t.map((e=>(console.log("onDeleteClick.file.key=",e.key),e.key===o&&(e.del="Y"),e)));n(i),console.log("onDeleteClick.tempFiles=",i),e.onClick(i)})(r),children:(0,x.jsx)(f.Z,{sx:{color:"red"}})})]})]}),(0,x.jsx)(Z.Z,{})]},l)}))},C=e=>{const{control:t}=e,n=(0,h.qo)({control:t,name:"content"}),[o,r]=(0,l.useState)(!1),[a]=(0,l.useState)(!1),[s,c]=(0,l.useState)([]),[d,u]=(0,l.useState)(e.imageList),p=(0,l.useRef)(0);(0,l.useEffect)((()=>{c([])}),[]);const g=(0,l.useCallback)((e=>{var t;e.preventDefault(),null!==(t=e.dataTransfer)&&void 0!==t&&t.files&&r(!0)}),[]),w=(0,l.useCallback)((e=>{e.preventDefault(),r(!1)}),[]),C=(0,l.useCallback)((t=>{let n=[],o=s;n="drop"===t.type?t.dataTransfer.files:t.target.files;for(const e of n){const t=URL.createObjectURL(e);o=[...o,{id:p.current++,object:e,url:t}]}console.log("onChangeFiles.tempFiles=",o),e.onFileUpload(o),c(o)}),[s,e]),k=(0,l.useCallback)((t=>{u(t),e.onDelete(t)}),[e]),S=(0,l.useCallback)((t=>{const n=s.filter((e=>e.id!==t));e.onFileUpload(n),c(n)}),[s,e]),I=(0,l.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),r(!1),C(e)}),[C]);return(0,x.jsxs)(i.Z,{children:[(0,x.jsxs)(j.Z,{variant:"outlined",onDragOver:g,onDragLeave:w,onDrop:I,cursor:"pointer",sx:{"&:hover":{cursor:"pointer"}},style:{border:o?"1px dashed red":"1px dashed gray",paddingLeft:5,paddingRight:5,marginBottom:10,textAlign:"center",cursor:"pointer",backgroundColor:o?"secondary":"transparent",position:"relative"},children:[(0,x.jsx)("input",{type:"file",id:"fileUpload",style:{display:"none"},multiple:!0,onChange:C}),(0,x.jsx)("label",{htmlFor:"fileUpload",children:(0,x.jsxs)(i.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,x.jsx)(b.Z,{color:"primary","aria-label":"upload picture",component:"span",children:(0,x.jsx)(m.Z,{style:{fontSize:40}})}),(0,x.jsx)(v.Z,{children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc"})]})}),a&&(0,x.jsx)(y.Z,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(D,{imgList:d,onInsert:t=>{let o=n;"jpg"===t.ext?o+="<img src='".concat(t.url,"'/>"):"mp4"===t.ext&&(o+='<video preload="auto" controls="" src=\''.concat(t.url,"'></video>")),e.setContent(o)},onClick:k}),s.length>0&&s.map(((e,t)=>{const{id:n,object:{name:o},url:l}=e;return(0,x.jsxs)("div",{children:[(0,x.jsxs)(i.Z,{display:"flex",flexDirection:"row",alignItems:"center",sx:{justifyContent:"space-between"},children:[(0,x.jsx)("img",{src:l,style:{width:"50px"}}),(0,x.jsx)("div",{children:o}),(0,x.jsx)(b.Z,{"aria-label":"delete",onClick:()=>S(n),children:(0,x.jsx)(f.Z,{sx:{color:"red"}})})]},t),(0,x.jsx)(Z.Z,{})]},t)}))]})]})};var k=n(99080),S=n(23834),I=n(94762);const M=e=>{let{onSubmit:t,onCancel:n,isSubmitting:o}=e;return(0,x.jsxs)(i.Z,{sx:{my:2,display:"flex"},children:[(0,x.jsx)(w.ZP,{variant:"outlined",color:"success",disabled:o,onClick:e=>{e.preventDefault(),t(e)},children:"\uc800\uc7a5"}),(0,x.jsx)(w.ZP,{type:"button",variant:"outlined",onClick:n,children:"\ucde8\uc18c"})]})};var H=n(34431),L=n(10658),P=n.n(L);r.Quill.register("modules/imageDrop",S.c),k.Z.configure({languages:["javascript","ruby","python","java","cpp","kotlin","sql"]});const T={syntax:{highlight:e=>k.Z.highlightAuto(e).value},toolbar:[[{header:"1"},{header:"2"},{header:"3"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"],["code-block"]],imageDrop:!0,clipboard:{matchVisual:!1}},R=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","clean","code-block","code-custom"],Y=e=>{const t=(0,l.useRef)(),[n,r]=(0,l.useState)(e.imageList),s=(0,l.useRef)(),c=e.newMode,d=(0,l.useRef)([]),{height:u,width:m}=(0,g.Z)(),f=I.ou.now().setZone("Asia/Seoul").toFormat("yyyy-MM-dd"),j={edTitle:e.title,edGbn:e.gbn?e.gbn:"",edDate:e.date?e.date:f,content:e.content},{register:b,handleSubmit:v,trigger:y,control:Z,setValue:w,getValues:D,watch:k,formState:{errors:S,isSubmitting:L}}=(0,h.cI)({mode:"onChange",defaultValues:j});b("edDate",{required:!0,minLength:10}),b("edGbn",{required:!0}),b("edTitle",{required:"\ud574\ub2f9 \ud544\ub4dc\ub294 \ud544\uc218\uc785\ub2c8\ub2e4.",minLength:{value:3,message:"3\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."}}),(0,l.useEffect)((()=>{d.current=[],t.current=e.content,s.current=!1}),[e.content]);const Y=async t=>{console.log("onPostSubmit.newMode=",c),console.log("onPostSubmit.values=",t),c?e.onNewSubmit(t,d.current):await e.onPostSubmit(t,n,d.current)};const W=k("content");return(0,x.jsx)(i.Z,{sx:{my:2,mb:"50px",width:"100%"},children:(0,x.jsxs)("form",{onSubmit:v(Y),style:{width:"100%",minHeight:"300px",maxWidth:"".concat(m,"px - 20px"),maxHeight:{height:u}},children:[(0,x.jsx)(M,{onSubmit:e=>(console.log("onSaveBtn.content=",t.current),console.log("onSaveBtn.edGbn=",D("edGbn")),console.log("onSaveBtn.errors=",S),console.log("onSaveBtn.isSubmitting=",L),void v(Y)()),onCancel:e.onCancel,isSubmitting:L}),(0,x.jsx)(C,{control:Z,onDelete:e=>{console.log("onDelete.imageList=",e),r(e)},onInsert:e=>{let n=t.current;"jpg"===e.ext?n+="<img src='".concat(e.url,"'/>"):"mp4"===e.ext&&(n+='<video preload="auto" controls="" src=\''.concat(e.url,"'></video>")),t.current=n},setContent:e=>{t.current=e},onFileUpload:e=>{console.log("handleFileUpload",e),d.current=e},imageList:e.imageList}),(0,x.jsx)(o.Z,{...b("edTitle"),fullWidth:!0,label:"\uc81c\ubaa9",placeholder:"\uc81c\ubaa9",variant:"standard",style:{paddingLeft:"0px"},error:!!S.edTitle}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",alignContent:"center"},children:[(0,x.jsx)(p,{id:"edGbn",name:"edGbn",label:"category",control:Z,defaultValue:D("edGbn"),variant:"standard",margin:"normal",selectList:[{value:"",text:"None"},{value:"react",text:"React"},{value:"android",text:"Android"},{value:"java",text:"JAVA"},{value:"image",text:"\uadf8\ub9bc / \uc0ac\uc9c4"},{value:"etc",text:"\uae30\ud0c0"}],error:!!S.edGbn}),(0,x.jsx)(H.M,{style:{paddingTop:"2px"},format:"YYYY-MM-DD",fullWidth:!0,label:"\uc77c\uc790",id:"edDate",value:P()(D("edDate")),...b("edDate"),variant:"outlined",defaultValue:P()(D("edDate")),onChange:function(e){console.log("handleChangeDate=",e);let t=P()(e);t.format("YYYY-MM-DD HH:mm:ss"),console.log("handleChangeDate.dayjs=",t.format("YYYY-MM-DD HH:mm:ss")),w("edDate",t.format("YYYY-MM-DD")),y("edDate")}})]}),(0,x.jsx)(a(),{fullWidth:!0,theme:"snow",id:"content",name:"content",type:"div",value:W,style:{minWidth:"400px",border:"1px solid primary.main",minHeight:"200px",height:"400px",maxHeight:"450px"},sx:{width:"".concat(m,"px - 50px")},modules:T,formats:R,onChange:function(e){console.log("handleChange=",e),t.current=e,w("content",e),y("content")}})]})})}},25266:(e,t,n)=>{n.d(t,{o:()=>s,A:()=>a});var o=n(99080),i=(n(29377),n(17592)),l=n(46417);o.Z.configure({languages:["javascript","ruby","python","java","cpp","kotlin","sql"]});const r=(0,i.ZP)("pre")((e=>{let{props:t}=e;return{...t,color:"rgb(206 204 226)",backgroundColor:"rgb(27 27 27 / 87%)",textAlign:"left",paddingLeft:"3px",width:"100%",wordBreak:"break-word",wordWrap:"break-word",whiteSpace:"pre",overflowX:"auto",borderLeft:"2px solid #358ccb"}}));function a(e){let t=0;const n=e.replace(/<span class="hljs-comment">(.|\n)*?<\/span>/g,(e=>e.replace(/\r?\n/g,(()=>'\n<span class="hljs-comment">')))),o=n.split(/\r?\n/).length-1,i=n.split(/\r?\n/).map(((e,n)=>o===n&&""===e?"":"<tr>\n              <td class='line-number' data-pseudo-content=".concat(++t,"></td>\n              <td class='line-content'>").concat(e,"</td>\n            </tr>"))).join("");return"<table class='code-table'>".concat(i,"</table>")}function s(e){const t=a(o.Z.highlightAuto(e.text).value);return(0,l.jsx)(r,{...e,children:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})})}},68322:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(54045),i=n(6306),l=n(41806),r=n(61113),a=n(17592),s=n(33475),c=n(98338),d=n(99249),u=n(47313),h=n(46417);const x=(0,a.ZP)(s.k)((e=>{let{theme:t}=e;return{color:t.palette.text.secondary,["& .".concat(c.r.content)]:{color:t.palette.text.secondary,borderTopRightRadius:t.spacing(2),borderBottomRightRadius:t.spacing(2),paddingRight:t.spacing(1),fontWeight:t.typography.fontWeightMedium,"&.MuiTreeItem-content":{paddingLeft:"3px",paddingRight:"3px"},".MuiTreeItem-label":{paddingLeft:"0px"},".MuiTreeItem-iconContainer":{marginRight:"0px"},"&.Mui-expanded":{fontWeight:t.typography.fontWeightRegular},"&:hover":{backgroundColor:t.palette.action.hover},"&.Mui-selected":{backgroundColor:"rgba(145, 85, 253, 0.16)",color:"var(--tree-view-color)"},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:"rgba(145, 85, 253, 0.16)",color:"var(--tree-view-color)"},["& .".concat(c.r.label)]:{fontWeight:"inherit",color:"inherit"}},["& .".concat(c.r.group)]:{marginLeft:0,["& .".concat(c.r.content)]:{paddingLeft:t.spacing(1)}}}})),p=u.forwardRef((function(e,t){const{labelIcon:n,labelInfo:o,labelText:i,pl:a,...s}=e;return(0,h.jsx)(x,{label:(0,h.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",p:.5,pr:2,pl:{pl:a}},children:[(0,h.jsx)(l.Z,{component:n,color:"inherit",sx:{mr:1,pl:{pl:a}}}),(0,h.jsx)(r.Z,{sx:{fontWeight:"inherit",flexGrow:1},component:"div",children:i}),(0,h.jsx)(r.Z,{variant:"caption",color:"inherit",children:o})]}),...s,ref:t})})),g=e=>{const{id:t,fullIndex:n,title:o,sub:i}=e.item;if(void 0===t)return console.log("SubTreeItem.item.undefined=",e.item),(0,h.jsx)(h.Fragment,{});const l=i&&Object.values(i).length>0?Object.values(i).length+"":"";return(0,h.jsx)(p,{onClick:()=>e.onDetail(t,n),nodeId:t,labelText:o,labelInfo:l,pl:e.pl,children:null!==i&&void 0!==i?Object.values(i).sort(((e,t)=>e.title>t.title?1:-1)).map(((t,n)=>(0,h.jsx)("div",{style:{paddingLeft:e.pl+5},children:(0,h.jsx)(g,{onDetail:e.onDetail,item:t,pl:e.pl+5})},n+""))):""})};function m(e){const[t,n]=(0,u.useState)([]),r=(t,n)=>{e.onDetail(t,n)};return(0,h.jsx)(l.Z,{sx:{minHeight:180,flexGrow:1,display:"flex",flexDirection:"column",height:e.maxHeight,overflow:"hidden",width:"100%"},children:(0,h.jsx)(d.L,{"aria-label":"icon expansion",defaultCollapseIcon:(0,h.jsx)(i.Z,{}),defaultExpandIcon:(0,h.jsx)(o.Z,{}),expanded:t,onNodeToggle:(e,t)=>{n(t)},sx:{flexGrow:1,overflow:"hidden",overflowY:"auto"},children:e.data&&e.data.map(((e,t)=>(0,h.jsx)(g,{onDetail:r,item:e,parentIndex:t+1,pl:5},t+1)))})})}},73786:(e,t,n)=>{n.d(t,{FR:()=>u,RV:()=>c,Rb:()=>s,YE:()=>h,t4:()=>d});var o=n(12725),i=n(47317),l=n(2024),r=n(6608),a=n(87120);const s=async(e,t)=>{console.log("fireDetailDelete.txtId=",e);const n=await(0,i.MB)(e);if(void 0===n)return void alert("\uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.[code:d01]");const r="".concat(t,"/").concat(n.fullIndex,"/");return console.log("fireDetailDelete.treeLocate=",r),(0,o.t8)((0,o.iH)(l.h3,r),null),(0,o.t8)((0,o.iH)(l.h3,e),null),"OK"},c=async(e,t,n,r)=>{try{const a=await(0,i.MB)(e+"/"+r);if(void 0===a)return void alert("\uc774\ub3d9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.[code:m10]");if(void 0===a.fullIndex)return void alert("\uc774\ub3d9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.[code:m20]");const s=await(0,i.MB)(e+"/"+n);if(void 0===s)return void alert("\uc774\ub3d9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.[code:m30]");if(void 0===s.fullIndex)return void alert("\uc774\ub3d9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.[code:m40]");const c=await(0,i.MB)("".concat(e,"/").concat(s.fullIndex));c.fullIndex="".concat(a.fullIndex,"/sub/").concat(n);const d="".concat(t,"/").concat(a.fullIndex,"/sub/").concat(n);(0,o.t8)((0,o.iH)(l.h3,d),c);const u="".concat(t,"/").concat(s.fullIndex,"/sub/").concat(n);(0,o.t8)((0,o.iH)(l.h3,u),null)}catch(a){}},d=async(e,t,n,i,r)=>{let a=!1,s=e;return void 0===s&&(a=!0,s=(0,o.VF)((0,o.iU)((0,o.iH)(l.h3),n)).key,console.log("fireDetailPostData.newKey=",s)),(0,o.t8)((0,o.iH)(l.h3,t+s+"/title"),r.edTitle),(0,o.t8)((0,o.iH)(l.h3,t+s+"/memo"),r.content),(0,o.t8)((0,o.iH)(l.h3,t+s+"/date"),r.edDate),(0,o.t8)((0,o.iH)(l.h3,t+s+"/gbn"),r.edGbn),console.log("fireDetailPostData.fullIndex=",i),void 0!==i&&(a?((0,o.t8)((0,o.iH)(l.h3,t+s+"/fullIndex"),i),(0,o.t8)((0,o.iH)(l.h3,"".concat(n).concat(i,"/sub/").concat(s,"/title")),r.edTitle)):((0,o.t8)((0,o.iH)(l.h3,t+s+"/fullIndex"),"".concat(i,"/sub/").concat(s)),(0,o.t8)((0,o.iH)(l.h3,"".concat(n).concat(i,"/title")),r.edTitle))),s},u=async(e,t,n,i)=>{if(console.log("fireDetailDeleteImage.imageList=",i),void 0!==i)for(let r=0;r<i.length;r++){const s=i[r];if("Y"===s.del){(0,o.t8)((0,o.iH)(l.h3,"".concat(e,"/").concat(n,"/image/").concat(s.key)),null),console.log("fireDetailDeleteImage.delete=","".concat(e,"/").concat(n,"/image/").concat(s.key));const i=await(0,a.iH)(l.IG,"".concat(t,"/").concat(n,"/").concat(s.key,".").concat(s.ext));(0,a.oq)(i).then((()=>{console.log("fireDetailDeleteImage.storageRef=",i)})).catch((e=>{console.log("fireDetailDeleteImage.error=",e)}))}}},h=async(e,t,n,i)=>{for(let s=0;s<i.length;s++){const c=i[s].object,d=(0,r.Z)(c.name),u={ext:d,name:c.name,use:"Y"},h=(0,o.VF)((0,o.iU)((0,o.iH)(l.h3),e+"/image")).key;console.log("fireDetailImage.image.newKey",h),console.log("fireDetailImage.image.postData",u),(0,o.t8)((0,o.iH)(l.h3,"".concat(e,"/").concat(n,"/image/").concat(h)),u);const x=await(0,a.iH)(l.IG,"".concat(t,"/").concat(n,"/").concat(h,".").concat(d)),p=await(0,a.KV)(x,c);console.log("fireDetailImage.uploadBytes=",p)}}},70298:(e,t,n)=>{n.d(t,{V:()=>r});var o=n(12725),i=n(47313),l=n(2024);const r=e=>{const[t,n]=(0,i.useState)(e),[r,s]=(0,i.useState)([]),[c,d]=(0,i.useState)(),u=(0,i.useCallback)((e=>{const t=(0,o.IO)((0,o.iH)(l.h3,e),(0,o.g2)("title"));(0,o.jM)(t,(e=>{if(!e.exists())return;const t=e.val(),n=[];for(let o in t){const e=t[o];if(e.id=e.up,e.fullIndex=e.up,""===c||void 0===c)null!==e.sub&&(e.children=a(e,e.up)),n.push(e);else{e.id=o,(e.memo+"").toLowerCase().indexOf(c.toLowerCase())>-1&&n.push(e)}}n.sort(((e,t)=>e.title>t.title?1:-1)),s(n)}))}),[c]);return(0,i.useEffect)((()=>{""!==t&&u(t)}),[u,t,c]),[r,n,d]};function a(e,t){const n=[];if(void 0===e||void 0===e.sub)return n;for(let o in e.sub){let t=e.sub[o];t.id=o,t.key=o}return Object.values(e.sub).sort(((e,t)=>t.title-e.title)).map((e=>{e.id=e.key,e.fullIndex=t+"/sub/"+e.key,null!==e.sub&&(e.children=a(e,e.fullIndex)),n.push(e)})),n}},71318:(e,t,n)=>{n.d(t,{j:()=>Y});var o=n(41806),i=n(46923),l=n(47313),r=n(43836),a=n(14281),s=n(26362),c=n(61317),d=n(9457),u=n(31095),h=n(75908),x=n(79077),p=n(62481),g=n(47131),m=n(79601),f=n(95765),j=n(50301),b=n(9289),v=n(61113),y=n(17592),Z=n(33131),w=n(99333),D=n(11338),C=n(34887),k=n(86764),S=n(53431),I=n(46417);function M(e){const{children:t,window:n}=e,o=(0,Z.Z)({target:n?n():void 0});return(0,I.jsx)(j.Z,{appear:!1,direction:"down",in:!o,children:t})}const H=(0,y.ZP)(h.Z,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n,width:o}=e;return{transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...n&&{width:"calc(100% - ".concat(o,"px)"),marginLeft:"".concat(o,"px"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})}}})),L=e=>{const{settings:t,saveSettings:n}=(0,D.r)(),{showTopMemu:i}=(0,C.j)(),[r,h]=l.useState(null),[j,y]=l.useState(null),Z=Boolean(r),L=Boolean(j),P=()=>{y(null)},T=()=>{h(null),P()},R=(0,I.jsxs)(m.Z,{anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Z,onClose:T,children:[(0,I.jsx)(f.Z,{onClick:T,children:"Profile"}),(0,I.jsx)(f.Z,{onClick:T,children:"My account"})]}),Y=(0,I.jsxs)(m.Z,{anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:L,onClose:P,children:[(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(g.Z,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:(0,I.jsx)(x.Z,{badgeContent:4,color:"error",children:(0,I.jsx)(s.Z,{})})}),(0,I.jsx)("p",{children:"Messages"})]}),(0,I.jsxs)(f.Z,{children:[(0,I.jsx)(g.Z,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:(0,I.jsx)(x.Z,{badgeContent:17,color:"error",children:(0,I.jsx)(d.Z,{})})}),(0,I.jsx)("p",{children:"Notifications"})]}),(0,I.jsxs)(f.Z,{onClick:e=>{h(e.currentTarget)},children:[(0,I.jsx)(g.Z,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:(0,I.jsx)(a.Z,{})}),(0,I.jsx)("p",{children:"Profile"})]})]});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(p.ZP,{}),(0,I.jsx)(M,{...e,children:(0,I.jsx)(H,{open:e.open,width:e.width,children:(0,I.jsxs)(b.Z,{children:[(0,I.jsx)(g.Z,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:()=>{e.onShowTree()},children:(0,I.jsx)(c.Z,{})}),(0,I.jsx)(v.Z,{variant:"h6",noWrap:!0,component:"div",children:e.title}),(0,I.jsxs)(o.Z,{sx:{display:"flex",position:"fixed",right:2},children:[i&&w.KD.map(((e,t)=>(0,I.jsx)(u.Z,{size:"small",sx:{color:"#fff",minWidth:"20px"},children:(0,I.jsx)(S.n,{to:e.url,children:e.title})},t))),(0,I.jsx)(k.Z,{settings:t,saveSettings:n})]})]})})}),Y,R]})};var P=n(78419),T=n(51039);var R=n(19705);const Y=e=>{const{title:t,children:n,drawerWidth:a,sideContents:s}=e,[c,d]=(()=>{const e=new T.Z;let t=e.get("open");t||(t="Y");const[n,o]=(0,l.useState)("Y"===t);return[n,t=>{o(t),e.set("open",t?"Y":"N",{path:"/"})}]})(),{sideStyle:u,width:h}=(0,C.j)(),x=(0,l.useRef)(),p=()=>{d(!c)};return(0,l.useEffect)((()=>{document.querySelector("title").innerHTML="".concat(P.Z.templateName," :: ").concat(t)}),[t]),(0,I.jsxs)(o.Z,{sx:{display:"flex"},children:[(0,I.jsx)(L,{onShowTree:p,title:t,width:"persistent"===u?a:0,sideStyle:u,open:c}),(0,I.jsx)(i.ZP,{sx:{width:a,"& .MuiDrawer-paper":{width:a,boxSizing:"border-box"}},variant:u,anchor:"left",open:c,onClose:p,ModalProps:{keepMounted:!0},children:s}),(0,I.jsxs)(R.Z,{ref:x,open:c,marginleft:"persistent"===u?a:0,maxwidth:c&&"persistent"===u?h-a-16:h,children:[(0,I.jsx)(R.O,{}),(0,I.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[n,(0,I.jsx)(r.Z,{}),"temporary"===u?(0,I.jsx)("br",{}):""]})]})]})}},6608:(e,t,n)=>{function o(e){var t=e.length,n=e.lastIndexOf(".");return e.substring(n+1,t).toLowerCase()}n.d(t,{Z:()=>o})}}]);