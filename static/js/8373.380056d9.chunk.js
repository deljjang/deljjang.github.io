"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[8373],{74975:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var n=o(49336),c=o(41806),s=o(47825),a=o(47313),i=o(58467),l=o(37029),r=o(87185),m=o(25266),d=o(2774),u=o(59941),h=o(99333),g=o(47317),x=o(73786),b=o(2024),w=o(69066),f=o(96821),v=o(11338),j=(o(8374),o(46417));const S=()=>{var e;const{title:t,gbn:o,date:S,text:_,image:k,setFireId:p,isLoading:y}=(0,w.C)(),E=(0,i.s0)(),I=(0,a.useRef)(),{homeId:T}=(0,i.UO)(),C=(0,i.TH)(),F=null===C||void 0===C||null===(e=C.state)||void 0===e?void 0:e.fullIndex,{user:H}=(0,f.$)(),{settings:L,saveSettings:G}=(0,v.r)();return(0,a.useEffect)((()=>{G({...L,nodeId:T}),(0,g.w5)(T,F),p("home_txt/".concat(T),"home/".concat(T),"")}),[T,H]),(0,a.useEffect)((()=>{null!==_&&document.querySelectorAll("pre").forEach((e=>{e.innerHTML=(0,m.A)(e.innerHTML)}))}),[_]),console.log("homeId=",T),console.log("detailTitle=",t.current),""===T||void 0===H||null===_?(0,j.jsx)(j.Fragment,{}):(H.uid!==h.kS&&E("/"),console.log("image=",k),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.a,{children:t.current}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)(l.g,{}),children:(0,j.jsxs)(s.Z,{className:"container",sx:{p:0,width:"100%"},children:[(0,j.jsx)(r.Z,{newMode:I.current,onPostSubmit:async(e,t,o)=>{const c="home_txt/".concat(T);await(0,x.FR)(c,"home",T,t),await(0,x.t4)(T,"home_txt/","home/","".concat(e.edGbn,"/sub/").concat(T),e);const s=await(0,x.YE)("home_txt","home",T,o);console.log("onPostSubmit.imageResult",s);const a=await(0,n.t8)((0,n.iH)(b.h3,"home/".concat(e.edGbn,"/title")),e.edGbn);console.log("onPostSubmit.setTitle=",a),E("/blog/".concat(T))},onNewSubmit:async(e,t)=>{const o=await(0,x.t4)(void 0,"home_txt/","home/",F,e);await(0,x.YE)("home_txt","home",o,t),void 0!==o&&E("/homemng/".concat(o)),I.current=!1,E("/blog/".concat(T))},onCancel:()=>{E("/blog/".concat(T))},title:t.current,gbn:o.current,date:S.current,content:_,imageList:k}),(0,j.jsx)(c.Z,{sx:{my:2,overflow:"hidden",overflowX:"auto"},children:y&&(0,j.jsx)(l.g,{})})]})}),(0,j.jsx)(u.d,{})]}))}}}]);