{"version":3,"file":"static/js/229.ba384c33.chunk.js","mappings":"+PASe,SAASA,EAAUC,GAEhC,MAAM,SAAEC,IAAaC,EAAAA,EAAAA,MAGdC,EAAUC,GAAeC,EAAAA,SAAe,IAMzCC,EAAWA,CAACC,EAAIC,KAEpBR,EAAMM,SAASC,EAAIC,EAAK,EAa1B,OACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CACFC,GAAI,CACFC,UAAW,IACXC,SAAU,EACVC,QAAS,OACTC,cAAe,SACfC,OAAQhB,EAAMiB,UACdC,SAAU,UAEVC,UAEFV,EAAAA,EAAAA,KAACW,EAAAA,EAAQ,CACP,aAAW,iBACXC,qBAAqBZ,EAAAA,EAAAA,KAACa,EAAAA,EAAc,IACpCC,mBAAmBd,EAAAA,EAAAA,KAACe,EAAAA,EAAgB,IACpCC,SAAUxB,EAASyB,QACnBvB,SAAUA,EACVwB,aA5BeC,CAACC,EAAOC,KAARF,EA6BfG,aAxBeC,CAACH,EAAOC,KAE3B1B,EAAY0B,EAAQ,EAuBhBnB,GAAI,CAAEE,SAAU,EAAGoB,UAAW,QAASd,SAStCnB,EAAMkC,MAAQlC,EAAMkC,KAAKC,KAAI,CAAC3B,EAAM4B,KASjC3B,EAAAA,EAAAA,KAAC4B,EAAW,CACV/B,SAAUA,EACVE,KAAMA,EACN8B,YAAaF,EAAM,GACd5B,EAAK+B,UAOxB,CAMA,MAAMF,EAAerC,IACnB,MAAM,IAAEuC,EAAG,GAAEC,GAAOxC,EAAMQ,KAKpB0B,EAAO,IAAIO,MAajB,OANAC,OAAOC,OAAO3C,EAAMQ,MAAM2B,KAAI,CAAC3B,EAAM4B,UAElBQ,IAAbpC,EAAK+B,UAAiCK,IAAZpC,EAAKgC,IACnCN,EAAKW,KAAKrC,EAAK,KAIfC,EAAAA,EAAAA,KAACqC,EAAAA,EAAQ,CACPC,QAASA,IAAM/C,EAAMM,SAASiC,EAAKvC,EAAMQ,MACzCwC,OAAQT,EAAM,GAEdU,MAAOT,EAAGrB,SAETe,EAAKC,KAAI,CAAC3B,EAAM4B,SAEEQ,IAAbpC,EAAK+B,UAAiCK,IAAZpC,EAAKgC,IAE1B/B,EAAAA,EAAAA,KAAA,SAAU2B,IAIjB3B,EAAAA,EAAAA,KAAC4B,EAAW,CACV/B,SAAUN,EAAMM,SAChBE,KAAMA,GAGDA,EAAK+B,QAhBXA,EAoBI,E,2CC1HR,MAAMW,EAAmBA,KAGhBC,EAAAA,EAAAA,GAAS,CAErBC,SAAU,CAAC,iBACXC,QAASA,IAQXC,iBAEE,MAAMC,EAAS,IAAId,MAQbP,EAAOsB,EAEb,IAAK,IAAIjB,KAAOL,EAAM,CACpB,MAAM1B,EAAO0B,EAAKK,GAClB/B,EAAK+B,IAAMA,EAAM,GACjBgB,EAAOV,KAAKrC,EACd,CAEA,MAAMiD,EAAW,CACflB,IAAK,IACLC,GAAI,sBAON,OALAe,EAAOV,KAAKY,GACZF,EAAOV,KAAK,CAAEN,IAAK,SAAUC,GAAI,iBAEjCkB,QAAQC,IAAI,uBAAwBJ,GAE7BA,CACT,CApCiBK,K,2DCEnB,MAGMC,EAAOxD,EAAAA,MAAWiD,eAAkB,iCAEpCQ,EAAazD,EAAAA,MAAWiD,eAAkB,iCAE1CS,EAAY1D,EAAAA,MAAWiD,eAAkB,iCAEzCU,EAAc3D,EAAAA,MAAWiD,eAAkB,wDAE3CW,EAAc5D,EAAAA,MAAWiD,eAAkB,iCA0FjD,EAxFetD,IACb,MAAMkE,GAAWC,EAAAA,EAAAA,OAETjC,KAAMkC,GAAclB,IAGtB5C,EAAYC,IAGd2D,EADS,MAAP3D,EACO,aACO,MAAPA,EACA,aACO,MAAPA,EACA,cACO,WAAPA,EACA,gBACK,UAAD8D,OAAW9D,GAAK,GAK3B,OAAES,EAAM,MAAEsD,IAAUC,EAAAA,EAAAA,KAEpBC,GACJC,EAAAA,EAAAA,MAAC/D,EAAAA,EAAG,CACFC,GAAI,CACFC,UAAW,IACXC,SAAU,EACV6D,SAAU,IACVzD,UAAWD,EAAS,KACpBG,SAAA,EAEFV,EAAAA,EAAAA,KAACkE,EAAAA,EAAY,KACblE,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CACFC,GAAI,CACFC,UAAW,IACXC,SAAU,EACV6D,SAAU,IACVzD,UAAWD,EAAS,IACpBA,OAAQA,EAAS,KACjBG,UAEFV,EAAAA,EAAAA,KAACV,EAAS,CACRmC,KAAMkC,EACN9D,SAAUA,EACVW,UAAWD,EAAS,UAO5B,OACEyD,EAAAA,EAAAA,MAACG,EAAAA,EAAY,CACXC,MAAO,qBACPC,YApEc,IAqEdN,aAAcA,EAAarD,SAAA,EAE3BV,EAAAA,EAAAA,KAAA,OAAKF,GAAG,wBACRE,EAAAA,EAAAA,KAACsE,EAAAA,SAAQ,CAACC,UAAUvE,EAAAA,EAAAA,KAACwE,EAAAA,EAAO,IAAI9D,UAC9BsD,EAAAA,EAAAA,MAACS,EAAAA,GAAM,CAAA/D,SAAA,EACLV,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CACJC,KAAK,OACLC,SAAS5E,EAAAA,EAAAA,KAACsD,EAAS,CAAC7B,KAAMkC,EAAW9D,SAAUA,OAEjDG,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CACJC,KAAK,OACLC,SAAS5E,EAAAA,EAAAA,KAACsD,EAAS,CAAC7B,KAAMkC,EAAW9D,SAAUA,OAEjDG,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CAACC,KAAK,UAAUC,SAAS5E,EAAAA,EAAAA,KAACuD,EAAW,CAAC1D,SAAUA,OACtDG,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CAACC,KAAK,YAAYC,SAAS5E,EAAAA,EAAAA,KAACwD,EAAW,OAC7CxD,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CAACC,KAAK,QAAQC,SAAS5E,EAAAA,EAAAA,KAACoD,EAAI,OAClCpD,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CAACC,KAAK,gBAAgBC,SAAS5E,EAAAA,EAAAA,KAACqD,EAAU,OAChDrD,EAAAA,EAAAA,KAAC0E,EAAAA,GAAK,CACJC,KAAK,IACLC,SAAS5E,EAAAA,EAAAA,KAACsD,EAAS,CAAC7B,KAAMkC,EAAW9D,SAAUA,YAIrDG,EAAAA,EAAAA,KAAC6E,EAAAA,EAAW,IAAKtF,EAAOO,GAAI,sBAAsBY,UAChDV,EAAAA,EAAAA,KAAC8E,EAAAA,EAAG,CAACC,MAAM,UAAUC,KAAK,QAAQ,aAAW,qBAAoBtE,UAC/DV,EAAAA,EAAAA,KAACiF,EAAAA,EAAmB,UAGX,C","sources":["components/tree/BibleTree.js","firebase/useTreeBibleData.js","views/bible/Bible.js"],"sourcesContent":["import ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport Box from '@mui/material/Box';\r\nimport { TreeItem } from '@mui/x-tree-view/TreeItem';\r\nimport { TreeView } from '@mui/x-tree-view/TreeView';\r\nimport * as React from 'react';\r\nimport { useSettings } from '../../hooks/useSettings';\r\n\r\n// 성경 메뉴트리 표시\r\nexport default function BibleTree(props) {\r\n  // ** Hooks\r\n  const { settings } = useSettings();\r\n\r\n  //console.log('BibleTree', props.data);\r\n  const [expanded, setExpanded] = React.useState([]);\r\n  // const [selected, setSelected] = React.useState(settings.nodeId);\r\n  // console.log('BibleTree.memoId=', props.memoId);\r\n  // console.log('BibleTree.bibleId=', settings.bibleId);\r\n  // console.log('BibleTree.selected=', selected);\r\n\r\n  const onDetail = (id, item) => {\r\n    // console.log('onDetail=', id, item);\r\n    props.onDetail(id, item);\r\n  };\r\n\r\n  const handleSelect = (event, nodeIds) => {\r\n    // console.log('handleSelect=', nodeIds);\r\n    // setSelected(nodeIds);\r\n  };\r\n\r\n  const handleToggle = (event, nodeIds) => {\r\n    // console.log('handleToggle=', nodeIds);\r\n    setExpanded(nodeIds);\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        minHeight: 180,\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: props.maxHeight,\r\n        overflow: 'hidden',\r\n        // overflowY: 'scroll',\r\n      }}\r\n    >\r\n      <TreeView\r\n        aria-label=\"icon expansion\"\r\n        defaultCollapseIcon={<ExpandMoreIcon />}\r\n        defaultExpandIcon={<ChevronRightIcon />}\r\n        selected={settings.bibleId}\r\n        expanded={expanded}\r\n        onNodeSelect={handleSelect}\r\n        onNodeToggle={handleToggle}\r\n        sx={{ flexGrow: 1, overflowY: 'auto' }}\r\n      >\r\n        {/* <TreeItem\r\n          onClick={() => props.onDetail('1')}\r\n          nodeId={'1'}\r\n          key={'1'}\r\n          label={'구약'}\r\n        /> */}\r\n\r\n        {props.data && props.data.map((item, idx) => {\r\n          // console.log('props.data.map=', idx, item);\r\n          return (\r\n            // <TreeItem\r\n            //   onClick={() => props.onDetail(item.key, item)}\r\n            //   nodeId={item.key + ''}\r\n            //   key={item.key}\r\n            //   label={item.nm}\r\n            // />\r\n            <SubTreeItem\r\n              onDetail={onDetail}\r\n              item={item}\r\n              parentIndex={idx + 1}\r\n              key={item.key}\r\n            ></SubTreeItem>\r\n          );\r\n        })}\r\n      </TreeView>\r\n    </Box>\r\n  );\r\n}\r\n\r\n//https://mui.com/x/api/tree-view/tree-item/\r\n\r\n// const SubTreeItem = React.forwardRef(function SubTreeItem(props) {\r\n// https://mui.com/x/react-tree-view/\r\nconst SubTreeItem = (props) => {\r\n  const { key, nm } = props.item;\r\n  //console.log('SubTreeItem.id', id);\r\n  // console.log('SubTreeItem.key', key);\r\n  //console.log('SubTreeItem.parentIndex', props.parentIndex);\r\n\r\n  const data = new Array();\r\n\r\n  // console.log('SubTreeItem.data', data);\r\n\r\n  //key 1 : 구약 39\r\n  //key 2 : 신약 27\r\n  // const len = key === 1 ? 39 : 27;\r\n  Object.values(props.item).map((item, idx) => {\r\n    // console.log('SubTreeItem.for', idx, item);\r\n    if (item.key === undefined || item.nm === undefined) return;\r\n    data.push(item);\r\n  });\r\n\r\n  return (\r\n    <TreeItem\r\n      onClick={() => props.onDetail(key, props.item)}\r\n      nodeId={key + ''}\r\n      key={key}\r\n      label={nm}\r\n    >\r\n      {data.map((item, idx) => {\r\n        // console.log('SubTreeItem', idx, item);\r\n        if (item.key === undefined || item.nm === undefined) {\r\n          // console.log('SubTreeItem.undefined', item);\r\n          return <div key={idx}></div>;\r\n        }\r\n\r\n        return (\r\n          <SubTreeItem\r\n            onDetail={props.onDetail}\r\n            item={item}\r\n            // key={idx + 1}\r\n            // key={item.key + (idx + 1)}\r\n            key={item.key}\r\n          ></SubTreeItem>\r\n        );\r\n      })}\r\n    </TreeItem>\r\n  );\r\n};\r\n","import { get, ref } from 'firebase/database';\r\nimport { firebaseDB } from './firebase';\r\nimport { useQuery, useSuspenseQuery } from '@tanstack/react-query';\r\nimport bibleJson from '../data/bibleJson';\r\n\r\n// 성경 트리 데이터\r\n// 참고사이트\r\n// https://github.com/amirnz026/31_react_query_tutorial/tree/main/src\r\n//\r\n// use : Bible.js\r\n// const { data: bibleData } = useTreeBibleData();\r\nexport const useTreeBibleData = () => {\r\n  //const [bibleData, setBibleData] = useState([]);\r\n\r\n  const query = useQuery({ // useSuspenseQuery\r\n    // useSuspenseQuery useQuery\r\n    queryKey: ['treeBibleData'],\r\n    queryFn: () => getData(),\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   getBibleData();\r\n  // }, []);\r\n\r\n  //파이어베이스 데이터 읽기\r\n  async function getData() {\r\n    // console.log('getTreeData');\r\n    const result = new Array();\r\n\r\n    //key 1 : 구약 39\r\n    //key 2 : 신약 27\r\n    // const bibleRef = ref(firebaseDB, 'bible');\r\n    // const snapshot = await get(bibleRef);\r\n    // const data = snapshot.val();\r\n\r\n    const data = bibleJson;\r\n\r\n    for (let key in data) {\r\n      const item = data[key];\r\n      item.key = key + '';\r\n      result.push(item);\r\n    }\r\n\r\n    const songData = {\r\n      key: '3',\r\n      nm: '찬송가',\r\n    };\r\n    result.push(songData);\r\n    result.push({ key: 'search', nm: '검색' });\r\n\r\n    console.log('getBibleData.result=', result);\r\n\r\n    return result;\r\n  };\r\n\r\n  return query;\r\n\r\n  // 이전 버젼\r\n  // return useSuspenseQuery({\r\n  //   queryKey: ['bibleTree'],\r\n  //   queryFn: () => getBibleData(),\r\n  //   suspense: true,\r\n  // });\r\n\r\n  // return bibleData;\r\n};\r\n","import KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport Box from '@mui/material/Box';\r\nimport * as React from 'react';\r\nimport { Route, Routes, useNavigate } from 'react-router-dom';\r\nimport { LoginDisplay } from '../../components/auth/LoginDisplay';\r\nimport BibleTree from '../../components/tree/BibleTree';\r\nimport { useTreeBibleData } from '../../firebase/useTreeBibleData';\r\nimport { CommonLayout } from '../../layout/CommonLayout';\r\nimport useWindowDimensions from '../../util/useWindowDimensions';\r\n// import BibleDetail from './BibleDetail';\r\n// import BibleMain from './BibleMain';\r\n// import BibleSearch from './BibleSearch';\r\n// import Song from './Song';\r\n// import SongDetail from './SongDetail';\r\nimport { Suspense } from 'react';\r\nimport { Loading } from '../../components/Loading';\r\nimport { Fab } from '@mui/material';\r\nimport { ScrollToTop } from '../../components/screen/ScrollToTop';\r\n\r\nconst drawerWidth = 200;\r\n\r\n// 찬송가\r\nconst Song = React.lazy(async () => await import('./Song'));\r\n// 찬송가 상세\r\nconst SongDetail = React.lazy(async () => await import('./SongDetail'));\r\n// 성경메인화면\r\nconst BibleMain = React.lazy(async () => await import('./BibleMain'));\r\n// 성경 조회화면\r\nconst BibleSearch = React.lazy(async () => await import('./BibleSearch'));\r\n// 성경 상세\r\nconst BibleDetail = React.lazy(async () => await import('./BibleDetail'));\r\n\r\nconst Bible = (props) => {\r\n  const navigate = useNavigate();\r\n\r\n  const { data: bibleData } = useTreeBibleData();\r\n\r\n  // 트리뷰 선택\r\n  const onDetail = (id) => {\r\n    // console.log('onDetail.id=', id);\r\n    if (id === '1') {\r\n      navigate(`/bible/old`);\r\n    } else if (id === '2') {\r\n      navigate(`/bible/new`);\r\n    } else if (id === '3') {\r\n      navigate(`/bible/song`);\r\n    } else if (id === 'search') {\r\n      navigate(`/bible/search`);\r\n    } else navigate(`/bible/${id}`);\r\n  };\r\n\r\n  const onSelected = (id) => {};\r\n\r\n  const { height, width } = useWindowDimensions();\r\n\r\n  const sideContents = (\r\n    <Box\r\n      sx={{\r\n        minHeight: 110,\r\n        flexGrow: 1,\r\n        minWidth: 100,\r\n        maxHeight: height - 200,\r\n      }}\r\n    >\r\n      <LoginDisplay />\r\n      <Box\r\n        sx={{\r\n          minHeight: 110,\r\n          flexGrow: 1,\r\n          minWidth: 100,\r\n          maxHeight: height - 220,\r\n          height: height - 220,\r\n        }}\r\n      >\r\n        <BibleTree\r\n          data={bibleData}\r\n          onDetail={onDetail}\r\n          maxHeight={height - 70}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n\r\n  // mui xs sm md lg xl\r\n  return (\r\n    <CommonLayout\r\n      title={'바이블'}\r\n      drawerWidth={drawerWidth}\r\n      sideContents={sideContents}\r\n    >\r\n      <div id=\"back-to-top-anchor\"></div>\r\n      <Suspense fallback={<Loading />}>\r\n        <Routes>\r\n          <Route\r\n            path=\"/old\"\r\n            element={<BibleMain data={bibleData} onDetail={onDetail} />}\r\n          />\r\n          <Route\r\n            path=\"/new\"\r\n            element={<BibleMain data={bibleData} onDetail={onDetail} />}\r\n          />\r\n          <Route path=\"/search\" element={<BibleSearch onDetail={onDetail} />} />\r\n          <Route path=\"/:bibleId\" element={<BibleDetail />}></Route>\r\n          <Route path=\"/song\" element={<Song />} />\r\n          <Route path=\"/song/:songId\" element={<SongDetail />} />\r\n          <Route\r\n            path=\"*\"\r\n            element={<BibleMain data={bibleData} onDetail={onDetail} />}\r\n          />\r\n        </Routes>\r\n      </Suspense>\r\n      <ScrollToTop {...props} id={'#back-to-top-anchor'}>\r\n        <Fab color=\"primary\" size=\"small\" aria-label=\"scroll back to top\">\r\n          <KeyboardArrowUpIcon />\r\n        </Fab>\r\n      </ScrollToTop>\r\n    </CommonLayout>\r\n  );\r\n};\r\n\r\nexport default Bible;\r\n"],"names":["BibleTree","props","settings","useSettings","expanded","setExpanded","React","onDetail","id","item","_jsx","Box","sx","minHeight","flexGrow","display","flexDirection","height","maxHeight","overflow","children","TreeView","defaultCollapseIcon","ExpandMoreIcon","defaultExpandIcon","ChevronRightIcon","selected","bibleId","onNodeSelect","handleSelect","event","nodeIds","onNodeToggle","handleToggle","overflowY","data","map","idx","SubTreeItem","parentIndex","key","nm","Array","Object","values","undefined","push","TreeItem","onClick","nodeId","label","useTreeBibleData","useQuery","queryKey","queryFn","async","result","bibleJson","songData","console","log","getData","Song","SongDetail","BibleMain","BibleSearch","BibleDetail","navigate","useNavigate","bibleData","concat","width","useWindowDimensions","sideContents","_jsxs","minWidth","LoginDisplay","CommonLayout","title","drawerWidth","Suspense","fallback","Loading","Routes","Route","path","element","ScrollToTop","Fab","color","size","KeyboardArrowUpIcon"],"sourceRoot":""}