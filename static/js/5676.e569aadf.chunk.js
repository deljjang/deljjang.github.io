"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[5676],{69347:(t,e,s)=>{s.d(e,{$:()=>I});var i,r,n,a,o,h,l,u,c,d,A,p,f,v,b,w,y,g,R,m,k,O,C,E,S=s(39790),W=s(55149),M=s(61187),U=s(21114),Q=s(806),x=s(90698),T=s(15941),_=s(35229),L=s(95732),j=s(14642),F=s(61664),I=(i=new WeakMap,r=new WeakMap,n=new WeakMap,a=new WeakMap,o=new WeakMap,h=new WeakMap,l=new WeakMap,u=new WeakMap,c=new WeakMap,d=new WeakMap,A=new WeakMap,p=new WeakMap,f=new WeakMap,v=new WeakMap,b=new WeakMap,w=new WeakSet,y=new WeakSet,g=new WeakSet,R=new WeakSet,m=new WeakSet,k=new WeakSet,O=new WeakSet,C=new WeakSet,E=new WeakSet,class extends L.Q{constructor(t,e){super(),(0,S.A)(this,E),(0,S.A)(this,C),(0,S.A)(this,O),(0,S.A)(this,k),(0,S.A)(this,m),(0,S.A)(this,R),(0,S.A)(this,g),(0,S.A)(this,y),(0,S.A)(this,w),(0,W.A)(this,i,{writable:!0,value:void 0}),(0,W.A)(this,r,{writable:!0,value:void 0}),(0,W.A)(this,n,{writable:!0,value:void 0}),(0,W.A)(this,a,{writable:!0,value:void 0}),(0,W.A)(this,o,{writable:!0,value:void 0}),(0,W.A)(this,h,{writable:!0,value:void 0}),(0,W.A)(this,l,{writable:!0,value:void 0}),(0,W.A)(this,u,{writable:!0,value:void 0}),(0,W.A)(this,c,{writable:!0,value:void 0}),(0,W.A)(this,d,{writable:!0,value:void 0}),(0,W.A)(this,A,{writable:!0,value:void 0}),(0,W.A)(this,p,{writable:!0,value:void 0}),(0,W.A)(this,f,{writable:!0,value:void 0}),(0,W.A)(this,v,{writable:!0,value:void 0}),(0,W.A)(this,b,{writable:!0,value:new Set}),this.options=e,(0,Q.A)(this,i,t),(0,Q.A)(this,u,null),(0,Q.A)(this,l,(0,j.T)()),this.options.experimental_prefetchInRender||(0,U.A)(this,l).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&((0,U.A)(this,r).addObserver(this),K((0,U.A)(this,r),this.options)?(0,M.A)(this,w,D).call(this):this.updateResult(),(0,M.A)(this,m,$).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return N((0,U.A)(this,r),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return N((0,U.A)(this,r),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,(0,M.A)(this,k,H).call(this),(0,M.A)(this,O,z).call(this),(0,U.A)(this,r).removeObserver(this)}setOptions(t,e){const s=this.options,n=(0,U.A)(this,r);if(this.options=(0,U.A)(this,i).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof(0,F.Eh)(this.options.enabled,(0,U.A)(this,r)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");(0,M.A)(this,C,G).call(this),(0,U.A)(this,r).setOptions(this.options),s._defaulted&&!(0,F.f8)(this.options,s)&&(0,U.A)(this,i).getQueryCache().notify({type:"observerOptionsUpdated",query:(0,U.A)(this,r),observer:this});const a=this.hasListeners();a&&V((0,U.A)(this,r),n,this.options,s)&&(0,M.A)(this,w,D).call(this),this.updateResult(e),!a||(0,U.A)(this,r)===n&&(0,F.Eh)(this.options.enabled,(0,U.A)(this,r))===(0,F.Eh)(s.enabled,(0,U.A)(this,r))&&(0,F.d2)(this.options.staleTime,(0,U.A)(this,r))===(0,F.d2)(s.staleTime,(0,U.A)(this,r))||(0,M.A)(this,y,P).call(this);const o=(0,M.A)(this,g,q).call(this);!a||(0,U.A)(this,r)===n&&(0,F.Eh)(this.options.enabled,(0,U.A)(this,r))===(0,F.Eh)(s.enabled,(0,U.A)(this,r))&&o===(0,U.A)(this,v)||(0,M.A)(this,R,B).call(this,o)}getOptimisticResult(t){const e=(0,U.A)(this,i).getQueryCache().build((0,U.A)(this,i),t),s=this.createResult(e,t);return function(t,e){if(!(0,F.f8)(t.getCurrentResult(),e))return!0;return!1}(this,s)&&((0,Q.A)(this,a,s),(0,Q.A)(this,h,this.options),(0,Q.A)(this,o,(0,U.A)(this,r).state)),s}getCurrentResult(){return(0,U.A)(this,a)}trackResult(t,e){const s={};return Object.keys(t).forEach((i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),null===e||void 0===e||e(i),t[i])})})),s}trackProp(t){(0,U.A)(this,b).add(t)}getCurrentQuery(){return(0,U.A)(this,r)}refetch(){let{...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...t})}fetchOptimistic(t){const e=(0,U.A)(this,i).defaultQueryOptions(t),s=(0,U.A)(this,i).getQueryCache().build((0,U.A)(this,i),e);return s.fetch().then((()=>this.createResult(s,e)))}fetch(t){var e;return(0,M.A)(this,w,D).call(this,{...t,cancelRefetch:null===(e=t.cancelRefetch)||void 0===e||e}).then((()=>(this.updateResult(),(0,U.A)(this,a))))}createResult(t,e){const s=(0,U.A)(this,r),i=this.options,p=(0,U.A)(this,a),f=(0,U.A)(this,o),v=(0,U.A)(this,h),b=t!==s?t.state:(0,U.A)(this,n),{state:w}=t;let y,g={...w},R=!1;if(e._optimisticResults){const r=this.hasListeners(),n=!r&&K(t,e),a=r&&V(t,s,e,i);(n||a)&&(g={...g,...(0,_.k)(w.data,t.options)}),"isRestoring"===e._optimisticResults&&(g.fetchStatus="idle")}let{error:m,errorUpdatedAt:k,status:O}=g;if(e.select&&void 0!==g.data)if(p&&g.data===(null===f||void 0===f?void 0:f.data)&&e.select===(0,U.A)(this,c))y=(0,U.A)(this,d);else try{(0,Q.A)(this,c,e.select),y=e.select(g.data),y=(0,F.pl)(null===p||void 0===p?void 0:p.data,y,e),(0,Q.A)(this,d,y),(0,Q.A)(this,u,null)}catch(T){(0,Q.A)(this,u,T)}else y=g.data;if(void 0!==e.placeholderData&&void 0===y&&"pending"===O){let t;var C;if(null!==p&&void 0!==p&&p.isPlaceholderData&&e.placeholderData===(null===v||void 0===v?void 0:v.placeholderData))t=p.data;else if(t="function"===typeof e.placeholderData?e.placeholderData(null===(C=(0,U.A)(this,A))||void 0===C?void 0:C.state.data,(0,U.A)(this,A)):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),(0,Q.A)(this,u,null)}catch(T){(0,Q.A)(this,u,T)}void 0!==t&&(O="success",y=(0,F.pl)(null===p||void 0===p?void 0:p.data,t,e),R=!0)}(0,U.A)(this,u)&&(m=(0,U.A)(this,u),y=(0,U.A)(this,d),k=Date.now(),O="error");const E="fetching"===g.fetchStatus,S="pending"===O,W="error"===O,M=S&&E,x=void 0!==y;return{status:O,fetchStatus:g.fetchStatus,isPending:S,isSuccess:"success"===O,isError:W,isInitialLoading:M,isLoading:M,data:y,dataUpdatedAt:g.dataUpdatedAt,error:m,errorUpdatedAt:k,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>b.dataUpdateCount||g.errorUpdateCount>b.errorUpdateCount,isFetching:E,isRefetching:E&&!S,isLoadingError:W&&!x,isPaused:"paused"===g.fetchStatus,isPlaceholderData:R,isRefetchError:W&&x,isStale:X(t,e),refetch:this.refetch,promise:(0,U.A)(this,l)}}updateResult(t){const e=(0,U.A)(this,a),s=this.createResult((0,U.A)(this,r),this.options);if((0,Q.A)(this,o,(0,U.A)(this,r).state),(0,Q.A)(this,h,this.options),void 0!==(0,U.A)(this,o).data&&(0,Q.A)(this,A,(0,U.A)(this,r)),(0,F.f8)(s,e))return;if(this.options.experimental_prefetchInRender){const t=t=>{"error"===s.status?t.reject(s.error):void 0!==s.data&&t.resolve(s.data)},e=()=>{const e=(0,Q.A)(this,l,s.promise=(0,j.T)());t(e)},i=(0,U.A)(this,l);switch(i.status){case"pending":t(i);break;case"fulfilled":"error"!==s.status&&s.data===i.value||e();break;case"rejected":"error"===s.status&&s.error===i.reason||e()}}(0,Q.A)(this,a,s);const i={};!1!==(null===t||void 0===t?void 0:t.listeners)&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,s="function"===typeof t?t():t;if("all"===s||!s&&!(0,U.A)(this,b).size)return!0;const i=new Set(null!==s&&void 0!==s?s:(0,U.A)(this,b));return this.options.throwOnError&&i.add("error"),Object.keys((0,U.A)(this,a)).some((t=>{const s=t;return(0,U.A)(this,a)[s]!==e[s]&&i.has(s)}))})()&&(i.listeners=!0),(0,M.A)(this,E,J).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&(0,M.A)(this,m,$).call(this)}});function D(t){(0,M.A)(this,C,G).call(this);let e=(0,U.A)(this,r).fetch(this.options,t);return null!==t&&void 0!==t&&t.throwOnError||(e=e.catch(F.lQ)),e}function P(){(0,M.A)(this,k,H).call(this);const t=(0,F.d2)(this.options.staleTime,(0,U.A)(this,r));if(F.S$||(0,U.A)(this,a).isStale||!(0,F.gn)(t))return;const e=(0,F.j3)((0,U.A)(this,a).dataUpdatedAt,t)+1;(0,Q.A)(this,p,setTimeout((()=>{(0,U.A)(this,a).isStale||this.updateResult()}),e))}function q(){var t;return null!==(t="function"===typeof this.options.refetchInterval?this.options.refetchInterval((0,U.A)(this,r)):this.options.refetchInterval)&&void 0!==t&&t}function B(t){(0,M.A)(this,O,z).call(this),(0,Q.A)(this,v,t),!F.S$&&!1!==(0,F.Eh)(this.options.enabled,(0,U.A)(this,r))&&(0,F.gn)((0,U.A)(this,v))&&0!==(0,U.A)(this,v)&&(0,Q.A)(this,f,setInterval((()=>{(this.options.refetchIntervalInBackground||x.m.isFocused())&&(0,M.A)(this,w,D).call(this)}),(0,U.A)(this,v)))}function $(){(0,M.A)(this,y,P).call(this),(0,M.A)(this,R,B).call(this,(0,M.A)(this,g,q).call(this))}function H(){(0,U.A)(this,p)&&(clearTimeout((0,U.A)(this,p)),(0,Q.A)(this,p,void 0))}function z(){(0,U.A)(this,f)&&(clearInterval((0,U.A)(this,f)),(0,Q.A)(this,f,void 0))}function G(){const t=(0,U.A)(this,i).getQueryCache().build((0,U.A)(this,i),this.options);if(t===(0,U.A)(this,r))return;const e=(0,U.A)(this,r);(0,Q.A)(this,r,t),(0,Q.A)(this,n,t.state),this.hasListeners()&&(null===e||void 0===e||e.removeObserver(this),t.addObserver(this))}function J(t){T.j.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t((0,U.A)(this,a))})),(0,U.A)(this,i).getQueryCache().notify({query:(0,U.A)(this,r),type:"observerResultsUpdated"})}))}function K(t,e){return function(t,e){return!1!==(0,F.Eh)(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&N(t,e,e.refetchOnMount)}function N(t,e,s){if(!1!==(0,F.Eh)(e.enabled,t)){const i="function"===typeof s?s(t):s;return"always"===i||!1!==i&&X(t,e)}return!1}function V(t,e,s,i){return(t!==e||!1===(0,F.Eh)(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&X(t,s)}function X(t,e){return!1!==(0,F.Eh)(e.enabled,t)&&t.isStaleByTime((0,F.d2)(e.staleTime,t))}},73895:(t,e,s)=>{s.d(e,{EU:()=>a,R3:()=>i,iL:()=>o,jv:()=>r,nE:()=>n});var i=(t,e)=>void 0===e.state.data,r=t=>{t.suspense&&("number"!==typeof t.staleTime&&(t.staleTime=1e3),"number"===typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))},n=(t,e)=>t.isLoading&&t.isFetching&&!e,a=(t,e)=>(null===t||void 0===t?void 0:t.suspense)&&e.isPending,o=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}))},51878:(t,e,s)=>{s.d(e,{t:()=>b});var i=s(9950),r=s(15941),n=s(61664),a=s(15441);s(44414);function o(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var h=i.createContext(o()),l=()=>i.useContext(h);function u(){}var c=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},d=t=>{i.useEffect((()=>{t.clearReset()}),[t])},A=t=>{let{result:e,errorResetBoundary:s,throwOnError:i,query:r}=t;return e.isError&&!s.isReset()&&!e.isFetching&&r&&(n=i,a=[e.error,r],"function"===typeof n?n(...a):!!n);var n,a},p=i.createContext(!1),f=()=>i.useContext(p),v=(p.Provider,s(73895));function b(t,e,s){var o,h,p,b;const w=(0,a.jE)(s),y=f(),g=l(),R=w.defaultQueryOptions(t);null===(o=w.getDefaultOptions().queries)||void 0===o||null===(h=o._experimental_beforeQuery)||void 0===h||h.call(o,R),R._optimisticResults=y?"isRestoring":"optimistic",(0,v.jv)(R),c(R,g),d(g);const m=!w.getQueryCache().get(R.queryHash),[k]=i.useState((()=>new e(w,R))),O=k.getOptimisticResult(R);if(i.useSyncExternalStore(i.useCallback((t=>{const e=y?()=>{}:k.subscribe(r.j.batchCalls(t));return k.updateResult(),e}),[k,y]),(()=>k.getCurrentResult()),(()=>k.getCurrentResult())),i.useEffect((()=>{k.setOptions(R,{listeners:!1})}),[R,k]),(0,v.EU)(R,O))throw(0,v.iL)(R,k,g);if(A({result:O,errorResetBoundary:g,throwOnError:R.throwOnError,query:w.getQueryCache().get(R.queryHash)}))throw O.error;if(null===(p=w.getDefaultOptions().queries)||void 0===p||null===(b=p._experimental_afterQuery)||void 0===b||b.call(p,R,O),R.experimental_prefetchInRender&&!n.S$&&(0,v.nE)(O,y)){var C;const t=m?(0,v.iL)(R,k,g):null===(C=w.getQueryCache().get(R.queryHash))||void 0===C?void 0:C.promise;null===t||void 0===t||t.catch(u).finally((()=>{k.hasListeners()||k.updateResult()}))}return R.notifyOnChangeProps?O:k.trackResult(O)}}}]);