"use strict";(self.webpackChunksiny_memo=self.webpackChunksiny_memo||[]).push([[450],{50003:(e,t,n)=>{n.d(t,{_:()=>h});var l=n(19536),o=n(41806),i=n(20463),s=n(61113),r=n(47313),a=n(21587),d=n(68322),c=n(46417);const u={position:"absolute",top:"50%",left:"50%",display:"flex",flexDirection:"column",alignItems:"center",transform:"translate(-50%, -50%)",width:250,maxHeight:"400px",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,boxSizing:"border-box",p:4},x=e=>(0,c.jsxs)(o.Z,{sx:{my:2,mt:3,display:"flex"},children:[(0,c.jsx)(a.Z,{type:"submit",variant:"outlined",color:"success",onClick:e.onPost,children:"\ud655\uc778"}),(0,c.jsx)(a.Z,{type:"button",variant:"outlined",onClick:e.onClose,children:"\ucde8\uc18c"})]}),h=e=>{const[t,n]=r.useState(e.open),[a,h]=r.useState(),p=()=>{n(!1),h(void 0),e.onClose()};r.useEffect((()=>{n(e.open)}),[e.open]);return(0,c.jsx)("div",{children:(0,c.jsx)(i.Z,{open:t,onClose:p,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,c.jsxs)(o.Z,{sx:u,children:[(0,c.jsx)(s.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"\uc774\ub3d9\ud560 \uba54\ubaa8\uc7a5 \uc120\ud0dd"}),(0,c.jsx)(l.Z,{}),(0,c.jsx)(o.Z,{sx:{width:"100%",minHeight:110,maxHeight:200,flexGrow:1,minWidth:100,overflow:"hidden"},children:(0,c.jsx)(d.Z,{data:e.data,onDetail:(e,t)=>{h(e)},maxHeight:200})}),(0,c.jsx)(x,{onPost:()=>{void 0!==a?e.onPost(a):alert("\uc774\ub3d9\ud560 \uba54\ubaa8\uc7a5\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694")},onClose:p})]})})})}},4319:(e,t,n)=>{n.d(t,{x:()=>a});var l=n(9019),o=n(42461),i=n(47313),s=n(21587),r=n(46417);const a=e=>{const t=(0,i.useRef)(null);function n(){e.onSearchDataBtn(t.current.value)}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l.ZP,{container:!0,spacing:1,children:[(0,r.jsx)(l.ZP,{item:!0,xs:12,children:(0,r.jsx)(o.Z,{id:"edSearch",type:"edSearch",name:"edSearch",inputRef:t,placeholder:"Enter Search...",fullWidth:!0,sx:{pt:0,pl:2,pr:2,pb:1},onKeyDownCapture:function(e){13===e.which&&n()}})}),(0,r.jsx)(l.ZP,{item:!0,xs:6,children:(0,r.jsx)(s.Z,{disableElevation:!0,fullWidth:!0,type:"button",variant:"outlined",color:"success",onClick:function(){return e.onNewMemoBtn(),!1},children:"\uc0c8\uae00"})}),(0,r.jsx)(l.ZP,{item:!0,xs:6,children:(0,r.jsx)(s.Z,{variant:"outlined",fullWidth:!0,onClick:n,children:"\uc870\ud68c"})})]})})}},63856:(e,t,n)=>{n.d(t,{Z:()=>V});var l=n(24631),o=n(41806),i=n(47313),s=(n(94230),n(4833),n(16)),r=n.n(s),a=n(1550),d=n(23306),c=n(24256),u=n(95765),x=n(75627),h=n(46417);const p=e=>{let{name:t,label:n,control:l,defaultValue:o,selectList:i,...s}=e;const r="".concat(t,"-label");return(0,h.jsxs)(a.Z,{...s,children:[(0,h.jsx)(d.Z,{id:r,children:n}),(0,h.jsx)(x.Qr,{render:e=>{let{field:t}=e;return(0,h.jsx)(c.Z,{labelId:r,label:n,...t,children:i.map(((e,t)=>(0,h.jsx)(u.Z,{value:e.value,children:e.text},t)))})},name:t,control:l,defaultValue:o})]})};var m=n(63325),g=n(21587),f=n(63950),b=n(51997),v=n(70501),j=n(47131),y=n(61113),Z=n(85281),C=n(19536);const D=e=>{const[t,n]=(0,i.useState)(e.imgList);return t&&t.length>0&&t.map(((l,i)=>{const{key:s,name:r,url:a,del:d,ext:c}=l;return void 0!==d?"":(0,h.jsxs)("div",{children:[(0,h.jsxs)(o.Z,{display:"flex",flexDirection:"row",alignItems:"center",sx:{justifyContent:"space-between"},children:["mp4"===c&&(0,h.jsx)(y.Z,{style:{width:"50px",textAlign:"center"},variant:"body",children:c}),"jpg"===c&&(0,h.jsx)("img",{src:a,style:{width:"50px"}}),(0,h.jsx)("div",{children:r}),(0,h.jsxs)("div",{style:{display:"flex"},children:[a&&(0,h.jsx)(g.Z,{variant:"outlined",color:"success",onClick:n=>{n.preventDefault(),(n=>{t.map((t=>{if(t.key===n)return e.onInsert(t),!1}))})(s)},children:"\ucd94\uac00"}),(0,h.jsx)(j.Z,{"aria-label":"delete",onClick:()=>(l=>{const o=t.map((e=>(e.key===l&&(e.del="Y"),e)));n(o),e.onClick(o)})(s),children:(0,h.jsx)(b.Z,{sx:{color:"red"}})})]})]}),(0,h.jsx)(C.Z,{})]},i)}))},S=function(e){let{control:t}=e;for(var n=arguments.length,l=new Array(n>1?n-1:0),s=1;s<n;s++)l[s-1]=arguments[s];const r=(0,x.qo)({control:t,name:"content"}),[a,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),[p,m]=(0,i.useState)([]),[g,S]=(0,i.useState)(l.imageList),k=(0,i.useRef)(0);(0,i.useEffect)((()=>{m([])}),[]);const w=(0,i.useCallback)((e=>{var t;e.preventDefault(),null!==(t=e.dataTransfer)&&void 0!==t&&t.files&&d(!0)}),[]),L=(0,i.useCallback)((e=>{e.preventDefault(),d(!1)}),[]),Y=(0,i.useCallback)((e=>{let t=[],n=p;t="drop"===e.type?e.dataTransfer.files:e.target.files;for(const l of t){const e=URL.createObjectURL(l);n=[...n,{id:k.current++,object:l,url:e}]}l.onFileUpload(n),m(n)}),[p]),I=(0,i.useCallback)((e=>{S(e),l.onDelete(e)}),[]),M=(0,i.useCallback)((e=>{const t=p.filter((t=>t.id!==e));l.onFileUpload(t),m(t)}),[p]),H=(0,i.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),d(!1),Y(e)}),[Y]);return(0,h.jsxs)(o.Z,{children:[(0,h.jsxs)(v.Z,{variant:"outlined",onDragOver:w,onDragLeave:L,onDrop:H,cursor:"pointer",sx:{"&:hover":{cursor:"pointer"}},style:{border:a?"1px dashed red":"1px dashed gray",paddingLeft:5,paddingRight:5,marginBottom:10,textAlign:"center",cursor:"pointer",backgroundColor:a?"secondary":"transparent",position:"relative"},children:[(0,h.jsx)("input",{type:"file",id:"fileUpload",style:{display:"none"},multiple:!0,onChange:Y}),(0,h.jsx)("label",{htmlFor:"fileUpload",children:(0,h.jsxs)(o.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,h.jsx)(j.Z,{color:"primary","aria-label":"upload picture",component:"span",children:(0,h.jsx)(f.Z,{style:{fontSize:40}})}),(0,h.jsx)(y.Z,{children:"\ud30c\uc77c \uc5c5\ub85c\ub4dc"})]})}),c&&(0,h.jsx)(Z.Z,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)(D,{imgList:g,onInsert:e=>{let t=r;"jpg"===e.ext?t+="<img src='".concat(e.url,"'/>"):"mp4"===e.ext&&(t+='<video preload="auto" controls="" src=\''.concat(e.url,"'></video>")),l.setContent(t)},onClick:I}),p.length>0&&p.map(((e,t)=>{const{id:n,object:{name:l},url:i}=e;return(0,h.jsxs)("div",{children:[(0,h.jsxs)(o.Z,{display:"flex",flexDirection:"row",alignItems:"center",sx:{justifyContent:"space-between"},children:[(0,h.jsx)("img",{src:i,style:{width:"50px"}}),(0,h.jsx)("div",{children:l}),(0,h.jsx)(j.Z,{"aria-label":"delete",onClick:()=>M(n),children:(0,h.jsx)(b.Z,{sx:{color:"red"}})})]},t),(0,h.jsx)(C.Z,{})]},t)}))]})]})};var k=n(99080),w=n(23834),L=n(94762);const Y=e=>{let{onSubmit:t,onCancel:n,isSubmitting:l}=e;return(0,h.jsxs)(o.Z,{sx:{my:2,display:"flex"},children:[(0,h.jsx)(g.Z,{variant:"outlined",color:"success",disabled:l,onClick:e=>{e.preventDefault(),t(e)},children:"\uc800\uc7a5"}),(0,h.jsx)(g.Z,{type:"button",variant:"outlined",onClick:n,children:"\ucde8\uc18c"})]})};var I=n(48339),M=n(10658),H=n.n(M);s.Quill.register("modules/imageDrop",w.c),k.Z.configure({languages:["javascript","ruby","python","java","cpp","kotlin","sql"]});const P={syntax:{highlight:e=>k.Z.highlightAuto(e).value},toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"],["code-block"]],imageDrop:!0,clipboard:{matchVisual:!1}},R=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","clean","code-block","code-custom"],V=e=>{const t=(0,i.useRef)(),[n,s]=(0,i.useState)(e.imageList),a=(0,i.useRef)(),d=e.newMode,c=(0,i.useRef)([]),{height:u,width:g}=(0,m.Z)(),f=L.ou.now().setZone("Asia/Seoul").toFormat("yyyy-MM-dd"),b=(L.ou.now().setZone("Asia/Seoul").toFormat("hh:mm"),{edTitle:e.title,edGbn:e.gbn?e.gbn:"",edDate:e.date?e.date:f,content:e.content}),{register:v,handleSubmit:j,trigger:y,reset:Z,control:C,setValue:D,getValues:k,watch:w,setFocus:M,setState:V,formState:{errors:A,isDirty:F,isSubmitting:G,touchedFields:W,submitCount:T}}=(0,x.cI)({mode:"onChange",defaultValues:b});v("edDate",{required:!0,minLength:10}),v("edGbn",{required:!0}),v("edTitle",{required:"\ud574\ub2f9 \ud544\ub4dc\ub294 \ud544\uc218\uc785\ub2c8\ub2e4.",minLength:{value:3,message:"3\uae00\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694."}}),(0,i.useEffect)((()=>{c.current=[],t.current=e.content,a.current=!1}),[]);const q=async t=>{console.log("onPostSubmit.newMode=",d),console.log("onPostSubmit.values=",t),d?e.onNewSubmit(t,n,c.current):await e.onPostSubmit(t,n,c.current)};const B=w("content");return(0,h.jsx)(o.Z,{sx:{my:2,mb:"50px",width:"100%"},children:(0,h.jsxs)("form",{onSubmit:j(q),style:{width:"100%",minHeight:"300px",maxWidth:"".concat(g,"px - 20px"),maxHeight:{height:u}},children:[(0,h.jsx)(Y,{onSubmit:e=>(console.log("onSaveBtn.content=",t.current),console.log("onSaveBtn.edGbn=",k("edGbn")),console.log("onSaveBtn.errors=",A),console.log("onSaveBtn.isSubmitting=",G),void j(q)()),onCancel:e.onCancel,isSubmitting:G}),(0,h.jsx)(S,{control:C,onDelete:e=>{s(e)},onInsert:e=>{let n=t.current;"jpg"===e.ext?n+="<img src='".concat(e.url,"'/>"):"mp4"===e.ext&&(n+='<video preload="auto" controls="" src=\''.concat(e.url,"'></video>")),t.current=n},setContent:e=>{t.current=e},onFileUpload:e=>{c.current=e},imageList:e.imageList}),(0,h.jsx)(l.Z,{...v("edTitle"),fullWidth:!0,label:"\uc81c\ubaa9",placeholder:"\uc81c\ubaa9",variant:"standard",style:{paddingLeft:"0px"},error:!!A.edTitle}),(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",alignContent:"center"},children:[(0,h.jsx)(p,{id:"edGbn",name:"edGbn",label:"category",control:C,defaultValue:k("edGbn"),variant:"standard",margin:"normal",selectList:[{value:"",text:"None"},{value:"react",text:"React"},{value:"android",text:"Android"},{value:"java",text:"JAVA"},{value:"image",text:"\uadf8\ub9bc / \uc0ac\uc9c4"},{value:"etc",text:"\uae30\ud0c0"}],error:!!A.edGbn}),(0,h.jsx)(I.M,{style:{paddingTop:"2px"},format:"YYYY-MM-DD",fullWidth:!0,label:"\uc77c\uc790",id:"edDate",value:H()(k("edDate")),...v("edDate"),variant:"outlined",defaultValue:H()(k("edDate")),onChange:function(e){console.log("handleChangeDate=",e);let t=H()(e);t.format("YYYY-MM-DD HH:mm:ss"),console.log("handleChangeDate.dayjs=",t.format("YYYY-MM-DD HH:mm:ss")),D("edDate",t.format("YYYY-MM-DD")),y("edDate")}})]}),(0,h.jsx)(r(),{fullWidth:!0,theme:"snow",id:"content",name:"content",type:"div",value:B,style:{minWidth:"400px",border:"1px solid primary.main",minHeight:"200px",height:"400px",maxHeight:"450px"},sx:{width:"".concat(g,"px - 50px")},modules:P,formats:R,onChange:function(e){console.log("handleChange=",e),t.current=e,D("content",e),y("content")}})]})})}},70298:(e,t,n)=>{n.d(t,{V:()=>s});var l=n(12725),o=n(47313),i=n(2024);const s=e=>{const[t,n]=(0,o.useState)(e),[s,a]=(0,o.useState)([]),[d,c]=(0,o.useState)();(0,o.useEffect)((()=>{""!==t&&u(t)}),[t,d]);const u=e=>{const t=(0,l.IO)((0,l.iH)(i.h3,e),(0,l.g2)("title"));(0,l.jM)(t,(e=>{if(!e.exists())return;const t=e.val(),n=[];for(let l in t){const e=t[l];if(e.id=e.up,e.fullIndex=e.up,""===d||void 0===d)null!==e.sub&&(e.children=r(e,e.up)),n.push(e);else{e.id=l,(e.memo+"").toLowerCase().indexOf(d.toLowerCase())>-1&&n.push(e)}}n.sort(((e,t)=>e.title>t.title?1:-1)),a(n)}))};return[s,n,c]};function r(e,t){const n=[];if(void 0===e||void 0===e.sub)return n;for(let l in e.sub){let t=e.sub[l];t.id=l,t.key=l}return Object.values(e.sub).sort(((e,t)=>t.title-e.title)).map((e=>{e.id=e.key,e.fullIndex=t+"/sub/"+e.key,null!==e.sub&&(e.children=r(e,e.fullIndex)),n.push(e)})),n}},6608:(e,t,n)=>{function l(e){var t=e.length,n=e.lastIndexOf(".");return e.substring(n+1,t).toLowerCase()}n.d(t,{Z:()=>l})}}]);