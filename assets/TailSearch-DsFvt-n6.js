import{j as r,h as o,H as c,x as t,y as d,q as x,r as m,o as l,cn as u}from"./index-BYAZQ8R2.js";import{u as g}from"./useTreeData-DgiE6TFT.js";import{C as h}from"./ComponentCard-Sf8eDHB_.js";import{a as j}from"./blogMainListData-DXXjR94T.js";import"./useBaseQuery-CBtuKhA5.js";const y=({query:s,s:e,index:i})=>r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:s.data.map((n,a)=>(n.key=a,r.jsx(f,{post:n,s:e,index:a},n.key)))});function f({post:s,s:e}){return r.jsx(o,{to:`/tail/detail/${s.url?s.url:s.id}?s=${e}&g=${s.g?s.g:"m"}`,state:{s:e},className:"no-underline",children:r.jsx(h,{title:s.title,children:r.jsx("div",{className:"max-h-[140px] overflow-hidden mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:r.jsx(c,{show:!0,text:s.memo})})})},s.key)}const S=({uid:s,state:e})=>{console.log("TailSearch.state:",e);const i=g({queryKey:["blogMainSearch",e&&e?.s?e.s:""],queryFn:()=>j(e?.s,s===t?t:"")});return r.jsx(y,{query:i,index:"1",s:e&&e?.s?e.s:"",sx:{mt:2}})};function q(){const e=d().state,{user:i}=x();return console.log("TailSearch.state:",e),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",justifyContent:"center"},children:[r.jsx(m.Suspense,{fallback:r.jsx(l,{}),children:i===null?r.jsx(l,{}):r.jsx(S,{index:"1",uid:i.uid,state:e})}),r.jsx(u,{})]})}export{q as default};
