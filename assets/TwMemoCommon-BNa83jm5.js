const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-26_vfBS7.js","assets/index-MJDW0IY0.js","assets/index-YeHdcQPy.css","assets/createSvgIcon-DzS-qUzd.js","assets/useControlled-C2qHj7Ow.js","assets/ownerWindow-DvT1GKkC.js","assets/isMuiElement-CNXLNgoQ.js","assets/fireDatabase-BMuyop5e.js","assets/fireStorage-BpU8qzAb.js","assets/SinyDate-BoFCTtmy.js","assets/Grid-jVERrp4H.js","assets/useTheme-Bgs5OvKq.js","assets/index-CJEK5f_z.js","assets/index-Chjiymov.js","assets/Typography-CMng00ex.js","assets/Menu-BLDiMn0o.js","assets/useSlotProps-BCCDADYT.js","assets/resolveComponentProps-0TTZ6pJ4.js","assets/IconButton-CSi0zM53.js","assets/TextField-BJRvGti6.js","assets/InputAdornment-nwezG4hg.js","assets/Popper-BVksELem.js","assets/Button-BBav38o_.js","assets/Chip-BzzOT4X-.js","assets/index.esm-DiHeaZ1-.js","assets/TwButton-Dke0NjxK.js","assets/Loading-U_J43VEC.js","assets/Container-B8N061i7.js","assets/styled-BfZyQ2bt.js","assets/CircularProgress-D6Ga-KFl.js","assets/Divider-DyxeDEwL.js","assets/dividerClasses-CJSpAOu9.js","assets/index-Cmdt2tIm.css"])))=>i.map(i=>d[i]);
import{r as u,u as G,j as e,c as J,T as Ye,q as ke,e as He,o as qe,a as be,f as we,g as ye,z as ue,A as se,C as We,I as Ne,H as Oe,D as Ce,F as $e,G as Ge,y as Je,J as Ke,R as Ve,K}from"./index-MJDW0IY0.js";import{u as ze}from"./useSuspenseQuery-DZunzttj.js";import{L as U}from"./Loading-U_J43VEC.js";import{T as Qe}from"./Footer-B1X4vnwC.js";import"./LinkItem-kzLeyDLU.js";import{b as Ze,T as X}from"./TwLinkItem-Bb-HzzZo.js";import{g as Se,s as R}from"./fireDatabase-BMuyop5e.js";import{D as Te,g as De,S as Le,T as Ie}from"./index-CEhKrJrk.js";import{E as Xe,C as et,u as ge,a as he,F as tt,b as st,D as Fe,l as ot,I as nt,s as ee,d as te,e as Re}from"./index-26_vfBS7.js";import{F as Pe}from"./Favorite-BG98FQYY.js";import{S as at}from"./SinyImageList-CP48E_4M.js";import{H as xe}from"./HtmlCode-DQ1nBhYC.js";import{c as rt}from"./CodeText-5mvMKI1W.js";import{s as fe}from"./commonUtil-B0gpfm-Q.js";import{T as I}from"./TwButton-Dke0NjxK.js";import{C as lt}from"./CircularProgress-D6Ga-KFl.js";import{D as it}from"./datetime-BDx6lZXm.js";import{u as Ee}from"./index.esm-DiHeaZ1-.js";import{T as ve}from"./TwCheckbox-DpXsce9z.js";import{T as Be}from"./TwTextArea-_P2Uhm-R.js";import{T as F}from"./TwBadge-DIqTe0I7.js";import"./SinyDate-BoFCTtmy.js";import{T as W}from"./TwInput-BIuDs2vE.js";import{T as Ue}from"./TwSelect-BE6h1cXE.js";import{T as Me}from"./TwDatePicker-pB8EbMs6.js";import{d as O,e as _e,f as ct,h as mt}from"./fireStorage-BpU8qzAb.js";import{S as dt,a as ut}from"./right-aOVV_JYY.js";import{f as gt}from"./fireMemoDetail-DZBr-oQu.js";import{S as ht}from"./check-circle-DTSXCDue.js";import{I as xt}from"./IpInfo-DVcQYLLu.js";import"./useBaseQuery-DAVICOJx.js";import"./Container-B8N061i7.js";import"./styled-BfZyQ2bt.js";import"./Divider-DyxeDEwL.js";import"./dividerClasses-CJSpAOu9.js";import"./Typography-CMng00ex.js";import"./Link-CvhRsGnY.js";import"./createSvgIcon-DzS-qUzd.js";import"./useControlled-C2qHj7Ow.js";import"./ownerWindow-DvT1GKkC.js";import"./isMuiElement-CNXLNgoQ.js";import"./IconButton-CSi0zM53.js";import"./index-Chjiymov.js";import"./ImageListItem-7REoAO7T.js";import"./copy-Bk50S7SB.js";import"./ComponentCard-BgmMBg6_.js";import"./TwRadio-CY8sinQC.js";import"./toPropertyKey-DCwh5dYN.js";import"./Grid-jVERrp4H.js";import"./useTheme-Bgs5OvKq.js";import"./index-CJEK5f_z.js";import"./Menu-BLDiMn0o.js";import"./useSlotProps-BCCDADYT.js";import"./resolveComponentProps-0TTZ6pJ4.js";import"./TextField-BJRvGti6.js";import"./InputAdornment-nwezG4hg.js";import"./Popper-BVksELem.js";import"./Button-BBav38o_.js";import"./Chip-BzzOT4X-.js";function ft({initTreeData:o}){const[t,m]=u.useState(),s=j=>m(j),p=G();if(u.useEffect(()=>{m(o)},[o]),t==null||t.length===0)return e.jsx(U,{});const y=j=>{console.log("node",j),p(`/m/${j.id}`)};return e.jsx(Te,{backend:Le,options:De(),children:e.jsx(Ie,{tree:t,rootId:"root",onDrop:s,render:(j,{depth:x,isOpen:l,onToggle:g})=>e.jsxs("div",{className:"w-60 flex items-center justify-between hover:bg-gray-300 dark:hover:bg-gray-700 rounded-sm ",style:{paddingLeft:x*20+(j.cnt===0?5:0)},children:[e.jsxs("div",{className:"flex items-center",children:[j.cnt>0&&e.jsx("div",{onClick:g,children:l?e.jsx(Xe,{}):e.jsx(et,{})}),e.jsx("div",{className:"cursor-pointer",onClick:()=>y(j),children:j.text})]}),j.cnt>0&&e.jsxs("div",{className:"text-gray-500 text-sm",children:["(",j.cnt,")"]})]})})})}function pt(o){const{user:t}=J(),m=G(),[s,p]=u.useState(),[y,j]=u.useState(),x=async l=>{const g=[],d=ke(be(we,`memo_tree/${l}`),qe("bm"),He("Y")),w=await ye(d);if(!w.exists()){console.log("getFireData.null");return}const $=w.val();for(let C in $){const f=$[C];f.id=C,f.key=C,f.text=f.title,g.push(f)}g.sort((C,f)=>C.title>f.title?1:-1),p([...g])};return u.useEffect(()=>{t!==void 0&&t!=null&&x(t?.uid)},[t]),u.useEffect(()=>{const l=async(g,d)=>{const w=[...d];if(d)for(const $ of d){let C=$;for(;C.parent!=="root";){C.parent,C=await Se(`memo_tree/${g}/${C.parent}`);const f={id:C.key,text:C.title,droppable:!1,parent:C.parent};w.filter(k=>k.id===f.id).length===0&&w.push(f)}}for(const $ of w){const C=$.id;$.cnt=w.filter(f=>f.parent===C).length}j(w)};s&&s.length>0&&l(t?.uid,s)},[s]),t===null?e.jsx(e.Fragment,{}):e.jsxs("div",{className:"tail-bookmark justify-items-center flex items-center flex-col w-full",children:[e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"}),e.jsx(Ye,{children:"BookMark"}),e.jsx("div",{className:`tail-bookmark 
        grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 
        justify-items-center 
        w-full`,children:s&&s.map((l,g)=>e.jsx("div",{children:e.jsx("button",{className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 cursor-pointer",onClick:()=>{o.onSelected(l.key),m(`/m/${l.key}`)},children:e.jsx("span",{className:"text-base",children:l.title})})},g))}),e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"}),e.jsx(u.Suspense,{fallback:e.jsx(U,{}),children:e.jsx(ft,{initTreeData:y,uid:t?.uid})})]})}const vt=o=>e.jsxs("div",{className:"flex-grow my-4 w-full grid grid-cols-3 gap-1 items-center content-center justify-center text-center whitespace-nowrap",style:{gridTemplateColumns:`70px 70px 70px ${o.master?"70px":""}`},children:[o.master&&e.jsx(I,{size:"sm",variant:"outlined",color:"brand",onClick:o.onUtil,children:"유틸"}),e.jsx(I,{size:"sm",variant:"outlined",color:"blue",onClick:o.onEdit,children:"수정"}),e.jsx(I,{size:"sm",variant:"outlined",color:"warning",onClick:o.onNewMemo,children:"새글"}),e.jsx(I,{size:"sm",variant:"outlined",color:"error",onClick:o.onDelete,children:"삭제"})]}),jt=o=>{const{rootDb:t,isLoading:m,memoDetailData:s,onBookmark:p,onTreeUpdate:y,searchWord:j}=o,{scrollYProgress:x}=ge(),l=he(x,{stiffness:100,damping:30,restDelta:.001}),g=G(),{memoId:d}=ue(),$=se()?.state?.fullIndex,{user:C}=J(),f=()=>{const i=`/${t==="memo"?"m":t}/edit/${d}`;g(i,{state:{fullIndex:$}})},c=()=>{const i=`/${t==="memo"?"m":t}/util/${d}`;g(i,{state:{fullIndex:$}})},k=()=>{const i=`/${t==="memo"?"m":t}/insert/${d}`;g(i,{state:{fullIndex:$}})},r=async()=>{const i=t==="memo"?`${t}_txt/${C.uid}/${d}`:`${t}_txt/${d}`,b=t==="memo"?`${t}_tree/${C.uid}/${d}`:`${t}/${d}`;await st(i,b)!==void 0&&(y(),g(`/${t==="memo"?"m":t}`))},v=()=>{window.confirm(`하위 자료가 있는 경우 같이 삭제됩니다.
삭제하시겠습니까?`)&&r()};return u.useEffect(()=>{s&&s.title!==void 0&&fe({title:s.title,description:s.title});function i(){window.scrollTo({top:0}),s&&s.html!=="N"&&document.querySelectorAll("pre").forEach(b=>{b.innerHTML=rt(b.innerHTML)})}s&&s.memo!==null&&(i(),s.image&&s.image.map((b,T)=>(console.log("image."+T+"=",b.key),b)))},[s]),m?e.jsx(U,{}):d===""||C===void 0?e.jsx(e.Fragment,{}):e.jsxs("div",{children:[e.jsx(We.div,{className:"progress-bar",style:{scaleX:l}}),e.jsxs("div",{className:`grid grid-cols-3 
				items-center w-full 
				dark:bg-stone-950 rounded-md shadow-sm 
				dark:shadow-stone-800 shadow-stone-900`,children:[e.jsx("div",{}),e.jsx("div",{className:"flex justify-center",children:s&&s.title}),e.jsxs("div",{className:"text-right justify-end mr-3.5",children:[e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-label":"bookmark",onClick:p,children:s&&s.bookmark==="Y"?e.jsx(Pe,{className:"text-red-500"}):e.jsx(tt,{className:"text-gray-600 dark:text-gray-400"})}),e.jsx("div",{className:"text-right mb-3 text-sm text-red-400",children:s?.path&&s?.path.map((i,b)=>b===0?i?.text:` > ${i?.text}`)})]})]}),e.jsxs("div",{className:"w-full p-0 m-0",children:[e.jsx(vt,{master:C?.uid===Ne,rootDb:t,onEdit:f,onUtil:c,onNewMemo:k,onDelete:v,bookmark:s&&s.bookmark}),e.jsxs("div",{className:"my-4",children:[s&&s.html==="N"?e.jsx(xe,{postData:s&&s.memo,highlightWord:j}):s&&s.html!=="N"&&s.memo&&e.jsx(Oe,{text:s.memo}),e.jsx(at,{imageList:s&&s.image}),!s&&e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"mt-12",children:e.jsx(lt,{})})})]})]})]})},Ae=({onSubmit:o,onCancel:t,isSubmitting:m,newMode:s=!1})=>e.jsxs("div",{className:"flex justify-end mb-1.5 gap-1",children:[e.jsxs(I,{variant:"outlined",color:"success",disabled:m,onClick:p=>{p.preventDefault(),o(p)},children:[s?"새글":""," 저장"]}),e.jsx(I,{variant:"outlined",color:"error",onClick:p=>{p.preventDefault(),t()},children:"취소"})]}),kt=u.lazy(()=>Ge(()=>import("./index-26_vfBS7.js").then(o=>o.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])));ot.Quill.register("modules/imageDrop",nt);$e.configure({languages:["javascript","ruby","python","java","cpp","kotlin","sql"]});const bt={syntax:{highlight:o=>$e.highlightAuto(o).value},toolbar:[[{header:"1"},{header:"2"},{header:"3"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"],["code-block"]],imageDrop:!0,clipboard:{matchVisual:!1}},wt=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","clean","code-block","code-custom"],yt=o=>{const[t,m]=u.useState(o.imageList),[s,p]=u.useState(o.htmlCheck==="Y"),[y,j]=u.useState(o.iconCheck==="Y"),[x,l]=u.useState(o.newMode?"":o.content),[g,d]=u.useState(),w=u.useRef(),$=u.useRef(),C=u.useRef(null);u.useRef(null);const f=u.useRef(null),c=o.newMode,k=u.useRef([]),{height:r}=Ce(),v=it.now().setZone("Asia/Seoul").toFormat("yyyy-MM-dd"),i={edTitle:c?"":o.title,edGbn:o.gbn?o.gbn:"etc",edDate:c?v:o.date,content:c?"":o.content,memoTxt:c?"":o.content,htmlCheck:o.htmlCheck,iconCheck:o.iconCheck},{register:b,handleSubmit:T,trigger:P,control:L,setValue:E,getValues:Y,watch:oe,formState:{errors:pe,isSubmitting:ne}}=Ee({mode:"onChange",defaultValues:i});u.useEffect(()=>{b("edDate"),b("edGbn",{required:!0}),b("htmlCheck"),b("iconCheck"),b("memoTxt")},[]),u.useEffect(()=>{k.current=[],w.current=o.content,$.current=!1},[o.content]);const V=async a=>{c?await o.onNewSubmit(a,k.current):await o.onPostSubmit(a,t,k.current)},ae=()=>{T(V)()},re=a=>{console.log("onDelete.imageList=",a),m(a)},le=a=>{console.log("onInsert.file",a);let N=w.current;a.ext==="jpg"||a.ext==="png"?(N+=`<img src='${a.url}'/>`,h(`<img src='${a.url}'/>
`)):a.ext==="mp4"?(N+=`<video preload="auto" controls="" src='${a.url}'></video>`,h(`<video preload="auto" controls="" src='${a.url}'></video>`)):(N+=`<a src='${a.url}'>${a.name}}</a>`,h(`다운로드
<a href="${a.url}" target="_blank">${a.name}</a>
`)),w.current=N},B=a=>o.onRename(a,Y("edTitle")),A=a=>{w.current=a},ie=a=>{console.log("handleFileUpload",a),k.current=a};function ce(a){w.current=a,E("content",a),P("content")}const z=(a,N)=>{console.log(`onChecked.e.${a}=`,N),E(a,N?"Y":"N"),console.log(`onChecked.v.${a}=`,Y(a)),a==="htmlCheck"?p(N):j(N)},me=oe("content"),de=[{value:"none",label:"None"},{value:"react",label:"React"},{value:"css",label:"CSS"},{value:"android",label:"Android"},{value:"java",label:"JAVA"},{value:"image",label:"그림 / 사진"},{value:"etc",label:"기타"},{value:"mui",label:"MUI"}],n=["React","JavaScript","Bash","Html","CSS","SQL","Java","Kotlin","C++","C#","Command","Script","Python","Ruby","Go","Swift","Rust"],h=a=>{const N=C.current;if(N){const q=N.selectionStart,_=N.selectionEnd,H=x.slice(0,q),Q=x.slice(_);l(H+a+Q),E("memoTxt",H+a+Q),setTimeout(()=>{N.selectionStart=N.selectionEnd=q+a.length,N.focus()},0)}},S=a=>{h(a)},D=a=>a?/\.(jpg|jpeg|png|gif|bmp|webp|svg)/i.test(a)||a.includes("image")||a.includes("img"):!1,M=a=>new Promise((N,q)=>{const _=new Image;_.crossOrigin="anonymous",_.onload=()=>{const H=document.createElement("canvas"),Q=H.getContext("2d");H.width=_.width,H.height=_.height,Q.drawImage(_,0,0);try{const Z=H.toDataURL("image/png");console.log("convertImageToBase64.base64=",Z.substring(0,30)+"..."),N(Z)}catch(Z){q(Z)}},_.onerror=()=>{q(new Error("Failed to load image"))},_.src=a});return e.jsx("div",{className:"my-2 mb-[50px], w-full",children:e.jsxs("form",{onSubmit:T(V),style:{width:"100%",minHeight:"300px",maxHeight:{height:r},display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"flex justify-end mb-1.5 gap-1",children:[e.jsx(ve,{id:"htmlCheck",checked:s,onChange:a=>z("htmlCheck",a),label:"HTML사용"}),e.jsx(ve,{id:"iconCheck",checked:y,onChange:a=>z("iconCheck",a),label:"Icon"}),e.jsx(Ae,{onSubmit:a=>ae(),onCancel:o.onCancel,isSubmitting:ne,newMode:c})]}),e.jsx(Fe,{control:L,onDelete:re,onInsert:le,onRename:B,setContent:A,onFileUpload:ie,imageList:o.imageList}),e.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(W,{name:"edTitle",placeholder:"제목",control:L,rules:{required:"해당 필드는 필수입니다.",minLength:{value:2,message:"2글자 이상 입력해주세요."}},onChange:a=>{a.preventDefault(),E("edTitle",a.target.value)}})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{name:"edGbn",label:"구분",control:L,rules:{required:!0},placeholder:"-- 구분 --",options:de,className:"",allClassName:"max-w-40",onChange:a=>{a.preventDefault();const N=a.target.value;console.log("edGbn=",Y("edGbn")),E("edGbn",N)}}),e.jsx(Me,{id:"edDate",name:"edDate",placeholder:"Select a date",control:L,onChange:(a,N)=>{console.log({dates:a,currentDateString:N}),E("edDate",N)}})]}),e.jsx("div",{className:"flex gap-2"})]}),e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600 my-4"}),e.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:[e.jsx("div",{className:"max-h-100 overflow-y-scroll",children:e.jsx(xe,{postData:x})}),e.jsxs("div",{children:[e.jsx(Be,{ref:C,className:"",value:x,onChange:a=>{E("memoTxt",a),l(a)},rows:20}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 xsm:grid-cols-5 sm:grid-cols-7 md:grid-cols-7 lg:grid-cols-8",children:[e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>S(`<box>
</box>`),children:"<Box>"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>S('<a href="/data/memo/" target="_blank"></a>'),children:"Link"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>S('<img src="/data/memo/"></img>'),children:"img"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>S('<video preload="auto" controls="" src="/memo/" style="width: 100%; height: 100%;"></video>'),children:"Video"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>S('<hr style="width=100%"/>'),children:"line"}),n.map((a,N)=>e.jsx(F,{className:"cursor-pointer",variant:"light",color:"dark",onClick:()=>S("<code>"+a+`
</code>`),children:a},N))]})]}),Y("edUrl")&&D(Y("edUrl"))&&e.jsx("div",{className:"mt-2 p-2 border border-gray-300 dark:border-gray-600 rounded",children:e.jsx("img",{src:g,alt:"Preview",className:"max-w-full h-auto max-h-48 object-contain",onLoad:async a=>{try{const N=await M(g);E("edUrl2",N)}catch(N){console.error("Base64 conversion failed:",N)}},onError:a=>{a.target.style.display="none"}})})]}),s&&e.jsx(u.Suspense,{fallback:e.jsx("div",{children:"Loading editor..."}),children:e.jsx(kt,{ref:f,fullWidth:!0,theme:"snow",id:"content",name:"content",type:"div",value:me,style:{minWidth:"400px",border:"1px solid primary.main",minHeight:"200px",height:"400px",maxHeight:"450px"},modules:bt,formats:wt,onChange:ce})}),e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600 my-4"})]})})},je=o=>{const{rootDb:t,isLoading:m,memoDetailData:s}=o,{scrollYProgress:p}=ge();he(p,{stiffness:100,damping:30,restDelta:.001});const y=G(),j=u.useRef(),x=u.useRef();x.current=o.searchWord;const{memoId:l}=ue(),g=se(),{user:d}=J();j.current=g.pathname.split("/")[2]==="insert",console.log("memoDetailData=",s);const w=()=>{const r=`/${t==="memo"?"m":t}/${l==="insert"?"":l}`;y(r)},$=async r=>{await O(d.uid,l,r)},C=async r=>{if(console.log("onFilePathList.fileNm=",r),r.length>0)for(let v=0;v<r.length;v++){const i=r[v];console.log("onFilePathList.file=",i);try{const b=await O(d.uid,l,i);console.log("onFilePathList.path=",b)}catch{console.log("onFilePathList.error=",i)}}else await O(d.uid,l,r)},f=async(r,v)=>{console.log("onNewSubmit.values",r);const i=await ee({rootDb:t,uid:d.uid,newData:j.current,key:l==="insert"?"root":l,values:r});if(await te(`${t}_txt`,t,i,v),i!==void 0){const b=`/${t==="memo"?"m":t}/${i}`;y(b,{state:{reflash:!0}})}},c=async(r,v)=>{const i=t==="memo"?`${t}/${d.uid}/`:`${t}/`,b=await _e(i,r.key,v,r.ext);if(b.success){const T=t==="memo"?`${t}_txt/${d.uid}/${l}/image/`:`${t}_txt/${l}/image/`;return R(T+r.key,null),r.key=b.key,r.url=b.url,r.name=b.key+"."+r.ext,R(T+b.key,r),console.log("onRename.file",r),r}},k=async(r,v,i)=>{const b=t==="memo"?`${t}_txt/${d.uid}/`:`${t}_txt/`;t==="memo"?`${t}${d.uid}`:`${t}`,await Re(b,t==="memo"?`${t}/${d.uid}/`:`${t}/`,l,v),console.log("onPostSubmit.values",r);const T=await ee({rootDb:t,uid:d.uid,newData:j.current,key:l==="insert"?"root":l,values:r});console.log("onPostSubmit.newKey=",T),console.log("onPostSubmit.files=",i);const P=await te(`${b}`,t==="memo"?`${t}/${d.uid}/`:`${t}/`,l,i);console.log("onNewSubmit.imageResult",P),t==="memo"&&R(`memo_tree/${d.uid}/${l}/title`,r.edTitle),j.current=!1;const L=`/${t==="memo"?"m":t}/${l}`;t==="home"&&R("home/tree",null),y(L,{state:{reflash:!0}})};return u.useEffect(()=>{s&&s.title!==void 0&&fe({title:s.title,description:s.title});function r(){document.querySelectorAll("pre").forEach((v,i)=>{})}s&&s.memo!==null&&r()},[s]),l===""||d===void 0?e.jsx(e.Fragment,{}):(console.log("isLoading=",m),s===void 0||m?e.jsx(U,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full p-0 m-0",children:j.current===!1&&s&&(s.title===void 0||s.title===""||s.title===null)?e.jsx(U,{}):e.jsx(yt,{newMode:j.current,onPostSubmit:k,onNewSubmit:f,onCancel:w,onRename:c,onFilePath:$,onFilePathList:C,title:s?.title,gbn:s?.gbn,date:s?.date,htmlCheck:s?.html?s?.html==="Y"?"Y":"N":"Y",iconCheck:!s?.icon==="Y"?"Y":"N",content:s?.memo,imageList:s?.image})})}))},Nt=o=>{const[t,m]=u.useState(o.imageList),[s,p]=u.useState(o.content),[y,j]=u.useState(),x=u.useRef(),l=u.useRef(),g=u.useRef(null),d=u.useRef([]),{height:w}=Ce(),$={edTitle:o.title,edGbn:o.gbn?o.gbn:"etc",edDate:o.date,content:o.content,memoTxt:o.content,htmlCheck:"N",iconCheck:"N"},{register:C,handleSubmit:f,trigger:c,control:k,setValue:r,getValues:v,watch:i,formState:{errors:b,isSubmitting:T}}=Ee({mode:"onChange",defaultValues:$});u.useEffect(()=>{C("edDate"),C("memoTxt")},[]),u.useEffect(()=>{d.current=[],x.current=o.content,l.current=!1},[o.content]);const P=async n=>{await o.onPostSubmit(n,t,d.current)},L=()=>{f(P)()},E=n=>{console.log("onDelete.imageList=",n),m(n)},Y=n=>{console.log("onInsert.file",n);let h=x.current;n.ext==="jpg"||n.ext==="png"?(h+=`<img src='${n.url}'/>`,B(`<img src='${n.url}'/>
`)):n.ext==="pdf"?(h+=`<PDF>${n.url}</PDF>`,B(`<PDF>${n.url}</PDF>`)):n.ext==="mp4"?(h+=`<video preload="auto" controls="" src='${n.url}'></video>`,B(`<video preload="auto" controls="" src='${n.url}'></video>`)):(h+=`<a src='${n.url}'>${n.name}}</a>`,B(`다운로드
<a href="${n.url}" target="_blank">${n.name}</a>
`)),x.current=h},oe=n=>o.onRename(n,v("edTitle")),pe=n=>{x.current=n},ne=n=>{console.log("handleFileUpload",n),d.current=n};function V(n){B(`<img src='${n}'/>`)}function ae(){console.log("HtmlEditor.imageList=",t);let n="";t&&t.length>0&&t.map((h,S)=>{n+=`<img src="/data/memo/${h.key}.${h.ext}" style="width: 50px;"/>
`}),n!==""&&B(n)}const re=[{value:"none",label:"None"},{value:"react",label:"React"},{value:"css",label:"CSS"},{value:"android",label:"Android"},{value:"java",label:"JAVA"},{value:"image",label:"그림 / 사진"},{value:"etc",label:"기타"},{value:"mui",label:"MUI"}],le=["React","JavaScript","Bash","Html","CSS","SQL","Java","Kotlin","C++","C#","Command","Script","Python","Ruby","Go","Swift","Rust"],B=n=>{const h=g.current;if(h){const S=h.selectionStart,D=h.selectionEnd,M=s.slice(0,S),a=s.slice(D);p(M+n+a),r("memoTxt",M+n+a),setTimeout(()=>{h.selectionStart=h.selectionEnd=S+n.length,h.focus()},100)}},A=n=>{B(n)},ie=n=>n?/\.(jpg|jpeg|png|gif|bmp|webp|svg)/i.test(n)||n.includes("image")||n.includes("img"):!1,ce=async()=>{const n=await ct("memo/I3cTgdCxwjhBBno4mtZYvnODPJu1");console.log("onAllFile.result=",n)},z=async()=>{const n=await mt("memo/I3cTgdCxwjhBBno4mtZYvnODPJu1");console.log("onAllFile10.result=",n);let h="";n.map(S=>{h+=S+`
`}),B(h)},me=async()=>{const n=v("edFilePath");if(n===""){const h=[];let S=g.current.value;S=S.replace(/<img src="\/data\/memo\//g,""),S=S.replace(/ style="width: 50px;"/g,""),S=S.replace(/"\/>/g,""),S=S.replace(/ /g,""),S.split(`
`).forEach(async D=>{D.indexOf(".")>0&&(h.push(D),console.log(D))}),h.length>0&&(console.log(h),await o.onFilePathList(h))}else await o.onFilePath(n)},de=n=>new Promise((h,S)=>{const D=new Image;D.crossOrigin="anonymous",D.onload=()=>{const M=document.createElement("canvas"),a=M.getContext("2d");M.width=D.width,M.height=D.height,a.drawImage(D,0,0);try{const N=M.toDataURL("image/png");console.log("convertImageToBase64.base64=",N.substring(0,30)+"..."),h(N)}catch(N){S(N)}},D.onerror=()=>{S(new Error("Failed to load image"))},D.src=n});return e.jsx("div",{className:"my-2 mb-[50px], w-full",children:e.jsxs("form",{onSubmit:f(P),style:{width:"100%",minHeight:"300px",maxHeight:{height:w},display:"flex",flexDirection:"column"},children:[e.jsx(Ae,{onSubmit:n=>L(),onCancel:o.onCancel,isSubmitting:T}),e.jsx(Fe,{control:k,onDelete:E,onInsert:Y,onRename:oe,setContent:pe,onFileUpload:ne,imageList:o.imageList}),e.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(W,{name:"edTitle",placeholder:"제목",control:k,className:"w-full",rules:{required:"해당 필드는 필수입니다.",minLength:{value:2,message:"2글자 이상 입력해주세요."}},onChange:n=>{n.preventDefault(),r("edTitle",n.target.value)}})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ue,{name:"edGbn",label:"구분",control:k,rules:{required:!0},placeholder:"-- 구분 --",options:re,className:"",allClassName:"max-w-40",onChange:n=>{n.preventDefault();const h=n.target.value;console.log("edGbn=",v("edGbn")),r("edGbn",h)}}),e.jsx(Me,{id:"edDate",name:"edDate",placeholder:"Select a date",control:k,onChange:(n,h)=>{console.log({dates:n,currentDateString:h}),r("edDate",h)}})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{name:"edUrl",placeholder:"Base64로 만들 URL",control:k,className:"w-full",allClassName:"w-full",onChange:n=>{n.preventDefault();const h=n.target.value;console.log("edUrl=",h),r("edUrl",h),j(h)}}),e.jsx(I,{variant:"outlined",color:"success",className:"w-25 h-9",onClick:n=>{n.preventDefault(),V(v("edUrl2"))},children:"적용"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(W,{name:"edUrl2",placeholder:"Base64 이미지 데이터",className:"w-full",allClassName:"w-full",variant:"filled",size:"md",value:v("edUrl2")||""}),e.jsx(I,{variant:"outlined",color:"success",className:"w-25 h-9",onClick:n=>{n.preventDefault(),ae()},children:"첨부추가"})]}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx(W,{name:"edFilePath",placeholder:"이미지리스트에 추가할 파일명",className:"w-full",allClassName:"w-full",control:k,onChange:n=>{n.preventDefault();const h=n.target.value;r("edFilePath",h)}}),e.jsx(I,{size:"sm",variant:"outlined",color:"success",className:"w-25 h-9",onClick:n=>{n.preventDefault(),me()},children:"파일경로"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outlined",color:"success",onClick:n=>{n.preventDefault(),ce()},children:"전체파일"}),e.jsx(I,{variant:"outlined",color:"success",onClick:n=>{n.preventDefault(),z()},children:"전체파일10"})]})]}),e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600 my-4"}),e.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx("div",{className:"max-h-100 overflow-y-scroll",children:e.jsx(xe,{postData:s})})}),e.jsxs("div",{children:[e.jsx(Be,{ref:g,className:"",value:s,onChange:n=>{r("memoTxt",n),p(n)},rows:20}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 xsm:grid-cols-5 sm:grid-cols-7 md:grid-cols-7 lg:grid-cols-8",children:[e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>A(`<box>
</box>`),children:"<Box>"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>A('<a href="/data/memo/" target="_blank"></a>'),children:"Link"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>A('<img src="/data/memo/"></img>'),children:"img"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>A('<video preload="auto" controls="" src="/memo/" style="width: 100%; height: 100%;"></video>'),children:"Video"}),e.jsx(F,{className:"cursor-pointer",variant:"light",color:"success",onClick:()=>A('<hr style="width=100%"/>'),children:"line"}),le.map((n,h)=>e.jsx(F,{className:"cursor-pointer",variant:"light",color:"dark",onClick:()=>A("<code>"+n+`
</code>`),children:n},h))]})]}),v("edUrl")&&ie(v("edUrl"))&&e.jsx("div",{className:"mt-2 p-2 border border-gray-300 dark:border-gray-600 rounded",children:e.jsx("img",{src:y,alt:"Preview",className:"max-w-full h-auto max-h-48 object-contain",onLoad:async n=>{try{const h=await de(y);r("edUrl2",h)}catch(h){console.error("Base64 conversion failed:",h)}},onError:n=>{n.target.style.display="none"}})})]}),e.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600 my-4"})]})})},Ct=o=>{const{rootDb:t,isLoading:m,memoDetailData:s}=o,{scrollYProgress:p}=ge();he(p,{stiffness:100,damping:30,restDelta:.001});const y=G(),j=u.useRef();j.current=o.searchWord;const{memoId:x}=ue();se();const{user:l}=J();console.log("memoDetailData=",s);const g=()=>{const c=`/${t==="memo"?"m":t}/${x==="insert"?"":x}`;y(c)},d=async c=>{await O(l.uid,x,c)},w=async c=>{if(console.log("onFilePathList.fileNm=",c),c.length>0)for(let k=0;k<c.length;k++){const r=c[k];console.log("onFilePathList.file=",r);try{const v=await O(l.uid,x,r);console.log("onFilePathList.path=",v)}catch{console.log("onFilePathList.error=",r)}}else await O(l.uid,x,c)},$=async(c,k)=>{console.log("onNewSubmit.values",c);const r=await ee({rootDb:t,uid:l.uid,newData:!1,key:x,values:c});if(await te(`${t}_txt`,t,r,k),r!==void 0){const v=`/${t==="memo"?"m":t}/${r}`;y(v,{state:{reflash:!0}})}},C=async(c,k)=>{const r=t==="memo"?`${t}/${l.uid}/`:`${t}/`,v=await _e(r,c.key,k,c.ext);if(v.success){const i=t==="memo"?`${t}_txt/${l.uid}/${x}/image/`:`${t}_txt/${x}/image/`;return R(i+c.key,null),c.key=v.key,c.url=v.url,c.name=v.key+"."+c.ext,R(i+v.key,c),console.log("onRename.file",c),c}},f=async(c,k,r)=>{const v=t==="memo"?`${t}_txt/${l.uid}/`:`${t}_txt/`;t==="memo"?`${t}${l.uid}`:`${t}`,await Re(v,t==="memo"?`${t}/${l.uid}/`:`${t}/`,x,k),console.log("onPostSubmit.values",c);const i=await ee({rootDb:t,uid:l.uid,newData:!1,key:x==="insert"?"root":x,values:c});console.log("onPostSubmit.newKey=",i),console.log("onPostSubmit.files=",r);const b=await te(`${v}`,t==="memo"?`${t}/${l.uid}/`:`${t}/`,x,r);console.log("onNewSubmit.imageResult",b),t==="memo"&&R(`memo_tree/${l.uid}/${x}/title`,c.edTitle);const T=`/${t==="memo"?"m":t}/${x}`;t==="home"&&R("home/tree",null),y(T,{state:{reflash:!0}})};return u.useEffect(()=>{s&&s.title!==void 0&&fe({title:s.title,description:s.title});function c(){document.querySelectorAll("pre").forEach((k,r)=>{})}s&&s.memo!==null&&c()},[s]),x===""||l===void 0?e.jsx(e.Fragment,{}):(console.log("isLoading=",m),s===void 0||m?e.jsx(U,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full p-0 m-0",children:s&&(s.title===void 0||s.title===""||s.title===null)?e.jsx(U,{}):e.jsx(Nt,{onPostSubmit:f,onNewSubmit:$,onCancel:g,onRename:C,onFilePath:d,onFilePathList:w,title:s?.title,gbn:s?.gbn,date:s?.date,htmlCheck:s?.html?s?.html==="Y"?"Y":"N":"Y",iconCheck:!s?.icon==="Y"?"Y":"N",content:s?.memo,imageList:s?.image})})}))};function $t({initTreeData:o,userId:t,memoId:m,onClick:s}){const[p,y]=u.useState(o),{isMoble:j,height:x,width:l}=Je(),g=u.useRef(),d=u.useRef(),w=(f,c)=>{if(c.dragSource.id!==void 0&&c.dropTargetId!==void 0){const k=`memo_tree/${t}/${c.dragSource.id}/parent`;R(k,c.dropTargetId)}y(f)};u.useEffect(()=>{(()=>{for(const c of o){const k=c.id;c.cnt=o.filter(r=>r.parent===k).length}y(o)})()},[o]);const $=(f,c)=>{const k=[],r=v=>{const i=c.find(b=>b.id===v);if(!i)return!1;if(i.parent&&i.parent!=="root"){if(r(i.parent))return k.push(i.parent),!0}else return!0;return!1};return r(f)?k.reverse():[]},C=f=>{if(!p||!f||!d.current)return;const c=$(f,p);c.length>0&&setTimeout(()=>{d.current.open(c)},500)};return u.useEffect(()=>{g.current===void 0&&m!==void 0&&(g.current=m,C(m))},[p]),p==null||p===""?e.jsx(U,{}):e.jsx(Te,{backend:Le,options:De(),children:e.jsx("div",{className:"overflow-y-auto",style:{height:x-235-(j?56:0)+(l>1024?60:0),width:"100%"},children:e.jsx(Ie,{ref:d,tree:p,rootId:"root",onDrop:w,sort:!0,render:(f,{depth:c,isOpen:k,onToggle:r,isDragging:v,isDropTarget:i})=>e.jsxs("div",{className:`w-62 flex items-center rounded-sm
              text-gray-500 dark:text-gray-400 cursor-pointer select-none min-h-8 py-1 ml-1 ${v?"opacity-50":""} ${i?"bg-blue-200 dark:bg-blue-800":"hover:bg-gray-300 dark:hover:bg-gray-700"} 
              ${g.current===f.id?"bg-gray-200 dark:bg-gray-800 rounded-r-lg border-l-4 border-blue-500":""}
              `,style:{paddingLeft:c*20+(f.cnt===0?5:0)-(g.current===f.id?4:0)},children:[e.jsx("div",{className:"min-w-0",children:f.cnt>0&&e.jsx("div",{className:"hover:bg-white dark:hover:bg-gray-950 rounded-full",onClick:r,children:k?e.jsx(dt,{className:"size-6"}):e.jsx(ut,{className:"size-6"})})}),e.jsxs("div",{className:"flex items-center flex-1 min-w-0 justify-between",onClick:()=>{g.current=f.id,s(f)},children:[e.jsxs("div",{className:"flex truncate pr-2",children:[f.icon,f.text]}),f.cnt>0&&e.jsxs("div",{className:"text-gray-500 text-sm",children:["(",f.cnt,")"]})]})]})})})})}const St=o=>{const t=u.useRef(null);function m(){o.onSearchDataBtn(t.current.value)}function s(){return o.onNewMemoBtn(),!1}function p(y){y.which===13&&m()}return e.jsxs(e.Fragment,{children:[e.jsx(W,{id:"edSearch",type:"edSearch",name:"edSearch",inputRef:t,className:"w-full ",allClassName:"px-3 py-2",placeholder:"Enter Search...",fullWidth:!0,onKeyDownCapture:p}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx(I,{variant:"outlined",color:"success",className:"m-1 p-1",onClick:s,children:"새글"}),e.jsx(I,{variant:"outlined",color:"brand",className:"m-1 p-1",onClick:y=>m(),children:"조회"})]})]})};async function Tt(o,t,m=""){if(t==null||t==="")return"";if(o==="home"){const g=await Se("home/tree");if(g!=null)try{return JSON.parse(g)}catch(d){console.error("Error parsing JSON data:",d)}}const s=o==="home"?"home_txt":m===""?`${o}_tree/${t}`:`${o}_txt/${t}`,p=ke(be(we,s)),y=await ye(p);if(!y.exists())return console.log("getTreeData.null"),null;if(!y.exists())return console.log("getTreeData.exists"),null;const j=y.val(),x=[{text:"1.React",id:"react",key:"react",parent:"root"},{text:"2.CSS",id:"css",key:"css",parent:"root"},{text:"3.Android",id:"android",key:"android",parent:"root"},{text:"4.Java",id:"java",key:"java",parent:"root"},{text:"5.이미지",id:"image",key:"image",parent:"root"},{text:"6.Etc",id:"etc",key:"etc",parent:"root"}],l=[];o==="home"&&l.push(...x);for(const g in j){const d=j[g];d.id=g;const w={id:g,key:g,text:d.title,parent:o==="home"?d.gbn:d.parent};o==="memo"?(w.icon=d.bm==="Y"?e.jsx(Pe,{className:"text-red-500"}):d.icon==="Y"?e.jsx(ht,{}):null,w.droppable=!0):w.droppable=!1,!((m===""||m===void 0||m===null)&&(w.parent===void 0||w.parent===null||w.parent===""))&&(o==="home"||m===""||m===void 0||m===null?l.push(w):(d.id=g,(d.memo+"").toLowerCase().indexOf(m.toLowerCase())>-1&&(w.parent="root",w.droppable=!1,l.push(w))))}return l.sort((g,d)=>g.title>d.title?1:-1),o==="home"&&R("home/tree",JSON.stringify(l)),l}const Dt=o=>{const{user:t}=J();return e.jsxs("div",{className:"justify-items-center",children:[e.jsx("h3",{children:o.title}),t===null?e.jsx("div",{className:"text-red-500 font-bold text-lg mt-3",children:"로그인해야 이용 가능합니다."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"사이드 메뉴에서"}),e.jsx("div",{children:"'새글' 버튼을 사용해 메모를 작성합니다."})]}),e.jsx(xt,{})]})},Bs=({rootDb:o})=>{const t=G(),{user:m}=J(),s=u.useRef(),p=u.useRef(!0),y=u.useRef(),j=u.useRef(),[x,l]=u.useState(),g=u.useRef(!1),d=se(),w=u.useRef(!1);w.current=d?.state?.reflash===!0;const $=ze({queryKey:["twTreeData",m?.uid,s.current],queryFn:()=>Tt(o,m?.uid,s.current)});$.data!==void 0&&$.data!==""&&!g.current&&(g.current=!0);const C=()=>{const i=x;i&&(i.bookmark=i.bookmark==="Y"?"N":"Y"),console.log("onBookmark.memoDetailData.bookmark=",i.bookmark),console.log("onBookmark.rootDb=",o);const b=o==="memo"?`memo_tree/${m.uid}/${j.current}/bm`:`home_txt/${j.current}/bookmark`;R(b,x.bookmark),l({...x,bookmark:i.bookmark})};u.useEffect(()=>{m!==void 0&&m!=null&&$.refetch()},[m]),u.useEffect(()=>{const i=async P=>{if(P!==""&&m){const L=await gt(o,m?.uid,P,s.current);o==="memo"&&(L.path=Lt($.data,P)),L.code==="404"&&(L.title="No title"),p.current=!1,l(L===void 0?{}:L)}},b=d.pathname.split("/"),T=b.length>2?b[b.length-1]:"";p.current=!0,i(T),j.current=T},[d.pathname,m,w.current]),u.useEffect(()=>{m!==void 0&&m!=null&&$.refetch()},[w.current]);const f=i=>{g.current=!1,i!==void 0&&(s.current=i),$.refetch()},c=i=>{i.id!==j.current&&(p.current=!0,t(`/${o==="memo"?"m":o}/${i.id}`))},k=()=>{if(m==null){alert("로그인 후 이용 가능합니다.");return}const i=`/${o==="memo"?"m":o}/insert/insert`;t(i)},r=i=>{},v=e.jsxs("div",{className:"w-[270px]",children:[e.jsx("div",{className:"mt-3 flex items-center justify-center",children:e.jsx(Ze,{to:o==="memo"?"/m":"/home",children:o==="memo"?"메모장":"홈관리"})}),e.jsxs("div",{className:"flex gap-7 justify-center",children:[o==="memo"?"":e.jsx(X,{to:"/m",children:"메모"}),o==="memo"&&m?.uid===Ne?e.jsx(X,{to:"/home",children:"홈관리"}):null,e.jsx(X,{to:"/todo",children:"TODO"}),e.jsx(X,{to:"/tw",children:"Sheet"})]}),m!==null&&e.jsx(St,{onNewMemoBtn:k,onSearchDataBtn:f}),g.current&&$.isFetched?e.jsx($t,{expandIndex:y.current,initTreeData:$.data,userId:m?.uid,memoId:j.current,onClick:c}):m===null?e.jsx(e.Fragment,{}):e.jsx(U,{})]});return e.jsxs(Ke,{sideType:"memo",title:o==="memo"?"메모장":"홈페이지관리",sideContents:v,children:[e.jsx(u.Suspense,{fallback:e.jsx(U,{}),children:e.jsxs(Ve,{children:[e.jsx(K,{path:"/edit/:memoId",element:e.jsx(je,{rootDb:o,isLoading:p.current,searchWord:s.current,memoDetailData:x})}),e.jsx(K,{path:"/insert/:memoId",element:e.jsx(je,{rootDb:o,isLoading:p.current,searchWord:s.current,memoDetailData:x})}),e.jsx(K,{path:"/util/:memoId",element:e.jsx(Ct,{rootDb:o,isLoading:p.current,searchWord:s.current,memoDetailData:x})}),e.jsx(K,{path:"/:memoId",element:e.jsx(jt,{rootDb:o,isLoading:p.current,searchWord:s.current,memoDetailData:x,onTreeUpdate:f,onBookmark:C,data:$.data})}),e.jsx(K,{path:"*",element:e.jsx(Dt,{searchWord:s.current,data:$.data,onNewMemoBtn:k,title:o==="memo"?"메모장 홈":"홈페이지관리 홈"})})]})}),o==="memo"?e.jsx(pt,{onSelected:r}):"",e.jsx(Qe,{})]})},Lt=(o,t)=>{let m=[],s=t;if(!o)return m;const p=o.find(y=>y.id===s);for(m.unshift(p),s=p?.parent;s!=null&&s!==""&&s!=="root";){const y=o.find(j=>j.id===s);s=y?.parent,m.unshift(y)}return m};export{Bs as default};
