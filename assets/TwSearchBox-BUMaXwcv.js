import{bg as h,bm as b,bn as p,bo as j,bp as y,r as w,j as r,G as S}from"./index-CCcUv6gy.js";import{T as N}from"./TwBadge-CIWgNE8x.js";const P=({state:o,gubun:a="tw"})=>{const[g,c]=h(a==="tw"?b:p),[n,i]=h(a==="tw"?j:y);return w.useEffect(()=>{o?.s&&n!==o.s&&(c(l=>({...l,[o.s]:(l[o.s]||0)+1})),i(o.s))},[o]),r.jsx(W,{title:"search list",className:"mt-1",gubun:a})},W=({title:o,children:a,className:g="",gubun:c="tw"})=>{const n=S(),[i,l]=h(c==="tw"?b:p),[m,d]=w.useState(null),f=Object.keys(i),u=(e,s)=>{e.preventDefault(),e.stopPropagation(),x(s)},k=(e,s)=>{e.preventDefault(),e.stopPropagation(),d(m===s?null:s)},x=e=>{const s=c==="tw"?"/tw/search":`/${c}/search`;n(s,{state:{s:e}}),d(null)},v=e=>{l(s=>{const t={...s};return delete t[e],t}),d(null)};return r.jsxs("div",{className:`rounded-sm border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-visible w-full ${g} mb-3`,onClick:e=>d(null),children:[r.jsx("div",{className:"flex flex-col px-4 py-2",children:r.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:o})}),r.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-9 gap-2 p-2 sm:p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 overflow-visible",children:[f.map((e,s)=>r.jsxs("div",{className:"relative",children:[r.jsx(N,{className:"cursor-pointer",variant:"light",size:"md",color:"brand",onClick:t=>u(t,e),onContextMenu:t=>k(t,e),children:e}),m===e&&r.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 min-w-20",children:[r.jsx("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg",onClick:t=>{t.stopPropagation(),x(e)},children:"조회"}),r.jsx("button",{className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg",onClick:t=>{t.stopPropagation(),v(e)},children:"삭제"})]})]},s)),r.jsx("div",{children:a})]})]})};export{P as T};
