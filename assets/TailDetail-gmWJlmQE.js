import{p,y as T,w as S,q as $,co as j,z as v,r as n,t as y,j as s,H as E,S as L}from"./index-DH06hNFJ.js";import{c as C}from"./CodeText-EDeDNbTO.js";import{C as H}from"./ComponentCard-C80v5Cp_.js";import{u as I,a as D}from"./use-spring-DBoqKURY.js";const W=F=>{const{title:o,text:a,image:u,setFireId:c}=p(),d=T().state;console.log("TailDetail.state:",d);const{scrollYProgress:f}=I();D(f,{stiffness:100,damping:30,restDelta:.001});const{memoId:e}=S(),{user:t}=$(),[l]=j(),i=l.get("s"),m=l.get("g");console.log("TailDetail.memoId:",e,", searchWord:",i);const{settings:g,saveSettings:x}=v();n.useEffect(()=>{if(o.current!==void 0){const r=document.querySelector("title");r.innerHTML=`${y.templateName} :: ${o.current}`}},[o.current]),n.useEffect(()=>{console.log("useEffect.user=",t),x({...g,nodeId:e}),m==="h"?c(`home_txt/${e}`,`home/${e}`,i):t!=null&&e!==void 0&&c(`memo_txt/${t.uid}/${e}`,`memo/${t.uid}/${e}`,i)},[e,t]);function h(){document.querySelectorAll("pre").forEach(r=>{r.innerHTML=C(r.innerHTML)})}return n.useEffect(()=>{a!==null&&h()},[a]),e===void 0||e===""||m!=="h"&&t===void 0?s.jsx(s.Fragment,{}):s.jsx(H,{title:o.current,children:s.jsxs("div",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:[s.jsx(E,{show:!0,text:a}),s.jsx(L,{imageList:u,show:!0})]})})};export{W as default};
