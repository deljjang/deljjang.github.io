import{p as h,y as p,w as T,q as S,co as $,z as j,r as n,t as v,j as s,H as y,S as E}from"./index-BYAZQ8R2.js";import{c as L}from"./CodeText-Bu7hV44O.js";import{C}from"./ComponentCard-Sf8eDHB_.js";import{u as H,a as I}from"./use-spring-BXU7z2xx.js";const N=F=>{const{title:r,text:a,image:u,setFireId:c}=h();p().state;const{scrollYProgress:d}=H();I(d,{stiffness:100,damping:30,restDelta:.001});const{memoId:e}=T(),{user:t}=S(),[m]=$(),i=m.get("s"),l=m.get("g");console.log("TailDetail.memoId:",e,", searchWord:",i);const{settings:f,saveSettings:x}=j();n.useEffect(()=>{if(r.current!==void 0){const o=document.querySelector("title");o.innerHTML=`${v.templateName} :: ${r.current}`}},[r.current]),n.useEffect(()=>{console.log("useEffect.user=",t),x({...f,nodeId:e}),l==="h"?c(`home_txt/${e}`,`home/${e}`,i):t!=null&&e!==void 0&&c(`memo_txt/${t.uid}/${e}`,`memo/${t.uid}/${e}`,i)},[e,t]);function g(){document.querySelectorAll("pre").forEach(o=>{o.innerHTML=L(o.innerHTML)})}return n.useEffect(()=>{a!==null&&g()},[a]),e===void 0||e===""||l!=="h"&&t===void 0?s.jsx(s.Fragment,{}):s.jsx(C,{title:r.current,children:s.jsxs("div",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:[s.jsx(y,{show:!0,text:a}),s.jsx(E,{imageList:u,show:!0})]})})};export{N as default};
