import{b as g,a5 as wn,a6 as he,a7 as Rg,a8 as S,j as b,a2 as Te,a9 as Ae,aa as Ge,ab as aw,k as Jn,ac as cw,ad,ae as Wn,af as vn,ag as uw,ah as dw,ai as So,aj as cd,ak as xg,al as qe,am as dt,an as Ki,ao as Pt,ap as hw,aq as Xe,P as qo,ar as Yo,a3 as cn,as as un,at as ud,au as Pg,av as os,aw as oc,Y as wr,ax as Fg,ay as Mi,az as gw,aA as pw,aB as Ii,aC as fw,U as Bo,aD as mw,B as Cw,aE as Tt,aF as Mt,aG as Eg,aH as ww,aI as vw,D as bw,aJ as Sw,K as yw,aK as Dg,aL as Rw,aM as Kl,aN as xw,R as se,aO as Pw,a4 as Fw,m as Ew}from"./index-BxpGGms0.js";import{d as ye,T as vr,a as xs,c as bt,b as Ps,t as dd}from"./TableRow-apeKEtp1.js";import{T as Fs}from"./TableHead-D2-_RORw.js";import{C as Dw}from"./Collapse-DgAIuMBV.js";import{K as Mw,a as Iw}from"./KeyboardArrowRight-B5_nH6Oa.js";import{A as Tw,f as Gs,i as qn,o as hd,b as ma,I as Yc,S as Mg,c as kw,F as Aw,T as Lw}from"./TextField-Cdf-kHI0.js";import{D as Ow}from"./datetime-BDx6lZXm.js";import{u as Gw,S as Ig}from"./useStore-DOzdPAmc.js";import{P as $}from"./index-K0Ib1yk7.js";import{t as Jr}from"./toPropertyKey-DCwh5dYN.js";import{P as Es}from"./Popper-DeOXjmwS.js";import{C as Tg}from"./Chip-DM0X4Sp1.js";import{I as Hw}from"./InputAdornment-CYYZRNb1.js";import{B as Vw}from"./Button-DVowsEE8.js";import{S as Bw,F as Nw,C as zw}from"./FormControlLabel-BIy-BlKQ.js";import{C as rn}from"./CardHeader-CFA8bNgk.js";import{H as gd,r as Ww}from"./registry-Eyi3dtFS.js";import{G as bo}from"./Grid-D6vJG72p.js";import{C as Yn}from"./Card-RKcuHB6D.js";import"./AniButton-BGEvcXWV.js";function _w(e,t){return()=>null}const Qc=e=>{const t=g.useRef({});return g.useEffect(()=>{t.current=e}),t.current},$w=["className"],Uw=e=>{const{alignItems:t,classes:o}=e;return Ge({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},aw,o)},jw=Te("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>S({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Ys=g.forwardRef(function(t,o){const n=wn({props:t,name:"MuiListItemIcon"}),{className:s}=n,r=he(n,$w),i=g.useContext(Rg),l=S({},n,{alignItems:i.alignItems}),a=Uw(l);return b.jsx(jw,S({className:Ae(a.root,s),ownerState:l,ref:o},r))}),Kw=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],qw=e=>{const{classes:t,inset:o,primary:n,secondary:s,dense:r}=e;return Ge({root:["root",o&&"inset",r&&"dense",n&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},cw,t)},Yw=Te("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ad.primary}`]:t.primary},{[`& .${ad.secondary}`]:t.secondary},t.root,o.inset&&t.inset,o.primary&&o.secondary&&t.multiline,o.dense&&t.dense]}})(({ownerState:e})=>S({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Qs=g.forwardRef(function(t,o){const n=wn({props:t,name:"MuiListItemText"}),{children:s,className:r,disableTypography:i=!1,inset:l=!1,primary:a,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=n,h=he(n,Kw),{dense:p}=g.useContext(Rg);let f=a??s,m=u;const C=S({},n,{disableTypography:i,inset:l,primary:!!f,secondary:!!m,dense:p}),w=qw(C);return f!=null&&f.type!==Jn&&!i&&(f=b.jsx(Jn,S({variant:p?"body2":"body1",className:w.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:f}))),m!=null&&m.type!==Jn&&!i&&(m=b.jsx(Jn,S({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},d,{children:m}))),b.jsxs(Yw,S({className:Ae(w.root,r),ownerState:C,ref:o},h,{children:[f,m]}))});function Qw(e){return Wn("MuiSkeleton",e)}vn("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Zw=["animation","className","component","height","style","variant","width"];let cl=e=>e,pd,fd,md,Cd;const Xw=e=>{const{classes:t,variant:o,animation:n,hasChildren:s,width:r,height:i}=e;return Ge({root:["root",o,n,s&&"withChildren",s&&!r&&"fitContent",s&&!i&&"heightAuto"]},Qw,t)},Jw=xg(pd||(pd=cl`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),ev=xg(fd||(fd=cl`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),tv=Te("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const o=uw(e.shape.borderRadius)||"px",n=dw(e.shape.borderRadius);return S({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:So(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${o}/${Math.round(n/.6*10)/10}${o}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&cd(md||(md=cl`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Jw),({ownerState:e,theme:t})=>e.animation==="wave"&&cd(Cd||(Cd=cl`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),ev,(t.vars||t).palette.action.hover)),ov=g.forwardRef(function(t,o){const n=wn({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:r,component:i="span",height:l,style:a,variant:c="text",width:u}=n,d=he(n,Zw),h=S({},n,{animation:s,component:i,variant:c,hasChildren:!!d.children}),p=Xw(h);return b.jsx(tv,S({as:i,ref:o,className:Ae(p.root,r),ownerState:h},d,{style:S({width:u,height:l},a)}))}),nv=qe(b.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function wd(e){return typeof e.normalize<"u"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function kg(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:n,matchFrom:s="any",stringify:r,trim:i=!1}=e;return(l,{inputValue:a,getOptionLabel:c})=>{let u=i?a.trim():a;o&&(u=u.toLowerCase()),t&&(u=wd(u));const d=u?l.filter(h=>{let p=(r||c)(h);return o&&(p=p.toLowerCase()),t&&(p=wd(p)),s==="start"?p.indexOf(u)===0:p.indexOf(u)>-1}):l;return typeof n=="number"?d.slice(0,n):d}}function Ti(e,t){for(let o=0;o<e.length;o+=1)if(t(e[o]))return o;return-1}const sv=kg(),vd=5,rv=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},iv=[];function lv(e){const{unstable_isActiveElementInListbox:t=rv,unstable_classNamePrefix:o="Mui",autoComplete:n=!1,autoHighlight:s=!1,autoSelect:r=!1,blurOnSelect:i=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:a=!1,componentName:c="useAutocomplete",defaultValue:u=e.multiple?iv:null,disableClearable:d=!1,disableCloseOnSelect:h=!1,disabled:p,disabledItemsFocusable:f=!1,disableListWrap:m=!1,filterOptions:C=sv,filterSelectedOptions:w=!1,freeSolo:v=!1,getOptionDisabled:y,getOptionKey:D,getOptionLabel:A=Q=>{var _;return(_=Q.label)!=null?_:Q},groupBy:R,handleHomeEndKeys:M=!e.freeSolo,id:E,includeInputInList:V=!1,inputValue:I,isOptionEqualToValue:P=(Q,_)=>Q===_,multiple:L=!1,onChange:T,onClose:F,onHighlightChange:x,onInputChange:O,onOpen:H,open:k,openOnFocus:G=!1,options:B,readOnly:W=!1,selectOnFocus:z=!e.freeSolo,value:j}=e,q=dt(E);let X=A;X=Q=>{const _=A(Q);return typeof _!="string"?String(_):_};const me=g.useRef(!1),ge=g.useRef(!0),Ce=g.useRef(null),re=g.useRef(null),[we,pe]=g.useState(null),[be,ne]=g.useState(-1),te=s?0:-1,J=g.useRef(te),[Y,ue]=Ki({controlled:j,default:u,name:c}),[Z,Se]=Ki({controlled:I,default:"",name:c,state:"inputValue"}),[Pe,Ve]=g.useState(!1),de=g.useCallback((Q,_)=>{if(!(L?Y.length<_.length:_!==null)&&!l)return;let Me;if(L)Me="";else if(_==null)Me="";else{const Ne=X(_);Me=typeof Ne=="string"?Ne:""}Z!==Me&&(Se(Me),O&&O(Q,Me,"reset"))},[X,Z,L,O,Se,l,Y]),[oe,ce]=Ki({controlled:k,default:!1,name:c,state:"open"}),[ve,Le]=g.useState(!0),je=!L&&Y!=null&&Z===X(Y),ke=oe&&!W,Ie=ke?C(B.filter(Q=>!(w&&(L?Y:[Y]).some(_=>_!==null&&P(Q,_)))),{inputValue:je&&ve?"":Z,getOptionLabel:X}):[],Ye=Qc({filteredOptions:Ie,value:Y,inputValue:Z});g.useEffect(()=>{const Q=Y!==Ye.value;Pe&&!Q||v&&!Q||de(null,Y)},[Y,de,Pe,Ye.value,v]);const _t=oe&&Ie.length>0&&!W,tt=Pt(Q=>{Q===-1?Ce.current.focus():we.querySelector(`[data-tag-index="${Q}"]`).focus()});g.useEffect(()=>{L&&be>Y.length-1&&(ne(-1),tt(-1))},[Y,L,be,tt]);function ot(Q,_){if(!re.current||Q<0||Q>=Ie.length)return-1;let ae=Q;for(;;){const Me=re.current.querySelector(`[data-option-index="${ae}"]`),Ne=f?!1:!Me||Me.disabled||Me.getAttribute("aria-disabled")==="true";if(Me&&Me.hasAttribute("tabindex")&&!Ne)return ae;if(_==="next"?ae=(ae+1)%Ie.length:ae=(ae-1+Ie.length)%Ie.length,ae===Q)return-1}}const pt=Pt(({event:Q,index:_,reason:ae="auto"})=>{if(J.current=_,_===-1?Ce.current.removeAttribute("aria-activedescendant"):Ce.current.setAttribute("aria-activedescendant",`${q}-option-${_}`),x&&x(Q,_===-1?null:Ie[_],ae),!re.current)return;const Me=re.current.querySelector(`[role="option"].${o}-focused`);Me&&(Me.classList.remove(`${o}-focused`),Me.classList.remove(`${o}-focusVisible`));let Ne=re.current;if(re.current.getAttribute("role")!=="listbox"&&(Ne=re.current.parentElement.querySelector('[role="listbox"]')),!Ne)return;if(_===-1){Ne.scrollTop=0;return}const Ee=re.current.querySelector(`[data-option-index="${_}"]`);if(Ee&&(Ee.classList.add(`${o}-focused`),ae==="keyboard"&&Ee.classList.add(`${o}-focusVisible`),Ne.scrollHeight>Ne.clientHeight&&ae!=="mouse"&&ae!=="touch")){const $e=Ee,To=Ne.clientHeight+Ne.scrollTop,ld=$e.offsetTop+$e.offsetHeight;ld>To?Ne.scrollTop=ld-Ne.clientHeight:$e.offsetTop-$e.offsetHeight*(R?1.3:0)<Ne.scrollTop&&(Ne.scrollTop=$e.offsetTop-$e.offsetHeight*(R?1.3:0))}}),ut=Pt(({event:Q,diff:_,direction:ae="next",reason:Me="auto"})=>{if(!ke)return;const Ee=ot((()=>{const $e=Ie.length-1;if(_==="reset")return te;if(_==="start")return 0;if(_==="end")return $e;const To=J.current+_;return To<0?To===-1&&V?-1:m&&J.current!==-1||Math.abs(_)>1?0:$e:To>$e?To===$e+1&&V?-1:m||Math.abs(_)>1?$e:0:To})(),ae);if(pt({index:Ee,reason:Me,event:Q}),n&&_!=="reset")if(Ee===-1)Ce.current.value=Z;else{const $e=X(Ie[Ee]);Ce.current.value=$e,$e.toLowerCase().indexOf(Z.toLowerCase())===0&&Z.length>0&&Ce.current.setSelectionRange(Z.length,$e.length)}}),Ht=()=>{const Q=(_,ae)=>{const Me=_?X(_):"",Ne=ae?X(ae):"";return Me===Ne};if(J.current!==-1&&Ye.filteredOptions&&Ye.filteredOptions.length!==Ie.length&&Ye.inputValue===Z&&(L?Y.length===Ye.value.length&&Ye.value.every((_,ae)=>X(Y[ae])===X(_)):Q(Ye.value,Y))){const _=Ye.filteredOptions[J.current];if(_)return Ti(Ie,ae=>X(ae)===X(_))}return-1},so=g.useCallback(()=>{if(!ke)return;const Q=Ht();if(Q!==-1){J.current=Q;return}const _=L?Y[0]:Y;if(Ie.length===0||_==null){ut({diff:"reset"});return}if(re.current){if(_!=null){const ae=Ie[J.current];if(L&&ae&&Ti(Y,Ne=>P(ae,Ne))!==-1)return;const Me=Ti(Ie,Ne=>P(Ne,_));Me===-1?ut({diff:"reset"}):pt({index:Me});return}if(J.current>=Ie.length-1){pt({index:Ie.length-1});return}pt({index:J.current})}},[Ie.length,L?!1:Y,w,ut,pt,ke,Z,L]),wo=Pt(Q=>{hw(re,Q),Q&&so()});g.useEffect(()=>{so()},[so]);const Ft=Q=>{oe||(ce(!0),Le(!0),H&&H(Q))},$t=(Q,_)=>{oe&&(ce(!1),F&&F(Q,_))},Qe=(Q,_,ae,Me)=>{if(L){if(Y.length===_.length&&Y.every((Ne,Ee)=>Ne===_[Ee]))return}else if(Y===_)return;T&&T(Q,_,ae,Me),ue(_)},Ze=g.useRef(!1),Qt=(Q,_,ae="selectOption",Me="options")=>{let Ne=ae,Ee=_;if(L){Ee=Array.isArray(Y)?Y.slice():[];const $e=Ti(Ee,To=>P(_,To));$e===-1?Ee.push(_):Me!=="freeSolo"&&(Ee.splice($e,1),Ne="removeOption")}de(Q,Ee),Qe(Q,Ee,Ne,{option:_}),!h&&(!Q||!Q.ctrlKey&&!Q.metaKey)&&$t(Q,Ne),(i===!0||i==="touch"&&Ze.current||i==="mouse"&&!Ze.current)&&Ce.current.blur()};function Xo(Q,_){if(Q===-1)return-1;let ae=Q;for(;;){if(_==="next"&&ae===Y.length||_==="previous"&&ae===-1)return-1;const Me=we.querySelector(`[data-tag-index="${ae}"]`);if(!Me||!Me.hasAttribute("tabindex")||Me.disabled||Me.getAttribute("aria-disabled")==="true")ae+=_==="next"?1:-1;else return ae}}const Jo=(Q,_)=>{if(!L)return;Z===""&&$t(Q,"toggleInput");let ae=be;be===-1?Z===""&&_==="previous"&&(ae=Y.length-1):(ae+=_==="next"?1:-1,ae<0&&(ae=0),ae===Y.length&&(ae=-1)),ae=Xo(ae,_),ne(ae),tt(ae)},yn=Q=>{me.current=!0,Se(""),O&&O(Q,"","clear"),Qe(Q,L?[]:null,"clear")},en=Q=>_=>{if(Q.onKeyDown&&Q.onKeyDown(_),!_.defaultMuiPrevented&&(be!==-1&&["ArrowLeft","ArrowRight"].indexOf(_.key)===-1&&(ne(-1),tt(-1)),_.which!==229))switch(_.key){case"Home":ke&&M&&(_.preventDefault(),ut({diff:"start",direction:"next",reason:"keyboard",event:_}));break;case"End":ke&&M&&(_.preventDefault(),ut({diff:"end",direction:"previous",reason:"keyboard",event:_}));break;case"PageUp":_.preventDefault(),ut({diff:-vd,direction:"previous",reason:"keyboard",event:_}),Ft(_);break;case"PageDown":_.preventDefault(),ut({diff:vd,direction:"next",reason:"keyboard",event:_}),Ft(_);break;case"ArrowDown":_.preventDefault(),ut({diff:1,direction:"next",reason:"keyboard",event:_}),Ft(_);break;case"ArrowUp":_.preventDefault(),ut({diff:-1,direction:"previous",reason:"keyboard",event:_}),Ft(_);break;case"ArrowLeft":Jo(_,"previous");break;case"ArrowRight":Jo(_,"next");break;case"Enter":if(J.current!==-1&&ke){const ae=Ie[J.current],Me=y?y(ae):!1;if(_.preventDefault(),Me)return;Qt(_,ae,"selectOption"),n&&Ce.current.setSelectionRange(Ce.current.value.length,Ce.current.value.length)}else v&&Z!==""&&je===!1&&(L&&_.preventDefault(),Qt(_,Z,"createOption","freeSolo"));break;case"Escape":ke?(_.preventDefault(),_.stopPropagation(),$t(_,"escape")):a&&(Z!==""||L&&Y.length>0)&&(_.preventDefault(),_.stopPropagation(),yn(_));break;case"Backspace":if(L&&!W&&Z===""&&Y.length>0){const ae=be===-1?Y.length-1:be,Me=Y.slice();Me.splice(ae,1),Qe(_,Me,"removeOption",{option:Y[ae]})}break;case"Delete":if(L&&!W&&Z===""&&Y.length>0&&be!==-1){const ae=be,Me=Y.slice();Me.splice(ae,1),Qe(_,Me,"removeOption",{option:Y[ae]})}break}},Kn=Q=>{Ve(!0),G&&!me.current&&Ft(Q)},Zt=Q=>{if(t(re)){Ce.current.focus();return}Ve(!1),ge.current=!0,me.current=!1,r&&J.current!==-1&&ke?Qt(Q,Ie[J.current],"blur"):r&&v&&Z!==""?Qt(Q,Z,"blur","freeSolo"):l&&de(Q,Y),$t(Q,"blur")},wt=Q=>{const _=Q.target.value;Z!==_&&(Se(_),Le(!1),O&&O(Q,_,"input")),_===""?!d&&!L&&Qe(Q,null,"clear"):Ft(Q)},st=Q=>{const _=Number(Q.currentTarget.getAttribute("data-option-index"));J.current!==_&&pt({event:Q,index:_,reason:"mouse"})},St=Q=>{pt({event:Q,index:Number(Q.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ze.current=!0},At=Q=>{const _=Number(Q.currentTarget.getAttribute("data-option-index"));Qt(Q,Ie[_],"selectOption"),Ze.current=!1},vo=Q=>_=>{const ae=Y.slice();ae.splice(Q,1),Qe(_,ae,"removeOption",{option:Y[Q]})},tn=Q=>{oe?$t(Q,"toggleInput"):Ft(Q)},ro=Q=>{Q.currentTarget.contains(Q.target)&&Q.target.getAttribute("id")!==q&&Q.preventDefault()},Rn=Q=>{Q.currentTarget.contains(Q.target)&&(Ce.current.focus(),z&&ge.current&&Ce.current.selectionEnd-Ce.current.selectionStart===0&&Ce.current.select(),ge.current=!1)},xn=Q=>{!p&&(Z===""||!oe)&&tn(Q)};let Io=v&&Z.length>0;Io=Io||(L?Y.length>0:Y!==null);let on=Ie;return R&&(on=Ie.reduce((Q,_,ae)=>{const Me=R(_);return Q.length>0&&Q[Q.length-1].group===Me?Q[Q.length-1].options.push(_):Q.push({key:ae,index:ae,group:Me,options:[_]}),Q},[])),p&&Pe&&Zt(),{getRootProps:(Q={})=>S({"aria-owns":_t?`${q}-listbox`:null},Q,{onKeyDown:en(Q),onMouseDown:ro,onClick:Rn}),getInputLabelProps:()=>({id:`${q}-label`,htmlFor:q}),getInputProps:()=>({id:q,value:Z,onBlur:Zt,onFocus:Kn,onChange:wt,onMouseDown:xn,"aria-activedescendant":ke?"":null,"aria-autocomplete":n?"both":"list","aria-controls":_t?`${q}-listbox`:void 0,"aria-expanded":_t,autoComplete:"off",ref:Ce,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:yn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:tn}),getTagProps:({index:Q})=>S({key:Q,"data-tag-index":Q,tabIndex:-1},!W&&{onDelete:vo(Q)}),getListboxProps:()=>({role:"listbox",id:`${q}-listbox`,"aria-labelledby":`${q}-label`,ref:wo,onMouseDown:Q=>{Q.preventDefault()}}),getOptionProps:({index:Q,option:_})=>{var ae;const Me=(L?Y:[Y]).some(Ee=>Ee!=null&&P(_,Ee)),Ne=y?y(_):!1;return{key:(ae=D?.(_))!=null?ae:X(_),tabIndex:-1,role:"option",id:`${q}-option-${Q}`,onMouseMove:st,onClick:At,onTouchStart:St,"data-option-index":Q,"aria-disabled":Ne,"aria-selected":Me}},id:q,inputValue:Z,value:Y,dirty:Io,expanded:ke&&we,popupOpen:ke,focused:Pe||be!==-1,anchorEl:we,setAnchorEl:pe,focusedTag:be,groupedOptions:on}}function av(e){return Wn("MuiListSubheader",e)}vn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const cv=["className","color","component","disableGutters","disableSticky","inset"],uv=e=>{const{classes:t,color:o,disableGutters:n,inset:s,disableSticky:r}=e,i={root:["root",o!=="default"&&`color${Xe(o)}`,!n&&"gutters",s&&"inset",!r&&"sticky"]};return Ge(i,av,t)},dv=Te("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${Xe(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>S({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),Ag=g.forwardRef(function(t,o){const n=wn({props:t,name:"MuiListSubheader"}),{className:s,color:r="default",component:i="li",disableGutters:l=!1,disableSticky:a=!1,inset:c=!1}=n,u=he(n,cv),d=S({},n,{color:r,component:i,disableGutters:l,disableSticky:a,inset:c}),h=uv(d);return b.jsx(dv,S({as:i,className:Ae(h.root,s),ref:o,ownerState:d},u))});Ag.muiSkipListHighlight=!0;function hv(e){return Wn("MuiAutocomplete",e)}const ze=vn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var bd,Sd;const gv=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],pv=["ref"],fv=["key"],mv=["key"],Cv=e=>{const{classes:t,disablePortal:o,expanded:n,focused:s,fullWidth:r,hasClearIcon:i,hasPopupIcon:l,inputFocused:a,popupOpen:c,size:u}=e,d={root:["root",n&&"expanded",s&&"focused",r&&"fullWidth",i&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",a&&"inputFocused"],tag:["tag",`tagSize${Xe(u)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",c&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Ge(d,hv,t)},wv=Te("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:n,hasClearIcon:s,hasPopupIcon:r,inputFocused:i,size:l}=o;return[{[`& .${ze.tag}`]:t.tag},{[`& .${ze.tag}`]:t[`tagSize${Xe(l)}`]},{[`& .${ze.inputRoot}`]:t.inputRoot},{[`& .${ze.input}`]:t.input},{[`& .${ze.input}`]:i&&t.inputFocused},t.root,n&&t.fullWidth,r&&t.hasPopupIcon,s&&t.hasClearIcon]}})({[`&.${ze.focused} .${ze.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ze.clearIndicator}`]:{visibility:"visible"}},[`& .${ze.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ze.inputRoot}`]:{[`.${ze.hasPopupIcon}&, .${ze.hasClearIcon}&`]:{paddingRight:30},[`.${ze.hasPopupIcon}.${ze.hasClearIcon}&`]:{paddingRight:56},[`& .${ze.input}`]:{width:0,minWidth:30}},[`& .${ma.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${ma.root}.${qn.sizeSmall}`]:{[`& .${ma.input}`]:{padding:"2px 4px 3px 0"}},[`& .${hd.root}`]:{padding:9,[`.${ze.hasPopupIcon}&, .${ze.hasClearIcon}&`]:{paddingRight:39},[`.${ze.hasPopupIcon}.${ze.hasClearIcon}&`]:{paddingRight:65},[`& .${ze.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ze.endAdornment}`]:{right:9}},[`& .${hd.root}.${qn.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ze.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Gs.root}`]:{paddingTop:19,paddingLeft:8,[`.${ze.hasPopupIcon}&, .${ze.hasClearIcon}&`]:{paddingRight:39},[`.${ze.hasPopupIcon}.${ze.hasClearIcon}&`]:{paddingRight:65},[`& .${Gs.input}`]:{padding:"7px 4px"},[`& .${ze.endAdornment}`]:{right:9}},[`& .${Gs.root}.${qn.sizeSmall}`]:{paddingBottom:1,[`& .${Gs.input}`]:{padding:"2.5px 4px"}},[`& .${qn.hiddenLabel}`]:{paddingTop:8},[`& .${Gs.root}.${qn.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ze.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Gs.root}.${qn.hiddenLabel}.${qn.sizeSmall}`]:{[`& .${ze.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ze.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ze.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ze.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ze.inputRoot}`]:{flexWrap:"wrap"}}}]}),vv=Te("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),bv=Te(cn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Sv=Te(cn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>S({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),yv=Te(Es,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ze.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),Rv=Te(qo,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>S({},e.typography.body1,{overflow:"auto"})),xv=Te("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Pv=Te("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),Fv=Te("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ze.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ze.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ze.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:un.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ze.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:un.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ze.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:un.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),Ev=Te(Ag,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),Dv=Te("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${ze.option}`]:{paddingLeft:24}}),Lg=g.forwardRef(function(t,o){var n,s,r,i;const l=wn({props:t,name:"MuiAutocomplete"}),{autoComplete:a=!1,autoHighlight:c=!1,autoSelect:u=!1,blurOnSelect:d=!1,ChipProps:h,className:p,clearIcon:f=bd||(bd=b.jsx(nv,{fontSize:"small"})),clearOnBlur:m=!l.freeSolo,clearOnEscape:C=!1,clearText:w="Clear",closeText:v="Close",componentsProps:y={},defaultValue:D=l.multiple?[]:null,disableClearable:A=!1,disableCloseOnSelect:R=!1,disabled:M=!1,disabledItemsFocusable:E=!1,disableListWrap:V=!1,disablePortal:I=!1,filterSelectedOptions:P=!1,forcePopupIcon:L="auto",freeSolo:T=!1,fullWidth:F=!1,getLimitTagsText:x=_=>`+${_}`,getOptionLabel:O,groupBy:H,handleHomeEndKeys:k=!l.freeSolo,includeInputInList:G=!1,limitTags:B=-1,ListboxComponent:W="ul",ListboxProps:z,loading:j=!1,loadingText:q="Loadingâ€¦",multiple:X=!1,noOptionsText:me="No options",openOnFocus:ge=!1,openText:Ce="Open",PaperComponent:re=qo,PopperComponent:we=Es,popupIcon:pe=Sd||(Sd=b.jsx(Tw,{})),readOnly:be=!1,renderGroup:ne,renderInput:te,renderOption:J,renderTags:Y,selectOnFocus:ue=!l.freeSolo,size:Z="medium",slotProps:Se={}}=l,Pe=he(l,gv),{getRootProps:Ve,getInputProps:de,getInputLabelProps:oe,getPopupIndicatorProps:ce,getClearProps:ve,getTagProps:Le,getListboxProps:je,getOptionProps:ke,value:Ie,dirty:Ye,expanded:_t,id:tt,popupOpen:ot,focused:pt,focusedTag:ut,anchorEl:Ht,setAnchorEl:so,inputValue:wo,groupedOptions:Ft}=lv(S({},l,{componentName:"Autocomplete"})),$t=!A&&!M&&Ye&&!be,Qe=(!T||L===!0)&&L!==!1,{onMouseDown:Ze}=de(),{ref:Qt}=z??{},Xo=je(),{ref:Jo}=Xo,yn=he(Xo,pv),en=Yo(Jo,Qt),Zt=O||(_=>{var ae;return(ae=_.label)!=null?ae:_}),wt=S({},l,{disablePortal:I,expanded:_t,focused:pt,fullWidth:F,getOptionLabel:Zt,hasClearIcon:$t,hasPopupIcon:Qe,inputFocused:ut===-1,popupOpen:ot,size:Z}),st=Cv(wt);let St;if(X&&Ie.length>0){const _=ae=>S({className:st.tag,disabled:M},Le(ae));Y?St=Y(Ie,_,wt):St=Ie.map((ae,Me)=>{const Ne=_({index:Me}),{key:Ee}=Ne,$e=he(Ne,fv);return b.jsx(Tg,S({label:Zt(ae),size:Z},$e,h),Ee)})}if(B>-1&&Array.isArray(St)){const _=St.length-B;!pt&&_>0&&(St=St.splice(0,B),St.push(b.jsx("span",{className:st.tag,children:x(_)},St.length)))}const vo=ne||(_=>b.jsxs("li",{children:[b.jsx(Ev,{className:st.groupLabel,ownerState:wt,component:"div",children:_.group}),b.jsx(Dv,{className:st.groupUl,ownerState:wt,children:_.children})]},_.key)),ro=J||((_,ae)=>{const{key:Me}=_,Ne=he(_,mv);return b.jsx("li",S({},Ne,{children:Zt(ae)}),Me)}),Rn=(_,ae)=>{const Me=ke({option:_,index:ae});return ro(S({},Me,{className:st.option}),_,{selected:Me["aria-selected"],index:ae,inputValue:wo},wt)},xn=(n=Se.clearIndicator)!=null?n:y.clearIndicator,Io=(s=Se.paper)!=null?s:y.paper,on=(r=Se.popper)!=null?r:y.popper,Q=(i=Se.popupIndicator)!=null?i:y.popupIndicator;return b.jsxs(g.Fragment,{children:[b.jsx(wv,S({ref:o,className:Ae(st.root,p),ownerState:wt},Ve(Pe),{children:te({id:tt,disabled:M,fullWidth:!0,size:Z==="small"?"small":void 0,InputLabelProps:oe(),InputProps:S({ref:so,className:st.inputRoot,startAdornment:St,onClick:_=>{_.target===_.currentTarget&&Ze(_)}},($t||Qe)&&{endAdornment:b.jsxs(vv,{className:st.endAdornment,ownerState:wt,children:[$t?b.jsx(bv,S({},ve(),{"aria-label":w,title:w,ownerState:wt},xn,{className:Ae(st.clearIndicator,xn?.className),children:f})):null,Qe?b.jsx(Sv,S({},ce(),{disabled:M,"aria-label":ot?v:Ce,title:ot?v:Ce,ownerState:wt},Q,{className:Ae(st.popupIndicator,Q?.className),children:pe})):null]})}),inputProps:S({className:st.input,disabled:M,readOnly:be},de())})})),Ht?b.jsx(yv,S({as:we,disablePortal:I,style:{width:Ht?Ht.clientWidth:null},ownerState:wt,role:"presentation",anchorEl:Ht,open:ot},on,{className:Ae(st.popper,on?.className),children:b.jsxs(Rv,S({ownerState:wt,as:re},Io,{className:Ae(st.paper,Io?.className),children:[j&&Ft.length===0?b.jsx(xv,{className:st.loading,ownerState:wt,children:q}):null,Ft.length===0&&!T&&!j?b.jsx(Pv,{className:st.noOptions,ownerState:wt,role:"presentation",onMouseDown:_=>{_.preventDefault()},children:me}):null,Ft.length>0?b.jsx(Fv,S({as:W,className:st.listbox,ownerState:wt},yn,z,{ref:en,children:Ft.map((_,ae)=>H?vo({key:_.key,group:_.group,children:_.options.map((Me,Ne)=>Rn(Me,_.index+Ne))}):Rn(_,ae))})):null]}))})):null]})});function Mv(e){const{badgeContent:t,invisible:o=!1,max:n=99,showZero:s=!1}=e,r=Qc({badgeContent:t,max:n});let i=o;o===!1&&t===0&&!s&&(i=!0);const{badgeContent:l,max:a=n}=i?r:e,c=l&&Number(l)>a?`${a}+`:l;return{badgeContent:l,invisible:i,max:a,displayValue:c}}function Iv(e){return Wn("MuiBadge",e)}const Pn=vn("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Tv=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Ca=10,wa=4,kv=e=>{const{color:t,anchorOrigin:o,invisible:n,overlap:s,variant:r,classes:i={}}=e,l={root:["root"],badge:["badge",r,n&&"invisible",`anchorOrigin${Xe(o.vertical)}${Xe(o.horizontal)}`,`anchorOrigin${Xe(o.vertical)}${Xe(o.horizontal)}${Xe(s)}`,`overlap${Xe(s)}`,t!=="default"&&`color${Xe(t)}`]};return Ge(l,Iv,i)},Av=Te("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Lv=Te("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.badge,t[o.variant],t[`anchorOrigin${Xe(o.anchorOrigin.vertical)}${Xe(o.anchorOrigin.horizontal)}${Xe(o.overlap)}`],o.color!=="default"&&t[`color${Xe(o.color)}`],o.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:Ca*2,lineHeight:1,padding:"0 6px",height:Ca*2,borderRadius:Ca,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(o=>{var n,s;return((n=e.vars)!=null?n:e).palette[o].main&&((s=e.vars)!=null?s:e).palette[o].contrastText}).map(o=>({props:{color:o},style:{backgroundColor:(e.vars||e).palette[o].main,color:(e.vars||e).palette[o].contrastText}})),{props:{variant:"dot"},style:{borderRadius:wa,height:wa*2,minWidth:wa*2,padding:0}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="top"&&o.anchorOrigin.horizontal==="right"&&o.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="bottom"&&o.anchorOrigin.horizontal==="right"&&o.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="top"&&o.anchorOrigin.horizontal==="left"&&o.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="bottom"&&o.anchorOrigin.horizontal==="left"&&o.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="top"&&o.anchorOrigin.horizontal==="right"&&o.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="bottom"&&o.anchorOrigin.horizontal==="right"&&o.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="top"&&o.anchorOrigin.horizontal==="left"&&o.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:o})=>o.anchorOrigin.vertical==="bottom"&&o.anchorOrigin.horizontal==="left"&&o.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Pn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}}),Og=g.forwardRef(function(t,o){var n,s,r,i,l,a;const c=wn({props:t,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:d,component:h,components:p={},componentsProps:f={},children:m,overlap:C="rectangular",color:w="default",invisible:v=!1,max:y=99,badgeContent:D,slots:A,slotProps:R,showZero:M=!1,variant:E="standard"}=c,V=he(c,Tv),{badgeContent:I,invisible:P,max:L,displayValue:T}=Mv({max:y,invisible:v,badgeContent:D,showZero:M}),F=Qc({anchorOrigin:u,color:w,overlap:C,variant:E,badgeContent:D}),x=P||I==null&&E!=="dot",{color:O=w,overlap:H=C,anchorOrigin:k=u,variant:G=E}=x?F:c,B=G!=="dot"?T:void 0,W=S({},c,{badgeContent:I,invisible:x,max:L,displayValue:B,showZero:M,anchorOrigin:k,color:O,overlap:H,variant:G}),z=kv(W),j=(n=(s=A?.root)!=null?s:p.Root)!=null?n:Av,q=(r=(i=A?.badge)!=null?i:p.Badge)!=null?r:Lv,X=(l=R?.root)!=null?l:f.root,me=(a=R?.badge)!=null?a:f.badge,ge=ud({elementType:j,externalSlotProps:X,externalForwardedProps:V,additionalProps:{ref:o,as:h},ownerState:W,className:Ae(X?.className,z.root,d)}),Ce=ud({elementType:q,externalSlotProps:me,ownerState:W,className:Ae(z.badge,me?.className)});return b.jsxs(j,S({},ge,{children:[m,b.jsx(q,S({},Ce,{children:B}))]}))});function yd(e){return e.substring(2).toLowerCase()}function Ov(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Gg(e){const{children:t,disableReactTree:o=!1,mouseEvent:n="onClick",onClickAway:s,touchEvent:r="onTouchEnd"}=e,i=g.useRef(!1),l=g.useRef(null),a=g.useRef(!1),c=g.useRef(!1);g.useEffect(()=>(setTimeout(()=>{a.current=!0},0),()=>{a.current=!1}),[]);const u=Yo(Pg(t),l),d=Pt(f=>{const m=c.current;c.current=!1;const C=os(l.current);if(!a.current||!l.current||"clientX"in f&&Ov(f,C))return;if(i.current){i.current=!1;return}let w;f.composedPath?w=f.composedPath().indexOf(l.current)>-1:w=!C.documentElement.contains(f.target)||l.current.contains(f.target),!w&&(o||!m)&&s(f)}),h=f=>m=>{c.current=!0;const C=t.props[f];C&&C(m)},p={ref:u};return r!==!1&&(p[r]=h(r)),g.useEffect(()=>{if(r!==!1){const f=yd(r),m=os(l.current),C=()=>{i.current=!0};return m.addEventListener(f,d),m.addEventListener("touchmove",C),()=>{m.removeEventListener(f,d),m.removeEventListener("touchmove",C)}}},[d,r]),n!==!1&&(p[n]=h(n)),g.useEffect(()=>{if(n!==!1){const f=yd(n),m=os(l.current);return m.addEventListener(f,d),()=>{m.removeEventListener(f,d)}}},[d,n]),b.jsx(g.Fragment,{children:g.cloneElement(t,p)})}const Gv=qe(b.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Hv=qe(b.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function Vv(e){return Wn("MuiTooltip",e)}const On=vn("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Bv=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Nv(e){return Math.round(e*1e5)/1e5}const zv=e=>{const{classes:t,disableInteractive:o,arrow:n,touch:s,placement:r}=e,i={popper:["popper",!o&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",s&&"touch",`tooltipPlacement${Xe(r.split("-")[0])}`],arrow:["arrow"]};return Ge(i,Vv,t)},Wv=Te(Es,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popper,!o.disableInteractive&&t.popperInteractive,o.arrow&&t.popperArrow,!o.open&&t.popperClose]}})(({theme:e,ownerState:t,open:o})=>S({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${On.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${On.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${On.arrow}`]:S({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${On.arrow}`]:S({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),_v=Te("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.tooltip,o.touch&&t.touch,o.arrow&&t.tooltipArrow,t[`tooltipPlacement${Xe(o.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>S({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:un.alpha(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Nv(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${On.popper}[data-popper-placement*="left"] &`]:S({transformOrigin:"right center"},t.isRtl?S({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):S({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${On.popper}[data-popper-placement*="right"] &`]:S({transformOrigin:"left center"},t.isRtl?S({marginRight:"14px"},t.touch&&{marginRight:"24px"}):S({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${On.popper}[data-popper-placement*="top"] &`]:S({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${On.popper}[data-popper-placement*="bottom"] &`]:S({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),$v=Te("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:un.alpha(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let ki=!1;const Rd=new gw;let Dr={x:0,y:0};function Ai(e,t){return(o,...n)=>{t&&t(o,...n),e(o,...n)}}const Uv=g.forwardRef(function(t,o){var n,s,r,i,l,a,c,u,d,h,p,f,m,C,w,v,y,D,A;const R=wn({props:t,name:"MuiTooltip"}),{arrow:M=!1,children:E,components:V={},componentsProps:I={},describeChild:P=!1,disableFocusListener:L=!1,disableHoverListener:T=!1,disableInteractive:F=!1,disableTouchListener:x=!1,enterDelay:O=100,enterNextDelay:H=0,enterTouchDelay:k=700,followCursor:G=!1,id:B,leaveDelay:W=0,leaveTouchDelay:z=1500,onClose:j,onOpen:q,open:X,placement:me="bottom",PopperComponent:ge,PopperProps:Ce={},slotProps:re={},slots:we={},title:pe,TransitionComponent:be=oc,TransitionProps:ne}=R,te=he(R,Bv),J=g.isValidElement(E)?E:b.jsx("span",{children:E}),Y=wr(),ue=Fg(),[Z,Se]=g.useState(),[Pe,Ve]=g.useState(null),de=g.useRef(!1),oe=F||G,ce=Mi(),ve=Mi(),Le=Mi(),je=Mi(),[ke,Ie]=Ki({controlled:X,default:!1,name:"Tooltip",state:"open"});let Ye=ke;const _t=dt(B),tt=g.useRef(),ot=Pt(()=>{tt.current!==void 0&&(document.body.style.WebkitUserSelect=tt.current,tt.current=void 0),je.clear()});g.useEffect(()=>ot,[ot]);const pt=Ee=>{Rd.clear(),ki=!0,Ie(!0),q&&!Ye&&q(Ee)},ut=Pt(Ee=>{Rd.start(800+W,()=>{ki=!1}),Ie(!1),j&&Ye&&j(Ee),ce.start(Y.transitions.duration.shortest,()=>{de.current=!1})}),Ht=Ee=>{de.current&&Ee.type!=="touchstart"||(Z&&Z.removeAttribute("title"),ve.clear(),Le.clear(),O||ki&&H?ve.start(ki?H:O,()=>{pt(Ee)}):pt(Ee))},so=Ee=>{ve.clear(),Le.start(W,()=>{ut(Ee)})},{isFocusVisibleRef:wo,onBlur:Ft,onFocus:$t,ref:Qe}=pw(),[,Ze]=g.useState(!1),Qt=Ee=>{Ft(Ee),wo.current===!1&&(Ze(!1),so(Ee))},Xo=Ee=>{Z||Se(Ee.currentTarget),$t(Ee),wo.current===!0&&(Ze(!0),Ht(Ee))},Jo=Ee=>{de.current=!0;const $e=J.props;$e.onTouchStart&&$e.onTouchStart(Ee)},yn=Ee=>{Jo(Ee),Le.clear(),ce.clear(),ot(),tt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",je.start(k,()=>{document.body.style.WebkitUserSelect=tt.current,Ht(Ee)})},en=Ee=>{J.props.onTouchEnd&&J.props.onTouchEnd(Ee),ot(),Le.start(z,()=>{ut(Ee)})};g.useEffect(()=>{if(!Ye)return;function Ee($e){($e.key==="Escape"||$e.key==="Esc")&&ut($e)}return document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)}},[ut,Ye]);const Kn=Yo(Pg(J),Qe,Se,o);!pe&&pe!==0&&(Ye=!1);const Zt=g.useRef(),wt=Ee=>{const $e=J.props;$e.onMouseMove&&$e.onMouseMove(Ee),Dr={x:Ee.clientX,y:Ee.clientY},Zt.current&&Zt.current.update()},st={},St=typeof pe=="string";P?(st.title=!Ye&&St&&!T?pe:null,st["aria-describedby"]=Ye?_t:null):(st["aria-label"]=St?pe:null,st["aria-labelledby"]=Ye&&!St?_t:null);const At=S({},st,te,J.props,{className:Ae(te.className,J.props.className),onTouchStart:Jo,ref:Kn},G?{onMouseMove:wt}:{}),vo={};x||(At.onTouchStart=yn,At.onTouchEnd=en),T||(At.onMouseOver=Ai(Ht,At.onMouseOver),At.onMouseLeave=Ai(so,At.onMouseLeave),oe||(vo.onMouseOver=Ht,vo.onMouseLeave=so)),L||(At.onFocus=Ai(Xo,At.onFocus),At.onBlur=Ai(Qt,At.onBlur),oe||(vo.onFocus=Xo,vo.onBlur=Qt));const tn=g.useMemo(()=>{var Ee;let $e=[{name:"arrow",enabled:!!Pe,options:{element:Pe,padding:4}}];return(Ee=Ce.popperOptions)!=null&&Ee.modifiers&&($e=$e.concat(Ce.popperOptions.modifiers)),S({},Ce.popperOptions,{modifiers:$e})},[Pe,Ce]),ro=S({},R,{isRtl:ue,arrow:M,disableInteractive:oe,placement:me,PopperComponentProp:ge,touch:de.current}),Rn=zv(ro),xn=(n=(s=we.popper)!=null?s:V.Popper)!=null?n:Wv,Io=(r=(i=(l=we.transition)!=null?l:V.Transition)!=null?i:be)!=null?r:oc,on=(a=(c=we.tooltip)!=null?c:V.Tooltip)!=null?a:_v,Q=(u=(d=we.arrow)!=null?d:V.Arrow)!=null?u:$v,_=Ii(xn,S({},Ce,(h=re.popper)!=null?h:I.popper,{className:Ae(Rn.popper,Ce?.className,(p=(f=re.popper)!=null?f:I.popper)==null?void 0:p.className)}),ro),ae=Ii(Io,S({},ne,(m=re.transition)!=null?m:I.transition),ro),Me=Ii(on,S({},(C=re.tooltip)!=null?C:I.tooltip,{className:Ae(Rn.tooltip,(w=(v=re.tooltip)!=null?v:I.tooltip)==null?void 0:w.className)}),ro),Ne=Ii(Q,S({},(y=re.arrow)!=null?y:I.arrow,{className:Ae(Rn.arrow,(D=(A=re.arrow)!=null?A:I.arrow)==null?void 0:D.className)}),ro);return b.jsxs(g.Fragment,{children:[g.cloneElement(J,At),b.jsx(xn,S({as:ge??Es,placement:me,anchorEl:G?{getBoundingClientRect:()=>({top:Dr.y,left:Dr.x,right:Dr.x,bottom:Dr.y,width:0,height:0})}:Z,popperRef:Zt,open:Z?Ye:!1,id:_t,transition:!0},vo,_,{popperOptions:tn,children:({TransitionProps:Ee})=>b.jsx(Io,S({timeout:Y.transitions.duration.shorter},Ee,ae,{children:b.jsxs(on,S({},Me,{children:[pe,M?b.jsx(Q,S({},Ne,{ref:Ve})):null]}))}))}))]})});function jv(e){return Wn("MuiSwitch",e)}const Lt=vn("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Kv=["className","color","edge","size","sx"],qv=e=>{const{classes:t,edge:o,size:n,color:s,checked:r,disabled:i}=e,l={root:["root",o&&`edge${Xe(o)}`,`size${Xe(n)}`],switchBase:["switchBase",`color${Xe(s)}`,r&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},a=Ge(l,jv,t);return S({},t,a)},Yv=Te("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${Xe(o.edge)}`],t[`size${Xe(o.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Lt.thumb}`]:{width:16,height:16},[`& .${Lt.switchBase}`]:{padding:4,[`&.${Lt.checked}`]:{transform:"translateX(16px)"}}}}]}),Qv=Te(Bw,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${Lt.input}`]:t.input},o.color!=="default"&&t[`color${Xe(o.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Lt.checked}`]:{transform:"translateX(20px)"},[`&.${Lt.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Lt.checked} + .${Lt.track}`]:{opacity:.5},[`&.${Lt.disabled} + .${Lt.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Lt.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:un.alpha(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Lt.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:un.alpha(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Lt.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?un.lighten(e.palette[t].main,.62):un.darken(e.palette[t].main,.55)}`}},[`&.${Lt.checked} + .${Lt.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),Zv=Te("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),Xv=Te("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Jv=g.forwardRef(function(t,o){const n=wn({props:t,name:"MuiSwitch"}),{className:s,color:r="primary",edge:i=!1,size:l="medium",sx:a}=n,c=he(n,Kv),u=S({},n,{color:r,edge:i,size:l}),d=qv(u),h=b.jsx(Xv,{className:d.thumb,ownerState:u});return b.jsxs(Yv,{className:Ae(d.root,s),sx:a,ownerState:u,children:[b.jsx(Qv,S({type:"checkbox",icon:h,checkedIcon:h,ref:o,ownerState:u},c,{classes:S({},d,{root:d.switchBase})})),b.jsx(Zv,{className:d.track,ownerState:u})]})}),eb=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],tb=g.forwardRef(function(t,o){var n,s,r,i,l,a,c,u;const{backIconButtonProps:d,count:h,disabled:p=!1,getItemAriaLabel:f,nextIconButtonProps:m,onPageChange:C,page:w,rowsPerPage:v,showFirstButton:y,showLastButton:D,slots:A={},slotProps:R={}}=t,M=he(t,eb),E=Fg(),V=re=>{C(re,0)},I=re=>{C(re,w-1)},P=re=>{C(re,w+1)},L=re=>{C(re,Math.max(0,Math.ceil(h/v)-1))},T=(n=A.firstButton)!=null?n:cn,F=(s=A.lastButton)!=null?s:cn,x=(r=A.nextButton)!=null?r:cn,O=(i=A.previousButton)!=null?i:cn,H=(l=A.firstButtonIcon)!=null?l:Gv,k=(a=A.lastButtonIcon)!=null?a:Hv,G=(c=A.nextButtonIcon)!=null?c:Mw,B=(u=A.previousButtonIcon)!=null?u:Iw,W=E?F:T,z=E?x:O,j=E?O:x,q=E?T:F,X=E?R.lastButton:R.firstButton,me=E?R.nextButton:R.previousButton,ge=E?R.previousButton:R.nextButton,Ce=E?R.firstButton:R.lastButton;return b.jsxs("div",S({ref:o},M,{children:[y&&b.jsx(W,S({onClick:V,disabled:p||w===0,"aria-label":f("first",w),title:f("first",w)},X,{children:E?b.jsx(k,S({},R.lastButtonIcon)):b.jsx(H,S({},R.firstButtonIcon))})),b.jsx(z,S({onClick:I,disabled:p||w===0,color:"inherit","aria-label":f("previous",w),title:f("previous",w)},me??d,{children:E?b.jsx(G,S({},R.nextButtonIcon)):b.jsx(B,S({},R.previousButtonIcon))})),b.jsx(j,S({onClick:P,disabled:p||(h!==-1?w>=Math.ceil(h/v)-1:!1),color:"inherit","aria-label":f("next",w),title:f("next",w)},ge??m,{children:E?b.jsx(B,S({},R.previousButtonIcon)):b.jsx(G,S({},R.nextButtonIcon))})),D&&b.jsx(q,S({onClick:L,disabled:p||w>=Math.ceil(h/v)-1,"aria-label":f("last",w),title:f("last",w)},Ce,{children:E?b.jsx(H,S({},R.firstButtonIcon)):b.jsx(k,S({},R.lastButtonIcon))}))]}))});function ob(e){return Wn("MuiTablePagination",e)}const ns=vn("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var xd;const nb=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],sb=Te(ye,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),rb=Te(mw,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>S({[`& .${ns.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ns.actions}`]:{flexShrink:0,marginLeft:20}})),ib=Te("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),lb=Te("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>S({},e.typography.body2,{flexShrink:0})),ab=Te(Mg,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>S({[`& .${ns.selectIcon}`]:t.selectIcon,[`& .${ns.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ns.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),cb=Te(Bo,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),ub=Te("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>S({},e.typography.body2,{flexShrink:0}));function db({from:e,to:t,count:o}){return`${e}â€“${t} of ${o!==-1?o:`more than ${t}`}`}function hb(e){return`Go to ${e} page`}const gb=e=>{const{classes:t}=e;return Ge({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},ob,t)},Hg=g.forwardRef(function(t,o){var n;const s=wn({props:t,name:"MuiTablePagination"}),{ActionsComponent:r=tb,backIconButtonProps:i,className:l,colSpan:a,component:c=ye,count:u,disabled:d=!1,getItemAriaLabel:h=hb,labelDisplayedRows:p=db,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:m,onPageChange:C,onRowsPerPageChange:w,page:v,rowsPerPage:y,rowsPerPageOptions:D=[10,25,50,100],SelectProps:A={},showFirstButton:R=!1,showLastButton:M=!1,slotProps:E={},slots:V={}}=s,I=he(s,nb),P=s,L=gb(P),T=(n=E?.select)!=null?n:A,F=T.native?"option":cb;let x;(c===ye||c==="td")&&(x=a||1e3);const O=dt(T.id),H=dt(T.labelId),k=()=>u===-1?(v+1)*y:y===-1?u:Math.min(u,(v+1)*y);return b.jsx(sb,S({colSpan:x,ref:o,as:c,ownerState:P,className:Ae(L.root,l)},I,{children:b.jsxs(rb,{className:L.toolbar,children:[b.jsx(ib,{className:L.spacer}),D.length>1&&b.jsx(lb,{className:L.selectLabel,id:H,children:f}),D.length>1&&b.jsx(ab,S({variant:"standard"},!T.variant&&{input:xd||(xd=b.jsx(Yc,{}))},{value:y,onChange:w,id:O,labelId:H},T,{classes:S({},T.classes,{root:Ae(L.input,L.selectRoot,(T.classes||{}).root),select:Ae(L.select,(T.classes||{}).select),icon:Ae(L.selectIcon,(T.classes||{}).icon)}),disabled:d,children:D.map(G=>g.createElement(F,S({},!fw(F)&&{ownerState:P},{className:L.menuItem,key:G.label?G.label:G,value:G.value?G.value:G}),G.label?G.label:G))})),b.jsx(ub,{className:L.displayedRows,children:p({from:u===0?0:v*y+1,to:k(),count:u===-1?-1:u,page:v})}),b.jsx(r,{className:L.actions,backIconButtonProps:i,count:u,nextIconButtonProps:m,onPageChange:C,page:v,rowsPerPage:y,showFirstButton:R,showLastButton:M,slotProps:E.actions,slots:V.actions,getItemAriaLabel:h,disabled:d})]})}))}),Mr=(e,t,o,n,s)=>({name:e,calories:t,fat:o,carbs:n,protein:s}),pb=[Mr("Frozen yoghurt",159,6,24,4),Mr("Ice cream sandwich",237,9,37,4.3),Mr("Eclair",262,16,24,6),Mr("Cupcake",305,3.7,67,4.3),Mr("Gingerbread",356,16,49,3.9)],fb=()=>b.jsx(vr,{component:qo,children:b.jsxs(xs,{sx:{minWidth:650},"aria-label":"simple table",children:[b.jsx(Fs,{children:b.jsxs(bt,{children:[b.jsx(ye,{children:"Dessert (100g serving)"}),b.jsx(ye,{align:"right",children:"Calories"}),b.jsx(ye,{align:"right",children:"Fat (g)"}),b.jsx(ye,{align:"right",children:"Carbs (g)"}),b.jsx(ye,{align:"right",children:"Protein (g)"})]})}),b.jsx(Ps,{children:pb.map(e=>b.jsxs(bt,{sx:{"&:last-of-type td, &:last-of-type th":{border:0}},children:[b.jsx(ye,{component:"th",scope:"row",children:e.name}),b.jsx(ye,{align:"right",children:e.calories}),b.jsx(ye,{align:"right",children:e.fat}),b.jsx(ye,{align:"right",children:e.carbs}),b.jsx(ye,{align:"right",children:e.protein})]},e.name))})]})}),Ir=(e,t,o,n,s)=>({name:e,calories:t,fat:o,carbs:n,protein:s}),mb=[Ir("Frozen yoghurt",159,6,24,4),Ir("Ice cream sandwich",237,9,37,4.3),Ir("Eclair",262,16,24,6),Ir("Cupcake",305,3.7,67,4.3),Ir("Gingerbread",356,16,49,3.9)],Cb=()=>b.jsx(vr,{component:qo,children:b.jsxs(xs,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[b.jsx(Fs,{children:b.jsxs(bt,{children:[b.jsx(ye,{children:"Dessert (100g serving)"}),b.jsx(ye,{align:"right",children:"Calories"}),b.jsx(ye,{align:"right",children:"Fat (g)"}),b.jsx(ye,{align:"right",children:"Carbs (g)"}),b.jsx(ye,{align:"right",children:"Protein (g)"})]})}),b.jsx(Ps,{children:mb.map(e=>b.jsxs(bt,{sx:{"&:last-of-type  td, &:last-of-type  th":{border:0}},children:[b.jsx(ye,{component:"th",scope:"row",children:e.name}),b.jsx(ye,{align:"right",children:e.calories}),b.jsx(ye,{align:"right",children:e.fat}),b.jsx(ye,{align:"right",children:e.carbs}),b.jsx(ye,{align:"right",children:e.protein})]},e.name))})]})}),Vg=.07,Li=e=>`${e.toFixed(2)}`,wb=(e,t)=>e*t,va=(e,t,o)=>{const n=wb(t,o);return{desc:e,qty:t,unit:o,price:n}},vb=e=>e.map(({price:t})=>t).reduce((t,o)=>t+o,0),Bg=[va("Paperclips (Box)",100,1.15),va("Paper (Case)",10,45.99),va("Waste Basket",2,17.99)],Zc=vb(Bg),Ng=Vg*Zc,bb=Ng+Zc,Sb=()=>b.jsx(vr,{component:qo,children:b.jsxs(xs,{sx:{minWidth:700},"aria-label":"spanning table",children:[b.jsxs(Fs,{children:[b.jsxs(bt,{children:[b.jsx(ye,{align:"center",colSpan:3,children:"Details"}),b.jsx(ye,{align:"right",children:"Price"})]}),b.jsxs(bt,{children:[b.jsx(ye,{children:"Desc"}),b.jsx(ye,{align:"right",children:"Qty."}),b.jsx(ye,{align:"right",children:"Unit"}),b.jsx(ye,{align:"right",children:"Sum"})]})]}),b.jsxs(Ps,{children:[Bg.map(e=>b.jsxs(bt,{children:[b.jsx(ye,{children:e.desc}),b.jsx(ye,{align:"right",children:e.qty}),b.jsx(ye,{align:"right",children:e.unit}),b.jsx(ye,{align:"right",children:Li(e.price)})]},e.desc)),b.jsxs(bt,{children:[b.jsx(ye,{rowSpan:3}),b.jsx(ye,{colSpan:2,children:"Subtotal"}),b.jsx(ye,{align:"right",children:Li(Zc)})]}),b.jsxs(bt,{children:[b.jsx(ye,{children:"Tax"}),b.jsx(ye,{align:"right",children:`${(Vg*100).toFixed(0)} %`}),b.jsx(ye,{align:"right",children:Li(Ng)})]}),b.jsxs(bt,{children:[b.jsx(ye,{colSpan:2,children:"Total"}),b.jsx(ye,{align:"right",children:Li(bb)})]})]})]})}),ko=Te(ye)(({theme:e})=>({[`&.${dd.head}`]:{color:e.palette.common.white,backgroundColor:e.palette.common.black},[`&.${dd.body}`]:{fontSize:14}})),yb=Te(bt)(({theme:e})=>({"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover},"&:last-of-type td, &:last-of-type th":{border:0}})),Tr=(e,t,o,n,s)=>({name:e,calories:t,fat:o,carbs:n,protein:s}),Rb=[Tr("Frozen yoghurt",159,6,24,4),Tr("Ice cream sandwich",237,9,37,4.3),Tr("Eclair",262,16,24,6),Tr("Cupcake",305,3.7,67,4.3),Tr("Gingerbread",356,16,49,3.9)],xb=()=>b.jsx(vr,{component:qo,children:b.jsxs(xs,{sx:{minWidth:700},"aria-label":"customized table",children:[b.jsx(Fs,{children:b.jsxs(bt,{children:[b.jsx(ko,{children:"Dessert (100g serving)"}),b.jsx(ko,{align:"right",children:"Calories"}),b.jsx(ko,{align:"right",children:"Fat (g)"}),b.jsx(ko,{align:"right",children:"Carbs (g)"}),b.jsx(ko,{align:"right",children:"Protein (g)"})]})}),b.jsx(Ps,{children:Rb.map(e=>b.jsxs(yb,{children:[b.jsx(ko,{component:"th",scope:"row",children:e.name}),b.jsx(ko,{align:"right",children:e.calories}),b.jsx(ko,{align:"right",children:e.fat}),b.jsx(ko,{align:"right",children:e.carbs}),b.jsx(ko,{align:"right",children:e.protein})]},e.name))})]})}),kr=(e,t,o,n,s,r)=>({name:e,calories:t,fat:o,carbs:n,protein:s,price:r,history:[{date:"2020-01-05",customerId:"11091700",amount:3},{date:"2020-01-02",customerId:"Anonymous",amount:1}]}),Pb=e=>{const{row:t}=e,[o,n]=g.useState(!1);return b.jsxs(g.Fragment,{children:[b.jsxs(bt,{sx:{"& > *":{borderBottom:"unset"}},children:[b.jsx(ye,{children:b.jsx(cn,{"aria-label":"expand row",size:"small",onClick:()=>n(!o)})}),b.jsx(ye,{component:"th",scope:"row",children:t.name}),b.jsx(ye,{align:"right",children:t.calories}),b.jsx(ye,{align:"right",children:t.fat}),b.jsx(ye,{align:"right",children:t.carbs}),b.jsx(ye,{align:"right",children:t.protein})]}),b.jsx(bt,{children:b.jsx(ye,{colSpan:6,sx:{py:"0 !important"},children:b.jsx(Dw,{in:o,timeout:"auto",unmountOnExit:!0,children:b.jsxs(Cw,{sx:{m:2},children:[b.jsx(Jn,{variant:"h6",gutterBottom:!0,component:"div",children:"History"}),b.jsxs(xs,{size:"small","aria-label":"purchases",children:[b.jsx(Fs,{children:b.jsxs(bt,{children:[b.jsx(ye,{children:"Date"}),b.jsx(ye,{children:"Customer"}),b.jsx(ye,{align:"right",children:"Amount"}),b.jsx(ye,{align:"right",children:"Total price ($)"})]})}),b.jsx(Ps,{children:t.history.map(s=>b.jsxs(bt,{children:[b.jsx(ye,{component:"th",scope:"row",children:s.date}),b.jsx(ye,{children:s.customerId}),b.jsx(ye,{align:"right",children:s.amount}),b.jsx(ye,{align:"right",children:Math.round(s.amount*t.price*100)/100})]},s.date))})]})]})})})})]})},Fb=[kr("Frozen yoghurt",159,6,24,4,3.99),kr("Ice cream sandwich",237,9,37,4.3,4.99),kr("Eclair",262,16,24,6,3.79),kr("Cupcake",305,3.7,67,4.3,2.5),kr("Gingerbread",356,16,49,3.9,1.5)],Eb=()=>b.jsx(vr,{component:qo,children:b.jsxs(xs,{"aria-label":"collapsible table",children:[b.jsx(Fs,{children:b.jsxs(bt,{children:[b.jsx(ye,{}),b.jsx(ye,{children:"Dessert (100g serving)"}),b.jsx(ye,{align:"right",children:"Calories"}),b.jsx(ye,{align:"right",children:"Fat (g)"}),b.jsx(ye,{align:"right",children:"Carbs (g)"}),b.jsx(ye,{align:"right",children:"Protein (g)"})]})}),b.jsx(Ps,{children:Fb.map(e=>b.jsx(Pb,{row:e},e.name))})]})}),Pd=[{id:"name",label:"Name",minWidth:170},{id:"code",label:"ISOÂ Code",minWidth:100},{id:"population",label:"Population",minWidth:170,align:"right",format:e=>e.toLocaleString("en-US")},{id:"size",label:"SizeÂ (kmÂ²)",minWidth:170,align:"right",format:e=>e.toLocaleString("en-US")},{id:"density",label:"Density",minWidth:170,align:"right",format:e=>e.toFixed(2)}];function Vt(e,t,o,n){const s=o/n;return{name:e,code:t,population:o,size:n,density:s}}const Fd=[Vt("India","IN",1324171354,3287263),Vt("China","CN",1403500365,9596961),Vt("Italy","IT",60483973,301340),Vt("United States","US",327167434,9833520),Vt("Canada","CA",37602103,9984670),Vt("Australia","AU",25475400,7692024),Vt("Germany","DE",83019200,357578),Vt("Ireland","IE",4857e3,70273),Vt("Mexico","MX",126577691,1972550),Vt("Japan","JP",126317e3,377973),Vt("France","FR",67022e3,640679),Vt("United Kingdom","GB",67545757,242495),Vt("Russia","RU",146793744,17098246),Vt("Nigeria","NG",200962417,923768),Vt("Brazil","BR",210147125,8515767)],Db=()=>{const[e,t]=g.useState(0),[o,n]=g.useState(10),s=(i,l)=>{t(l)},r=i=>{n(+i.target.value),t(0)};return b.jsxs(qo,{sx:{width:"100%",overflow:"hidden"},children:[b.jsx(vr,{sx:{maxHeight:440},children:b.jsxs(xs,{stickyHeader:!0,"aria-label":"sticky table",children:[b.jsx(Fs,{children:b.jsx(bt,{children:Pd.map(i=>b.jsx(ye,{align:i.align,sx:{minWidth:i.minWidth},children:i.label},i.id))})}),b.jsx(Ps,{children:Fd.slice(e*o,e*o+o).map(i=>b.jsx(bt,{hover:!0,role:"checkbox",tabIndex:-1,children:Pd.map(l=>{const a=i[l.id];return b.jsx(ye,{align:l.align,children:l.format&&typeof a=="number"?l.format(a):a},l.id)})},i.code))})]})}),b.jsx(Hg,{rowsPerPageOptions:[10,25,100],component:"div",count:Fd.length,rowsPerPage:o,page:e,onPageChange:s,onRowsPerPageChange:r})]})},zg=g.createContext(void 0);function We(){const e=g.useContext(zg);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Wg=g.createContext(void 0),Re=()=>{const e=g.useContext(Wg);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},_g=g.createContext(void 0);function _n(){const e=g.useContext(_g);if(e===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Ed={};function Xc(e,t){const o=g.useRef(Ed);return o.current===Ed&&(o.current=e(t)),o}const Mb=[];function $g(e){g.useEffect(e,Mb)}const Qo=(e,t="warning")=>{let o=!1;const n=Array.isArray(e)?e.join(`
`):e;return()=>{o||(o=!0,t==="error"?console.error(n):console.warn(n))}},Ib=Object.is;function Ug(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let o=0,n=0;for(const s in e)if(o+=1,!Ib(e[s],t[s])||!(s in t))return!1;for(const s in t)n+=1;return o===n}Qo(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function Tb(e){return e.acceptsApiRef}function Dd(e,t){return Tb(t)?t(e):t(e.current.state)}const kb=Object.is,Jc=Ug,Ab=()=>({state:null,equals:null,selector:null}),fe=(e,t,o=kb)=>{const n=Xc(Ab),s=n.current.selector!==null,[r,i]=g.useState(s?null:Dd(e,t));return n.current.state=r,n.current.equals=o,n.current.selector=t,$g(()=>e.current.store.subscribe(()=>{const l=Dd(e,n.current.selector);n.current.equals(n.current.state,l)||(n.current.state=l,i(l))})),r};function _e(e){return Wn("MuiDataGrid",e)}const N=vn("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var ul="NOT_FOUND";function Lb(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:ul},put:function(n,s){t={key:n,value:s}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function Ob(e,t){var o=[];function n(l){var a=o.findIndex(function(u){return t(l,u.key)});if(a>-1){var c=o[a];return a>0&&(o.splice(a,1),o.unshift(c)),c.value}return ul}function s(l,a){n(l)===ul&&(o.unshift({key:l,value:a}),o.length>e&&o.pop())}function r(){return o}function i(){o=[]}return{get:n,put:s,getEntries:r,clear:i}}var Gb=function(t,o){return t===o};function Hb(e){return function(o,n){if(o===null||n===null||o.length!==n.length)return!1;for(var s=o.length,r=0;r<s;r++)if(!e(o[r],n[r]))return!1;return!0}}function ql(e,t){var o=typeof t=="object"?t:{equalityCheck:t},n=o.equalityCheck,s=n===void 0?Gb:n,r=o.maxSize,i=r===void 0?1:r,l=o.resultEqualityCheck,a=Hb(s),c=i===1?Lb(a):Ob(i,a);function u(){var d=c.get(arguments);if(d===ul){if(d=e.apply(null,arguments),l){var h=c.getEntries(),p=h.find(function(f){return l(f.value,d)});p&&(d=p.value)}c.put(arguments,d)}return d}return u.clearCache=function(){return c.clear()},u}function Vb(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var o=t.map(function(n){return typeof n=="function"?"function "+(n.name||"unnamed")+"()":typeof n}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return t}function Bb(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var s=function(){for(var i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];var c=0,u,d={memoizeOptions:void 0},h=l.pop();if(typeof h=="object"&&(d=h,h=l.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var p=d,f=p.memoizeOptions,m=f===void 0?o:f,C=Array.isArray(m)?m:[m],w=Vb(l),v=e.apply(void 0,[function(){return c++,h.apply(null,arguments)}].concat(C)),y=e(function(){for(var A=[],R=w.length,M=0;M<R;M++)A.push(w[M].apply(null,arguments));return u=v.apply(null,A),u});return Object.assign(y,{resultFunc:h,memoizedResultFunc:v,dependencies:w,lastResult:function(){return u},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),y};return s}var Nb=Bb(ql);const zb={cache:new WeakMap};Qo(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function nc(e){return"current"in e&&"instanceId"in e.current}const sc={id:"default"},He=(e,t,o,n,s,r,...i)=>{if(i.length>0)throw new Error("Unsupported number of selectors");let l;if(e&&t&&o)l=(a,c)=>{const u=nc(a),d=c??(u?a.current.instanceId:sc),h=u?a.current.state:a,p=e(h,d),f=t(h,d);return o(p,f)};else if(e&&t)l=(a,c)=>{const u=nc(a),d=c??(u?a.current.instanceId:sc),h=u?a.current.state:a,p=e(h,d);return t(p)};else throw new Error("Missing arguments");return l.acceptsApiRef=!0,l},ct=(...e)=>{const t=(...o)=>{var n,s;const[r,i]=o,l=nc(r),a=l?r.current.instanceId:i??sc,c=l?r.current.state:r,{cache:u}=zb;if(u.get(a)&&(n=u.get(a))!=null&&n.get(e)){var d;return(d=u.get(a))==null?void 0:d.get(e)(c,a)}const h=Nb(...e);return u.get(a)||u.set(a,new Map),(s=u.get(a))==null||s.set(e,h),h(c,a)};return t.acceptsApiRef=!0,t},ss=e=>e.columns,hn=He(ss,e=>e.orderedFields),br=He(ss,e=>e.lookup),No=ct(hn,br,(e,t)=>e.map(o=>t[o])),xo=He(ss,e=>e.columnVisibilityModel),Et=ct(No,xo,(e,t)=>e.filter(o=>t[o.field]!==!1)),Yl=ct(Et,e=>e.map(t=>t.field)),cr=ct(Et,e=>{const t=[];let o=0;for(let n=0;n<e.length;n+=1)t.push(o),o+=e[n].computedWidth;return t}),eu=He(Et,cr,(e,t)=>{const o=e.length;return o===0?0:t[o-1]+e[o-1].computedWidth}),jg=ct(No,e=>e.filter(t=>t.filterable)),Wb=ct(No,e=>e.reduce((t,o)=>(o.filterable&&(t[o.field]=o),t),{})),Ql=e=>e.columnGrouping,_b=ct(Ql,e=>{var t;return(t=e?.unwrappedGroupingModel)!=null?t:{}}),Kg=ct(Ql,e=>{var t;return(t=e?.lookup)!=null?t:{}}),$b=ct(Ql,e=>{var t;return(t=e?.headerStructure)!=null?t:[]}),wi=He(Ql,e=>{var t;return(t=e?.maxDepth)!=null?t:0}),Eo=e=>e.rows,Zl=He(Eo,e=>e.totalRowCount),Ub=He(Eo,e=>e.loading),jb=He(Eo,e=>e.totalTopLevelRowCount),dn=He(Eo,e=>e.dataRowIdToModelLookup),dl=He(Eo,e=>e.dataRowIdToIdLookup),Ro=He(Eo,e=>e.tree),Kb=He(Eo,e=>e.groupingName),Md=He(Eo,e=>e.treeDepths),Xl=ct(Eo,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,o])=>o>0).map(([o])=>Number(o)).sort((o,n)=>n-o)[0]+1}),Nr=He(Eo,e=>e.dataRowIds),qb=He(Eo,e=>e?.additionalRowGroups),Sr=ct(qb,e=>{var t,o;const n=e?.pinnedRows;return{bottom:n==null||(t=n.bottom)==null?void 0:t.map(s=>{var r;return{id:s.id,model:(r=s.model)!=null?r:{}}}),top:n==null||(o=n.top)==null?void 0:o.map(s=>{var r;return{id:s.id,model:(r=s.model)!=null?r:{}}})}}),Yb=He(Sr,e=>{var t,o;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(o=e.bottom)==null?void 0:o.length)||0)}),qg=()=>{var e;const t=_n(),o=Re(),n=fe(t,Et),s=fe(t,Zl),r=fe(t,wi),i=fe(t,Yb);let l="grid";return(e=o.experimentalFeatures)!=null&&e.ariaV7&&o.treeData&&(l="treegrid"),{role:l,"aria-colcount":n.length,"aria-rowcount":r+1+i+s,"aria-multiselectable":!o.disableMultipleRowSelection}},Qb=e=>{const{classes:t}=e;return Ge({root:["main"]},_e,t)},Zb=Tt("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),Xb=g.forwardRef((e,t)=>{var o;const n=Re(),s=Qb(n),r=(o=n.experimentalFeatures)!=null&&o.ariaV7?qg:null,i=typeof r=="function"?r():null;return b.jsx(Zb,S({ref:t,className:s.root,ownerState:n},i,{children:e.children}))}),Yg=e=>e.sorting,tu=He(Yg,e=>e.sortedRows),ou=ct(tu,dn,(e,t)=>e.map(o=>{var n;return{id:o,model:(n=t[o])!=null?n:{}}})),ao=He(Yg,e=>e.sortModel),Jb=ct(ao,e=>e.reduce((o,n,s)=>(o[n.field]={sortDirection:n.sort,sortIndex:e.length>1?s+1:void 0},o),{})),nu=e=>e.filter,Rt=He(nu,e=>e.filterModel);He(Rt,e=>e.quickFilterValues);const eS=e=>e.visibleRowsLookup,Qg=He(nu,e=>e.filteredRowsLookup);He(nu,e=>e.filteredDescendantCountLookup);const $n=ct(eS,ou,(e,t)=>t.filter(o=>e[o.id]!==!1)),Ur=ct($n,e=>e.map(t=>t.id)),tS=ct(Qg,ou,(e,t)=>t.filter(o=>e[o.id]!==!1)),oS=ct(tS,e=>e.map(t=>t.id)),Zg=ct($n,Ro,Xl,(e,t,o)=>o<2?e:e.filter(n=>{var s;return((s=t[n.id])==null?void 0:s.depth)===0})),Xg=He($n,e=>e.length),Jg=He(Zg,e=>e.length),nS=ct(Rt,br,(e,t)=>{var o;return(o=e.items)==null?void 0:o.filter(n=>{var s,r;if(!n.field)return!1;const i=t[n.field];if(!(i!=null&&i.filterOperators)||(i==null||(s=i.filterOperators)==null?void 0:s.length)===0)return!1;const l=i.filterOperators.find(a=>a.value===n.operator);return l?!l.InputComponent||n.value!=null&&((r=n.value)==null?void 0:r.toString())!=="":!1})}),sS=ct(nS,e=>e.reduce((o,n)=>(o[n.field]?o[n.field].push(n):o[n.field]=[n],o),{})),Jl=e=>e.focus,Xt=He(Jl,e=>e.cell),rS=He(Jl,e=>e.columnHeader);He(Jl,e=>e.columnHeaderFilter);const hl=He(Jl,e=>e.columnGroupHeader),ea=e=>e.tabIndex,gl=He(ea,e=>e.cell),ep=He(ea,e=>e.columnHeader);He(ea,e=>e.columnHeaderFilter);const iS=He(ea,e=>e.columnGroupHeader),su=e=>e.density,lS=He(su,e=>e.value),yr=He(su,e=>e.factor),rc=e=>e.columnMenu;function aS(e){const{VirtualScrollerComponent:t,ColumnHeadersProps:o,children:n}=e,s=_n(),r=Re(),i=g.useRef(null),l=fe(s,Et),a=fe(s,sS),c=fe(s,Jb),u=fe(s,cr),d=fe(s,ep),h=fe(s,gl),p=fe(s,iS),f=fe(s,rS),m=fe(s,hl),C=fe(s,yr),w=fe(s,wi),v=fe(s,rc),y=fe(s,xo),D=fe(s,$b),A=!(p===null&&d===null&&h===null);Mt(()=>{s.current.computeSizeAndPublishResizeEvent();const I=i.current;if(typeof ResizeObserver>"u")return()=>{};let P;const L=new ResizeObserver(()=>{P=requestAnimationFrame(()=>{s.current.computeSizeAndPublishResizeEvent()})});return I&&L.observe(I),()=>{P&&window.cancelAnimationFrame(P),I&&L.unobserve(I)}},[s]);const R=g.useRef(null),M=g.useRef(null),E=g.useRef(null);s.current.register("private",{columnHeadersContainerElementRef:M,columnHeadersElementRef:R,virtualScrollerRef:E,mainElementRef:i});const V=!!s.current.getRootDimensions();return b.jsxs(Xb,{ref:i,children:[b.jsx(r.slots.columnHeaders,S({ref:M,innerRef:R,visibleColumns:l,filterColumnLookup:a,sortColumnLookup:c,columnPositions:u,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:f,columnGroupHeaderFocus:m,densityFactor:C,headerGroupingMaxDepth:w,columnMenuState:v,columnVisibility:y,columnGroupsHeaderStructure:D,hasOtherElementInTabSequence:A},o)),V&&b.jsx(t,{ref:E}),n]})}function cS(){var e;const t=Re();return t.hideFooter?null:b.jsx(t.slots.footer,S({},(e=t.slotProps)==null?void 0:e.footer))}const zt="auto-generated-group-node-root",Zs=Symbol("mui.id_autogenerated"),uS=()=>({type:"group",id:zt,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function dS(e,t,o="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",o,JSON.stringify(t)].join(`
`))}const pl=(e,t,o)=>{const n=t?t(e):e.id;return dS(n,e,o),n},qi=({rows:e,getRowId:t,loading:o,rowCount:n})=>{const s={type:"full",rows:[]},r={},i={};for(let l=0;l<e.length;l+=1){const a=e[l],c=pl(a,t);r[c]=a,i[c]=c,s.rows.push(c)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:o,rowCountPropBeforePartialUpdates:n,updates:s,dataRowIdToIdLookup:i,dataRowIdToModelLookup:r}},tp=({tree:e,rowCountProp:t=0})=>{const o=e[zt];return Math.max(t,o.children.length+(o.footerId==null?0:1))},op=({apiRef:e,rowCountProp:t=0,loadingProp:o,previousTree:n,previousTreeDepths:s})=>{const r=e.current.caches.rows,{tree:i,treeDepths:l,dataRowIds:a,groupingName:c}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:n,previousTreeDepths:s,updates:r.updates,dataRowIdToIdLookup:r.dataRowIdToIdLookup,dataRowIdToModelLookup:r.dataRowIdToModelLookup}),u=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:i,treeDepths:l,dataRowIdToIdLookup:r.dataRowIdToIdLookup,dataRowIds:a,dataRowIdToModelLookup:r.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},S({},u,{totalRowCount:Math.max(t,u.dataRowIds.length),totalTopLevelRowCount:tp({tree:u.tree,rowCountProp:t}),groupingName:c,loading:o})},ei=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,ru=(e,t,o)=>{const n=e[t];if(n.type!=="group")return[];const s=[];for(let r=0;r<n.children.length;r+=1){const i=n.children[r];(!o||!ei(e[i]))&&s.push(i);const l=ru(e,i,o);for(let a=0;a<l.length;a+=1)s.push(l[a])}return!o&&n.footerId!=null&&s.push(n.footerId),s},hS=({previousCache:e,getRowId:t,updates:o})=>{var n,s,r;if(e.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const i=new Map;o.forEach(h=>{const p=pl(h,t,"A row was provided without id when calling updateRows():");i.has(p)?i.set(p,S({},i.get(p),h)):i.set(p,h)});const l={type:"partial",actions:{insert:[...(n=e.updates.actions.insert)!=null?n:[]],modify:[...(s=e.updates.actions.modify)!=null?s:[]],remove:[...(r=e.updates.actions.remove)!=null?r:[]]},idToActionLookup:S({},e.updates.idToActionLookup)},a=S({},e.dataRowIdToModelLookup),c=S({},e.dataRowIdToIdLookup),u={insert:{},modify:{},remove:{}};i.forEach((h,p)=>{const f=l.idToActionLookup[p];if(h._action==="delete"){if(f==="remove"||!a[p])return;f!=null&&(u[f][p]=!0),l.actions.remove.push(p),delete a[p],delete c[p];return}const m=a[p];if(m){f==="remove"?(u.remove[p]=!0,l.actions.modify.push(p)):f==null&&l.actions.modify.push(p),a[p]=S({},m,h);return}f==="remove"?(u.remove[p]=!0,l.actions.insert.push(p)):f==null&&l.actions.insert.push(p),a[p]=h,c[p]=p});const d=Object.keys(u);for(let h=0;h<d.length;h+=1){const p=d[h],f=u[p];Object.keys(f).length>0&&(l.actions[p]=l.actions[p].filter(m=>!f[m]))}return{dataRowIdToModelLookup:a,dataRowIdToIdLookup:c,updates:l,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function np(e){var t,o;const n=Sr(e),s=(n==null||(t=n.top)==null?void 0:t.reduce((i,l)=>(i+=e.current.unstable_getRowHeight(l.id),i),0))||0,r=(n==null||(o=n.bottom)==null?void 0:o.reduce((i,l)=>(i+=e.current.unstable_getRowHeight(l.id),i),0))||0;return{top:s,bottom:r}}function sp(e,t){const o=yr(e);return`var(--DataGrid-overlayHeight, ${2*Math.floor(t*o)}px)`}const gS=Tt("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4})),pS=Tt("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),fS=e=>{const{classes:t}=e;return Ge({root:["overlayWrapper"],inner:["overlayWrapperInner"]},_e,t)};function mS(e){var t,o;const n=We(),s=Re(),[r,i]=g.useState(()=>{var u,d;return(u=(d=n.current.getRootDimensions())==null?void 0:d.viewportInnerSize)!=null?u:null}),l=g.useCallback(()=>{var u,d;i((u=(d=n.current.getRootDimensions())==null?void 0:d.viewportInnerSize)!=null?u:null)},[n]);Mt(()=>n.current.subscribeEvent("viewportInnerSizeChange",l),[n,l]);let a=(t=r?.height)!=null?t:0;s.autoHeight&&a===0&&(a=sp(n,s.rowHeight));const c=fS(S({},e,{classes:s.classes}));return r?b.jsx(gS,{className:Ae(c.root),overlayType:e.overlayType,children:b.jsx(pS,S({className:Ae(c.inner),style:{height:a,width:(o=r?.width)!=null?o:0}},e))}):null}function CS(){const e=We(),t=Re(),o=fe(e,Zl),n=fe(e,Xg),s=fe(e,Ub),r=!s&&o===0,i=!s&&o>0&&n===0;let l=null,a="";if(r){var c;l=b.jsx(t.slots.noRowsOverlay,S({},(c=t.slotProps)==null?void 0:c.noRowsOverlay)),a="noRowsOverlay"}if(i){var u;l=b.jsx(t.slots.noResultsOverlay,S({},(u=t.slotProps)==null?void 0:u.noResultsOverlay)),a="noResultsOverlay"}if(s){var d;l=b.jsx(t.slots.loadingOverlay,S({},(d=t.slotProps)==null?void 0:d.loadingOverlay)),a="loadingOverlay"}return l===null?null:b.jsx(mS,{overlayType:a,children:l})}function ta(e){return g.memo(e,Ug)}let ba;function wS(){return ba===void 0&&document.createElement("div").focus({get preventScroll(){return ba=!0,!1}}),ba}var $o=function(e){return e.Cell="cell",e.Row="row",e}($o||{}),Ke=function(e){return e.Edit="edit",e.View="view",e}(Ke||{}),rt=function(e){return e.Edit="edit",e.View="view",e}(rt||{}),qt=function(e){return e.And="and",e.Or="or",e}(qt||{}),nn=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(nn||{}),yo=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(yo||{}),Mn=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Mn||{}),sn=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(sn||{});function rp(e){return e.field!==void 0}function vS(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function bS(e,t){return e.closest(`.${t}`)}function iu(e){return e.replace(/["\\]/g,"\\$&")}function SS(e,t){return e.querySelector(`[role="columnheader"][data-field="${iu(t)}"]`)}function ip(e){return`.${N.row}[data-id="${iu(String(e))}"]`}function yS(e,t){return e.querySelector(ip(t))}function RS(e,{id:t,field:o}){const n=ip(t),s=`.${N.cell}[data-field="${iu(o)}"]`,r=`${n} ${s}`;return e.querySelector(r)}function vi(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function Be(e,t,o){const n=g.useRef(!0);g.useEffect(()=>{n.current=!1,e.current.register(o,t)},[e,o,t]),n.current&&e.current.register(o,t)}class js extends Error{}function xS(e,t){const{getRowId:o}=t,n=g.useCallback(f=>({field:f,colDef:e.current.getColumn(f)}),[e]),s=g.useCallback(f=>{const m=e.current.getRow(f);if(!m)throw new js(`No row with id #${f} found`);return{id:f,columns:e.current.getAllColumns(),row:m}},[e]),r=g.useCallback((f,m)=>{const C=e.current.getRow(f),w=e.current.getRowNode(f);if(!C||!w)throw new js(`No row with id #${f} found`);const v=Xt(e),y=gl(e);return{id:f,field:m,row:C,rowNode:w,value:C[m],colDef:e.current.getColumn(m),cellMode:e.current.getCellMode(f,m),api:e.current,hasFocus:v!==null&&v.field===m&&v.id===f,tabIndex:y&&y.field===m&&y.id===f?0:-1}},[e]),i=g.useCallback((f,m)=>{const C=e.current.getColumn(m),w=e.current.getCellValue(f,m),v=e.current.getRow(f),y=e.current.getRowNode(f);if(!v||!y)throw new js(`No row with id #${f} found`);const D=Xt(e),A=gl(e),R={id:f,field:m,row:v,rowNode:y,colDef:C,cellMode:e.current.getCellMode(f,m),hasFocus:D!==null&&D.field===m&&D.id===f,tabIndex:A&&A.field===m&&A.id===f?0:-1,value:w,formattedValue:w,isEditable:!1};return C&&C.valueFormatter&&(R.formattedValue=C.valueFormatter({id:f,field:R.field,value:R.value,api:e.current})),R.isEditable=C&&e.current.isCellEditable(R),R},[e]),l=g.useCallback((f,m)=>{const C=e.current.getColumn(m);if(!C||!C.valueGetter){const w=e.current.getRow(f);if(!w)throw new js(`No row with id #${f} found`);return w[m]}return C.valueGetter(r(f,m))},[e,r]),a=g.useCallback((f,m)=>{var C;const w=Zs in f?f[Zs]:(C=o?.(f))!=null?C:f.id,v=m.field;return!m||!m.valueGetter?f[v]:m.valueGetter(r(w,v))},[r,o]),c=g.useCallback((f,m)=>{var C;const w=a(f,m);if(!m||!m.valueFormatter)return w;const v=(C=o?o(f):f.id)!=null?C:f[Zs],y=m.field;return m.valueFormatter({id:v,field:y,value:w,api:e.current})},[e,o,a]),u=g.useCallback(f=>e.current.rootElementRef.current?SS(e.current.rootElementRef.current,f):null,[e]),d=g.useCallback(f=>e.current.rootElementRef.current?yS(e.current.rootElementRef.current,f):null,[e]),h=g.useCallback((f,m)=>e.current.rootElementRef.current?RS(e.current.rootElementRef.current,{id:f,field:m}):null,[e]);Be(e,{getCellValue:l,getCellParams:i,getCellElement:h,getRowValue:a,getRowFormattedValue:c,getRowParams:s,getRowElement:d,getColumnHeaderParams:n,getColumnHeaderElement:u},"public")}const PS=["changeReason","unstable_updateValueOnRender"],FS=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],ES=["changeReason","unstable_updateValueOnRender"],fl={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:Ke.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},DS=e=>{const{align:t,showRightBorder:o,isEditable:n,isSelected:s,isSelectionMode:r,classes:i}=e,l={root:["cell",`cell--text${Xe(t)}`,n&&"cell--editable",s&&"selected",o&&"cell--withRightBorder",r&&!n&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return Ge(l,_e,i)},MS=g.forwardRef((e,t)=>{const{column:o,rowId:n,editCellState:s}=e,r=We(),i=Re(),l=o.field,a=fe(r,()=>{try{const V=r.current.getCellParams(n,l);return V.api=r.current,V}catch(E){if(E instanceof js)return fl;throw E}},Jc),c=fe(r,()=>r.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:n,field:l}));if(a===fl)return null;const{cellMode:u,hasFocus:d,isEditable:h,value:p,formattedValue:f}=a,m=o.type==="actions",C=(u==="view"||!h)&&!m?a.tabIndex:-1,{classes:w,getCellClassName:v}=i,y=r.current.unstable_applyPipeProcessors("cellClassName",[],{id:n,field:l});o.cellClassName&&y.push(typeof o.cellClassName=="function"?o.cellClassName(a):o.cellClassName),v&&y.push(v(a));let D;if(s==null&&o.renderCell&&(D=o.renderCell(a),y.push(N["cell--withRenderer"]),y.push(w?.["cell--withRenderer"])),s!=null&&o.renderEditCell){const E=r.current.getRowWithUpdatedValues(n,o.field),V=he(s,PS),I=S({},a,{row:E},V);D=o.renderEditCell(I),y.push(N["cell--editing"]),y.push(w?.["cell--editing"])}const{slots:A}=i,R=A.cell,M=S({},e,{ref:t,field:l,formattedValue:f,hasFocus:d,isEditable:h,isSelected:c,value:p,cellMode:u,children:D,tabIndex:C,className:Ae(y)});return g.createElement(R,M)}),IS=ta(MS),TS=g.forwardRef((e,t)=>{var o,n,s,r;const{column:i,rowId:l,editCellState:a,align:c,colIndex:u,height:d,width:h,className:p,showRightBorder:f,colSpan:m,disableDragEvents:C,isNotVisible:w,onClick:v,onDoubleClick:y,onMouseDown:D,onMouseUp:A,onMouseOver:R,onKeyDown:M,onKeyUp:E,onDragEnter:V,onDragOver:I,style:P}=e,L=he(e,FS),T=We(),F=Re(),x=i.field,O=fe(T,()=>{try{const ce=T.current.getCellParams(l,x);return ce.api=T.current,ce}catch(oe){if(oe instanceof js)return fl;throw oe}},Jc),H=fe(T,()=>T.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:l,field:x})),{cellMode:k,hasFocus:G,isEditable:B,value:W,formattedValue:z}=O,j=i.type==="actions"&&((o=(n=i).getActions)==null?void 0:o.call(n,T.current.getRowParams(l)).some(oe=>!oe.props.disabled)),q=(k==="view"||!B)&&!j?O.tabIndex:-1,{classes:X,getCellClassName:me}=F,ge=T.current.unstable_applyPipeProcessors("cellClassName",[],{id:l,field:x});i.cellClassName&&ge.push(typeof i.cellClassName=="function"?i.cellClassName(O):i.cellClassName),me&&ge.push(me(O));const Ce=z??W,re=g.useRef(null),we=Yo(t,re),pe=g.useRef(null),be=(s=F.unstable_cellSelection)!=null?s:!1,ne={align:c,showRightBorder:f,isEditable:B,classes:F.classes,isSelected:H,isSelectionMode:be},te=DS(ne),J=g.useCallback(oe=>ce=>{const ve=T.current.getCellParams(l,x||"");T.current.publishEvent(oe,ve,ce),A&&A(ce)},[T,x,A,l]),Y=g.useCallback(oe=>ce=>{const ve=T.current.getCellParams(l,x||"");T.current.publishEvent(oe,ve,ce),D&&D(ce)},[T,x,D,l]),ue=g.useCallback((oe,ce)=>ve=>{if(!T.current.getRow(l))return;const Le=T.current.getCellParams(l,x||"");T.current.publishEvent(oe,Le,ve),ce&&ce(ve)},[T,x,l]),Z=g.useMemo(()=>w?S({padding:0,opacity:0,width:0,border:0},P):S({minWidth:h,maxWidth:h,minHeight:d,maxHeight:d==="auto"?"none":d},P),[h,d,w,P]);if(g.useEffect(()=>{if(!G||k===Ke.Edit)return;const oe=os(T.current.rootElementRef.current);if(re.current&&!re.current.contains(oe.activeElement)){const ce=re.current.querySelector('[tabindex="0"]'),ve=pe.current||ce||re.current;if(wS())ve.focus({preventScroll:!0});else{const Le=T.current.getScrollPosition();ve.focus(),T.current.scroll(Le)}}},[G,k,T]),O===fl)return null;let Se=L.onFocus,Pe;if(a==null&&i.renderCell&&(Pe=i.renderCell(O),ge.push(N["cell--withRenderer"]),ge.push(X?.["cell--withRenderer"])),a!=null&&i.renderEditCell){const oe=T.current.getRowWithUpdatedValues(l,i.field),ce=he(a,ES),ve=S({},O,{row:oe},ce);Pe=i.renderEditCell(ve),ge.push(N["cell--editing"]),ge.push(X?.["cell--editing"])}if(Pe===void 0){const oe=Ce?.toString();Pe=b.jsx("div",{className:te.content,title:oe,role:"presentation",children:oe})}g.isValidElement(Pe)&&j&&(Pe=g.cloneElement(Pe,{focusElementRef:pe}));const Ve=C?null:{onDragEnter:ue("cellDragEnter",V),onDragOver:ue("cellDragOver",I)},de=(r=F.experimentalFeatures)==null?void 0:r.ariaV7;return b.jsx("div",S({ref:we,className:Ae(p,ge,te.root),role:de?"gridcell":"cell","data-field":x,"data-colindex":u,"aria-colindex":u+1,"aria-colspan":m,style:Z,tabIndex:q,onClick:ue("cellClick",v),onDoubleClick:ue("cellDoubleClick",y),onMouseOver:ue("cellMouseOver",R),onMouseDown:Y("cellMouseDown"),onMouseUp:J("cellMouseUp"),onKeyDown:ue("cellKeyDown",M),onKeyUp:ue("cellKeyUp",E)},Ve,L,{onFocus:Se,children:Pe}))}),ic=ta(TS),kS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],AS=e=>{const{classes:t}=e;return Ge({root:["booleanCell"]},_e,t)};function LS(e){const{value:t}=e,o=he(e,kS),n=We(),s=Re(),r={classes:s.classes},i=AS(r),l=g.useMemo(()=>t?s.slots.booleanCellTrueIcon:s.slots.booleanCellFalseIcon,[s.slots.booleanCellFalseIcon,s.slots.booleanCellTrueIcon,t]);return b.jsx(l,S({fontSize:"small",className:i.root,titleAccess:n.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const OS=g.memo(LS),GS=e=>ei(e.rowNode)?"":b.jsx(OS,S({},e)),HS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],VS=e=>{const{classes:t}=e;return Ge({root:["editBooleanCell"]},_e,t)};function BS(e){var t;const{id:o,value:n,field:s,className:r,hasFocus:i,onValueChange:l}=e,a=he(e,HS),c=We(),u=g.useRef(null),d=dt(),[h,p]=g.useState(n),f=Re(),m={classes:f.classes},C=VS(m),w=g.useCallback(async v=>{const y=v.target.checked;l&&await l(v,y),p(y),await c.current.setEditCellValue({id:o,field:s,value:y},v)},[c,s,o,l]);return g.useEffect(()=>{p(n)},[n]),Mt(()=>{i&&u.current.focus()},[i]),b.jsx("label",S({htmlFor:d,className:Ae(C.root,r)},a,{children:b.jsx(f.slots.baseCheckbox,S({id:d,inputRef:u,checked:!!h,onChange:w,size:"small"},(t=f.slotProps)==null?void 0:t.baseCheckbox))}))}const NS=e=>b.jsx(BS,S({},e)),zS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],WS=Te(Yc)({fontSize:"inherit"}),_S=e=>{const{classes:t}=e;return Ge({root:["editInputCell"]},_e,t)};function $S(e){const{id:t,value:o,field:n,colDef:s,hasFocus:r,inputProps:i,onValueChange:l}=e,a=he(e,zS),c=s.type==="dateTime",u=We(),d=g.useRef(),h=g.useMemo(()=>{let D;o==null?D=null:o instanceof Date?D=o:D=new Date((o??"").toString());let A;return D==null||Number.isNaN(D.getTime())?A="":A=new Date(D.getTime()-D.getTimezoneOffset()*60*1e3).toISOString().substr(0,c?16:10),{parsed:D,formatted:A}},[o,c]),[p,f]=g.useState(h),C={classes:Re().classes},w=_S(C),v=g.useCallback(D=>{if(D==="")return null;const[A,R]=D.split("T"),[M,E,V]=A.split("-"),I=new Date;if(I.setFullYear(Number(M),Number(E)-1,Number(V)),I.setHours(0,0,0,0),R){const[P,L]=R.split(":");I.setHours(Number(P),Number(L),0,0)}return I},[]),y=g.useCallback(async D=>{const A=D.target.value,R=v(A);l&&await l(D,R),f({parsed:R,formatted:A}),u.current.setEditCellValue({id:t,field:n,value:R},D)},[u,n,t,l,v]);return g.useEffect(()=>{f(D=>{var A,R;return h.parsed!==D.parsed&&((A=h.parsed)==null?void 0:A.getTime())!==((R=D.parsed)==null?void 0:R.getTime())?h:D})},[h]),Mt(()=>{r&&d.current.focus()},[r]),b.jsx(WS,S({inputRef:d,fullWidth:!0,className:w.root,type:c?"datetime-local":"date",inputProps:S({max:c?"9999-12-31T23:59":"9999-12-31"},i),value:p.formatted,onChange:y},a))}const lp=e=>b.jsx($S,S({},e)),US=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],jS=e=>{const{classes:t}=e;return Ge({root:["editInputCell"]},_e,t)},KS=Te(Yc,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>S({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),qS=g.forwardRef((e,t)=>{const o=Re(),{id:n,value:s,field:r,colDef:i,hasFocus:l,debounceMs:a=200,isProcessingProps:c,onValueChange:u}=e,d=he(e,US),h=We(),p=g.useRef(),[f,m]=g.useState(s),C=jS(o),w=g.useCallback(async y=>{const D=y.target.value;u&&await u(y,D);const A=h.current.getColumn(r);let R=D;A.valueParser&&(R=A.valueParser(D,h.current.getCellParams(n,r))),m(R),h.current.setEditCellValue({id:n,field:r,value:R,debounceMs:a,unstable_skipValueParser:!0},y)},[h,a,r,n,u]),v=h.current.unstable_getEditCellMeta(n,r);return g.useEffect(()=>{v?.changeReason!=="debouncedSetEditCellValue"&&m(s)},[v,s]),Mt(()=>{l&&p.current.focus()},[l]),b.jsx(KS,S({ref:t,inputRef:p,className:C.root,ownerState:o,fullWidth:!0,type:i.type==="number"?i.type:"text",value:f??"",onChange:w,endAdornment:c?b.jsx(o.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},d))}),YS=e=>b.jsx(qS,S({},e)),ml=e=>e==="Escape",QS=e=>e==="Enter",ap=e=>e==="Tab",cp=e=>e===" ",ZS=e=>e.indexOf("Arrow")===0,XS=e=>e==="Home"||e==="End",JS=e=>e.indexOf("Page")===0;function up(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Cl=e=>XS(e)||ZS(e)||JS(e)||cp(e),ey=e=>!!e.key,ty=e=>ap(e)||ml(e);function rs(e){return e?.type==="singleSelect"}function lc(e,t,o){if(t===void 0)return;const n=t.find(s=>{const r=o(s);return String(r)===String(e)});return o(n)}const oy=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],ny=["MenuProps"];function sy(e){return!!e.key}function ry(e){var t,o,n;const s=Re(),{id:r,value:i,field:l,row:a,colDef:c,hasFocus:u,error:d,onValueChange:h,initialOpen:p=s.editMode===$o.Cell,getOptionLabel:f,getOptionValue:m}=e,C=he(e,oy),w=We(),v=g.useRef(),y=g.useRef(),[D,A]=g.useState(p),M=(o=(((t=s.slotProps)==null?void 0:t.baseSelect)||{}).native)!=null?o:!1,E=((n=s.slotProps)==null?void 0:n.baseSelect)||{},{MenuProps:V}=E,I=he(E,ny);if(Mt(()=>{if(u){var H;(H=y.current)==null||H.focus()}},[u]),!rs(c))return null;let P;if(typeof c?.valueOptions=="function"?P=c?.valueOptions({id:r,row:a,field:l}):P=c?.valueOptions,!P)return null;const L=m||c.getOptionValue,T=f||c.getOptionLabel,F=async H=>{if(!rs(c)||!P)return;A(!1);const k=H.target,G=lc(k.value,P,L);h&&await h(H,G),await w.current.setEditCellValue({id:r,field:l,value:G},H)},x=(H,k)=>{if(s.editMode===$o.Row){A(!1);return}if(k==="backdropClick"||ml(H.key)){const G=w.current.getCellParams(r,l);w.current.publishEvent("cellEditStop",S({},G,{reason:ml(H.key)?yo.escapeKeyDown:yo.cellFocusOut}))}},O=H=>{sy(H)&&H.key==="Enter"||A(!0)};return!P||!c?null:b.jsx(s.slots.baseSelect,S({ref:v,inputRef:y,value:i,onChange:F,open:D,onOpen:O,MenuProps:S({onClose:x},V),error:d,native:M,fullWidth:!0},C,I,{children:P.map(H=>{var k;const G=L(H);return g.createElement(s.slots.baseSelectOption,S({},((k=s.slotProps)==null?void 0:k.baseSelectOption)||{},{native:M,key:G,value:G}),T(H))})}))}const iy=e=>b.jsx(ry,S({},e)),ly=["open","target","onClose","children","position","className","onExited"],ay=e=>{const{classes:t}=e;return Ge({root:["menu"]},_e,t)},cy=Te(Es,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${N.menuList}`]:{outline:0}})),uy={"bottom-start":"top left","bottom-end":"top right"};function dp(e){var t;const{open:o,target:n,onClose:s,children:r,position:i,className:l,onExited:a}=e,c=he(e,ly),u=We(),d=Re(),h=ay(d),p=g.useRef(null);Mt(()=>{if(o)p.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var C,w;(C=p.current)==null||(w=C.focus)==null||w.call(C),p.current=null}},[o]),g.useEffect(()=>{const C=o?"menuOpen":"menuClose";u.current.publishEvent(C,{target:n})},[u,o,n]);const f=C=>w=>{C&&C(),a&&a(w)},m=C=>{C.target&&(n===C.target||n!=null&&n.contains(C.target))||s(C)};return b.jsx(cy,S({as:d.slots.basePopper,className:Ae(l,h.root),ownerState:d,open:o,anchorEl:n,transition:!0,placement:i},c,(t=d.slotProps)==null?void 0:t.basePopper,{children:({TransitionProps:C,placement:w})=>b.jsx(Gg,{onClickAway:m,mouseEvent:"onMouseDown",children:b.jsx(oc,S({},C,{style:{transformOrigin:uy[w]},onExited:f(C?.onExited),children:b.jsx(qo,{children:r})}))})}))}const dy=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],hy=e=>typeof e.getActions=="function";function gy(e){var t;const{colDef:o,id:n,hasFocus:s,tabIndex:r,position:i="bottom-end",focusElementRef:l}=e,a=he(e,dy),[c,u]=g.useState(-1),[d,h]=g.useState(!1),p=We(),f=g.useRef(null),m=g.useRef(null),C=g.useRef(!1),w=g.useRef({}),v=wr(),y=dt(),D=dt(),A=Re();if(!hy(o))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const R=o.getActions(p.current.getRowParams(n)),M=R.filter(O=>!O.props.showInMenu),E=R.filter(O=>O.props.showInMenu),V=M.length+(E.length?1:0);g.useLayoutEffect(()=>{s||Object.entries(w.current).forEach(([O,H])=>{H?.stop({},()=>{delete w.current[O]})})},[s]),g.useEffect(()=>{if(c<0||!f.current||c>=f.current.children.length)return;f.current.children[c].focus({preventScroll:!0})},[c]),g.useEffect(()=>{s||(u(-1),C.current=!1)},[s]),g.useImperativeHandle(l,()=>({focus(){if(!C.current){const O=R.findIndex(H=>!H.props.disabled);u(O)}}}),[R]),g.useEffect(()=>{c>=V&&u(V-1)},[c,V]);const I=()=>{h(!0),u(V-1),C.current=!0},P=()=>{h(!1)},L=O=>H=>{w.current[O]=H},T=(O,H)=>k=>{u(O),C.current=!0,H&&H(k)},F=O=>{if(V<=1)return;const H=(G,B)=>{var W;if(G<0||G>R.length)return G;const z=v.direction==="rtl"?-1:1,j=(B==="left"?-1:1)*z;return(W=R[G+j])!=null&&W.props.disabled?H(G+j,B):G+j};let k=c;O.key==="ArrowRight"?k=H(c,"right"):O.key==="ArrowLeft"&&(k=H(c,"left")),!(k<0||k>=V)&&k!==c&&(O.preventDefault(),O.stopPropagation(),u(k))},x=O=>{O.key==="Tab"&&O.preventDefault(),["Tab","Escape"].includes(O.key)&&P()};return b.jsxs("div",S({role:"menu",ref:f,tabIndex:-1,className:N.actionsCell,onKeyDown:F},a,{children:[M.map((O,H)=>g.cloneElement(O,{key:H,touchRippleRef:L(H),onClick:T(H,O.props.onClick),tabIndex:c===H?r:-1})),E.length>0&&D&&b.jsx(A.slots.baseIconButton,S({ref:m,id:D,"aria-label":p.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?y:void 0,role:"menuitem",size:"small",onClick:I,touchRippleRef:L(D),tabIndex:c===M.length?r:-1},(t=A.slotProps)==null?void 0:t.baseIconButton,{children:b.jsx(A.slots.moreActionsIcon,{fontSize:"small"})})),E.length>0&&b.jsx(dp,{open:d,target:m.current,position:i,onClose:P,children:b.jsx(Eg,{id:y,className:N.menuList,onKeyDown:x,"aria-labelledby":D,variant:"menu",autoFocusItem:!0,children:E.map((O,H)=>g.cloneElement(O,{key:H,closeMenu:P}))})})]}))}const py=e=>b.jsx(gy,S({},e)),fy=["field","align","width","contentWidth"],my=e=>{const{align:t,classes:o}=e,n={root:["cell","cellSkeleton",`cell--text${Xe(t)}`,"withBorderColor"]};return Ge(n,_e,o)};function Cy(e){const{align:t,width:o,contentWidth:n}=e,s=he(e,fy),i={classes:Re().classes,align:t},l=my(i);return b.jsx("div",S({className:l.root,style:{width:o}},s,{children:b.jsx(ov,{width:`${n}%`})}))}function wy(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?ww(So(e.palette.divider,1),.88):vw(So(e.palette.divider,1),.68)}const Id={[`.${N.columnSeparator}, .${N["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},Td={[`& .${N.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${N.menuIcon}`]:{width:"auto",visibility:"visible"}},vy=Te("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${N.autoHeight}`]:t.autoHeight},{[`&.${N.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${N["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${N["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${N["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${N.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${N["root--disableUserSelection"]} .${N.cell}`]:t["root--disableUserSelection"]},{[`&.${N.autosizing}`]:t.autosizing},{[`& .${N.editBooleanCell}`]:t.editBooleanCell},{[`& .${N["cell--editing"]}`]:t["cell--editing"]},{[`& .${N["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${N["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${N["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${N["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${N.cell}`]:t.cell},{[`& .${N["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${N["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${N["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${N["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${N["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${N.cellContent}`]:t.cellContent},{[`& .${N.cellCheckbox}`]:t.cellCheckbox},{[`& .${N.cellSkeleton}`]:t.cellSkeleton},{[`& .${N.checkboxInput}`]:t.checkboxInput},{[`& .${N["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${N["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${N["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${N["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${N["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${N["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${N["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${N["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${N["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${N.columnHeader}`]:t.columnHeader},{[`& .${N.headerFilterRow}`]:t.headerFilterRow},{[`& .${N.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${N.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${N.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${N["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${N["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${N.columnSeparator}`]:t.columnSeparator},{[`& .${N.filterIcon}`]:t.filterIcon},{[`& .${N.iconSeparator}`]:t.iconSeparator},{[`& .${N.menuIcon}`]:t.menuIcon},{[`& .${N.menuIconButton}`]:t.menuIconButton},{[`& .${N.menuOpen}`]:t.menuOpen},{[`& .${N.menuList}`]:t.menuList},{[`& .${N["row--editable"]}`]:t["row--editable"]},{[`& .${N["row--editing"]}`]:t["row--editing"]},{[`& .${N["row--dragging"]}`]:t["row--dragging"]},{[`& .${N.row}`]:t.row},{[`& .${N.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${N.rowReorderCell}`]:t.rowReorderCell},{[`& .${N["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${N.sortIcon}`]:t.sortIcon},{[`& .${N.withBorderColor}`]:t.withBorderColor},{[`& .${N.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${N.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${N.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${N["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=wy(e),o=e.shape.borderRadius;return S({"--unstable_DataGrid-radius":typeof o=="number"?`${o}px`:o,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:So(e.palette.background.default,e.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:t,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${N.autoHeight}`]:{height:"auto",[`& .${N["row--lastVisible"]} .${N.cell}`]:{borderBottomColor:"transparent"}},[`&.${N.autosizing}`]:{[`& .${N.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},[`& .${N.cell} > *`]:{overflow:"visible !important",whiteSpace:"nowrap"},[`& .${N.groupingCriteriaCell}`]:{width:"unset"},[`& .${N.treeDataGroupingCell}`]:{width:"unset"}},[`& .${N["virtualScrollerContent--overflowed"]} .${N["row--lastVisible"]} .${N.cell}`]:{borderBottomColor:"transparent"},[`& .${N.columnHeader}, & .${N.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${N.columnHeader}:focus-within, & .${N.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:So(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${N.columnHeader}:focus, & .${N.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${N.columnHeaderCheckbox}, & .${N.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${N.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${N["columnHeader--sorted"]} .${N.iconButtonContainer}, & .${N["columnHeader--filtered"]} .${N.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${N.columnHeader}:not(.${N["columnHeader--sorted"]}) .${N.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${N.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${N.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${N["columnHeader--filledGroup"]} .${N.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${N["columnHeader--filledGroup"]}.${N["columnHeader--showColumnBorder"]} .${N.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${N["columnHeader--filledGroup"]}.${N["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${N.headerFilterRow}`]:{borderTop:`1px solid ${t}`},[`& .${N.sortIcon}, & .${N.filterIcon}`]:{fontSize:"inherit"},[`& .${N["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${N["columnHeader--alignCenter"]} .${N.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${N["columnHeader--alignRight"]} .${N.columnHeaderDraggableContainer}, & .${N["columnHeader--alignRight"]} .${N.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${N["columnHeader--alignCenter"]} .${N.menuIcon}, & .${N["columnHeader--alignRight"]} .${N.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${N["columnHeader--alignRight"]} .${N.menuIcon}, & .${N["columnHeader--alignRight"]} .${N.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${N["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${N.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},"@media (hover: hover)":{[`& .${N.columnHeaders}:hover`]:Id,[`& .${N.columnHeader}:hover`]:Td,[`& .${N.columnHeader}:not(.${N["columnHeader--sorted"]}):hover .${N.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${N.columnHeaders}`]:Id,[`& .${N.columnHeader}`]:Td},[`& .${N["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${N["columnSeparator--sideRight"]}`]:{right:-12},[`& .${N["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:t}},[`&.${N["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${N.iconSeparator}`]:{color:"inherit"},[`& .${N.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${N.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${N.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} + 
                ${e.vars.palette.action.hoverOpacity}
              ))`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${N.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:So(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`&.${N["root--disableUserSelection"]} .${N.cell}`]:{userSelect:"none"},[`& .${N.row}:not(.${N["row--dynamicHeight"]}) > .${N.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${N.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${N.cell}.${N["cell--selectionMode"]}`]:{cursor:"default"},[`& .${N.cell}.${N["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${N["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${N["row--editing"]} .${N.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${N.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${N.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${N.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${N.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${N.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${N["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${N.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${N.withBorderColor}`]:{borderColor:t},[`& .${N["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${N["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${N["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${N["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${N["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${N.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${N.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${N["columnHeader--dragging"]}, & .${N["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${N["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${N.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${N.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${N.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${N.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${N.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),by=["children","className"],Sy=e=>{const{autoHeight:t,density:o,classes:n}=e,s={root:["root",t&&"autoHeight",`root--density${Xe(o)}`,"withBorderColor"]};return Ge(s,_e,n)},yy=g.forwardRef(function(t,o){var n;const s=Re(),{children:r,className:i}=t,l=he(t,by),a=_n(),c=fe(a,lS),u=g.useRef(null),d=Yo(u,o),h=(n=s.experimentalFeatures)!=null&&n.ariaV7?null:qg,p=typeof h=="function"?h():null,f=S({},s,{density:c}),m=Sy(f);a.current.register("public",{rootElementRef:u});const[C,w]=g.useState(!1);return Mt(()=>{w(!0)},[]),C?b.jsx(vy,S({ref:d,className:Ae(i,m.root),ownerState:f},p,l,{children:r})):null}),Ry=["className"],xy=e=>{const{classes:t}=e;return Ge({root:["footerContainer","withBorderColor"]},_e,t)},Py=Tt("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Fy=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,Ry),r=Re(),i=xy(r);return b.jsx(Py,S({ref:o,className:Ae(i.root,n),ownerState:r},s))}),Ey=["className"],Dy=e=>{const{classes:t}=e;return Ge({root:["overlay"]},_e,t)},My=Tt("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),lu=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,Ey),r=Re(),i=Dy(r);return b.jsx(My,S({ref:o,className:Ae(i.root,n),ownerState:r},s))}),Iy=["className"],Ty=e=>{const{classes:t}=e;return Ge({root:["iconButtonContainer"]},_e,t)},ky=Tt("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),hp=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,Iy),r=Re(),i=Ty(r);return b.jsx(ky,S({ref:o,className:Ae(i.root,n),ownerState:r},s))}),Ay=e=>{const{classes:t}=e;return Ge({icon:["sortIcon"]},_e,t)};function Ly(e,t,o,n){let s;const r={};return t==="asc"?s=e.columnSortedAscendingIcon:t==="desc"?s=e.columnSortedDescendingIcon:(s=e.columnUnsortedIcon,r.sortingOrder=n),s?b.jsx(s,S({fontSize:"small",className:o},r)):null}function Oy(e){var t;const{direction:o,index:n,sortingOrder:s}=e,r=We(),i=Re(),l=S({},e,{classes:i.classes}),a=Ay(l),c=Ly(i.slots,o,a.icon,s);if(!c)return null;const u=b.jsx(i.slots.baseIconButton,S({tabIndex:-1,"aria-label":r.current.getLocaleText("columnHeaderSortIconLabel"),title:r.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(t=i.slotProps)==null?void 0:t.baseIconButton,{children:c}));return b.jsxs(hp,{children:[n!=null&&b.jsx(Og,{badgeContent:n,color:"default",children:u}),n==null&&u]})}const Gy=g.memo(Oy),Hy=e=>{const{classes:t,open:o}=e;return Ge({root:["menuIcon",o&&"menuOpen"],button:["menuIconButton"]},_e,t)},Vy=g.memo(e=>{var t,o;const{colDef:n,open:s,columnMenuId:r,columnMenuButtonId:i,iconButtonRef:l}=e,a=We(),c=Re(),u=S({},e,{classes:c.classes}),d=Hy(u),h=g.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a.current.toggleColumnMenu(n.field)},[a,n.field]);return b.jsx("div",{className:d.root,children:b.jsx(c.slots.baseTooltip,S({title:a.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(t=c.slotProps)==null?void 0:t.baseTooltip,{children:b.jsx(c.slots.baseIconButton,S({ref:l,tabIndex:-1,className:d.button,"aria-label":a.current.getLocaleText("columnMenuLabel"),size:"small",onClick:h,"aria-haspopup":"menu","aria-expanded":s,"aria-controls":s?r:void 0,id:i},(o=c.slotProps)==null?void 0:o.baseIconButton,{children:b.jsx(c.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function By({columnMenuId:e,columnMenuButtonId:t,ContentComponent:o,contentComponentProps:n,field:s,open:r,target:i,onExited:l}){const a=We(),c=a.current.getColumn(s),u=Pt(d=>{d&&(d.stopPropagation(),i!=null&&i.contains(d.target))||a.current.hideColumnMenu()});return!i||!c?null:b.jsx(dp,{placement:`bottom-${c.align==="right"?"start":"end"}`,open:r,target:i,onClose:u,onExited:l,children:b.jsx(o,S({colDef:c,hideMenu:u,open:r,id:e,labelledby:t},n))})}const Ny=["className"],zy=e=>{const{classes:t}=e;return Ge({root:["columnHeaderTitle"]},_e,t)},Wy=Tt("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),_y=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,Ny),r=Re(),i=zy(r);return b.jsx(Wy,S({ref:o,className:Ae(i.root,n),ownerState:r},s))});function $y(e){var t;const{label:o,description:n}=e,s=Re(),r=g.useRef(null),[i,l]=g.useState(""),a=g.useCallback(()=>{if(!n&&r!=null&&r.current){const c=vS(r.current);l(c?o:"")}},[n,o]);return b.jsx(s.slots.baseTooltip,S({title:n||i},(t=s.slotProps)==null?void 0:t.baseTooltip,{children:b.jsx(_y,{onMouseOver:a,ref:r,children:o})}))}const Uy=["resizable","resizing","height","side"];var gp=function(e){return e.Left="left",e.Right="right",e}(gp||{});const jy=e=>{const{resizable:t,resizing:o,classes:n,side:s}=e,r={root:["columnSeparator",t&&"columnSeparator--resizable",o&&"columnSeparator--resizing",s&&`columnSeparator--side${Xe(s)}`],icon:["iconSeparator"]};return Ge(r,_e,n)};function Ky(e){const{height:t,side:o=gp.Right}=e,n=he(e,Uy),s=Re(),r=S({},e,{side:o,classes:s.classes}),i=jy(r),l=g.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]);return b.jsx("div",S({className:i.root,style:{minHeight:t,opacity:s.showColumnVerticalBorder?0:1}},n,{onClick:l,children:b.jsx(s.slots.columnResizeIcon,{className:i.icon})}))}const qy=g.memo(Ky),Yy=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],pp=g.forwardRef(function(t,o){const{classes:n,columnMenuOpen:s,colIndex:r,height:i,isResizing:l,sortDirection:a,hasFocus:c,tabIndex:u,separatorSide:d,isDraggable:h,headerComponent:p,description:f,width:m,columnMenuIconButton:C=null,columnMenu:w=null,columnTitleIconButtons:v=null,headerClassName:y,label:D,resizable:A,draggableContainerProps:R,columnHeaderSeparatorProps:M}=t,E=he(t,Yy),V=_n(),I=Re(),P=g.useRef(null),[L,T]=g.useState(s),F=Yo(P,o);let x="none";return a!=null&&(x=a==="asc"?"ascending":"descending"),g.useEffect(()=>{L||T(s)},[L,s]),g.useLayoutEffect(()=>{const O=V.current.state.columnMenu;if(c&&!O.open){const k=P.current.querySelector('[tabindex="0"]')||P.current;k?.focus(),V.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[V,c]),b.jsxs("div",S({ref:F,className:Ae(n.root,y),style:{height:i,width:m,minWidth:m,maxWidth:m},role:"columnheader",tabIndex:u,"aria-colindex":r+1,"aria-sort":x,"aria-label":p==null?D:void 0},E,{children:[b.jsxs("div",S({className:n.draggableContainer,draggable:h,role:"presentation"},R,{children:[b.jsxs("div",{className:n.titleContainer,role:"presentation",children:[b.jsx("div",{className:n.titleContainerContent,children:p!==void 0?p:b.jsx($y,{label:D,description:f,columnWidth:m})}),v]}),C]})),b.jsx(qy,S({resizable:!I.disableColumnResize&&!!A,resizing:l,height:i,side:d},M)),w]}))}),Qy=e=>{const{colDef:t,classes:o,isDragging:n,sortDirection:s,showRightBorder:r,filterItemsCounter:i}=e,l=s!=null,a=i!=null&&i>0,c=t.type==="number",u={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",n&&"columnHeader--moving",l&&"columnHeader--sorted",a&&"columnHeader--filtered",c&&"columnHeader--numeric","withBorderColor",r&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ge(u,_e,o)};function Zy(e){var t,o,n,s;const{colDef:r,columnMenuOpen:i,colIndex:l,headerHeight:a,isResizing:c,sortDirection:u,sortIndex:d,filterItemsCounter:h,hasFocus:p,tabIndex:f,disableReorder:m,separatorSide:C}=e,w=_n(),v=Re(),y=g.useRef(null),D=dt(),A=dt(),R=g.useRef(null),[M,E]=g.useState(i),V=g.useMemo(()=>!v.disableColumnReorder&&!m&&!r.disableReorder,[v.disableColumnReorder,m,r.disableReorder]);let I;r.renderHeader&&(I=r.renderHeader(w.current.getColumnHeaderParams(r.field)));const P=S({},e,{classes:v.classes,showRightBorder:v.showColumnVerticalBorder}),L=Qy(P),T=g.useCallback(q=>X=>{vi(X)||w.current.publishEvent(q,w.current.getColumnHeaderParams(r.field),X)},[w,r.field]),F=g.useMemo(()=>({onClick:T("columnHeaderClick"),onDoubleClick:T("columnHeaderDoubleClick"),onMouseOver:T("columnHeaderOver"),onMouseOut:T("columnHeaderOut"),onMouseEnter:T("columnHeaderEnter"),onMouseLeave:T("columnHeaderLeave"),onKeyDown:T("columnHeaderKeyDown"),onFocus:T("columnHeaderFocus"),onBlur:T("columnHeaderBlur")}),[T]),x=g.useMemo(()=>V?{onDragStart:T("columnHeaderDragStart"),onDragEnter:T("columnHeaderDragEnter"),onDragOver:T("columnHeaderDragOver"),onDragEnd:T("columnHeaderDragEnd")}:{},[V,T]),O=g.useMemo(()=>({onMouseDown:T("columnSeparatorMouseDown"),onDoubleClick:T("columnSeparatorDoubleClick")}),[T]);g.useEffect(()=>{M||E(i)},[M,i]);const H=g.useCallback(()=>{E(!1)},[]),k=!v.disableColumnMenu&&!r.disableColumnMenu&&b.jsx(Vy,{colDef:r,columnMenuId:D,columnMenuButtonId:A,open:M,iconButtonRef:R}),G=b.jsx(By,{columnMenuId:D,columnMenuButtonId:A,field:r.field,open:i,target:R.current,ContentComponent:v.slots.columnMenu,contentComponentProps:(t=v.slotProps)==null?void 0:t.columnMenu,onExited:H}),B=(o=r.sortingOrder)!=null?o:v.sortingOrder,W=b.jsxs(g.Fragment,{children:[!v.disableColumnFilter&&b.jsx(v.slots.columnHeaderFilterIconButton,S({field:r.field,counter:h},(n=v.slotProps)==null?void 0:n.columnHeaderFilterIconButton)),r.sortable&&!r.hideSortIcons&&b.jsx(Gy,{direction:u,index:d,sortingOrder:B})]});g.useLayoutEffect(()=>{const q=w.current.state.columnMenu;if(p&&!q.open){var X;const ge=y.current.querySelector('[tabindex="0"]')||y.current;ge?.focus(),(X=w.current.columnHeadersContainerElementRef)!=null&&X.current&&(w.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[w,p]);const z=typeof r.headerClassName=="function"?r.headerClassName({field:r.field,colDef:r}):r.headerClassName,j=(s=r.headerName)!=null?s:r.field;return b.jsx(pp,S({ref:y,classes:L,columnMenuOpen:i,colIndex:l,height:a,isResizing:c,sortDirection:u,hasFocus:p,tabIndex:f,separatorSide:C,isDraggable:V,headerComponent:I,description:r.description,elementId:r.field,width:r.computedWidth,columnMenuIconButton:k,columnTitleIconButtons:W,headerClassName:z,label:j,resizable:!v.disableColumnResize&&!!r.resizable,"data-field":r.field,columnMenu:G,draggableContainerProps:x,columnHeaderSeparatorProps:O},F))}const ti=()=>({items:[],logicOperator:qt.And,quickFilterValues:[],quickFilterLogicOperator:qt.And}),kd=1e3;class Xy{constructor(t=kd){this.timeouts=new Map,this.cleanupTimeout=kd,this.cleanupTimeout=t}register(t,o,n){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,s)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class Jy{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,n){this.registry.register(t,o,n)}unregister(t){this.registry.unregister(t)}reset(){}}var zo=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(zo||{});class eR{}function tR(e){let t=0;return function(n,s,r,i){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Jy:new Xy);const[l]=g.useState(new eR),a=g.useRef(null),c=g.useRef();c.current=r;const u=g.useRef(null);if(!a.current&&c.current){const d=(h,p,f)=>{if(!p.defaultMuiPrevented){var m;(m=c.current)==null||m.call(c,h,p,f)}};a.current=n.current.subscribeEvent(s,d,i),t+=1,u.current={cleanupToken:t},e.registry.register(l,()=>{var h;(h=a.current)==null||h.call(a),a.current=null,u.current=null},u.current)}else!c.current&&a.current&&(a.current(),a.current=null,u.current&&(e.registry.unregister(u.current),u.current=null));g.useEffect(()=>{if(!a.current&&c.current){const d=(h,p,f)=>{if(!p.defaultMuiPrevented){var m;(m=c.current)==null||m.call(c,h,p,f)}};a.current=n.current.subscribeEvent(s,d,i)}return u.current&&e.registry&&(e.registry.unregister(u.current),u.current=null),()=>{var d;(d=a.current)==null||d.call(a),a.current=null}},[n,s,i])}}const oR={registry:null},xe=tR(oR),nR={isFirst:!0};function it(e,t,o){xe(e,t,o,nR)}function kt(e,t){const o=g.useRef(null);if(o.current)return o.current;const n=e.current.getLogger(t);return o.current=n,n}function sR(e){return typeof e=="number"&&!Number.isNaN(e)}function fp(e){return typeof e=="function"}function au(e){return typeof e=="object"&&e!==null}function rR(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Yi(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const ur=(e,t,o)=>Math.max(t,Math.min(o,e));function is(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r+=1)if(!is(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const s=Array.from(e.entries());for(let r=0;r<s.length;r+=1)if(!t.has(s[r][0]))return!1;for(let r=0;r<s.length;r+=1){const i=s[r];if(!is(i[1],t.get(i[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const s=Array.from(e.entries());for(let r=0;r<s.length;r+=1)if(!t.has(s[r][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r+=1)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e),n=o.length;if(n!==Object.keys(t).length)return!1;for(let s=0;s<n;s+=1)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(let s=0;s<n;s+=1){const r=o[s];if(!is(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function iR(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function lR(e,t,o){const n=iR(e);return()=>t+(o-t)*n()}function mp(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const aR=(e,t,o,n,s)=>{const r=kt(e,"useNativeEventListener"),[i,l]=g.useState(!1),a=g.useRef(n),c=g.useCallback(u=>a.current&&a.current(u),[]);g.useEffect(()=>{a.current=n},[n]),g.useEffect(()=>{let u;if(fp(t)?u=t():u=t&&t.current?t.current:null,u&&o&&!i){r.debug(`Binding native ${o} event`),u.addEventListener(o,c,s);const d=u;l(!0);const h=()=>{r.debug(`Clearing native ${o} event`),d.removeEventListener(o,c,s)};e.current.subscribeEvent("unmount",h)}},[t,c,o,i,r,s,e])},bi=e=>{const t=g.useRef(!0);t.current&&(t.current=!1,e())},cR=100,uR=e=>e?0:100,Cp=(e,t)=>t>0&&e>0?Math.ceil(e/t):0;Qo(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const wp=e=>({page:0,pageSize:e?0:100}),dR=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),vp=(e,t)=>{if(t===zo.DataGrid&&e>cR)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},cu=e=>e.pagination,co=He(cu,e=>e.paginationModel),Ks=He(cu,e=>e.rowCount),hR=He(co,e=>e.page),bp=He(co,e=>e.pageSize),gR=He(bp,Ks,(e,t)=>Cp(t,e)),uu=ct(co,Ro,Xl,$n,Zg,(e,t,o,n,s)=>{const r=s.length,i=Math.min(e.pageSize*e.page,r-1),l=Math.min(i+e.pageSize-1,r-1);if(i===-1||l===-1)return null;if(o<2)return{firstRowIndex:i,lastRowIndex:l};const a=s[i],c=l-i+1,u=n.findIndex(f=>f.id===a.id);let d=u,h=0;for(;d<n.length&&h<=c;){var p;const f=n[d],m=(p=t[f.id])==null?void 0:p.depth;m===void 0?d+=1:((h<c||m>0)&&(d+=1),m===0&&(h+=1))}return{firstRowIndex:u,lastRowIndex:d-1}}),pR=ct($n,uu,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Sp=ct(Ur,uu,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),oi=e=>e.preferencePanel;var ps=function(e){return e.filters="filters",e.columns="columns",e}(ps||{});const ni=e=>e.rowsMeta,uo=e=>e.rowSelection,fR=He(uo,e=>e.length),mR=ct(uo,dn,(e,t)=>new Map(e.map(o=>[o,t[o]]))),wl=ct(uo,e=>e.reduce((t,o)=>(t[o]=o,t),{})),CR=Qo(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),yp=(e,t)=>t&&e.length>1?(CR(),[e[0]]):e,Ad=(e,t)=>o=>S({},o,{sorting:S({},o.sorting,{sortModel:yp(e,t)})}),wR=e=>e==="desc",vR=(e,t)=>{const o=t.current.getColumn(e.field);if(!o)return null;const n=wR(e.sort)?(...r)=>-1*o.sortComparator(...r):o.sortComparator;return{getSortCellParams:r=>({id:r,field:o.field,rowNode:t.current.getRowNode(r),value:t.current.getCellValue(r,o.field),api:t.current}),comparator:n}},bR=(e,t,o)=>e.reduce((n,s,r)=>{if(n!==0)return n;const i=t.params[r],l=o.params[r];return n=s.comparator(i.value,l.value,i,l),n},0),SR=(e,t)=>{const o=e.map(n=>vR(n,t)).filter(n=>!!n);return o.length===0?null:n=>n.map(s=>({node:s,params:o.map(r=>r.getSortCellParams(s.id))})).sort((s,r)=>bR(o,s,r)).map(s=>s.node.id)},Ld=(e,t)=>{const o=e.indexOf(t);return!t||o===-1||o+1===e.length?e[0]:e[o+1]},du=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,yR=new Intl.Collator,RR=(e,t)=>{const o=du(e,t);return o!==null?o:typeof e=="string"?yR.compare(e.toString(),t.toString()):e-t},Rp=(e,t)=>{const o=du(e,t);return o!==null?o:Number(e)-Number(t)},xp=(e,t)=>{const o=du(e,t);return o!==null?o:e>t?1:e<t?-1:0},Pp=e=>e.headerFiltering,xR=He(Pp,e=>e.editing),PR=He(Pp,e=>e.menuOpen),FR=(e,t)=>{const o={enabled:!t.disableVirtualization,enabledForColumns:!0};return S({},e,{virtualization:o})};function ER(e,t){const o=r=>{e.current.setState(i=>S({},i,{virtualization:S({},i.virtualization,{enabled:r})}))};Be(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:r=>{e.current.setState(i=>S({},i,{virtualization:S({},i.virtualization,{enabledForColumns:r})}))}},"public"),g.useEffect(()=>{o(!t.disableVirtualization)},[t.disableVirtualization])}const Fp=e=>e.virtualization,DR=He(Fp,e=>e.enabled),Ep=He(Fp,e=>e.enabledForColumns),MR=e=>{const{classes:t}=e;return Ge({icon:["filterIcon"]},_e,t)};function IR(e){var t,o;const{counter:n,field:s,onClick:r}=e,i=We(),l=Re(),a=S({},e,{classes:l.classes}),c=MR(a),u=fe(i,oi),d=dt(),h=dt(),p=g.useCallback(C=>{C.preventDefault(),C.stopPropagation();const{open:w,openedPanelValue:v}=oi(i.current.state);w&&v===ps.filters?i.current.hideFilterPanel():i.current.showFilterPanel(void 0,h,d),r&&r(i.current.getColumnHeaderParams(s),C)},[i,s,r,h,d]);if(!n)return null;const f=u.open&&u.labelId===d,m=b.jsx(l.slots.baseIconButton,S({id:d,onClick:p,color:"default","aria-label":i.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?h:void 0},(t=l.slotProps)==null?void 0:t.baseIconButton,{children:b.jsx(l.slots.columnFilteredIcon,{className:c.icon,fontSize:"small"})}));return b.jsx(l.slots.baseTooltip,S({title:i.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},(o=l.slotProps)==null?void 0:o.baseTooltip,{children:b.jsxs(hp,{children:[n>1&&b.jsx(Og,{badgeContent:n,color:"default",children:m}),n===1&&m]})}))}const TR=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],kR=e=>{const{classes:t}=e;return Ge({root:["checkboxInput"]},_e,t)},AR=g.forwardRef(function(t,o){var n;const{field:s,id:r,value:i,rowNode:l,hasFocus:a,tabIndex:c}=t,u=he(t,TR),d=We(),h=Re(),p={classes:h.classes},f=kR(p),m=g.useRef(null),C=g.useRef(null),w=Yo(m,o),v=d.current.getCellElement(r,s),y=M=>{const E={value:M.target.checked,id:r};d.current.publishEvent("rowSelectionCheckboxChange",E,M)};g.useLayoutEffect(()=>{c===0&&v&&(v.tabIndex=-1)},[v,c]),g.useEffect(()=>{if(a){var M;const E=(M=m.current)==null?void 0:M.querySelector("input");E?.focus({preventScroll:!0})}else C.current&&C.current.stop({})},[a]);const D=g.useCallback(M=>{cp(M.key)&&M.stopPropagation()},[]);if(l.type==="footer"||l.type==="pinnedRow")return null;const A=d.current.isRowSelectable(r),R=d.current.getLocaleText(i?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return b.jsx(h.slots.baseCheckbox,S({ref:w,tabIndex:c,checked:i,onChange:y,className:f.root,inputProps:{"aria-label":R},onKeyDown:D,disabled:!A,touchRippleRef:C},(n=h.slotProps)==null?void 0:n.baseCheckbox,u))}),LR=AR,OR=["field","colDef"],GR=e=>{const{classes:t}=e;return Ge({root:["checkboxInput"]},_e,t)},HR=g.forwardRef(function(t,o){var n;const s=he(t,OR),[,r]=g.useState(!1),i=We(),l=Re(),a={classes:l.classes},c=GR(a),u=fe(i,ep),d=fe(i,uo),h=fe(i,Ur),p=fe(i,Sp),f=g.useMemo(()=>typeof l.isRowSelectable!="function"?d:d.filter(E=>i.current.getRow(E)?l.isRowSelectable(i.current.getRowParams(E)):!1),[i,l.isRowSelectable,d]),m=g.useMemo(()=>(!l.pagination||!l.checkboxSelectionVisibleOnly?h:p).reduce((V,I)=>(V[I]=!0,V),{}),[l.pagination,l.checkboxSelectionVisibleOnly,p,h]),C=g.useMemo(()=>f.filter(E=>m[E]).length,[f,m]),w=C>0&&C<Object.keys(m).length,v=C>0,y=E=>{const V={value:E.target.checked};i.current.publishEvent("headerSelectionCheckboxChange",V)},D=u!==null&&u.field===t.field?0:-1;g.useLayoutEffect(()=>{const E=i.current.getColumnHeaderElement(t.field);D===0&&E&&(E.tabIndex=-1)},[D,i,t.field]);const A=g.useCallback(E=>{E.key===" "&&i.current.publishEvent("headerSelectionCheckboxChange",{value:!v})},[i,v]),R=g.useCallback(()=>{r(E=>!E)},[]);g.useEffect(()=>i.current.subscribeEvent("rowSelectionChange",R),[i,R]);const M=i.current.getLocaleText(v?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return b.jsx(l.slots.baseCheckbox,S({ref:o,indeterminate:w,checked:v,onChange:y,className:c.root,inputProps:{"aria-label":M},tabIndex:D,onKeyDown:A},(n=l.slotProps)==null?void 0:n.baseCheckbox,s))}),Od=qe(b.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Gd=qe(b.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Hd=qe(b.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Vd=qe(b.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),VR=qe(b.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Bd=qe(b.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),BR=qe(b.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");qe(b.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");qe(b.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const NR=qe(b.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),zR=qe(b.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),WR=qe(b.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),_R=qe(b.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),$R=qe(b.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),UR=qe(b.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Sa=qe(b.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Nd=qe(b.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),jR=qe(b.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),KR=qe(b.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),zd=qe(b.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),qR=qe(b.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),YR=qe(b.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),QR=qe(b.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),ZR=qe(b.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),XR=qe(b.jsx("g",{children:b.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),JR=qe(b.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");qe(b.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const ex=qe(b.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),tx=["hideMenu","colDef","id","labelledby","className","children","open"],ox=Te(Eg)(()=>({minWidth:248})),nx=g.forwardRef(function(t,o){const{hideMenu:n,id:s,labelledby:r,className:i,children:l,open:a}=t,c=he(t,tx),u=g.useCallback(d=>{ap(d.key)&&d.preventDefault(),ty(d.key)&&n(d)},[n]);return b.jsx(ox,S({id:s,ref:o,className:Ae(N.menuList,i),"aria-labelledby":r,onKeyDown:u,autoFocus:a},c,{children:l}))}),sx=["displayOrder"],rx=e=>{const t=_n(),{defaultSlots:o,defaultSlotProps:n,slots:s={},slotProps:r={},hideMenu:i,colDef:l,addDividers:a=!0}=e,c=g.useMemo(()=>S({},o,s),[o,s]),u=g.useMemo(()=>{if(!r||Object.keys(r).length===0)return n;const p=S({},r);return Object.entries(n).forEach(([f,m])=>{p[f]=S({},m,r[f]||{})}),p},[n,r]),d=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),h=g.useMemo(()=>{const p=Object.keys(o);return Object.keys(s).filter(f=>!p.includes(f))},[s,o]);return g.useMemo(()=>{const m=Array.from(new Set([...d,...h])).filter(C=>c[C]!=null).sort((C,w)=>{const v=u[C],y=u[w],D=Number.isFinite(v?.displayOrder)?v.displayOrder:100,A=Number.isFinite(y?.displayOrder)?y.displayOrder:100;return D-A});return m.reduce((C,w,v)=>{let y={colDef:l,onClick:i};const D=u[w];if(D){const A=he(D,sx);y=S({},y,A)}return a&&v!==m.length-1?[...C,[c[w],y],[bw,{}]]:[...C,[c[w],y]]},[])},[a,l,d,i,c,u,h])};function ix(e){const{colDef:t,onClick:o}=e,n=We(),s=Re(),l=Et(n).filter(c=>c.disableColumnMenu!==!0).length===1,a=g.useCallback(c=>{l||(n.current.setColumnVisibility(t.field,!1),o(c))},[n,t.field,o,l]);return s.disableColumnSelector||t.hideable===!1?null:b.jsxs(Bo,{onClick:a,disabled:l,children:[b.jsx(Ys,{children:b.jsx(s.slots.columnMenuHideIcon,{fontSize:"small"})}),b.jsx(Qs,{children:n.current.getLocaleText("columnMenuHideColumn")})]})}function lx(e){const{onClick:t}=e,o=We(),n=Re(),s=g.useCallback(r=>{t(r),o.current.showPreferences(ps.columns)},[o,t]);return n.disableColumnSelector?null:b.jsxs(Bo,{onClick:s,children:[b.jsx(Ys,{children:b.jsx(n.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),b.jsx(Qs,{children:o.current.getLocaleText("columnMenuManageColumns")})]})}function ax(e){return b.jsxs(g.Fragment,{children:[b.jsx(ix,S({},e)),b.jsx(lx,S({},e))]})}function cx(e){const{colDef:t,onClick:o}=e,n=We(),s=Re(),r=g.useCallback(i=>{o(i),n.current.showFilterPanel(t.field)},[n,t.field,o]);return s.disableColumnFilter||!t.filterable?null:b.jsxs(Bo,{onClick:r,children:[b.jsx(Ys,{children:b.jsx(s.slots.columnMenuFilterIcon,{fontSize:"small"})}),b.jsx(Qs,{children:n.current.getLocaleText("columnMenuFilter")})]})}function ux(e){var t;const{colDef:o,onClick:n}=e,s=We(),r=fe(s,ao),i=Re(),l=g.useMemo(()=>{if(!o)return null;const d=r.find(h=>h.field===o.field);return d?.sort},[o,r]),a=(t=o.sortingOrder)!=null?t:i.sortingOrder,c=g.useCallback(d=>{n(d);const h=d.currentTarget.getAttribute("data-value")||null;s.current.sortColumn(o,h===l?null:h)},[s,o,n,l]);if(!o||!o.sortable||!a.some(d=>!!d))return null;const u=d=>{const h=s.current.getLocaleText(d);return typeof h=="function"?h(o):h};return b.jsxs(g.Fragment,{children:[a.includes("asc")&&l!=="asc"?b.jsxs(Bo,{onClick:c,"data-value":"asc",children:[b.jsx(Ys,{children:b.jsx(i.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),b.jsx(Qs,{children:u("columnMenuSortAsc")})]}):null,a.includes("desc")&&l!=="desc"?b.jsxs(Bo,{onClick:c,"data-value":"desc",children:[b.jsx(Ys,{children:b.jsx(i.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),b.jsx(Qs,{children:u("columnMenuSortDesc")})]}):null,a.includes(null)&&l!=null?b.jsxs(Bo,{onClick:c,children:[b.jsx(Ys,{}),b.jsx(Qs,{children:s.current.getLocaleText("columnMenuUnsort")})]}):null]})}const dx=["defaultSlots","defaultSlotProps","slots","slotProps"],hx={columnMenuSortItem:ux,columnMenuFilterItem:cx,columnMenuColumnsItem:ax},gx={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},px=g.forwardRef(function(t,o){const{defaultSlots:n,defaultSlotProps:s,slots:r,slotProps:i}=t,l=he(t,dx),a=rx(S({},l,{defaultSlots:n,defaultSlotProps:s,slots:r,slotProps:i}));return b.jsx(nx,S({ref:o},l,{children:a.map(([c,u],d)=>b.jsx(c,S({},u),d))}))}),fx=g.forwardRef(function(t,o){return b.jsx(px,S({},t,{ref:o,defaultSlots:hx,defaultSlotProps:gx}))}),mx=["className"],Cx=e=>{const{classes:t}=e;return Ge({root:["panelContent"]},_e,t)},wx=Tt("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function Dp(e){const{className:t}=e,o=he(e,mx),n=Re(),s=Cx(n);return b.jsx(wx,S({className:Ae(t,s.root),ownerState:n},o))}const vx=["className"],bx=e=>{const{classes:t}=e;return Ge({root:["panelFooter"]},_e,t)},Sx=Tt("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function Mp(e){const{className:t}=e,o=he(e,vx),n=Re(),s=bx(n);return b.jsx(Sx,S({className:Ae(t,s.root),ownerState:n},o))}const yx=["className"],Rx=e=>{const{classes:t}=e;return Ge({root:["panelHeader"]},_e,t)},xx=Tt("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function Px(e){const{className:t}=e,o=he(e,yx),n=Re(),s=Rx(n);return b.jsx(xx,S({className:Ae(t,s.root),ownerState:n},o))}const Fx=["className","slotProps"],Ex=e=>{const{classes:t}=e;return Ge({root:["panelWrapper"]},_e,t)},Dx=Te("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Mx=()=>!0,Ip=g.forwardRef(function(t,o){const{className:n,slotProps:s={}}=t,r=he(t,Fx),i=Re(),l=Ex(i);return b.jsx(Sw,S({open:!0,disableEnforceFocus:!0,isEnabled:Mx},s.TrapFocus,{children:b.jsx(Dx,S({ref:o,tabIndex:-1,className:Ae(n,l.root),ownerState:i},r))}))}),Ix=!1,Tx=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],kx=e=>{const{classes:t}=e;return Ge({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},_e,t)},Ax=Te("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),Lx=Te("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${Lt.root}`]:{marginRight:e.spacing(.5)}}));Te(cn)({justifyContent:"flex-end"});const Wd=new Intl.Collator,Ox=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function Gx(e){var t,o,n;const s=We(),r=g.useRef(null),i=fe(s,No),l=fe(s,xo),a=Re(),[c,u]=g.useState(""),d=kx(a),{sort:h,searchPredicate:p=Ox,autoFocusSearchField:f=!0,disableHideAllButton:m=!1,disableShowAllButton:C=!1,getTogglableColumns:w}=e,v=he(e,Tx),y=g.useMemo(()=>{switch(h){case"asc":return[...i].sort((P,L)=>Wd.compare(P.headerName||P.field,L.headerName||L.field));case"desc":return[...i].sort((P,L)=>-Wd.compare(P.headerName||P.field,L.headerName||L.field));default:return i}},[i,h]),D=P=>{const{name:L}=P.target;s.current.setColumnVisibility(L,l[L]===!1)},A=g.useCallback(P=>{const L=xo(s),T=S({},L),F=w?w(i):null;return i.forEach(x=>{x.hideable&&(F==null||F.includes(x.field))&&(P?delete T[x.field]:T[x.field]=!1)}),s.current.setColumnVisibilityModel(T)},[s,i,w]),R=g.useCallback(P=>{u(P.target.value)},[]),M=g.useMemo(()=>{const P=w?w(y):null,L=P?y.filter(({field:T})=>P.includes(T)):y;return c?L.filter(T=>p(T,c.toLowerCase())):L},[y,c,p,w]),E=g.useRef(null);g.useEffect(()=>{f?r.current.focus():E.current&&typeof E.current.focus=="function"&&E.current.focus()},[f]);let V=!1;const I=P=>V===!1&&P.hideable!==!1?(V=!0,!0):!1;return b.jsxs(Ip,S({},v,{children:[b.jsx(Px,{children:b.jsx(a.slots.baseTextField,S({label:s.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:s.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:r,value:c,onChange:R,variant:"standard",fullWidth:!0},(t=a.slotProps)==null?void 0:t.baseTextField))}),b.jsx(Dp,{children:b.jsx(Ax,{className:d.root,ownerState:a,children:M.map(P=>{var L;return b.jsxs(Lx,{className:d.columnsPanelRow,ownerState:a,children:[b.jsx(Nw,{control:b.jsx(a.slots.baseSwitch,S({disabled:P.hideable===!1,checked:l[P.field]!==!1,onClick:D,name:P.field,size:"small",inputRef:I(P)?E:void 0},(L=a.slotProps)==null?void 0:L.baseSwitch)),label:P.headerName||P.field}),!a.disableColumnReorder&&Ix]},P.field)})})}),C&&m?null:b.jsxs(Mp,{children:[m?b.jsx("span",{}):b.jsx(a.slots.baseButton,S({onClick:()=>A(!1)},(o=a.slotProps)==null?void 0:o.baseButton,{disabled:m,children:s.current.getLocaleText("columnsPanelHideAllButton")})),C?null:b.jsx(a.slots.baseButton,S({onClick:()=>A(!0)},(n=a.slotProps)==null?void 0:n.baseButton,{disabled:C,children:s.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const Hx=["children","className","classes"],Vx=vn("MuiDataGrid",["panel","paper"]),Bx=Te(Es,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),Nx=Te(qo,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),zx=g.forwardRef((e,t)=>{const{children:o,className:n}=e,s=he(e,Hx),r=We(),i=Re(),l=Vx,[a,c]=g.useState(!1),u=g.useCallback(()=>{r.current.hidePreferences()},[r]),d=g.useCallback(m=>{ml(m.key)&&r.current.hidePreferences()},[r]),h=g.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{c(!0)},effect:()=>()=>{c(!1)}}],[]),[p,f]=g.useState(null);return g.useEffect(()=>{var m;const C=(m=r.current.rootElementRef)==null||(m=m.current)==null?void 0:m.querySelector(`.${N.columnHeaders}`);C&&f(C)},[r]),p?b.jsx(Bx,S({ref:t,placement:"bottom-start",className:Ae(n,l.panel),ownerState:i,anchorEl:p,modifiers:h},s,{children:b.jsx(Gg,{mouseEvent:"onMouseUp",onClickAway:u,children:b.jsx(Nx,{className:l.paper,ownerState:i,elevation:8,onKeyDown:d,children:a&&o})})})):null}),Wx=g.forwardRef(function(t,o){var n,s,r;const i=We(),l=fe(i,No),a=Re(),c=fe(i,oi),u=i.current.unstable_applyPipeProcessors("preferencePanel",null,(n=c.openedPanelValue)!=null?n:ps.filters);return b.jsx(a.slots.panel,S({ref:o,as:a.slots.basePopper,open:l.length>0&&c.open,id:c.panelId,"aria-labelledby":c.labelId},(s=a.slotProps)==null?void 0:s.panel,t,(r=a.slotProps)==null?void 0:r.basePopper,{children:u}))}),_x=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],$x=["InputComponentProps"],Ux=e=>{const{classes:t}=e;return Ge({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},_e,t)},jx=Te("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),Kx=Te("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),qx=Te("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),Yx=Te("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),Qx=Te("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),Zx=Te("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),Xx=e=>{switch(e){case qt.And:return"filterPanelOperatorAnd";case qt.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Ar=e=>e.headerName||e.field,_d=new Intl.Collator,Jx=g.forwardRef(function(t,o){var n,s,r,i,l,a,c,u,d,h;const{item:p,hasMultipleFilters:f,deleteFilter:m,applyFilterChanges:C,multiFilterOperator:w,showMultiFilterOperators:v,disableMultiFilterOperator:y,applyMultiFilterOperatorChanges:D,focusElementRef:A,logicOperators:R=[qt.And,qt.Or],columnsSort:M,filterColumns:E,deleteIconProps:V={},logicOperatorInputProps:I={},operatorInputProps:P={},columnInputProps:L={},valueInputProps:T={}}=t,F=he(t,_x),x=We(),O=fe(x,jg),H=fe(x,Rt),k=dt(),G=dt(),B=dt(),W=dt(),z=Re(),j=Ux(z),q=g.useRef(null),X=g.useRef(null),me=f&&R.length>0,ge=((n=z.slotProps)==null?void 0:n.baseFormControl)||{},re=(r=(((s=z.slotProps)==null?void 0:s.baseSelect)||{}).native)!=null?r:!0,we=((i=z.slotProps)==null?void 0:i.baseInputLabel)||{},pe=((l=z.slotProps)==null?void 0:l.baseSelectOption)||{},{InputComponentProps:be}=T,ne=he(T,$x),te=g.useMemo(()=>{if(E===void 0||typeof E!="function")return O;const de=E({field:p.field,columns:O,currentFilters:H?.items||[]});return O.filter(oe=>de.includes(oe.field))},[E,H?.items,O,p.field]),J=g.useMemo(()=>{switch(M){case"asc":return te.sort((de,oe)=>_d.compare(Ar(de),Ar(oe)));case"desc":return te.sort((de,oe)=>-_d.compare(Ar(de),Ar(oe)));default:return te}},[te,M]),Y=p.field?x.current.getColumn(p.field):null,ue=g.useMemo(()=>{var de;return!p.operator||!Y?null:(de=Y.filterOperators)==null?void 0:de.find(oe=>oe.value===p.operator)},[p,Y]),Z=g.useCallback(de=>{const oe=de.target.value,ce=x.current.getColumn(oe);if(ce.field===Y.field)return;const ve=ce.filterOperators.find(je=>je.value===p.operator)||ce.filterOperators[0],Le=!ve.InputComponent||ve.InputComponent!==ue?.InputComponent||ce.type!==Y.type;C(S({},p,{field:oe,operator:ve.value,value:Le?void 0:p.value}))},[x,C,p,Y,ue]),Se=g.useCallback(de=>{const oe=de.target.value,ce=Y?.filterOperators.find(Le=>Le.value===oe),ve=!(ce!=null&&ce.InputComponent)||ce?.InputComponent!==ue?.InputComponent;C(S({},p,{operator:oe,value:ve?void 0:p.value}))},[C,p,Y,ue]),Pe=g.useCallback(de=>{const oe=de.target.value===qt.And.toString()?qt.And:qt.Or;D(oe)},[D]),Ve=()=>{z.disableMultipleColumnsFiltering?p.value===void 0?m(p):C(S({},p,{value:void 0})):m(p)};return g.useImperativeHandle(A,()=>({focus:()=>{if(ue!=null&&ue.InputComponent){var de;q==null||(de=q.current)==null||de.focus()}else X.current.focus()}}),[ue]),b.jsxs(jx,S({ref:o,className:j.root,"data-id":p.id,ownerState:z},F,{children:[b.jsx(Kx,S({variant:"standard",as:z.slots.baseFormControl},ge,V,{className:Ae(j.deleteIcon,ge.className,V.className),ownerState:z,children:b.jsx(z.slots.baseIconButton,S({"aria-label":x.current.getLocaleText("filterPanelDeleteIconLabel"),title:x.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ve,size:"small"},(a=z.slotProps)==null?void 0:a.baseIconButton,{children:b.jsx(z.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),b.jsx(qx,S({variant:"standard",as:z.slots.baseFormControl},ge,I,{sx:S({display:me?"flex":"none",visibility:v?"visible":"hidden"},ge.sx||{},I.sx||{}),className:Ae(j.logicOperatorInput,ge.className,I.className),ownerState:z,children:b.jsx(z.slots.baseSelect,S({inputProps:{"aria-label":x.current.getLocaleText("filterPanelLogicOperator")},value:w,onChange:Pe,disabled:!!y||R.length===1,native:re},(c=z.slotProps)==null?void 0:c.baseSelect,{children:R.map(de=>g.createElement(z.slots.baseSelectOption,S({},pe,{native:re,key:de.toString(),value:de.toString()}),x.current.getLocaleText(Xx(de))))}))})),b.jsxs(Yx,S({variant:"standard",as:z.slots.baseFormControl},ge,L,{className:Ae(j.columnInput,ge.className,L.className),ownerState:z,children:[b.jsx(z.slots.baseInputLabel,S({},we,{htmlFor:k,id:G,children:x.current.getLocaleText("filterPanelColumns")})),b.jsx(z.slots.baseSelect,S({labelId:G,id:k,label:x.current.getLocaleText("filterPanelColumns"),value:p.field||"",onChange:Z,native:re},(u=z.slotProps)==null?void 0:u.baseSelect,{children:J.map(de=>g.createElement(z.slots.baseSelectOption,S({},pe,{native:re,key:de.field,value:de.field}),Ar(de)))}))]})),b.jsxs(Qx,S({variant:"standard",as:z.slots.baseFormControl},ge,P,{className:Ae(j.operatorInput,ge.className,P.className),ownerState:z,children:[b.jsx(z.slots.baseInputLabel,S({},we,{htmlFor:B,id:W,children:x.current.getLocaleText("filterPanelOperator")})),b.jsx(z.slots.baseSelect,S({labelId:W,label:x.current.getLocaleText("filterPanelOperator"),id:B,value:p.operator,onChange:Se,native:re,inputRef:X},(d=z.slotProps)==null?void 0:d.baseSelect,{children:Y==null||(h=Y.filterOperators)==null?void 0:h.map(de=>g.createElement(z.slots.baseSelectOption,S({},pe,{native:re,key:de.value,value:de.value}),de.label||x.current.getLocaleText(`filterOperator${Xe(de.value)}`)))}))]})),b.jsx(Zx,S({variant:"standard",as:z.slots.baseFormControl},ge,ne,{className:Ae(j.valueInput,ge.className,ne.className),ownerState:z,children:ue!=null&&ue.InputComponent?b.jsx(ue.InputComponent,S({apiRef:x,item:p,applyValue:C,focusElementRef:q},ue.InputComponentProps,be)):null}))]}))});class hu{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new hu}start(t,o){this.clear(),this.currentId=setTimeout(o,t)}}function gu(){const e=Xc(hu.create).current;return $g(e.disposeEffect),e}const eP=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function Oo(e){var t,o;const{item:n,applyValue:s,type:r,apiRef:i,focusElementRef:l,tabIndex:a,disabled:c,clearButton:u,InputProps:d,variant:h="standard"}=e,p=he(e,eP),f=gu(),[m,C]=g.useState((t=n.value)!=null?t:""),[w,v]=g.useState(!1),y=dt(),D=Re(),A=g.useCallback(R=>{const{value:M}=R.target;C(String(M)),v(!0),f.start(D.filterDebounceMs,()=>{const E=S({},n,{value:M,fromInput:y});s(E),v(!1)})},[y,s,n,D.filterDebounceMs,f]);return g.useEffect(()=>{if(n.fromInput!==y||n.value===void 0){var M;C(String((M=n.value)!=null?M:""))}},[y,n]),b.jsx(D.slots.baseTextField,S({id:y,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:A,variant:h,type:r||"text",InputProps:S({},w||u?{endAdornment:w?b.jsx(D.slots.loadIcon,{fontSize:"small",color:"action"}):u}:{},{disabled:c},d,{inputProps:S({tabIndex:a},d?.inputProps)}),InputLabelProps:{shrink:!0},inputRef:l},p,(o=D.slotProps)==null?void 0:o.baseTextField))}const tP=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Hs(e){var t,o;const{item:n,applyValue:s,type:r,apiRef:i,focusElementRef:l,InputProps:a,clearButton:c,tabIndex:u,disabled:d}=e,h=he(e,tP),p=gu(),[f,m]=g.useState((t=n.value)!=null?t:""),[C,w]=g.useState(!1),v=dt(),y=Re(),D=g.useCallback(A=>{const R=A.target.value;m(String(R)),w(!0),p.start(y.filterDebounceMs,()=>{s(S({},n,{value:R})),w(!1)})},[s,n,y.filterDebounceMs,p]);return g.useEffect(()=>{var A;const R=(A=n.value)!=null?A:"";m(String(R))},[n.value]),b.jsx(y.slots.baseTextField,S({fullWidth:!0,id:v,label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),value:f,onChange:D,variant:"standard",type:r||"text",InputLabelProps:{shrink:!0},inputRef:l,InputProps:S({},C||c?{endAdornment:C?b.jsx(y.slots.loadIcon,{fontSize:"small",color:"action"}):c}:{},{disabled:d},a,{inputProps:S({max:r==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:u},a?.inputProps)})},h,(o=y.slotProps)==null?void 0:o.baseTextField))}const oP=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],nP=({column:{valueOptions:e,field:t},OptionComponent:o,getOptionLabel:n,getOptionValue:s,isSelectNative:r,baseSelectOptionProps:i})=>(typeof e=="function"?["",...e({field:t})]:["",...e||[]]).map(a=>{const c=s(a),u=n(a);return g.createElement(o,S({},i,{native:r,key:c,value:c}),u)}),sP=Te("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function $d(e){var t,o,n,s,r,i,l,a;const{item:c,applyValue:u,type:d,apiRef:h,focusElementRef:p,getOptionLabel:f,getOptionValue:m,placeholder:C,tabIndex:w,label:v,variant:y="standard",clearButton:D}=e,A=he(e,oP),[R,M]=g.useState((t=c.value)!=null?t:""),E=dt(),V=dt(),I=Re(),P=(o=(n=I.slotProps)==null||(n=n.baseSelect)==null?void 0:n.native)!=null?o:!0;let L=null;if(c.field){const k=h.current.getColumn(c.field);rs(k)&&(L=k)}const T=m||((s=L)==null?void 0:s.getOptionValue),F=f||((r=L)==null?void 0:r.getOptionLabel),x=g.useMemo(()=>{if(L)return typeof L.valueOptions=="function"?L.valueOptions({field:L.field}):L.valueOptions},[L]),O=g.useCallback(k=>{let G=k.target.value;G=lc(G,x,T),M(String(G)),u(S({},c,{value:G}))},[x,T,u,c]);if(g.useEffect(()=>{var k;let G;if(x!==void 0){if(G=lc(c.value,x,T),G!==c.value){u(S({},c,{value:G}));return}}else G=c.value;G=(k=G)!=null?k:"",M(String(G))},[c,x,u,T]),!rs(L)||!rs(L))return null;const H=v??h.current.getLocaleText("filterPanelInputLabel");return b.jsxs(sP,{children:[b.jsxs(I.slots.baseFormControl,{children:[b.jsx(I.slots.baseInputLabel,S({},(i=I.slotProps)==null?void 0:i.baseInputLabel,{id:V,htmlFor:E,shrink:!0,variant:y,children:H})),b.jsx(I.slots.baseSelect,S({id:E,label:H,labelId:V,value:R,onChange:O,variant:y,type:d||"text",inputProps:{tabIndex:w,ref:p,placeholder:C??h.current.getLocaleText("filterPanelInputPlaceholder")},native:P,notched:y==="outlined"?!0:void 0},A,(l=I.slotProps)==null?void 0:l.baseSelect,{children:nP({column:L,OptionComponent:I.slots.baseSelectOption,getOptionLabel:F,getOptionValue:T,isSelectNative:P,baseSelectOptionProps:(a=I.slotProps)==null?void 0:a.baseSelectOption})}))]}),D]})}const rP=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],iP=Te("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function lP(e){var t,o,n,s;const{item:r,applyValue:i,apiRef:l,focusElementRef:a,clearButton:c,tabIndex:u,label:d,variant:h="standard"}=e,p=he(e,rP),[f,m]=g.useState(r.value||""),C=Re(),w=dt(),v=dt(),y=((t=C.slotProps)==null?void 0:t.baseSelect)||{},D=(o=y.native)!=null?o:!0,A=((n=C.slotProps)==null?void 0:n.baseSelectOption)||{},R=g.useCallback(E=>{const V=E.target.value;m(V),i(S({},r,{value:V}))},[i,r]);g.useEffect(()=>{m(r.value||"")},[r.value]);const M=d??l.current.getLocaleText("filterPanelInputLabel");return b.jsxs(iP,{children:[b.jsxs(C.slots.baseFormControl,{fullWidth:!0,children:[b.jsx(C.slots.baseInputLabel,S({},(s=C.slotProps)==null?void 0:s.baseInputLabel,{id:w,shrink:!0,variant:h,children:M})),b.jsxs(C.slots.baseSelect,S({labelId:w,id:v,label:M,value:f,onChange:R,variant:h,notched:h==="outlined"?!0:void 0,native:D,displayEmpty:!0,inputProps:{ref:a,tabIndex:u}},p,y,{children:[b.jsx(C.slots.baseSelectOption,S({},A,{native:D,value:"",children:l.current.getLocaleText("filterValueAny")})),b.jsx(C.slots.baseSelectOption,S({},A,{native:D,value:"true",children:l.current.getLocaleText("filterValueTrue")})),b.jsx(C.slots.baseSelectOption,S({},A,{native:D,value:"false",children:l.current.getLocaleText("filterValueFalse")}))]}))]}),c]})}const aP=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Ud=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),cP=g.forwardRef(function(t,o){var n,s;const r=We(),i=Re(),l=fe(r,Rt),a=fe(r,jg),c=g.useRef(null),u=g.useRef(null),{logicOperators:d=[qt.And,qt.Or],columnsSort:h,filterFormProps:p,getColumnForNewFilter:f,disableAddFilterButton:m=!1,disableRemoveAllButton:C=!1}=t,w=he(t,aP),v=r.current.upsertFilterItem,y=g.useCallback(P=>{r.current.setFilterLogicOperator(P)},[r]),D=g.useCallback(()=>{let P;if(f&&typeof f=="function"){const L=f({currentFilters:l?.items||[],columns:a});if(L===null)return null;P=a.find(({field:T})=>T===L)}else P=a.find(L=>{var T;return(T=L.filterOperators)==null?void 0:T.length});return P?Ud(P):null},[l?.items,a,f]),A=g.useCallback(()=>{if(f===void 0||typeof f!="function")return D();const P=l.items.length?l.items:[D()].filter(Boolean),L=f({currentFilters:P,columns:a});if(L===null)return null;const T=a.find(({field:F})=>F===L);return T?Ud(T):null},[l.items,a,f,D]),R=g.useMemo(()=>l.items.length?l.items:(u.current||(u.current=D()),u.current?[u.current]:[]),[l.items,D]),M=R.length>1,E=()=>{const P=A();P&&r.current.upsertFilterItems([...R,P])},V=g.useCallback(P=>{const L=R.length===1;r.current.deleteFilterItem(P),L&&r.current.hideFilterPanel()},[r,R.length]),I=()=>{R.length===1&&R[0].value===void 0&&(r.current.deleteFilterItem(R[0]),r.current.hideFilterPanel()),r.current.setFilterModel(S({},l,{items:[]}))};return g.useEffect(()=>{d.length>0&&l.logicOperator&&!d.includes(l.logicOperator)&&y(d[0])},[d,y,l.logicOperator]),g.useEffect(()=>{R.length>0&&c.current.focus()},[R.length]),b.jsxs(Ip,S({ref:o},w,{children:[b.jsx(Dp,{children:R.map((P,L)=>b.jsx(Jx,S({item:P,applyFilterChanges:v,deleteFilter:V,hasMultipleFilters:M,showMultiFilterOperators:L>0,multiFilterOperator:l.logicOperator,disableMultiFilterOperator:L!==1,applyMultiFilterOperatorChanges:y,focusElementRef:L===R.length-1?c:null,logicOperators:d,columnsSort:h},p),P.id==null?L:P.id))}),!i.disableMultipleColumnsFiltering&&!(m&&C)?b.jsxs(Mp,{children:[m?b.jsx("span",{}):b.jsx(i.slots.baseButton,S({onClick:E,startIcon:b.jsx(i.slots.filterPanelAddIcon,{})},(n=i.slotProps)==null?void 0:n.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),C?null:b.jsx(i.slots.baseButton,S({onClick:I,startIcon:b.jsx(i.slots.filterPanelRemoveAllIcon,{})},(s=i.slotProps)==null?void 0:s.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),uP=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function Tp(e){const{item:t,applyValue:o,type:n,apiRef:s,focusElementRef:r,color:i,error:l,helperText:a,size:c,variant:u}=e,d=he(e,uP),h={color:i,error:l,helperText:a,size:c,variant:u},[p,f]=g.useState(t.value||[]),m=dt(),C=Re();g.useEffect(()=>{var v;const y=(v=t.value)!=null?v:[];f(y.map(String))},[t.value]);const w=g.useCallback((v,y)=>{f(y.map(String)),o(S({},t,{value:[...y]}))},[o,t]);return b.jsx(Lg,S({multiple:!0,freeSolo:!0,options:[],filterOptions:(v,y)=>{const{inputValue:D}=y;return D==null||D===""?[]:[D]},id:m,value:p,onChange:w,renderTags:(v,y)=>v.map((D,A)=>b.jsx(C.slots.baseChip,S({variant:"outlined",size:"small",label:D},y({index:A})))),renderInput:v=>{var y;return b.jsx(C.slots.baseTextField,S({},v,{label:s.current.getLocaleText("filterPanelInputLabel"),placeholder:s.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:S({},v.InputLabelProps,{shrink:!0}),inputRef:r,type:n||"text"},h,(y=C.slotProps)==null?void 0:y.baseTextField))}},d))}const dP=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],hP=kg();function gP(e){var t,o;const{item:n,applyValue:s,apiRef:r,focusElementRef:i,color:l,error:a,helperText:c,size:u,variant:d="standard",getOptionLabel:h,getOptionValue:p}=e,f=he(e,dP),m={color:l,error:a,helperText:c,size:u,variant:d},C=dt(),w=Re();let v=null;if(n.field){const I=r.current.getColumn(n.field);rs(I)&&(v=I)}const y=p||((t=v)==null?void 0:t.getOptionValue),D=h||((o=v)==null?void 0:o.getOptionLabel),A=g.useCallback((I,P)=>y(I)===y(P),[y]),R=g.useMemo(()=>{var I;return(I=v)!=null&&I.valueOptions?typeof v.valueOptions=="function"?v.valueOptions({field:v.field}):v.valueOptions:[]},[v]),M=g.useMemo(()=>R?.map(y),[R,y]),E=g.useMemo(()=>Array.isArray(n.value)?R!==void 0?n.value.map(P=>M?.findIndex(L=>L===P)).filter(P=>P>=0).map(P=>R[P]):n.value:[],[n.value,R,M]);g.useEffect(()=>{(!Array.isArray(n.value)||E.length!==n.value.length)&&s(S({},n,{value:E.map(y)}))},[n,E,s,y]);const V=g.useCallback((I,P)=>{s(S({},n,{value:P.map(y)}))},[s,n,y]);return b.jsx(Lg,S({multiple:!0,options:R,isOptionEqualToValue:A,filterOptions:hP,id:C,value:E,onChange:V,getOptionLabel:D,renderTags:(I,P)=>I.map((L,T)=>b.jsx(w.slots.baseChip,S({variant:"outlined",size:"small",label:D(L)},P({index:T})))),renderInput:I=>{var P;return b.jsx(w.slots.baseTextField,S({},I,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:S({},I.InputLabelProps,{shrink:!0}),inputRef:i,type:"singleSelect"},m,(P=w.slotProps)==null?void 0:P.baseTextField))}},f))}const pP=["hideMenu","options"],fP=["hideMenu","options"];function mP(e){const t=We(),{hideMenu:o,options:n}=e,s=he(e,pP);return b.jsx(Bo,S({onClick:()=>{t.current.exportDataAsCsv(n),o?.()}},s,{children:t.current.getLocaleText("toolbarExportCSV")}))}function CP(e){const t=We(),{hideMenu:o,options:n}=e,s=he(e,fP);return b.jsx(Bo,S({onClick:()=>{t.current.exportDataAsPrint(n),o?.()}},s,{children:t.current.getLocaleText("toolbarExportPrint")}))}const wP=["className","selectedRowCount"],vP=e=>{const{classes:t}=e;return Ge({root:["selectedRowCount"]},_e,t)},bP=Tt("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),SP=g.forwardRef(function(t,o){const{className:n,selectedRowCount:s}=t,r=he(t,wP),i=We(),l=Re(),a=vP(l),c=i.current.getLocaleText("footerRowSelected")(s);return b.jsx(bP,S({ref:o,className:Ae(a.root,n),ownerState:l},r,{children:c}))}),yP=g.forwardRef(function(t,o){var n,s;const r=We(),i=Re(),l=fe(r,jb),a=fe(r,fR),c=fe(r,Jg),u=!i.hideFooterSelectedRowCount&&a>0?b.jsx(SP,{selectedRowCount:a}):b.jsx("div",{}),d=!i.hideFooterRowCount&&!i.pagination?b.jsx(i.slots.footerRowCount,S({},(n=i.slotProps)==null?void 0:n.footerRowCount,{rowCount:l,visibleRowCount:c})):null,h=i.pagination&&!i.hideFooterPagination&&i.slots.pagination&&b.jsx(i.slots.pagination,S({},(s=i.slotProps)==null?void 0:s.pagination));return b.jsxs(Fy,S({ref:o},t,{children:[u,d,h]}))});function RP(){var e,t;const o=Re();return b.jsxs(g.Fragment,{children:[b.jsx(o.slots.preferencesPanel,S({},(e=o.slotProps)==null?void 0:e.preferencesPanel)),o.slots.toolbar&&b.jsx(o.slots.toolbar,S({},(t=o.slotProps)==null?void 0:t.toolbar))]})}const xP=g.forwardRef(function(t,o){return b.jsx(lu,S({ref:o},t,{children:b.jsx(yw,{})}))}),PP=g.forwardRef(function(t,o){const s=We().current.getLocaleText("noRowsLabel");return b.jsx(lu,S({ref:o},t,{children:s}))}),FP=Te(Hg)(({theme:e})=>({[`& .${ns.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${ns.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),EP=g.forwardRef(function(t,o){const n=We(),s=Re(),r=fe(n,co),i=fe(n,Ks),l=g.useMemo(()=>Math.floor(i/(r.pageSize||1)),[i,r.pageSize]),a=g.useCallback(h=>{const p=Number(h.target.value);n.current.setPageSize(p)},[n]),c=g.useCallback((h,p)=>{n.current.setPage(p)},[n]),d=(h=>{for(let p=0;p<s.pageSizeOptions.length;p+=1){const f=s.pageSizeOptions[p];if(typeof f=="number"){if(f===h)return!0}else if(f.value===h)return!0}return!1})(r.pageSize)?s.pageSizeOptions:[];return b.jsx(FP,S({ref:o,component:"div",count:i,page:r.page<=l?r.page:l,rowsPerPageOptions:d,rowsPerPage:r.pageSize,onPageChange:c,onRowsPerPageChange:a},n.current.getLocaleText("MuiTablePagination"),t))}),DP=["className","rowCount","visibleRowCount"],MP=e=>{const{classes:t}=e;return Ge({root:["rowCount"]},_e,t)},IP=Tt("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),TP=g.forwardRef(function(t,o){const{className:n,rowCount:s,visibleRowCount:r}=t,i=he(t,DP),l=We(),a=Re(),c=MP(a);if(s===0)return null;const u=r<s?l.current.getLocaleText("footerTotalVisibleRows")(r,s):s.toLocaleString();return b.jsxs(IP,S({ref:o,className:Ae(c.root,n),ownerState:a},i,{children:[l.current.getLocaleText("footerTotalRows")," ",u]}))}),vl=(e,t)=>{let o,n;return t.pagination&&t.paginationMode==="client"?(n=uu(e),o=pR(e)):(o=$n(e),o.length===0?n=null:n={firstRowIndex:0,lastRowIndex:o.length-1}),{rows:o,range:n}},Ds=(e,t)=>{const o=vl(e,t);return g.useMemo(()=>({rows:o.rows,range:o.range}),[o.rows,o.range])},ac={current:null};function Si(e){return e.isInternal=!0,e}function bl(e){return e!==void 0&&e.isInternal===!0}function kP(e){return Si((t,o)=>{const n=e(t,o);return n&&(s=>n(s.value,s.row,o,ac.current))})}function yi(e){return e.map(t=>S({},t,{getApplyFilterFn:kP(t.getApplyFilterFnV7),getApplyFilterFnV7:Si(t.getApplyFilterFnV7)}))}function kp(e){return Si((t,o,n)=>{const s=e(t,o,n);return s&&(r=>s(r.value,r.row,o,n))})}function Ap(e){return{current:e.current.getPublicApi()}}let Lr;function AP(){if(Lr!==void 0)return Lr;try{Lr=new Function("return true")()}catch{Lr=!1}return Lr}const cc=(e,t)=>{const o=S({},e);if(o.id==null&&(o.id=Math.round(Math.random()*1e5)),o.operator==null){const n=br(t)[o.field];o.operator=n&&n.filterOperators[0].value}return o},LP=Qo(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),OP=Qo("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),GP=Qo("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),Lp=(e,t,o)=>{const n=e.items.length>1;let s;n&&t?(LP(),s=[e.items[0]]):s=e.items;const r=n&&s.some(l=>l.id==null),i=s.some(l=>l.operator==null);return r&&OP(),i&&GP(),i||r?S({},e,{items:s.map(l=>cc(l,o))}):e.items!==s?S({},e,{items:s}):e},jd=(e,t,o)=>n=>S({},n,{filterModel:Lp(e,t,o)}),Gn=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Op=(e,t)=>{if(!e.field||!e.operator)return null;const o=t.current.getColumn(e.field);if(!o)return null;let n;if(o.valueParser){var s;const p=o.valueParser;n=Array.isArray(e.value)?(s=e.value)==null?void 0:s.map(f=>p(f)):p(e.value)}else n=e.value;const{ignoreDiacritics:r}=t.current.rootProps;r&&(n=Gn(n));const i=S({},e,{value:n}),l=o.filterOperators;if(!(l!=null&&l.length))throw new Error(`MUI: No filter operators found for column '${o.field}'.`);const a=l.find(p=>p.value===i.operator);if(!a)throw new Error(`MUI: No filter operator found for column '${o.field}' and operator value '${i.operator}'.`);const c=!bl(a.getApplyFilterFn),u=!bl(a.getApplyFilterFnV7),d=Ap(t);if(a.getApplyFilterFnV7&&!(c&&!u)){const p=a.getApplyFilterFnV7(i,o);return typeof p!="function"?null:{v7:!0,item:i,fn:f=>{let m=t.current.getRowValue(f,o);return r&&(m=Gn(m)),p(m,f,o,d)}}}const h=a.getApplyFilterFn(i,o);return typeof h!="function"?null:{v7:!1,item:i,fn:p=>{const f=t.current.getCellParams(p,i.field);ac.current=d,r&&(f.value=Gn(f.value));const m=h(f);return ac.current=null,m}}};let Kd=1;const HP=(e,t,o)=>{const{items:n}=e,s=n.map(l=>Op(l,t)).filter(l=>!!l);if(s.length===0)return null;if(o||!AP())return(l,a)=>{const c={};for(let u=0;u<s.length;u+=1){const d=s[u];(!a||a(d.item.field))&&(c[d.item.id]=d.v7?d.fn(l):d.fn(t.current.getRowId(l)))}return c};const r=new Function("getRowId","appliers","row","shouldApplyFilter",`"use strict";
${s.map((l,a)=>`const shouldApply${a} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(l.item.field)});`).join(`
`)}

const result$$ = {
${s.map((l,a)=>`  ${JSON.stringify(String(l.item.id))}: !shouldApply${a}
    ? false
    : ${l.v7?`appliers[${a}].fn(row)`:`appliers[${a}].fn(getRowId(row))`},`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(Kd)));return Kd+=1,(l,a)=>r(t.current.getRowId,s,l,a)},VP=(e,t)=>{var o,n,s;const r=(o=(n=e.quickFilterValues)==null?void 0:n.filter(Boolean))!=null?o:[];if(r.length===0)return null;const l=((s=e.quickFilterExcludeHiddenColumns)!=null?s:!1)?Yl(t):hn(t),a=[],{ignoreDiacritics:c}=t.current.rootProps,u=Ap(t);return l.forEach(d=>{const h=t.current.getColumn(d),p=h?.getApplyQuickFilterFn,f=h?.getApplyQuickFilterFnV7,m=!bl(p),C=!bl(f);f&&!(m&&!C)?a.push({column:h,appliers:r.map(w=>{const v=c?Gn(w):w;return{v7:!0,fn:f(v,h,u)}})}):p&&a.push({column:h,appliers:r.map(w=>{const v=c?Gn(w):w;return{v7:!1,fn:p(v,h,u)}})})}),function(h,p){const f={},m={};e:for(let w=0;w<r.length;w+=1){const v=r[w];for(let y=0;y<a.length;y+=1){const{column:D,appliers:A}=a[y],{field:R}=D;if(p&&!p(R))continue;const M=A[w];let E=t.current.getRowValue(h,D);if(M.fn!==null)if(M.v7){if(c&&(E=Gn(E)),M.fn(E,h,D,u)){f[v]=!0;continue e}}else{var C;const V=(C=m[R])!=null?C:t.current.getCellParams(t.current.getRowId(h),R);if(c&&(V.value=Gn(V.value)),m[R]=V,M.fn(V)){f[v]=!0;continue e}}}f[v]=!1}return f}},BP=(e,t,o)=>{const n=HP(e,t,o),s=VP(e,t);return function(i,l,a){var c,u;a.passingFilterItems=(c=n?.(i,l))!=null?c:null,a.passingQuickFilterValues=(u=s?.(i,l))!=null?u:null}},qd=e=>e!=null,NP=(e,t,o)=>(e.cleanedFilterItems||(e.cleanedFilterItems=o.filter(n=>Op(n,t)!==null)),e.cleanedFilterItems),zP=(e,t,o,n,s)=>{const r=NP(s,n,o.items),i=e.filter(qd),l=t.filter(qd);if(i.length>0){var a;const u=h=>i.some(p=>p[h.id]);if(((a=o.logicOperator)!=null?a:ti().logicOperator)===qt.And){if(!r.every(u))return!1}else if(!r.some(u))return!1}if(l.length>0&&o.quickFilterValues!=null){var c;const u=h=>l.some(p=>p[h]);if(((c=o.quickFilterLogicOperator)!=null?c:ti().quickFilterLogicOperator)===qt.And){if(!o.quickFilterValues.every(u))return!1}else if(!o.quickFilterValues.some(u))return!1}return!0},Yd=Si(e=>{if(!e)return null;const t=new RegExp(Yi(e),"i");return(o,n,s,r)=>{let i=r.current.getRowFormattedValue(n,s);return r.current.ignoreDiacritics&&(i=Gn(i)),i!=null?t.test(i.toString()):!1}}),WP=(e=!1)=>yi([{value:"contains",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),n=new RegExp(Yi(o),"i");return s=>s!=null?n.test(String(s)):!1},InputComponent:Oo},{value:"equals",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return s=>s!=null?n.compare(o,s.toString())===0:!1},InputComponent:Oo},{value:"startsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),n=new RegExp(`^${Yi(o)}.*$`,"i");return s=>s!=null?n.test(s.toString()):!1},InputComponent:Oo},{value:"endsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),n=new RegExp(`.*${Yi(o)}$`,"i");return s=>s!=null?n.test(s.toString()):!1},InputComponent:Oo},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const o=e?t.value:t.value.map(s=>s.trim()),n=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return s=>s!=null?o.some(r=>n.compare(r,s.toString()||"")===0):!1},InputComponent:Tp}]),Po={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:RR,type:"string",align:"left",filterOperators:WP(),renderEditCell:YS,getApplyQuickFilterFn:kp(Yd),getApplyQuickFilterFnV7:Yd},_P=()=>yi([{value:"is",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=e.value==="true";return o=>!!o===t},InputComponent:lP}]);function $P({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const UP=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},Gp=S({},Po,{type:"boolean",align:"center",headerAlign:"center",renderCell:GS,renderEditCell:NS,sortComparator:Rp,valueFormatter:$P,filterOperators:_P(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:e=>UP(e)}),In="__check__",Rr=S({},Gp,{field:In,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:e=>wl(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>b.jsx(HR,S({},e)),renderCell:e=>b.jsx(LR,S({},e))}),oa="actions",jP=S({},Po,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:py,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),pu="__detail_panel_toggle__",Nt=e=>e.editRows,KP=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],qP=e=>{const{editable:t,editing:o,selected:n,isLastVisible:s,rowHeight:r,classes:i}=e;return Ge({root:["row",n&&"selected",t&&"row--editable",o&&"row--editing",s&&"row--lastVisible",r==="auto"&&"row--dynamicHeight"]},_e,i)};function YP({width:e}){if(!e)return null;const t={width:e};return b.jsx("div",{className:`${N.cell} ${N.withBorderColor}`,style:t})}const QP=g.forwardRef(function(t,o){const{selected:n,hovered:s,rowId:r,row:i,index:l,style:a,position:c,rowHeight:u,className:d,visibleColumns:h,renderedColumns:p,containerWidth:f,firstColumnToRender:m,isLastVisible:C=!1,focusedCellColumnIndexNotInRange:w,isNotVisible:v,focusedCell:y,onClick:D,onDoubleClick:A,onMouseEnter:R,onMouseLeave:M,onMouseOut:E,onMouseOver:V}=t,I=he(t,KP),P=We(),L=g.useRef(null),T=Re(),F=Ds(P,T),x=fe(P,eu),O=fe(P,ao),H=fe(P,Xl),k=fe(P,wi),G=fe(P,Nt),B=Yo(L,o),W=l+k+2,z={selected:n,isLastVisible:C,classes:T.classes,editing:P.current.getRowMode(r)===rt.Edit,editable:T.editMode===$o.Row,rowHeight:u},j=qP(z);g.useLayoutEffect(()=>{u==="auto"&&L.current&&typeof ResizeObserver>"u"&&P.current.unstable_storeRowHeightMeasurement(r,L.current.clientHeight,c)},[P,u,r,c]),g.useLayoutEffect(()=>{if(F.range){const Le=P.current.getRowIndexRelativeToVisibleRows(r);Le!=null&&P.current.unstable_setLastMeasuredRowIndex(Le)}const oe=L.current;if(!oe||u!=="auto"||typeof ResizeObserver>"u")return;const ve=new ResizeObserver(Le=>{const[je]=Le,ke=je.borderBoxSize&&je.borderBoxSize.length>0?je.borderBoxSize[0].blockSize:je.contentRect.height;P.current.unstable_storeRowHeightMeasurement(r,ke,c)});return ve.observe(oe),()=>ve.disconnect()},[P,F.range,l,u,r,c]);const q=g.useCallback((oe,ce)=>ve=>{vi(ve)||P.current.getRow(r)&&(P.current.publishEvent(oe,P.current.getRowParams(r),ve),ce&&ce(ve))},[P,r]),X=g.useCallback(oe=>{const ce=bS(oe.target,N.cell),ve=ce?.getAttribute("data-field");if(ve){if(ve===Rr.field||ve===pu||ve==="__reorder__"||P.current.getCellMode(r,ve)===Ke.Edit)return;const Le=P.current.getColumn(ve);if(Le?.type===oa)return}q("rowClick",D)(oe)},[P,D,q,r]),{slots:me,slotProps:ge,disableColumnReorder:Ce}=T,re=me.cell===ic?ic:IS,we=T.rowReordering,pe=(oe,ce)=>{var ve,Le;const je=Ce&&oe.disableReorder||!we&&!!O.length&&H>1&&Object.keys(G).length>0,ke=(ve=(Le=G[r])==null?void 0:Le[oe.field])!=null?ve:null;let Ie=!1;return w!==void 0&&h[w].field===oe.field&&(Ie=!0),b.jsx(re,S({column:oe,width:ce.width,rowId:r,height:u,showRightBorder:ce.showRightBorder,align:oe.align||"left",colIndex:ce.indexRelativeToAllColumns,colSpan:ce.colSpan,disableDragEvents:je,editCellState:ke,isNotVisible:Ie},ge?.cell),oe.field)},be=fe(P,()=>S({},P.current.unstable_getRowInternalSizes(r)),Jc);let ne=u;if(ne==="auto"&&be){let oe=0;const ce=Object.entries(be).reduce((ve,[Le,je])=>/^base[A-Z]/.test(Le)?(oe+=1,je>ve?je:ve):ve,0);ce>0&&oe>1&&(ne=ce)}const te=g.useMemo(()=>{if(v)return{opacity:0,width:0,height:0};const oe=S({},a,{maxHeight:u==="auto"?"none":u,minHeight:ne});if(be!=null&&be.spacingTop){const ce=T.rowSpacingType==="border"?"borderTopWidth":"marginTop";oe[ce]=be.spacingTop}if(be!=null&&be.spacingBottom){const ce=T.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let ve=oe[ce];typeof ve!="number"&&(ve=parseInt(ve||"0",10)),ve+=be.spacingBottom,oe[ce]=ve}return oe},[v,u,a,ne,be,T.rowSpacingType]),J=P.current.unstable_applyPipeProcessors("rowClassName",[],r);if(typeof T.getRowClassName=="function"){var Y;const oe=l-(((Y=F.range)==null?void 0:Y.firstRowIndex)||0),ce=S({},P.current.getRowParams(r),{isFirstVisible:oe===0,isLastVisible:oe===F.rows.length-1,indexRelativeToCurrentPage:oe});J.push(T.getRowClassName(ce))}const ue=lR(1e4,20,80),Z=P.current.getRowNode(r);if(!Z)return null;const Se=Z.type,Pe=[];for(let oe=0;oe<p.length;oe+=1){const ce=p[oe];let ve=m+oe;w!==void 0&&y&&(h[w].field===ce.field?ve=w:ve-=1);const Le=P.current.unstable_getCellColSpanInfo(r,ve);if(Le&&!Le.spannedByColSpan)if(Se!=="skeletonRow"){const{colSpan:je,width:ke}=Le.cellProps,Ie={width:ke,colSpan:je,showRightBorder:T.showCellVerticalBorder,indexRelativeToAllColumns:ve};Pe.push(pe(ce,Ie))}else{const{width:je}=Le.cellProps,ke=Math.round(ue());Pe.push(b.jsx(me.skeletonCell,{width:je,contentWidth:ke,field:ce.field,align:ce.align},ce.field))}}const Ve=f-x,de=i?{onClick:X,onDoubleClick:q("rowDoubleClick",A),onMouseEnter:q("rowMouseEnter",R),onMouseLeave:q("rowMouseLeave",M),onMouseOut:q("rowMouseOut",E),onMouseOver:q("rowMouseOver",V)}:null;return b.jsxs("div",S({ref:B,"data-id":r,"data-rowindex":l,role:"row",className:Ae(...J,j.root,d,s&&"Mui-hovered"),"aria-rowindex":W,"aria-selected":n,style:te},de,I,{children:[Pe,Ve>0&&b.jsx(YP,{width:Ve})]}))}),ZP=ta(QP);function XP({privateApiRef:e,props:t,children:o}){const n=g.useRef(e.current.getPublicApi());return b.jsx(Wg.Provider,{value:t,children:b.jsx(_g.Provider,{value:e,children:b.jsx(zg.Provider,{value:n,children:o})})})}const JP=rR()&&window.localStorage.getItem("DEBUG")!=null,zr=()=>{},eF={debug:zr,info:zr,warn:zr,error:zr},Qd=["debug","info","warn","error"];function Zd(e,t,o=console){const n=Qd.indexOf(t);if(n===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return Qd.reduce((r,i,l)=>(l>=n?r[i]=(...a)=>{const[c,...u]=a;o[i](`MUI: ${e} - ${c}`,...u)}:r[i]=zr,r),{})}const tF=(e,t)=>{const o=g.useCallback(n=>JP?Zd(n,"debug",t.logger):t.logLevel?Zd(n,t.logLevel.toString(),t.logger):eF,[t.logLevel,t.logger]);Be(e,{getLogger:o},"private")};class fu{static create(t){return new fu(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=o=>(this.listeners.add(o),()=>{this.listeners.delete(o)}),this.getSnapshot=()=>this.value,this.update=o=>{this.value=o,this.listeners.forEach(n=>n(o))},this.value=t,this.listeners=new Set}}class oF{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,n={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),n.isFirst?s.highPriority.set(o,!0):s.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const n=this.events[t];if(!n)return;const s=Array.from(n.highPriority.keys()),r=Array.from(n.regular.keys());for(let i=s.length-1;i>=0;i-=1){const l=s[i];n.highPriority.has(l)&&l.apply(this,o)}for(let i=0;i<r.length;i+=1){const l=r[i];n.regular.has(l)&&l.apply(this,o)}}once(t,o){const n=this;this.on(t,function s(...r){n.removeListener(t,s),o.apply(n,r)})}}const Hp=Symbol("mui.api_private"),nF=e=>e.isPropagationStopped!==void 0;let Xd=0;function sF(e){var t;const o=(t=e.current)==null?void 0:t[Hp];if(o)return o;const n={},s={state:n,store:fu.create(n),instanceId:{id:Xd}};return Xd+=1,s.getPublicApi=()=>e.current,s.register=(r,i)=>{Object.keys(i).forEach(l=>{const a=i[l],c=s[l];if(c?.spying===!0?c.target=a:s[l]=a,r==="public"){const u=e.current,d=u[l];d?.spying===!0?d.target=a:u[l]=a}})},s.register("private",{caches:{},eventManager:new oF}),s}function rF(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[Hp]:e.current}}function iF(e,t){const o=g.useRef(),n=g.useRef();n.current||(n.current=sF(o)),o.current||(o.current=rF(n));const s=g.useCallback((...i)=>{const[l,a,c={}]=i;if(c.defaultMuiPrevented=!1,nF(c)&&c.isPropagationStopped())return;const u=t.signature===zo.DataGridPro?{api:n.current.getPublicApi()}:{};n.current.eventManager.emit(l,a,c,u)},[n,t.signature]),r=g.useCallback((i,l,a)=>{n.current.eventManager.on(i,l,a);const c=n.current;return()=>{c.eventManager.removeListener(i,l)}},[n]);return Be(n,{subscribeEvent:r,publishEvent:s},"public"),g.useImperativeHandle(e,()=>o.current,[o]),g.useEffect(()=>{const i=n.current;return()=>{i.publishEvent("unmount")}},[n]),n}const lF=(e,t)=>{const o=g.useCallback(n=>{if(t.localeText[n]==null)throw new Error(`Missing translation for key ${n}.`);return t.localeText[n]},[t.localeText]);e.current.register("public",{getLocaleText:o})},aF=e=>{const t=g.useRef({}),o=g.useRef(!1),n=g.useCallback(u=>{o.current||!u||(o.current=!0,Object.values(u.appliers).forEach(d=>{d()}),o.current=!1)},[]),s=g.useCallback((u,d,h)=>{t.current[u]||(t.current[u]={processors:new Map,appliers:{}});const p=t.current[u];return p.processors.get(d)!==h&&(p.processors.set(d,h),n(p)),()=>{t.current[u].processors.set(d,null)}},[n]),r=g.useCallback((u,d,h)=>(t.current[u]||(t.current[u]={processors:new Map,appliers:{}}),t.current[u].appliers[d]=h,()=>{const p=t.current[u].appliers,f=he(p,[d].map(Jr));t.current[u].appliers=f}),[]),i=g.useCallback(u=>{const d=t.current[u];n(d)},[n]),l=g.useCallback((...u)=>{const[d,h,p]=u;return t.current[d]?Array.from(t.current[d].processors.values()).reduce((m,C)=>C?C(m,p):m,h):h},[]),a={registerPipeProcessor:s,registerPipeApplier:r,requestPipeProcessorsApplication:i},c={unstable_applyPipeProcessors:l};Be(e,a,"private"),Be(e,c,"public")},mt=(e,t,o)=>{const n=g.useRef(),s=g.useRef(`mui-${Math.round(Math.random()*1e9)}`),r=g.useCallback(()=>{n.current=e.current.registerPipeProcessor(t,s.current,o)},[e,o,t]);bi(()=>{r()});const i=g.useRef(!0);g.useEffect(()=>(i.current?i.current=!1:r(),()=>{n.current&&(n.current(),n.current=null)}),[r])},mu=(e,t,o)=>{const n=g.useRef(),s=g.useRef(`mui-${Math.round(Math.random()*1e9)}`),r=g.useCallback(()=>{n.current=e.current.registerPipeApplier(t,s.current,o)},[e,o,t]);bi(()=>{r()});const i=g.useRef(!0);g.useEffect(()=>(i.current?i.current=!1:r(),()=>{n.current&&(n.current(),n.current=null)}),[r])},Sl=(e,t,o,n)=>{const s=g.useCallback(()=>{e.current.registerStrategyProcessor(t,o,n)},[e,n,o,t]);bi(()=>{s()});const r=g.useRef(!0);g.useEffect(()=>{r.current?r.current=!1:s()},[s])},fs="none",Jd={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},cF=e=>{const t=g.useRef(new Map),o=g.useRef({}),n=g.useCallback((a,c,u)=>{const d=()=>{const f=o.current[c],m=he(f,[a].map(Jr));o.current[c]=m};o.current[c]||(o.current[c]={});const h=o.current[c],p=h[a];return h[a]=u,!p||p===u||a===e.current.getActiveStrategy(Jd[c])&&e.current.publishEvent("activeStrategyProcessorChange",c),d},[e]),s=g.useCallback((a,c)=>{const u=e.current.getActiveStrategy(Jd[a]);if(u==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const d=o.current[a];if(!d||!d[u])throw new Error(`No processor found for processor "${a}" on strategy "${u}"`);const h=d[u];return h(c)},[e]),r=g.useCallback(a=>{var c;const d=Array.from(t.current.entries()).find(([,h])=>h.group!==a?!1:h.isAvailable());return(c=d?.[0])!=null?c:fs},[]),i=g.useCallback((a,c,u)=>{t.current.set(c,{group:a,isAvailable:u}),e.current.publishEvent("strategyAvailabilityChange")},[e]);Be(e,{registerStrategyProcessor:n,applyStrategyProcessor:s,getActiveStrategy:r,setStrategyAvailability:i},"private")},uF=(e,t)=>{const o=g.useRef({}),[,n]=g.useState(),s=g.useCallback(u=>{o.current[u.stateId]=u},[]),r=g.useCallback((u,d)=>{let h;if(fp(u)?h=u(e.current.state):h=u,e.current.state===h)return!1;let p=!1;const f=[];if(Object.keys(o.current).forEach(m=>{const C=o.current[m],w=C.stateSelector(e.current.state,e.current.instanceId),v=C.stateSelector(h,e.current.instanceId);v!==w&&(f.push({stateId:C.stateId,hasPropChanged:v!==C.propModel}),C.propModel!==void 0&&v!==C.propModel&&(p=!0))}),f.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${f[0].stateId}, therefore, you're not allowed to update ${f.map(m=>m.stateId).join(", ")} in the same transaction.`);if(p||(e.current.state=h,e.current.publishEvent&&e.current.publishEvent("stateChange",h),e.current.store.update(h)),f.length===1){const{stateId:m,hasPropChanged:C}=f[0],w=o.current[m],v=w.stateSelector(h,e.current.instanceId);if(w.propOnChange&&C){const y=t.signature===zo.DataGridPro?{api:e.current,reason:d}:{reason:d};w.propOnChange(v,y)}p||e.current.publishEvent(w.changeEvent,v,{reason:d})}return!p},[e,t.signature]),i=g.useCallback((u,d,h)=>e.current.setState(p=>S({},p,{[u]:d(p[u])}),h),[e]),l=g.useCallback(()=>n(()=>e.current.state),[e]),a={setState:r,forceUpdate:l},c={updateControlState:i,registerControlState:s};Be(e,a,"public"),Be(e,c,"private")},dF=(e,t)=>{const o=iF(e,t);return tF(o,t),uF(o,t),aF(o),cF(o),lF(o,t),o.current.register("private",{rootProps:t}),o},Ut=(e,t,o)=>{const n=g.useRef(!1);n.current||(t.current.state=e(t.current.state,o,t),n.current=!0)},hF=/(\d+)-(\d+)-(\d+)/,gF=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Vs(e,t,o,n){if(!e.value)return null;const[s,r,i,l,a]=e.value.match(o?gF:hF).slice(1).map(Number),c=new Date(s,r-1,i,l||0,a||0).getTime();return u=>{if(!u)return!1;if(n)return t(u.getTime(),c);const h=new Date(u).setHours(o?u.getHours():0,o?u.getMinutes():0,0,0);return t(h,c)}}const Vp=e=>yi([{value:"is",getApplyFilterFnV7:t=>Vs(t,(o,n)=>o===n,e),InputComponent:Hs,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:t=>Vs(t,(o,n)=>o!==n,e),InputComponent:Hs,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:t=>Vs(t,(o,n)=>o>n,e),InputComponent:Hs,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:t=>Vs(t,(o,n)=>o>=n,e),InputComponent:Hs,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:t=>Vs(t,(o,n)=>o<n,e,!e),InputComponent:Hs,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:t=>Vs(t,(o,n)=>o<=n,e),InputComponent:Hs,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!=null,requiresFilterValue:!1}]);function Bp({value:e,columnType:t,rowId:o,field:n}){if(!(e instanceof Date))throw new Error([`MUI: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${o}, field: "${n}".`].join(`
`))}function pF({value:e,field:t,id:o}){return e?(Bp({value:e,columnType:"date",rowId:o,field:t}),e.toLocaleDateString()):""}function fF({value:e,field:t,id:o}){return e?(Bp({value:e,columnType:"dateTime",rowId:o,field:t}),e.toLocaleString()):""}const mF=S({},Po,{type:"date",sortComparator:xp,valueFormatter:pF,filterOperators:Vp(),renderEditCell:lp,pastedValueParser:e=>new Date(e)}),CF=S({},Po,{type:"dateTime",sortComparator:xp,valueFormatter:fF,filterOperators:Vp(!0),renderEditCell:lp,pastedValueParser:e=>new Date(e)}),Tn=e=>e==null?null:Number(e),eh=Si(e=>e==null||Number.isNaN(e)||e===""?null:t=>Tn(t)===Tn(e)),wF=()=>yi([{value:"=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>Tn(t)===e.value,InputComponent:Oo,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>Tn(t)!==e.value,InputComponent:Oo,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Tn(t)>e.value,InputComponent:Oo,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Tn(t)>=e.value,InputComponent:Oo,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Tn(t)<e.value,InputComponent:Oo,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:Tn(t)<=e.value,InputComponent:Oo,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:Tp,InputComponentProps:{type:"number"}}]),vF=S({},Po,{type:"number",align:"right",headerAlign:"right",sortComparator:Rp,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>sR(e)?e.toLocaleString():e||"",filterOperators:wF(),getApplyQuickFilterFn:kp(eh),getApplyQuickFilterFnV7:eh}),Bs=e=>e==null||!au(e)?e:e.value,bF=()=>yi([{value:"is",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Bs(t)===Bs(e.value),InputComponent:$d},{value:"not",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Bs(t)!==Bs(e.value),InputComponent:$d},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Bs);return o=>t.includes(Bs(o))},InputComponent:gP}]),SF=e=>typeof e[0]=="object",yF=e=>au(e)?e.value:e,RF=e=>au(e)?e.label:String(e),xF=S({},Po,{type:"singleSelect",getOptionLabel:RF,getOptionValue:yF,valueFormatter(e){const{id:t,field:o,value:n,api:s}=e,r=e.api.getColumn(o);if(!rs(r))return"";let i;if(typeof r.valueOptions=="function"?i=r.valueOptions({id:t,row:t?s.getRow(t):null,field:o}):i=r.valueOptions,n==null)return"";if(!i)return n;if(!SF(i))return r.getOptionLabel(n);const l=i.find(a=>r.getOptionValue(a)===n);return l?r.getOptionLabel(l):""},renderEditCell:iy,filterOperators:bF(),pastedValueParser:(e,t)=>{const o=t.colDef,n=o.valueOptions,s=typeof n=="function"?n({field:o.field}):n||[],r=o.getOptionValue;if(s.find(l=>r(l)===e))return e}}),Np="__default__",PF=()=>({string:Po,number:vF,date:mF,dateTime:CF,boolean:Gp,singleSelect:xF,[oa]:jP,[Np]:Po});function uc(e,t){if(typeof e=="string"){if(t.shouldAppendQuotes||t.escapeFormulas){const o=e.replace(/"/g,'""');return[t.delimiter,`
`,"\r",'"'].some(n=>e.includes(n))?`"${o}"`:t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`'${o}`:o}return e}return e}const zp=(e,t)=>{const{csvOptions:o,ignoreValueFormatter:n}=t;let s;if(n){var r;const l=e.colDef.type;if(l==="number")s=String(e.value);else if(l==="date"||l==="dateTime"){var i;s=(i=e.value)==null?void 0:i.toISOString()}else typeof((r=e.value)==null?void 0:r.toString)=="function"?s=e.value.toString():s=e.value}else s=e.formattedValue;return uc(s,o)};Qo(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class dc{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const FF=({id:e,columns:t,getCellParams:o,csvOptions:n,ignoreValueFormatter:s})=>{const r=new dc({csvOptions:n});return t.forEach(i=>{const l=o(e,i.field);r.addValue(zp(l,{ignoreValueFormatter:s,csvOptions:n}))}),r.getRowString()};function EF(e){const{columns:t,rowIds:o,csvOptions:n,ignoreValueFormatter:s,apiRef:r}=e,i=o.reduce((d,h)=>`${d}${FF({id:h,columns:t,getCellParams:r.current.getCellParams,ignoreValueFormatter:s,csvOptions:n})}\r
`,"").trim();if(!n.includeHeaders)return i;const l=t.filter(d=>d.field!==Rr.field),a=[];if(n.includeColumnGroupsHeaders){const d=r.current.unstable_getAllGroupDetails();let h=0;const p=l.reduce((f,m)=>{const C=r.current.unstable_getColumnGroupPath(m.field);return f[m.field]=C,h=Math.max(h,C.length),f},{});for(let f=0;f<h;f+=1){const m=new dc({csvOptions:n,sanitizeCellValue:uc});a.push(m),l.forEach(C=>{const w=(p[C.field]||[])[f],v=d[w];m.addValue(v?v.headerName||v.groupId:"")})}}const c=new dc({csvOptions:n,sanitizeCellValue:uc});return l.forEach(d=>{c.addValue(d.headerName||d.field)}),a.push(c),`${`${a.map(d=>d.getRowString()).join(`\r
`)}\r
`}${i}`.trim()}function th(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const o=document.createRange();o.selectNode(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(o);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function DF(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{th(e)}):th(e)}function MF(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const IF=(e,t)=>{const o=t.unstable_ignoreValueFormatterDuringExport,n=(typeof o=="object"?o?.clipboardExport:o)||!1,s=t.clipboardCopyCellDelimiter,r=g.useCallback(i=>{if(!((i.ctrlKey||i.metaKey)&&i.key==="c")||MF(i.target))return;let l="";if(e.current.getSelectedRows().size>0)l=e.current.getDataAsCsv({includeHeaders:!1,delimiter:s,shouldAppendQuotes:!1,escapeFormulas:!1});else{const c=Xt(e);if(c){const u=e.current.getCellParams(c.id,c.field);l=zp(u,{csvOptions:{delimiter:s,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:n})}}l=e.current.unstable_applyPipeProcessors("clipboardCopy",l),l&&(DF(l),e.current.publishEvent("clipboardCopy",l))},[e,n,s]);aR(e,e.current.rootElementRef,"keydown",r),it(e,"clipboardCopy",t.onClipboardCopy)},TF=e=>S({},e,{columnMenu:{open:!1}}),kF=e=>{const t=kt(e,"useGridColumnMenu"),o=g.useCallback(i=>{e.current.setState(a=>a.columnMenu.open&&a.columnMenu.field===i?a:(t.debug("Opening Column Menu"),S({},a,{columnMenu:{open:!0,field:i}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),n=g.useCallback(()=>{const i=rc(e.current.state);if(i.field){const a=br(e),c=xo(e),u=hn(e);let d=i.field;if(a[d]||(d=u[0]),c[d]===!1){const h=u.filter(f=>f===d?!0:c[f]!==!1),p=h.indexOf(d);d=h[p+1]||h[p-1]}e.current.setColumnHeaderFocus(d)}e.current.setState(a=>!a.columnMenu.open&&a.columnMenu.field===void 0?a:(t.debug("Hiding Column Menu"),S({},a,{columnMenu:S({},a.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),s=g.useCallback(i=>{t.debug("Toggle Column Menu");const l=rc(e.current.state);!l.open||l.field!==i?o(i):n()},[e,t,o,n]);Be(e,{showColumnMenu:o,hideColumnMenu:n,toggleColumnMenu:s},"public"),xe(e,"columnResizeStart",n),xe(e,"virtualScrollerWheel",e.current.hideColumnMenu),xe(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Wp=["maxWidth","minWidth","width","flex"];function AF({initialFreeSpace:e,totalFlexUnits:t,flexColumns:o}){const n=new Set(o.map(i=>i.field)),s={all:{},frozenFields:[],freeze:i=>{const l=s.all[i];l&&l.frozen!==!0&&(s.all[i].frozen=!0,s.frozenFields.push(i))}};function r(){if(s.frozenFields.length===n.size)return;const i={min:{},max:{}};let l=e,a=t,c=0;s.frozenFields.forEach(u=>{l-=s.all[u].computedWidth,a-=s.all[u].flex});for(let u=0;u<o.length;u+=1){const d=o[u];if(s.all[d.field]&&s.all[d.field].frozen===!0)continue;let p=l/a*d.flex;p<d.minWidth?(c+=d.minWidth-p,p=d.minWidth,i.min[d.field]=!0):p>d.maxWidth&&(c+=d.maxWidth-p,p=d.maxWidth,i.max[d.field]=!0),s.all[d.field]={frozen:!1,computedWidth:p,flex:d.flex}}c<0?Object.keys(i.max).forEach(u=>{s.freeze(u)}):c>0?Object.keys(i.min).forEach(u=>{s.freeze(u)}):o.forEach(({field:u})=>{s.freeze(u)}),r()}return r(),s.all}const hc=(e,t)=>{const o={};let n=0,s=0;const r=[];e.orderedFields.forEach(l=>{const a=S({},e.lookup[l]);if(e.columnVisibilityModel[l]===!1)a.computedWidth=0;else{let c;a.flex&&a.flex>0?(n+=a.flex,c=0,r.push(a)):c=ur(a.width||Po.width,a.minWidth||Po.minWidth,a.maxWidth||Po.maxWidth),s+=c,a.computedWidth=c}o[l]=a});const i=Math.max(t-s,0);if(n>0&&t>0){const l=AF({initialFreeSpace:i,totalFlexUnits:n,flexColumns:r});Object.keys(l).forEach(a=>{o[a].computedWidth=l[a].computedWidth})}return S({},e,{lookup:o})},LF=(e,t)=>{if(!t)return e;const{orderedFields:o=[],dimensions:n={}}=t,s=Object.keys(n);if(s.length===0&&o.length===0)return e;const r={},i=[];for(let u=0;u<o.length;u+=1){const d=o[u];e.lookup[d]&&(r[d]=!0,i.push(d))}const l=i.length===0?e.orderedFields:[...i,...e.orderedFields.filter(u=>!r[u])],a=S({},e.lookup);for(let u=0;u<s.length;u+=1){const d=s[u],h=S({},a[d],{hasBeenResized:!0});Object.entries(n[d]).forEach(([p,f])=>{h[p]=f===-1?1/0:f}),a[d]=h}return S({},e,{orderedFields:l,lookup:a})};function oh(e,t){let o=e[Np];return t&&e[t]&&(o=e[t]),o}const _s=({apiRef:e,columnsToUpsert:t,initialState:o,columnTypes:n,columnVisibilityModel:s=xo(e),keepOnlyColumnsToUpsert:r=!1})=>{var i,l,a;const c=!e.current.state.columns;let u;if(c)u={orderedFields:[],lookup:{},columnVisibilityModel:s};else{const f=ss(e.current.state);u={orderedFields:r?[]:[...f.orderedFields],lookup:S({},f.lookup),columnVisibilityModel:s}}let d={};r&&!c&&(d=Object.keys(u.lookup).reduce((f,m)=>S({},f,{[m]:!1}),{})),t.forEach(f=>{const{field:m}=f;d[m]=!0;let C=u.lookup[m];C==null?(C=S({},oh(n,f.type),{field:m,hasBeenResized:!1}),u.orderedFields.push(m)):r&&u.orderedFields.push(m),C&&C.type!==f.type&&(C=S({},oh(n,f.type),{field:m}));let w=C.hasBeenResized;Wp.forEach(v=>{f[v]!==void 0&&(w=!0,f[v]===-1&&(f[v]=1/0))}),u.lookup[m]=S({},C,f,{hasBeenResized:w})}),r&&!c&&Object.keys(u.lookup).forEach(f=>{d[f]||delete u.lookup[f]});const h=e.current.unstable_applyPipeProcessors("hydrateColumns",u),p=LF(h,o);return hc(p,(i=(l=(a=e.current).getRootDimensions)==null||(l=l.call(a))==null?void 0:l.viewportInnerSize.width)!=null?i:0)},nh=e=>t=>S({},t,{columns:e});function gc({firstColumnToRender:e,apiRef:t,firstRowToRender:o,lastRowToRender:n,visibleRows:s}){let r=e;for(let i=o;i<n;i+=1)if(s[i]){const a=s[i].id,c=t.current.unstable_getCellColSpanInfo(a,e);c&&c.spannedByColSpan&&(r=c.leftVisibleCellIndex)}return r}function OF({firstColumnIndex:e,minColumnIndex:t,columnBuffer:o,firstRowToRender:n,lastRowToRender:s,apiRef:r,visibleRows:i}){const l=Math.max(e-o,t);return gc({firstColumnToRender:l,apiRef:r,firstRowToRender:n,lastRowToRender:s,visibleRows:i})}function Cu(e,t){const o=yr(e),n=wi(e);return Math.floor(t*o)*((n??0)+1)}const _p=PF(),GF=(e,t,o)=>{var n,s,r,i;const l=_s({apiRef:o,columnTypes:_p,columnsToUpsert:t.columns,initialState:(n=t.initialState)==null?void 0:n.columns,columnVisibilityModel:(s=(r=t.columnVisibilityModel)!=null?r:(i=t.initialState)==null||(i=i.columns)==null?void 0:i.columnVisibilityModel)!=null?s:{},keepOnlyColumnsToUpsert:!0});return S({},e,{columns:l})};function HF(e,t){var o,n;const s=kt(e,"useGridColumns"),r=_p,i=g.useRef(t.columns),l=g.useRef(r);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:xo,changeEvent:"columnVisibilityModelChange"});const a=g.useCallback(F=>{s.debug("Updating columns state."),e.current.setState(nh(F)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",F.orderedFields)},[s,e]),c=g.useCallback(F=>br(e)[F],[e]),u=g.useCallback(()=>No(e),[e]),d=g.useCallback(()=>Et(e),[e]),h=g.useCallback((F,x=!0)=>(x?Et(e):No(e)).findIndex(H=>H.field===F),[e]),p=g.useCallback(F=>{const x=h(F);return cr(e)[x]},[e,h]),f=g.useCallback(F=>{xo(e)!==F&&(e.current.setState(O=>S({},O,{columns:_s({apiRef:e,columnTypes:r,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:F,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,r]),m=g.useCallback(F=>{const x=_s({apiRef:e,columnTypes:r,columnsToUpsert:F,initialState:void 0,keepOnlyColumnsToUpsert:!1});a(x)},[e,a,r]),C=g.useCallback((F,x)=>{var O;const H=xo(e),k=(O=H[F])!=null?O:!0;if(x!==k){const G=S({},H,{[F]:x});e.current.setColumnVisibilityModel(G)}},[e]),w=g.useCallback(F=>hn(e).findIndex(O=>O===F),[e]),v=g.useCallback((F,x)=>{const O=hn(e),H=w(F);if(H===x)return;s.debug(`Moving column ${F} to index ${x}`);const k=[...O],G=k.splice(H,1)[0];k.splice(x,0,G),a(S({},ss(e.current.state),{orderedFields:k}));const B={column:e.current.getColumn(F),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(F),oldIndex:H};e.current.publishEvent("columnIndexChange",B)},[e,s,a,w]),y=g.useCallback((F,x)=>{var O,H;s.debug(`Updating column ${F} width to ${x}`);const k=ss(e.current.state),G=k.lookup[F],B=S({},G,{width:x,hasBeenResized:!0});a(hc(S({},k,{lookup:S({},k.lookup,{[F]:B})}),(O=(H=e.current.getRootDimensions())==null?void 0:H.viewportInnerSize.width)!=null?O:0)),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(F),colDef:B,width:x})},[e,s,a]),D={getColumn:c,getAllColumns:u,getColumnIndex:h,getColumnPosition:p,getVisibleColumns:d,getColumnIndexRelativeToVisibleColumns:w,updateColumns:m,setColumnVisibilityModel:f,setColumnVisibility:C,setColumnWidth:y},A={setColumnIndex:v};Be(e,D,"public"),Be(e,A,t.signature===zo.DataGrid?"private":"public");const R=g.useCallback((F,x)=>{var O,H;const k={},G=xo(e);(!x.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((O=(H=t.initialState)==null||(H=H.columns)==null?void 0:H.columnVisibilityModel)!=null?O:{}).length>0||Object.keys(G).length>0)&&(k.columnVisibilityModel=G),k.orderedFields=hn(e);const W=No(e),z={};return W.forEach(j=>{if(j.hasBeenResized){const q={};Wp.forEach(X=>{let me=j[X];me===1/0&&(me=-1),q[X]=me}),z[j.field]=q}}),Object.keys(z).length>0&&(k.dimensions=z),S({},F,{columns:k})},[e,t.columnVisibilityModel,(o=t.initialState)==null?void 0:o.columns]),M=g.useCallback((F,x)=>{var O;const H=(O=x.stateToRestore.columns)==null?void 0:O.columnVisibilityModel,k=x.stateToRestore.columns;if(H==null&&k==null)return F;const G=_s({apiRef:e,columnTypes:r,columnsToUpsert:[],initialState:k,columnVisibilityModel:H,keepOnlyColumnsToUpsert:!1});return e.current.setState(nh(G)),k!=null&&e.current.publishEvent("columnsChange",G.orderedFields),F},[e,r]),E=g.useCallback((F,x)=>{if(x===ps.columns){var O;const H=t.slots.columnsPanel;return b.jsx(H,S({},(O=t.slotProps)==null?void 0:O.columnsPanel))}return F},[t.slots.columnsPanel,(n=t.slotProps)==null?void 0:n.columnsPanel]),V=g.useCallback(F=>t.disableColumnSelector?F:[...F,"columnMenuColumnsItem"],[t.disableColumnSelector]);mt(e,"columnMenu",V),mt(e,"exportState",R),mt(e,"restoreState",M),mt(e,"preferencePanel",E);const I=g.useRef(null);xe(e,"viewportInnerSizeChange",F=>{I.current!==F.width&&(I.current=F.width,a(hc(ss(e.current.state),F.width)))});const L=g.useCallback(()=>{s.info("Columns pipe processing have changed, regenerating the columns");const F=_s({apiRef:e,columnTypes:r,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});a(F)},[e,s,a,r]);mu(e,"hydrateColumns",L);const T=g.useRef(!0);g.useEffect(()=>{if(T.current){T.current=!1;return}if(s.info(`GridColumns have changed, new length ${t.columns.length}`),i.current===t.columns&&l.current===r)return;const F=_s({apiRef:e,columnTypes:r,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});i.current=t.columns,l.current=r,a(F)},[s,e,a,t.columns,r]),g.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,s,t.columnVisibilityModel])}const VF=.7,BF=1.3,$p={compact:VF,comfortable:BF,standard:1},NF=(e,t)=>S({},e,{density:{value:t.density,factor:$p[t.density]}}),zF=(e,t)=>{const o=kt(e,"useDensity"),n=g.useCallback(r=>{o.debug(`Set grid density to ${r}`),e.current.setState(i=>{const l=su(i),a={value:r,factor:$p[r]};return is(l,a)?i:S({},i,{density:a})}),e.current.forceUpdate()},[o,e]);g.useEffect(()=>{e.current.setDensity(t.density)},[e,t.density]),Be(e,{setDensity:n},"public")};function WF(e,t="csv",o=document.title||"untitled"){const n=`${o}.${t}`;if("download"in HTMLAnchorElement.prototype){const s=URL.createObjectURL(e),r=document.createElement("a");r.href=s,r.download=n,r.click(),setTimeout(()=>{URL.revokeObjectURL(s)});return}throw new Error("MUI: exportAs not supported")}const Up=({apiRef:e,options:t})=>{const o=No(e);return t.fields?t.fields.reduce((s,r)=>{const i=o.find(l=>l.field===r);return i&&s.push(i),s},[]):(t.allColumns?o:Et(e)).filter(s=>!s.disableExport)},_F=({apiRef:e})=>{var t,o;const n=oS(e),s=Ro(e),r=e.current.getSelectedRows(),i=n.filter(u=>s[u].type!=="footer"),l=Sr(e),a=(l==null||(t=l.top)==null?void 0:t.map(u=>u.id))||[],c=(l==null||(o=l.bottom)==null?void 0:o.map(u=>u.id))||[];return i.unshift(...a),i.push(...c),r.size>0?i.filter(u=>r.has(u)):i},$F=(e,t)=>{const o=kt(e,"useGridCsvExport"),n=t.unstable_ignoreValueFormatterDuringExport,s=(typeof n=="object"?n?.csvExport:n)||!1,r=g.useCallback((c={})=>{var u,d,h,p,f;o.debug("Get data as CSV");const m=Up({apiRef:e,options:c}),w=((u=c.getRowsToExport)!=null?u:_F)({apiRef:e});return EF({columns:m,rowIds:w,csvOptions:{delimiter:c.delimiter||",",shouldAppendQuotes:(d=c.shouldAppendQuotes)!=null?d:!0,includeHeaders:(h=c.includeHeaders)!=null?h:!0,includeColumnGroupsHeaders:(p=c.includeColumnGroupsHeaders)!=null?p:!0,escapeFormulas:(f=c.escapeFormulas)!=null?f:!0},ignoreValueFormatter:s,apiRef:e})},[o,e,s]),i=g.useCallback(c=>{o.debug("Export data as CSV");const u=r(c),d=new Blob([c!=null&&c.utf8WithBom?new Uint8Array([239,187,191]):"",u],{type:"text/csv"});WF(d,"csv",c?.fileName)},[o,r]);Be(e,{getDataAsCsv:r,exportDataAsCsv:i},"public");const a=g.useCallback((c,u)=>{var d;return(d=u.csvOptions)!=null&&d.disableToolbarButton?c:[...c,{component:b.jsx(mP,{options:u.csvOptions}),componentName:"csvExport"}]},[]);mt(e,"exportMenu",a)},Qi=(e,t,o)=>{var n;let s=e.paginationModel;const r=e.rowCount,i=(n=o?.pageSize)!=null?n:s.pageSize,l=Cp(r,i);o&&(o?.page!==s.page||o?.pageSize!==s.pageSize)&&(s=o);const a=dR(s.page,l);return a!==s.page&&(s=S({},s,{page:a})),vp(s.pageSize,t),s},UF=(e,t)=>{var o;const n=kt(e,"useGridPaginationModel"),s=fe(e,yr),r=Math.floor(t.rowHeight*s);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:co,changeEvent:"paginationModelChange"});const i=g.useCallback(m=>{const C=co(e);m!==C.page&&(n.debug(`Setting page to ${m}`),e.current.setPaginationModel({page:m,pageSize:C.pageSize}))},[e,n]),l=g.useCallback(m=>{const C=co(e);m!==C.pageSize&&(n.debug(`Setting page size to ${m}`),e.current.setPaginationModel({pageSize:m,page:C.page}))},[e,n]),a=g.useCallback(m=>{const C=co(e);m!==C&&(n.debug("Setting 'paginationModel' to",m),e.current.setState(w=>S({},w,{pagination:S({},w.pagination,{paginationModel:Qi(w.pagination,t.signature,m)})})))},[e,n,t.signature]);Be(e,{setPage:i,setPageSize:l,setPaginationModel:a},"public");const u=g.useCallback((m,C)=>{var w;const v=co(e);return!C.exportOnlyDirtyModels||t.paginationModel!=null||((w=t.initialState)==null||(w=w.pagination)==null?void 0:w.paginationModel)!=null||v.page!==0&&v.pageSize!==uR(t.autoPageSize)?S({},m,{pagination:S({},m.pagination,{paginationModel:v})}):m},[e,t.paginationModel,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.paginationModel,t.autoPageSize]),d=g.useCallback((m,C)=>{var w,v;const y=(w=C.stateToRestore.pagination)!=null&&w.paginationModel?S({},wp(t.autoPageSize),(v=C.stateToRestore.pagination)==null?void 0:v.paginationModel):co(e);return e.current.setState(D=>S({},D,{pagination:S({},D.pagination,{paginationModel:Qi(D.pagination,t.signature,y)})})),m},[e,t.autoPageSize,t.signature]);mt(e,"exportState",u),mt(e,"restoreState",d);const h=()=>{var m;const C=co(e);(m=e.current.virtualScrollerRef)!=null&&m.current&&e.current.scrollToIndexes({rowIndex:C.page*C.pageSize})},p=g.useCallback(()=>{if(!t.autoPageSize)return;const m=e.current.getRootDimensions()||{viewportInnerSize:{height:0}},C=np(e),w=Math.floor((m.viewportInnerSize.height-C.top-C.bottom)/r);e.current.setPageSize(w)},[e,t.autoPageSize,r]),f=g.useCallback(m=>{if(m==null)return;const C=co(e),w=gR(e);C.page>w-1&&e.current.setPage(Math.max(0,w-1))},[e]);xe(e,"viewportInnerSizeChange",p),xe(e,"paginationModelChange",h),xe(e,"rowCountChange",f),g.useEffect(()=>{e.current.setState(m=>S({},m,{pagination:S({},m.pagination,{paginationModel:Qi(m.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),g.useEffect(p,[p])};function jF(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function KF(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const qF=(e,t)=>{const o=kt(e,"useGridPrintExport"),n=g.useRef(null),s=g.useRef(null),r=g.useRef({}),i=g.useRef([]);g.useEffect(()=>{n.current=os(e.current.rootElementRef.current)},[e]);const l=g.useCallback((f,m,C)=>new Promise(w=>{const v=Up({apiRef:e,options:{fields:f,allColumns:m}}).map(A=>A.field),y=No(e),D={};y.forEach(A=>{D[A.field]=v.includes(A.field)}),C&&(D[Rr.field]=!0),e.current.setColumnVisibilityModel(D),w()}),[e]),a=g.useCallback(f=>{const C=f({apiRef:e}).map(w=>e.current.getRow(w));e.current.setRows(C)},[e]),c=g.useCallback((f,m)=>{var C,w;const v=S({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},m),y=f.contentDocument;if(!y)return;const D=ni(e.current.state),A=e.current.rootElementRef.current,R=A.cloneNode(!0),M=R.querySelector(`.${N.main}`);M.style.overflow="visible",R.style.contain="size";const V=R.querySelector(`.${N.columnHeaders}`).querySelector(`.${N.columnHeadersInner}`);V.style.width="100%";let I=((C=A.querySelector(`.${N.toolbarContainer}`))==null?void 0:C.offsetHeight)||0,P=((w=A.querySelector(`.${N.footerContainer}`))==null?void 0:w.offsetHeight)||0;if(v.hideToolbar){var L;(L=R.querySelector(`.${N.toolbarContainer}`))==null||L.remove(),I=0}if(v.hideFooter){var T;(T=R.querySelector(`.${N.footerContainer}`))==null||T.remove(),P=0}const F=D.currentPageTotalHeight+Cu(e,t.columnHeaderHeight)+I+P;if(R.style.height=`${F}px`,R.style.boxSizing="content-box",m!=null&&m.getRowsToExport){const k=R.querySelector(`.${N.footerContainer}`);k.style.position="absolute",k.style.width="100%",k.style.top=`${F-P}px`}const x=document.createElement("div");x.appendChild(R),y.body.innerHTML=x.innerHTML;const O=typeof v.pageStyle=="function"?v.pageStyle():v.pageStyle;if(typeof O=="string"){const k=y.createElement("style");k.appendChild(y.createTextNode(O)),y.head.appendChild(k)}v.bodyClassName&&y.body.classList.add(...v.bodyClassName.split(" "));const H=[];if(v.copyStyles){const k=A.getRootNode(),B=(k.constructor.name==="ShadowRoot"?k:n.current).querySelectorAll("style, link[rel='stylesheet']");for(let W=0;W<B.length;W+=1){const z=B[W];if(z.tagName==="STYLE"){const j=y.createElement(z.tagName),q=z.sheet;if(q){let X="";for(let me=0;me<q.cssRules.length;me+=1)typeof q.cssRules[me].cssText=="string"&&(X+=`${q.cssRules[me].cssText}\r
`);j.appendChild(y.createTextNode(X)),y.head.appendChild(j)}}else if(z.getAttribute("href")){const j=y.createElement(z.tagName);for(let q=0;q<z.attributes.length;q+=1){const X=z.attributes[q];X&&j.setAttribute(X.nodeName,X.nodeValue||"")}H.push(new Promise(q=>{j.addEventListener("load",()=>q())})),y.head.appendChild(j)}}}Promise.all(H).then(()=>{f.contentWindow.print()})},[e,n,t.columnHeaderHeight]),u=g.useCallback(f=>{var m;n.current.body.removeChild(f),e.current.restoreState(s.current||{}),(m=s.current)!=null&&(m=m.columns)!=null&&m.columnVisibilityModel||e.current.setColumnVisibilityModel(r.current),e.current.unstable_setVirtualization(!0),e.current.setRows(i.current),s.current=null,r.current={},i.current=[]},[e]),h={exportDataAsPrint:g.useCallback(async f=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");s.current=e.current.exportState(),r.current=xo(e);const m=dn(e);if(i.current=Nr(e).map(w=>m[w]),t.pagination){const v={page:0,pageSize:Xg(e)};e.current.setState(y=>S({},y,{pagination:S({},y.pagination,{paginationModel:Qi(y.pagination,"DataGridPro",v)})})),e.current.forceUpdate()}await l(f?.fields,f?.allColumns,f?.includeCheckboxes),f!=null&&f.getRowsToExport&&a(f.getRowsToExport),e.current.unstable_setVirtualization(!1),await jF();const C=KF(f?.fileName);C.onload=()=>{c(C,f),C.contentWindow.matchMedia("print").addEventListener("change",v=>{v.matches===!1&&u(C)})},n.current.body.appendChild(C)},[t,o,e,c,u,l,a])};Be(e,h,"public");const p=g.useCallback((f,m)=>{var C;return(C=m.printOptions)!=null&&C.disableToolbarButton?f:[...f,{component:b.jsx(CP,{options:m.printOptions}),componentName:"printExport"}]},[]);mt(e,"exportMenu",p)},YF=(e,t,o)=>{var n,s,r;const i=(n=(s=t.filterModel)!=null?s:(r=t.initialState)==null||(r=r.filter)==null?void 0:r.filterModel)!=null?n:ti();return S({},e,{filter:{filterModel:Lp(i,t.disableMultipleColumnsFiltering,o),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},QF=e=>e.filteredRowsLookup;function sh(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function ZF(){return ql(Object.values)}const XF=(e,t)=>{var o,n;const s=kt(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Rt,changeEvent:"filterModelChange"});const r=g.useCallback(()=>{e.current.setState(I=>{const P=Rt(I,e.current.instanceId),L=t.filterMode==="client"?BP(P,e,t.disableEval):null,T=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:L,filterModel:P??ti()}),F=S({},I,{filter:S({},I.filter,T)}),x=sh(e,F);return S({},F,{visibleRowsLookup:x})}),e.current.publishEvent("filteredRowsSet")},[e,t.filterMode,t.disableEval]),i=g.useCallback((I,P)=>P==null||P.filterable===!1||t.disableColumnFilter?I:[...I,"columnMenuFilterItem"],[t.disableColumnFilter]),l=g.useCallback(()=>{r(),e.current.forceUpdate()},[e,r]),a=g.useCallback(I=>{const P=Rt(e),L=[...P.items],T=L.findIndex(F=>F.id===I.id);T===-1?L.push(I):L[T]=I,e.current.setFilterModel(S({},P,{items:L}),"upsertFilterItem")},[e]),c=g.useCallback(I=>{const P=Rt(e),L=[...P.items];I.forEach(T=>{const F=I.findIndex(x=>x.id===T.id);F===-1?L.push(T):L[F]=T}),e.current.setFilterModel(S({},P,{items:I}),"upsertFilterItems")},[e]),u=g.useCallback(I=>{const P=Rt(e),L=P.items.filter(T=>T.id!==I.id);L.length!==P.items.length&&e.current.setFilterModel(S({},P,{items:L}),"deleteFilterItem")},[e]),d=g.useCallback((I,P,L)=>{if(s.debug("Displaying filter panel"),I){const T=Rt(e),F=T.items.filter(k=>{var G;if(k.value!==void 0)return!(Array.isArray(k.value)&&k.value.length===0);const W=(G=e.current.getColumn(k.field).filterOperators)==null?void 0:G.find(j=>j.value===k.operator);return!(typeof W?.requiresFilterValue>"u"?!0:W?.requiresFilterValue)});let x;const O=F.find(k=>k.field===I),H=e.current.getColumn(I);O?x=F:t.disableMultipleColumnsFiltering?x=[cc({field:I,operator:H.filterOperators[0].value},e)]:x=[...F,cc({field:I,operator:H.filterOperators[0].value},e)],e.current.setFilterModel(S({},T,{items:x}))}e.current.showPreferences(ps.filters,P,L)},[e,s,t.disableMultipleColumnsFiltering]),h=g.useCallback(()=>{s.debug("Hiding filter panel"),e.current.hidePreferences()},[e,s]),p=g.useCallback(I=>{const P=Rt(e);P.logicOperator!==I&&e.current.setFilterModel(S({},P,{logicOperator:I}),"changeLogicOperator")},[e]),f=g.useCallback(I=>{const P=Rt(e);is(P.quickFilterValues,I)||e.current.setFilterModel(S({},P,{quickFilterValues:[...I]}))},[e]),m=g.useCallback((I,P)=>{Rt(e)!==I&&(s.debug("Setting filter model"),e.current.updateControlState("filter",jd(I,t.disableMultipleColumnsFiltering,e),P),e.current.unstable_applyFilters())},[e,s,t.disableMultipleColumnsFiltering]),C={setFilterLogicOperator:p,unstable_applyFilters:l,deleteFilterItem:u,upsertFilterItem:a,upsertFilterItems:c,setFilterModel:m,showFilterPanel:d,hideFilterPanel:h,setQuickFilterValues:f,ignoreDiacritics:t.ignoreDiacritics};Be(e,C,"public");const w=g.useCallback((I,P)=>{var L;const T=Rt(e);return!P.exportOnlyDirtyModels||t.filterModel!=null||((L=t.initialState)==null||(L=L.filter)==null?void 0:L.filterModel)!=null||!is(T,ti())?S({},I,{filter:{filterModel:T}}):I},[e,t.filterModel,(o=t.initialState)==null||(o=o.filter)==null?void 0:o.filterModel]),v=g.useCallback((I,P)=>{var L;const T=(L=P.stateToRestore.filter)==null?void 0:L.filterModel;return T==null?I:(e.current.updateControlState("filter",jd(T,t.disableMultipleColumnsFiltering,e),"restoreState"),S({},I,{callbacks:[...I.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),y=g.useCallback((I,P)=>{if(P===ps.filters){var L;const T=t.slots.filterPanel;return b.jsx(T,S({},(L=t.slotProps)==null?void 0:L.filterPanel))}return I},[t.slots.filterPanel,(n=t.slotProps)==null?void 0:n.filterPanel]),{getRowId:D}=t,A=Xc(ZF),R=g.useCallback(I=>{if(t.filterMode!=="client"||!I.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const P=dn(e),L={},{isRowMatchingFilters:T}=I,F={},x={passingFilterItems:null,passingQuickFilterValues:null},O=A.current(e.current.state.rows.dataRowIdToModelLookup);for(let G=0;G<O.length;G+=1){const B=O[G],W=D?D(B):B.id;T(B,void 0,x);const z=zP([x.passingFilterItems],[x.passingQuickFilterValues],I.filterModel,e,F);L[W]=z}const H="auto-generated-group-footer-root";return P[H]&&(L[H]=!0),{filteredRowsLookup:L,filteredDescendantCountLookup:{}}},[e,t.filterMode,D,A]);mt(e,"columnMenu",i),mt(e,"exportState",w),mt(e,"restoreState",v),mt(e,"preferencePanel",y),Sl(e,fs,"filtering",R),Sl(e,fs,"visibleRowsLookupCreation",QF);const M=g.useCallback(()=>{s.debug("onColUpdated - GridColumns changed, applying filters");const I=Rt(e),P=Wb(e),L=I.items.filter(T=>T.field&&P[T.field]);L.length<I.items.length&&e.current.setFilterModel(S({},I,{items:L}))},[e,s]),E=g.useCallback(I=>{I==="filtering"&&e.current.unstable_applyFilters()},[e]),V=g.useCallback(()=>{e.current.setState(I=>S({},I,{visibleRowsLookup:sh(e,I)})),e.current.forceUpdate()},[e]);xe(e,"rowsSet",r),xe(e,"columnsChange",M),xe(e,"activeStrategyProcessorChange",E),xe(e,"rowExpansionChange",V),xe(e,"columnVisibilityModelChange",()=>{const I=Rt(e);I.quickFilterValues&&I.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()}),bi(()=>{e.current.unstable_applyFilters()}),Mt(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,s,t.filterModel])},JF=e=>S({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),eE=(e,t)=>{const o=kt(e,"useGridFocus"),n=g.useRef(null),s=g.useCallback((M,E)=>{M&&e.current.getRow(M.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(M.id,M.field),E)},[e]),r=g.useCallback((M,E)=>{const V=Xt(e);V?.id===M&&V?.field===E||(e.current.setState(I=>(o.debug(`Focusing on cell with id=${M} and field=${E}`),S({},I,{tabIndex:{cell:{id:M,field:E},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:M,field:E},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(M)&&(V&&s(V,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(M,E))))},[e,o,s]),i=g.useCallback((M,E={})=>{const V=Xt(e);s(V,E),e.current.setState(I=>(o.debug(`Focusing on column header with colIndex=${M}`),S({},I,{tabIndex:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,s]),l=g.useCallback((M,E={})=>{const V=Xt(e);s(V,E),e.current.setState(I=>(o.debug(`Focusing on column header filter with colIndex=${M}`),S({},I,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,s]),a=g.useCallback((M,E,V={})=>{const I=Xt(e);I&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(I.id,I.field),V),e.current.setState(P=>S({},P,{tabIndex:{columnGroupHeader:{field:M,depth:E},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:M,depth:E},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),c=g.useCallback(()=>hl(e),[e]),u=g.useCallback((M,E,V)=>{let I=e.current.getColumnIndex(E);const P=Et(e),L=vl(e,{pagination:t.pagination,paginationMode:t.paginationMode}),T=Sr(e),F=[].concat(T.top||[],L.rows,T.bottom||[]);let x=F.findIndex(G=>G.id===M);V==="right"?I+=1:V==="left"?I-=1:x+=1,I>=P.length?(x+=1,x<F.length&&(I=0)):I<0&&(x-=1,x>=0&&(I=P.length-1)),x=ur(x,0,F.length-1);const O=F[x];if(!O)return;const H=e.current.unstable_getCellColSpanInfo(O.id,I);H&&H.spannedByColSpan&&(V==="left"||V==="below"?I=H.leftVisibleCellIndex:V==="right"&&(I=H.rightVisibleCellIndex)),I=ur(I,0,P.length-1);const k=P[I];e.current.setCellFocus(O.id,k.field)},[e,t.pagination,t.paginationMode]),d=g.useCallback(({id:M,field:E})=>{e.current.setCellFocus(M,E)},[e]),h=g.useCallback((M,E)=>{E.key==="Enter"||E.key==="Tab"||E.key==="Shift"||Cl(E.key)||e.current.setCellFocus(M.id,M.field)},[e]),p=g.useCallback(({field:M},E)=>{E.target===E.currentTarget&&e.current.setColumnHeaderFocus(M,E)},[e]),f=g.useCallback(({fields:M,depth:E},V)=>{if(V.target!==V.currentTarget)return;const I=hl(e);I!==null&&I.depth===E&&M.includes(I.field)||e.current.setColumnGroupHeaderFocus(M[0],E,V)},[e]),m=g.useCallback((M,E)=>{var V;(V=E.relatedTarget)!=null&&V.className.includes(N.columnHeader)||(o.debug("Clearing focus"),e.current.setState(I=>S({},I,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[o,e]),C=g.useCallback(M=>{n.current=M},[]),w=g.useCallback(M=>{const E=n.current;n.current=null;const V=Xt(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:M,cell:E}))return;if(!V){E&&e.current.setCellFocus(E.id,E.field);return}if(E?.id===V.id&&E?.field===V.field)return;const P=e.current.getCellElement(V.id,V.field);P!=null&&P.contains(M.target)||(E?e.current.setCellFocus(E.id,E.field):(e.current.setState(L=>S({},L,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),s(V,M)))},[e,s]),v=g.useCallback(M=>{if(M.cellMode==="view")return;const E=Xt(e);(E?.id!==M.id||E?.field!==M.field)&&e.current.setCellFocus(M.id,M.field)},[e]),y=g.useCallback(()=>{const M=Xt(e);M&&!e.current.getRow(M.id)&&e.current.setState(E=>S({},E,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),D=Pt(()=>{const M=Xt(e);if(!M)return;const E=vl(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(E.rows.find(P=>P.id===M.id))return;const I=Et(e);e.current.setState(P=>S({},P,{tabIndex:{cell:{id:E.rows[0].id,field:I[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),A={setCellFocus:r,setColumnHeaderFocus:i,setColumnHeaderFilterFocus:l},R={moveFocusToRelativeCell:u,setColumnGroupHeaderFocus:a,getColumnGroupHeaderFocus:c};Be(e,A,"public"),Be(e,R,"private"),g.useEffect(()=>{const M=os(e.current.rootElementRef.current);return M.addEventListener("mouseup",w),()=>{M.removeEventListener("mouseup",w)}},[e,w]),xe(e,"columnHeaderBlur",m),xe(e,"cellDoubleClick",d),xe(e,"cellMouseDown",C),xe(e,"cellKeyDown",h),xe(e,"cellModeChange",v),xe(e,"columnHeaderFocus",p),xe(e,"columnGroupHeaderFocus",f),xe(e,"rowsSet",y),xe(e,"paginationModelChange",D)};function tE(e,t){const o=Sr(e)||{};return[...o.top||[],...t,...o.bottom||[]]}const ya=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:n})=>{if(n==="rtl"){if(e<o)return e+1}else if(n==="ltr"&&e>t)return e-1;return null},Ra=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:n})=>{if(n==="rtl"){if(e>t)return e-1}else if(n==="ltr"&&e<o)return e+1;return null},oE=(e,t)=>{const o=kt(e,"useGridKeyboardNavigation"),n=Ds(e,t).rows,s=wr(),r=g.useMemo(()=>tE(e,n),[e,n]),i=t.signature!=="DataGrid"&&t.unstable_headerFilters,l=g.useCallback((w,v,y="left")=>{const D=$n(e),A=e.current.unstable_getCellColSpanInfo(v,w);A&&A.spannedByColSpan&&(y==="left"?w=A.leftVisibleCellIndex:y==="right"&&(w=A.rightVisibleCellIndex));const R=D.findIndex(E=>E.id===v);o.debug(`Navigating to cell row ${R}, col ${w}`),e.current.scrollToIndexes({colIndex:w,rowIndex:R});const M=e.current.getVisibleColumns()[w].field;e.current.setCellFocus(v,M)},[e,o]),a=g.useCallback((w,v)=>{o.debug(`Navigating to header col ${w}`),e.current.scrollToIndexes({colIndex:w});const y=e.current.getVisibleColumns()[w].field;e.current.setColumnHeaderFocus(y,v)},[e,o]),c=g.useCallback((w,v)=>{o.debug(`Navigating to header filter col ${w}`),e.current.scrollToIndexes({colIndex:w});const y=e.current.getVisibleColumns()[w].field;e.current.setColumnHeaderFilterFocus(y,v)},[e,o]),u=g.useCallback((w,v,y)=>{o.debug(`Navigating to header col ${w}`),e.current.scrollToIndexes({colIndex:w});const{field:D}=e.current.getVisibleColumns()[w];e.current.setColumnGroupHeaderFocus(D,v,y)},[e,o]),d=g.useCallback(w=>{var v;return(v=r[w])==null?void 0:v.id},[r]),h=g.useCallback((w,v)=>{const y=v.currentTarget.querySelector(`.${N.columnHeaderTitleContainerContent}`);if(!!y&&y.contains(v.target)&&w.field!==Rr.field||!e.current.getRootDimensions())return;const R=e.current.getViewportPageSize(),M=w.field?e.current.getColumnIndex(w.field):0,E=r.length>0?0:null,V=r.length-1,I=0,P=Et(e).length-1,L=wi(e);let T=!0;switch(v.key){case"ArrowDown":{E!==null&&(i?c(M,v):l(M,d(E)));break}case"ArrowRight":{const F=Ra({currentColIndex:M,firstColIndex:I,lastColIndex:P,direction:s.direction});F!==null&&a(F,v);break}case"ArrowLeft":{const F=ya({currentColIndex:M,firstColIndex:I,lastColIndex:P,direction:s.direction});F!==null&&a(F,v);break}case"ArrowUp":{L>0&&u(M,L-1,v);break}case"PageDown":{E!==null&&V!==null&&l(M,d(Math.min(E+R,V)));break}case"Home":{a(I,v);break}case"End":{a(P,v);break}case"Enter":{(v.ctrlKey||v.metaKey)&&e.current.toggleColumnMenu(w.field);break}case" ":break;default:T=!1}T&&v.preventDefault()},[e,r.length,i,c,l,d,s.direction,a,u]),p=g.useCallback((w,v)=>{if(!e.current.getRootDimensions())return;const D=xR(e)===w.field,A=PR(e)===w.field;if(D||A||!Cl(v.key))return;const R=e.current.getViewportPageSize(),M=w.field?e.current.getColumnIndex(w.field):0,E=0,V=r.length-1,I=0,P=Et(e).length-1;let L=!0;switch(v.key){case"ArrowDown":{const T=d(E);T!=null&&l(M,T);break}case"ArrowRight":{const T=Ra({currentColIndex:M,firstColIndex:I,lastColIndex:P,direction:s.direction});T!==null&&c(T,v);break}case"ArrowLeft":{const T=ya({currentColIndex:M,firstColIndex:I,lastColIndex:P,direction:s.direction});T!==null?c(T,v):e.current.setColumnHeaderFilterFocus(w.field,v);break}case"ArrowUp":{a(M,v);break}case"PageDown":{V!==null&&l(M,d(Math.min(E+R,V)));break}case"Home":{c(I,v);break}case"End":{c(P,v);break}case" ":break;default:L=!1}L&&v.preventDefault()},[e,r.length,c,s.direction,a,l,d]),f=g.useCallback((w,v)=>{if(!e.current.getRootDimensions())return;const D=hl(e);if(D===null)return;const{field:A,depth:R}=D,{fields:M,depth:E,maxDepth:V}=w,I=e.current.getViewportPageSize(),P=e.current.getColumnIndex(A),L=A?e.current.getColumnIndex(A):0,T=0,F=r.length-1,x=0,O=Et(e).length-1;let H=!0;switch(v.key){case"ArrowDown":{E===V-1?a(P,v):u(P,R+1,v);break}case"ArrowUp":{E>0&&u(P,R-1,v);break}case"ArrowRight":{const k=M.length-M.indexOf(A)-1;P+k+1<=O&&u(P+k+1,R,v);break}case"ArrowLeft":{const k=M.indexOf(A);P-k-1>=x&&u(P-k-1,R,v);break}case"PageDown":{F!==null&&l(L,d(Math.min(T+I,F)));break}case"Home":{u(x,R,v);break}case"End":{u(O,R,v);break}case" ":break;default:H=!1}H&&v.preventDefault()},[e,r.length,a,u,l,d]),m=g.useCallback((w,v)=>{if(vi(v))return;const y=e.current.getCellParams(w.id,w.field);if(y.cellMode===Ke.Edit||!Cl(v.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:v,cell:y}))return;const A=e.current.getRootDimensions();if(r.length===0||!A)return;const R=s.direction,M=e.current.getViewportPageSize(),E=w.field?e.current.getColumnIndex(w.field):0,V=r.findIndex(x=>x.id===w.id),I=0,P=r.length-1,L=0,T=Et(e).length-1;let F=!0;switch(v.key){case"ArrowDown":{V<P&&l(E,d(V+1));break}case"ArrowUp":{V>I?l(E,d(V-1)):i?c(E,v):a(E,v);break}case"ArrowRight":{const x=Ra({currentColIndex:E,firstColIndex:L,lastColIndex:T,direction:R});x!==null&&l(x,d(V),R==="rtl"?"left":"right");break}case"ArrowLeft":{const x=ya({currentColIndex:E,firstColIndex:L,lastColIndex:T,direction:R});x!==null&&l(x,d(V),R==="rtl"?"right":"left");break}case"Tab":{v.shiftKey&&E>L?l(E-1,d(V),"left"):!v.shiftKey&&E<T&&l(E+1,d(V),"right");break}case" ":{if(w.field===pu)break;const O=w.colDef;if(O&&O.type==="treeDataGroup")break;!v.shiftKey&&V<P&&l(E,d(Math.min(V+M,P)));break}case"PageDown":{V<P&&l(E,d(Math.min(V+M,P)));break}case"PageUp":{const x=Math.max(V-M,I);x!==V&&x>=I?l(E,d(x)):a(E,v);break}case"Home":{v.ctrlKey||v.metaKey||v.shiftKey?l(L,d(I)):l(L,d(V));break}case"End":{v.ctrlKey||v.metaKey||v.shiftKey?l(T,d(P)):l(T,d(V));break}default:F=!1}F&&v.preventDefault()},[e,r,s.direction,l,d,i,c,a]),C=g.useCallback((w,{event:v})=>v.key===" "?!1:w,[]);mt(e,"canStartEditing",C),xe(e,"columnHeaderKeyDown",h),xe(e,"headerFilterKeyDown",p),xe(e,"columnGroupHeaderKeyDown",f),xe(e,"cellKeyDown",m)},nE=(e,t)=>{var o;const n=kt(e,"useGridRowCount"),s=fe(e,Jg),r=fe(e,Ks);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Ks,changeEvent:"rowCountChange"});const l={setRowCount:g.useCallback(u=>{r!==u&&(n.debug("Setting 'rowCount' to",u),e.current.setState(d=>S({},d,{pagination:S({},d.pagination,{rowCount:u})})))},[e,n,r])};Be(e,l,"public");const a=g.useCallback((u,d)=>{var h;const p=Ks(e);return!d.exportOnlyDirtyModels||t.rowCount!=null||((h=t.initialState)==null||(h=h.pagination)==null?void 0:h.rowCount)!=null?S({},u,{pagination:S({},u.pagination,{rowCount:p})}):u},[e,t.rowCount,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.rowCount]),c=g.useCallback((u,d)=>{var h;const p=(h=d.stateToRestore.pagination)!=null&&h.rowCount?d.stateToRestore.pagination.rowCount:Ks(e);return e.current.setState(f=>S({},f,{pagination:S({},f.pagination,{rowCount:p})})),u},[e]);mt(e,"exportState",a),mt(e,"restoreState",c),g.useEffect(()=>{},[t.rowCount,t.paginationMode]),g.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(s):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,s,t.paginationMode,t.rowCount])},sE=(e,t)=>{var o,n,s,r,i;const l=S({},wp(t.autoPageSize),(o=t.paginationModel)!=null?o:(n=t.initialState)==null||(n=n.pagination)==null?void 0:n.paginationModel);vp(l.pageSize,t.signature);const a=(s=(r=t.rowCount)!=null?r:(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.rowCount)!=null?s:0;return S({},e,{pagination:{paginationModel:l,rowCount:a}})},rE=(e,t)=>{UF(e,t),nE(e,t)},iE=(e,t)=>{var o,n;return S({},e,{preferencePanel:(o=(n=t.initialState)==null?void 0:n.preferencePanel)!=null?o:{open:!1}})},lE=(e,t)=>{var o;const n=kt(e,"useGridPreferencesPanel"),s=g.useRef(),r=g.useRef(),i=g.useCallback(()=>{n.debug("Hiding Preferences Panel");const h=oi(e.current.state);h.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:h.openedPanelValue}),e.current.setState(p=>S({},p,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,n]),l=g.useCallback(()=>{r.current=setTimeout(()=>clearTimeout(s.current),0)},[]),a=g.useCallback(()=>{s.current=setTimeout(i,100)},[i]),c=g.useCallback((h,p,f)=>{n.debug("Opening Preferences Panel"),l(),e.current.setState(m=>S({},m,{preferencePanel:S({},m.preferencePanel,{open:!0,openedPanelValue:h,panelId:p,labelId:f})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:h}),e.current.forceUpdate()},[n,l,e]);Be(e,{showPreferences:c,hidePreferences:a},"public");const u=g.useCallback((h,p)=>{var f;const m=oi(e.current.state);return!p.exportOnlyDirtyModels||((f=t.initialState)==null?void 0:f.preferencePanel)!=null||m.open?S({},h,{preferencePanel:m}):h},[e,(o=t.initialState)==null?void 0:o.preferencePanel]),d=g.useCallback((h,p)=>{const f=p.stateToRestore.preferencePanel;return f!=null&&e.current.setState(m=>S({},m,{preferencePanel:f})),h},[e]);mt(e,"exportState",u),mt(e,"restoreState",d),g.useEffect(()=>()=>{clearTimeout(s.current),clearTimeout(r.current)},[])},aE=["id","field"],cE=["id","field"],uE=Qo(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),dE=(e,t)=>{const[o,n]=g.useState({}),s=g.useRef(o),r=g.useRef({}),{processRowUpdate:i,onProcessRowUpdateError:l,cellModesModel:a,onCellModesModelChange:c}=t,u=F=>(...x)=>{t.editMode===$o.Cell&&F(...x)},d=g.useCallback((F,x)=>{const O=e.current.getCellParams(F,x);if(!e.current.isCellEditable(O))throw new Error(`MUI: The cell with id=${F} and field=${x} is not editable.`)},[e]),h=g.useCallback((F,x,O)=>{if(e.current.getCellMode(F,x)!==O)throw new Error(`MUI: The cell with id=${F} and field=${x} is not in ${O} mode.`)},[e]),p=g.useCallback((F,x)=>{if(!F.isEditable||F.cellMode===Ke.Edit)return;const O=S({},F,{reason:nn.cellDoubleClick});e.current.publishEvent("cellEditStart",O,x)},[e]),f=g.useCallback((F,x)=>{if(F.cellMode===Ke.View||e.current.getCellMode(F.id,F.field)===Ke.View)return;const O=S({},F,{reason:yo.cellFocusOut});e.current.publishEvent("cellEditStop",O,x)},[e]),m=g.useCallback((F,x)=>{if(F.cellMode===Ke.Edit){if(x.which===229)return;let O;if(x.key==="Escape"?O=yo.escapeKeyDown:x.key==="Enter"?O=yo.enterKeyDown:x.key==="Tab"&&(O=x.shiftKey?yo.shiftTabKeyDown:yo.tabKeyDown,x.preventDefault()),O){const H=S({},F,{reason:O});e.current.publishEvent("cellEditStop",H,x)}}else if(F.isEditable){let O;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:x,cellParams:F,editMode:"cell"}))return;if(up(x)?O=nn.printableKeyDown:(x.ctrlKey||x.metaKey)&&x.key==="v"?O=nn.pasteKeyDown:x.key==="Enter"?O=nn.enterKeyDown:(x.key==="Delete"||x.key==="Backspace")&&(O=nn.deleteKeyDown),O){const k=S({},F,{reason:O,key:x.key});e.current.publishEvent("cellEditStart",k,x)}}},[e]),C=g.useCallback(F=>{const{id:x,field:O,reason:H}=F,k={id:x,field:O};(H===nn.printableKeyDown||H===nn.deleteKeyDown||H===nn.pasteKeyDown)&&(k.deleteValue=!0),e.current.startCellEditMode(k)},[e]),w=g.useCallback(F=>{const{id:x,field:O,reason:H}=F;e.current.runPendingEditCellValueMutation(x,O);let k;H===yo.enterKeyDown?k="below":H===yo.tabKeyDown?k="right":H===yo.shiftTabKeyDown&&(k="left");const G=H==="escapeKeyDown";e.current.stopCellEditMode({id:x,field:O,ignoreModifications:G,cellToFocusAfter:k})},[e]);xe(e,"cellDoubleClick",u(p)),xe(e,"cellFocusOut",u(f)),xe(e,"cellKeyDown",u(m)),xe(e,"cellEditStart",u(C)),xe(e,"cellEditStop",u(w)),it(e,"cellEditStart",t.onCellEditStart),it(e,"cellEditStop",t.onCellEditStop);const v=g.useCallback((F,x)=>{const O=Nt(e.current.state);return O[F]&&O[F][x]?Ke.Edit:Ke.View},[e]),y=Pt(F=>{const x=F!==t.cellModesModel;c&&x&&c(F,{}),!(t.cellModesModel&&x)&&(n(F),s.current=F,e.current.publishEvent("cellModesModelChange",F))}),D=g.useCallback((F,x,O)=>{const H=S({},s.current);if(O!==null)H[F]=S({},H[F],{[x]:S({},O)});else{const k=H[F],G=he(k,[x].map(Jr));H[F]=G,Object.keys(H[F]).length===0&&delete H[F]}y(H)},[y]),A=g.useCallback((F,x,O)=>{e.current.setState(H=>{const k=S({},H.editRows);return O!==null?k[F]=S({},k[F],{[x]:S({},O)}):(delete k[F][x],Object.keys(k[F]).length===0&&delete k[F]),S({},H,{editRows:k})}),e.current.forceUpdate()},[e]),R=g.useCallback(F=>{const{id:x,field:O}=F,H=he(F,aE);d(x,O),h(x,O,Ke.View),D(x,O,S({mode:Ke.Edit},H))},[d,h,D]),M=Pt(F=>{const{id:x,field:O,deleteValue:H,initialValue:k}=F;let G=e.current.getCellValue(x,O);(H||k)&&(G=H?"":k),A(x,O,{value:G,error:!1,isProcessingProps:!1}),e.current.setCellFocus(x,O)}),E=g.useCallback(F=>{const{id:x,field:O}=F,H=he(F,cE);h(x,O,Ke.Edit),D(x,O,S({mode:Ke.View},H))},[h,D]),V=Pt(async F=>{const{id:x,field:O,ignoreModifications:H,cellToFocusAfter:k="none"}=F;h(x,O,Ke.Edit),e.current.runPendingEditCellValueMutation(x,O);const G=()=>{A(x,O,null),D(x,O,null),k!=="none"&&e.current.moveFocusToRelativeCell(x,O,k)};if(H){G();return}const B=Nt(e.current.state),{error:W,isProcessingProps:z}=B[x][O];if(W||z){r.current[x][O].mode=Ke.Edit,D(x,O,{mode:Ke.Edit});return}const j=e.current.getRowWithUpdatedValuesFromCellEditing(x,O);if(i){const q=X=>{r.current[x][O].mode=Ke.Edit,D(x,O,{mode:Ke.Edit}),l?l(X):uE()};try{const X=e.current.getRow(x);Promise.resolve(i(j,X)).then(me=>{e.current.updateRows([me]),G()}).catch(q)}catch(X){q(X)}}else e.current.updateRows([j]),G()}),I=g.useCallback(async F=>{var x;const{id:O,field:H,value:k,debounceMs:G,unstable_skipValueParser:B}=F;d(O,H),h(O,H,Ke.Edit);const W=e.current.getColumn(H),z=e.current.getRow(O);let j=k;W.valueParser&&!B&&(j=W.valueParser(k,e.current.getCellParams(O,H)));let q=Nt(e.current.state),X=S({},q[O][H],{value:j,changeReason:G?"debouncedSetEditCellValue":"setEditCellValue"});if(W.preProcessEditCellProps){const me=k!==q[O][H].value;X=S({},X,{isProcessingProps:!0}),A(O,H,X),X=await Promise.resolve(W.preProcessEditCellProps({id:O,row:z,props:X,hasChanged:me}))}return e.current.getCellMode(O,H)===Ke.View?!1:(q=Nt(e.current.state),X=S({},X,{isProcessingProps:!1}),X.value=W.preProcessEditCellProps?q[O][H].value:j,A(O,H,X),q=Nt(e.current.state),!((x=q[O])!=null&&(x=x[H])!=null&&x.error))},[e,d,h,A]),P=g.useCallback((F,x)=>{const O=e.current.getColumn(x),H=Nt(e.current.state),k=e.current.getRow(F);if(!H[F]||!H[F][x])return e.current.getRow(F);const{value:G}=H[F][x];return O.valueSetter?O.valueSetter({value:G,row:k}):S({},k,{[x]:G})},[e]),L={getCellMode:v,startCellEditMode:R,stopCellEditMode:E},T={setCellEditingEditCellValue:I,getRowWithUpdatedValuesFromCellEditing:P};Be(e,L,"public"),Be(e,T,"private"),g.useEffect(()=>{a&&y(a)},[a,y]),Mt(()=>{const F=dl(e),x=r.current;r.current=mp(o),Object.entries(o).forEach(([O,H])=>{Object.entries(H).forEach(([k,G])=>{var B,W;const z=((B=x[O])==null||(B=B[k])==null?void 0:B.mode)||Ke.View,j=(W=F[O])!=null?W:O;G.mode===Ke.Edit&&z===Ke.View?M(S({id:j,field:k},G)):G.mode===Ke.View&&z===Ke.Edit&&V(S({id:j,field:k},G))})})},[e,o,M,V])},hE=["id"],gE=["id"],pE=Qo(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),fE=(e,t)=>{const[o,n]=g.useState({}),s=g.useRef(o),r=g.useRef({}),i=g.useRef(null),l=g.useRef(null),{processRowUpdate:a,onProcessRowUpdateError:c,rowModesModel:u,onRowModesModelChange:d}=t,h=k=>(...G)=>{t.editMode===$o.Row&&k(...G)},p=g.useCallback((k,G)=>{const B=e.current.getCellParams(k,G);if(!e.current.isCellEditable(B))throw new Error(`MUI: The cell with id=${k} and field=${G} is not editable.`)},[e]),f=g.useCallback((k,G)=>{if(e.current.getRowMode(k)!==G)throw new Error(`MUI: The row with id=${k} is not in ${G} mode.`)},[e]),m=g.useCallback((k,G)=>{if(!k.isEditable||e.current.getRowMode(k.id)===rt.Edit)return;const B=e.current.getRowParams(k.id),W=S({},B,{field:k.field,reason:Mn.cellDoubleClick});e.current.publishEvent("rowEditStart",W,G)},[e]),C=g.useCallback(k=>{l.current=k},[]),w=g.useCallback((k,G)=>{k.isEditable&&e.current.getRowMode(k.id)!==rt.View&&(l.current=null,i.current=setTimeout(()=>{var B;if(i.current=null,((B=l.current)==null?void 0:B.id)!==k.id){if(!e.current.getRow(k.id)||e.current.getRowMode(k.id)===rt.View)return;const W=e.current.getRowParams(k.id),z=S({},W,{field:k.field,reason:sn.rowFocusOut});e.current.publishEvent("rowEditStop",z,G)}}))},[e]);g.useEffect(()=>()=>{clearTimeout(i.current)},[]);const v=g.useCallback((k,G)=>{if(k.cellMode===rt.Edit){if(G.which===229)return;let B;if(G.key==="Escape")B=sn.escapeKeyDown;else if(G.key==="Enter")B=sn.enterKeyDown;else if(G.key==="Tab"){const W=Yl(e).filter(z=>e.current.getColumn(z).type===oa?!0:e.current.isCellEditable(e.current.getCellParams(k.id,z)));if(G.shiftKey?k.field===W[0]&&(B=sn.shiftTabKeyDown):k.field===W[W.length-1]&&(B=sn.tabKeyDown),G.preventDefault(),!B){const z=W.findIndex(q=>q===k.field),j=W[G.shiftKey?z-1:z+1];e.current.setCellFocus(k.id,j)}}if(B){const W=S({},e.current.getRowParams(k.id),{reason:B,field:k.field});e.current.publishEvent("rowEditStop",W,G)}}else if(k.isEditable){let B;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:G,cellParams:k,editMode:"row"}))return;if(up(G)||(G.ctrlKey||G.metaKey)&&G.key==="v"?B=Mn.printableKeyDown:G.key==="Enter"?B=Mn.enterKeyDown:(G.key==="Delete"||G.key==="Backspace")&&(B=Mn.deleteKeyDown),B){const z=e.current.getRowParams(k.id),j=S({},z,{field:k.field,reason:B});e.current.publishEvent("rowEditStart",j,G)}}},[e]),y=g.useCallback(k=>{const{id:G,field:B,reason:W}=k,z={id:G,fieldToFocus:B};(W===Mn.printableKeyDown||W===Mn.deleteKeyDown)&&(z.deleteValue=!!B),e.current.startRowEditMode(z)},[e]),D=g.useCallback(k=>{const{id:G,reason:B,field:W}=k;e.current.runPendingEditCellValueMutation(G);let z;B===sn.enterKeyDown?z="below":B===sn.tabKeyDown?z="right":B===sn.shiftTabKeyDown&&(z="left");const j=B==="escapeKeyDown";e.current.stopRowEditMode({id:G,ignoreModifications:j,field:W,cellToFocusAfter:z})},[e]);xe(e,"cellDoubleClick",h(m)),xe(e,"cellFocusIn",h(C)),xe(e,"cellFocusOut",h(w)),xe(e,"cellKeyDown",h(v)),xe(e,"rowEditStart",h(y)),xe(e,"rowEditStop",h(D)),it(e,"rowEditStart",t.onRowEditStart),it(e,"rowEditStop",t.onRowEditStop);const A=g.useCallback(k=>{if(t.editMode===$o.Cell)return rt.View;const G=Nt(e.current.state);return G[k]&&Object.keys(G[k]).length>0?rt.Edit:rt.View},[e,t.editMode]),R=Pt(k=>{const G=k!==t.rowModesModel;d&&G&&d(k,{}),!(t.rowModesModel&&G)&&(n(k),s.current=k,e.current.publishEvent("rowModesModelChange",k))}),M=g.useCallback((k,G)=>{const B=S({},s.current);G!==null?B[k]=S({},G):delete B[k],R(B)},[R]),E=g.useCallback((k,G)=>{e.current.setState(B=>{const W=S({},B.editRows);return G!==null?W[k]=G:delete W[k],S({},B,{editRows:W})}),e.current.forceUpdate()},[e]),V=g.useCallback((k,G,B)=>{e.current.setState(W=>{const z=S({},W.editRows);return B!==null?z[k]=S({},z[k],{[G]:S({},B)}):(delete z[k][G],Object.keys(z[k]).length===0&&delete z[k]),S({},W,{editRows:z})}),e.current.forceUpdate()},[e]),I=g.useCallback(k=>{const{id:G}=k,B=he(k,hE);f(G,rt.View),M(G,S({mode:rt.Edit},B))},[f,M]),P=Pt(k=>{const{id:G,fieldToFocus:B,deleteValue:W,initialValue:z}=k,q=hn(e).reduce((X,me)=>{if(!e.current.getCellParams(G,me).isEditable)return X;let Ce=e.current.getCellValue(G,me);return B===me&&(W||z)&&(Ce=W?"":z),X[me]={value:Ce,error:!1,isProcessingProps:!1},X},{});E(G,q),B&&e.current.setCellFocus(G,B)}),L=g.useCallback(k=>{const{id:G}=k,B=he(k,gE);f(G,rt.Edit),M(G,S({mode:rt.View},B))},[f,M]),T=Pt(k=>{const{id:G,ignoreModifications:B,field:W,cellToFocusAfter:z="none"}=k;e.current.runPendingEditCellValueMutation(G);const j=()=>{z!=="none"&&W&&e.current.moveFocusToRelativeCell(G,W,z),E(G,null),M(G,null)};if(B){j();return}const q=Nt(e.current.state),X=e.current.getRow(G);if(Object.values(q[G]).some(re=>re.isProcessingProps)){r.current[G].mode=rt.Edit;return}if(Object.values(q[G]).some(re=>re.error)){r.current[G].mode=rt.Edit,M(G,{mode:rt.Edit});return}const Ce=e.current.getRowWithUpdatedValuesFromRowEditing(G);if(a){const re=we=>{r.current[G].mode=rt.Edit,M(G,{mode:rt.Edit}),c?c(we):pE()};try{Promise.resolve(a(Ce,X)).then(we=>{e.current.updateRows([we]),j()}).catch(re)}catch(we){re(we)}}else e.current.updateRows([Ce]),j()}),F=g.useCallback(k=>{const{id:G,field:B,value:W,debounceMs:z,unstable_skipValueParser:j}=k;p(G,B);const q=e.current.getColumn(B),X=e.current.getRow(G);let me=W;q.valueParser&&!j&&(me=q.valueParser(W,e.current.getCellParams(G,B)));let ge=Nt(e.current.state),Ce=S({},ge[G][B],{value:me,changeReason:z?"debouncedSetEditCellValue":"setEditCellValue"});return q.preProcessEditCellProps||V(G,B,Ce),new Promise(re=>{const we=[];if(q.preProcessEditCellProps){const pe=Ce.value!==ge[G][B].value;Ce=S({},Ce,{isProcessingProps:!0}),V(G,B,Ce);const be=ge[G],ne=he(be,[B].map(Jr)),te=Promise.resolve(q.preProcessEditCellProps({id:G,row:X,props:Ce,hasChanged:pe,otherFieldsProps:ne})).then(J=>{if(e.current.getRowMode(G)===rt.View){re(!1);return}ge=Nt(e.current.state),J=S({},J,{isProcessingProps:!1}),J.value=q.preProcessEditCellProps?ge[G][B].value:me,V(G,B,J)});we.push(te)}Object.entries(ge[G]).forEach(([pe,be])=>{if(pe===B)return;const ne=e.current.getColumn(pe);if(!ne.preProcessEditCellProps)return;be=S({},be,{isProcessingProps:!0}),V(G,pe,be),ge=Nt(e.current.state);const te=ge[G],J=he(te,[pe].map(Jr)),Y=Promise.resolve(ne.preProcessEditCellProps({id:G,row:X,props:be,hasChanged:!1,otherFieldsProps:J})).then(ue=>{if(e.current.getRowMode(G)===rt.View){re(!1);return}ue=S({},ue,{isProcessingProps:!1}),V(G,pe,ue)});we.push(Y)}),Promise.all(we).then(()=>{e.current.getRowMode(G)===rt.Edit?(ge=Nt(e.current.state),re(!ge[G][B].error)):re(!1)})})},[e,p,V]),x=g.useCallback(k=>{const G=Nt(e.current.state),B=e.current.getRow(k);if(!G[k])return e.current.getRow(k);let W=S({},B);return Object.entries(G[k]).forEach(([z,j])=>{const q=e.current.getColumn(z);q.valueSetter?W=q.valueSetter({value:j.value,row:W}):W[z]=j.value}),W},[e]),O={getRowMode:A,startRowEditMode:I,stopRowEditMode:L},H={setRowEditingEditCellValue:F,getRowWithUpdatedValuesFromRowEditing:x};Be(e,O,"public"),Be(e,H,"private"),g.useEffect(()=>{u&&R(u)},[u,R]),Mt(()=>{const k=dl(e),G=r.current;r.current=mp(o),Object.entries(o).forEach(([B,W])=>{var z,j;const q=((z=G[B])==null?void 0:z.mode)||rt.View,X=(j=k[B])!=null?j:B;W.mode===rt.Edit&&q===rt.View?P(S({id:X},W)):W.mode===rt.View&&q===rt.Edit&&T(S({id:X},W))})},[e,o,P,T])},mE=e=>S({},e,{editRows:{}}),CE=(e,t)=>{dE(e,t),fE(e,t);const o=g.useRef({}),{isCellEditable:n}=t,s=g.useCallback(h=>ei(h.rowNode)||!h.colDef.editable||!h.colDef.renderEditCell?!1:n?n(h):!0,[n]),r=(h,p,f,m)=>{if(!f){m();return}if(o.current[h]||(o.current[h]={}),o.current[h][p]){const[v]=o.current[h][p];clearTimeout(v)}const C=()=>{const[v]=o.current[h][p];clearTimeout(v),m(),delete o.current[h][p]},w=setTimeout(()=>{m(),delete o.current[h][p]},f);o.current[h][p]=[w,C]};g.useEffect(()=>{const h=o.current;return()=>{Object.entries(h).forEach(([p,f])=>{Object.keys(f).forEach(m=>{const[C]=h[p][m];clearTimeout(C),delete h[p][m]})})}},[]);const i=g.useCallback((h,p)=>{if(o.current[h]){if(!p)Object.keys(o.current[h]).forEach(f=>{const[,m]=o.current[h][f];m()});else if(o.current[h][p]){const[,f]=o.current[h][p];f()}}},[]),l=g.useCallback(h=>{const{id:p,field:f,debounceMs:m}=h;return new Promise(C=>{r(p,f,m,async()=>{const w=t.editMode===$o.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(p,f)===Ke.Edit){const v=await w(h);C(v)}})})},[e,t.editMode]),a=g.useCallback((h,p)=>t.editMode===$o.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(h,p):e.current.getRowWithUpdatedValuesFromRowEditing(h),[e,t.editMode]),c=g.useCallback((h,p)=>{var f,m;return(f=(m=Nt(e.current.state)[h])==null?void 0:m[p])!=null?f:null},[e]),u={isCellEditable:s,setEditCellValue:l,getRowWithUpdatedValues:a,unstable_getEditCellMeta:c},d={runPendingEditCellValueMutation:i};Be(e,u,"public"),Be(e,d,"private")},wE=(e,t,o)=>(o.current.caches.rows=qi({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),S({},e,{rows:op({apiRef:o,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})),vE=(e,t)=>{const o=kt(e,"useGridRows"),n=Ds(e,t),s=g.useRef(Date.now()),r=gu(),i=g.useCallback(T=>{const F=dn(e)[T];if(F)return F;const x=e.current.getRowNode(T);return x&&ei(x)?{[Zs]:T}:null},[e]),l=t.getRowId,a=g.useCallback(T=>Zs in T?T[Zs]:l?l(T):T.id,[l]),c=g.useMemo(()=>n.rows.reduce((T,{id:F},x)=>(T[F]=x,T),{}),[n.rows]),u=g.useCallback(({cache:T,throttle:F})=>{const x=()=>{s.current=Date.now(),e.current.setState(H=>S({},H,{rows:op({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Ro(e),previousTreeDepths:Md(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(r.clear(),e.current.caches.rows=T,!F){x();return}const O=t.throttleRowsMs-(Date.now()-s.current);if(O>0){r.start(O,x);return}x()},[t.throttleRowsMs,t.rowCount,t.loading,e,r]),d=g.useCallback(T=>{o.debug(`Updating all rows, new length ${T.length}`);const F=qi({rows:T,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),x=e.current.caches.rows;F.rowsBeforePartialUpdates=x.rowsBeforePartialUpdates,u({cache:F,throttle:!0})},[o,t.getRowId,t.loading,t.rowCount,u,e]),h=g.useCallback(T=>{if(t.signature===zo.DataGrid&&T.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const F=[];T.forEach(O=>{const H=pl(O,t.getRowId,"A row was provided without id when calling updateRows():"),k=e.current.getRowNode(H);if(k?.type==="pinnedRow"){const G=e.current.caches.pinnedRows,B=G.idLookup[H];B&&(G.idLookup[H]=S({},B,O))}else F.push(O)});const x=hS({updates:F,getRowId:t.getRowId,previousCache:e.current.caches.rows});u({cache:x,throttle:!0})},[t.signature,t.getRowId,u,e]),p=g.useCallback(()=>{const T=Nr(e),F=dn(e);return new Map(T.map(x=>{var O;return[x,(O=F[x])!=null?O:{}]}))},[e]),f=g.useCallback(()=>Zl(e),[e]),m=g.useCallback(()=>Nr(e),[e]),C=g.useCallback(T=>c[T],[c]),w=g.useCallback((T,F)=>{const x=e.current.getRowNode(T);if(!x)throw new Error(`MUI: No row with id #${T} found`);if(x.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const O=S({},x,{childrenExpanded:F});e.current.setState(H=>S({},H,{rows:S({},H.rows,{tree:S({},H.rows.tree,{[T]:O})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",O)},[e]),v=g.useCallback(T=>{var F;return(F=Ro(e)[T])!=null?F:null},[e]),y=g.useCallback(({skipAutoGeneratedRows:T=!0,groupId:F,applySorting:x,applyFiltering:O})=>{const H=Ro(e);let k;if(x){const G=H[F];if(!G)return[];const B=tu(e);k=[];const W=B.findIndex(z=>z===F)+1;for(let z=W;z<B.length&&H[B[z]].depth>G.depth;z+=1){const j=B[z];(!T||!ei(H[j]))&&k.push(j)}}else k=ru(H,F,T);if(O){const G=Qg(e);k=k.filter(B=>G[B]!==!1)}return k},[e]),D=g.useCallback((T,F)=>{const x=e.current.getRowNode(T);if(!x)throw new Error(`MUI: No row with id #${T} found`);if(x.parent!==zt)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(x.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState(O=>{const H=Ro(O,e.current.instanceId)[zt],k=H.children,G=k.findIndex(W=>W===T);if(G===-1||G===F)return O;o.debug(`Moving row ${T} to index ${F}`);const B=[...k];return B.splice(F,0,B.splice(G,1)[0]),S({},O,{rows:S({},O.rows,{tree:S({},O.rows.tree,{[zt]:S({},H,{children:B})})})})}),e.current.publishEvent("rowsSet")},[e,o]),A=g.useCallback((T,F)=>{if(t.signature===zo.DataGrid&&F.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(F.length===0)return;if(Xl(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const O=S({},Ro(e)),H=S({},dn(e)),k=S({},dl(e)),G=O[zt],B=[...G.children],W=new Set;for(let j=0;j<F.length;j+=1){const q=F[j],X=pl(q,t.getRowId,"A row was provided without id when calling replaceRows()."),[me]=B.splice(T+j,1,X);W.has(me)||(delete H[me],delete k[me],delete O[me]);const ge={id:X,depth:0,parent:zt,type:"leaf",groupingKey:null};H[X]=q,k[X]=X,O[X]=ge,W.add(X)}O[zt]=S({},G,{children:B});const z=B.filter(j=>O[j].type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=H,e.current.caches.rows.dataRowIdToIdLookup=k,e.current.setState(j=>S({},j,{rows:S({},j.rows,{dataRowIdToModelLookup:H,dataRowIdToIdLookup:k,dataRowIds:z,tree:O})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),R={getRow:i,getRowId:a,getRowModels:p,getRowsCount:f,getAllRowIds:m,setRows:d,updateRows:h,getRowNode:v,getRowIndexRelativeToVisibleRows:C,unstable_replaceRows:A},M={setRowIndex:D,setRowChildrenExpansion:w,getRowGroupChildren:y},E=g.useCallback(()=>{o.info("Row grouping pre-processing have changed, regenerating the row tree");let T;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?T=S({},e.current.caches.rows,{updates:{type:"full",rows:Nr(e)}}):T=qi({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),u({cache:T,throttle:!1})},[o,e,t.rows,t.getRowId,t.loading,t.rowCount,u]),V=g.useCallback(T=>{T==="rowTreeCreation"&&E()},[E]),I=g.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==Kb(e)&&E()},[e,E]);xe(e,"activeStrategyProcessorChange",V),xe(e,"strategyAvailabilityChange",I);const P=g.useCallback(()=>{e.current.setState(T=>{const F=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Ro(T,e.current.instanceId),treeDepths:Md(T,e.current.instanceId),dataRowIds:Nr(T,e.current.instanceId),dataRowIdToModelLookup:dn(T,e.current.instanceId),dataRowIdToIdLookup:dl(T,e.current.instanceId)});return S({},T,{rows:S({},T.rows,F,{totalTopLevelRowCount:tp({tree:F.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);mu(e,"hydrateRows",P),Be(e,R,"public"),Be(e,M,t.signature===zo.DataGrid?"private":"public");const L=g.useRef(!0);g.useEffect(()=>{if(L.current){L.current=!1;return}const T=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,F=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,x=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(T){F||(e.current.setState(O=>S({},O,{rows:S({},O.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),x||(e.current.setState(O=>S({},O,{rows:S({},O.rows,{totalRowCount:Math.max(t.rowCount||0,O.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,O.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}o.debug(`Updating all rows, new length ${t.rows.length}`),u({cache:qi({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[t.rows,t.rowCount,t.getRowId,t.loading,o,u,e])},bE=e=>{const t={[zt]:S({},uS(),{children:e})};for(let o=0;o<e.length;o+=1){const n=e[o];t[n]={id:n,depth:0,parent:zt,type:"leaf",groupingKey:null}}return{groupingName:fs,tree:t,treeDepths:{0:e.length},dataRowIds:e}},SE=({previousTree:e,actions:t})=>{const o=S({},e),n={};for(let i=0;i<t.remove.length;i+=1){const l=t.remove[i];n[l]=!0,delete o[l]}for(let i=0;i<t.insert.length;i+=1){const l=t.insert[i];o[l]={id:l,depth:0,parent:zt,type:"leaf",groupingKey:null}}const s=o[zt];let r=[...s.children,...t.insert];return Object.values(n).length&&(r=r.filter(i=>!n[i])),o[zt]=S({},s,{children:r}),{groupingName:fs,tree:o,treeDepths:{0:r.length},dataRowIds:r}},yE=e=>e.updates.type==="full"?bE(e.updates.rows):SE({previousTree:e.previousTree,actions:e.updates.actions}),RE=e=>{Sl(e,fs,"rowTreeCreation",yE)},jp=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],xE=(e,t)=>{var o;return S({},e,{rowSelection:t.rowSelection?(o=jp(t.rowSelectionModel))!=null?o:[]:[]})},PE=(e,t)=>{const o=kt(e,"useGridSelection"),n=F=>(...x)=>{t.rowSelection&&F(...x)},s=g.useMemo(()=>jp(t.rowSelectionModel,uo(e.current.state)),[e,t.rowSelectionModel]),r=g.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:uo,changeEvent:"rowSelectionChange"});const{checkboxSelection:i,disableMultipleRowSelection:l,disableRowSelectionOnClick:a,isRowSelectable:c}=t,u=!l||i,d=Ds(e,t),h=g.useCallback(F=>{var x;let O=F;const H=(x=r.current)!=null?x:F,k=e.current.isRowSelected(F);if(k){const G=Ur(e),B=G.findIndex(z=>z===H),W=G.findIndex(z=>z===O);if(B===W)return;B>W?O=G[W+1]:O=G[W-1]}r.current=F,e.current.selectRowRange({startId:H,endId:O},!k)},[e]),p=g.useCallback(F=>{if(t.signature===zo.DataGrid&&!t.checkboxSelection&&Array.isArray(F)&&F.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));uo(e.current.state)!==F&&(o.debug("Setting selection model"),e.current.setState(O=>S({},O,{rowSelection:t.rowSelection?F:[]})),e.current.forceUpdate())},[e,o,t.rowSelection,t.signature,t.checkboxSelection]),f=g.useCallback(F=>uo(e.current.state).includes(F),[e]),m=g.useCallback(F=>{if(c&&!c(e.current.getRowParams(F)))return!1;const x=e.current.getRowNode(F);return!(x?.type==="footer"||x?.type==="pinnedRow")},[e,c]),C=g.useCallback(()=>mR(e),[e]),w=g.useCallback((F,x=!0,O=!1)=>{if(e.current.isRowSelectable(F))if(r.current=F,O)o.debug(`Setting selection for row ${F}`),e.current.setRowSelectionModel(x?[F]:[]);else{o.debug(`Toggling selection for row ${F}`);const k=uo(e.current.state).filter(B=>B!==F);x&&k.push(F),(k.length<2||u)&&e.current.setRowSelectionModel(k)}},[e,o,u]),v=g.useCallback((F,x=!0,O=!1)=>{o.debug("Setting selection for several rows");const H=F.filter(B=>e.current.isRowSelectable(B));let k;if(O)k=x?H:[];else{const B=S({},wl(e));H.forEach(W=>{x?B[W]=W:delete B[W]}),k=Object.values(B)}(k.length<2||u)&&e.current.setRowSelectionModel(k)},[e,o,u]),y=g.useCallback(({startId:F,endId:x},O=!0,H=!1)=>{if(!e.current.getRow(F)||!e.current.getRow(x))return;o.debug(`Expanding selection from row ${F} to row ${x}`);const k=Ur(e),G=k.indexOf(F),B=k.indexOf(x),[W,z]=G>B?[B,G]:[G,B],j=k.slice(W,z+1);e.current.selectRows(j,O,H)},[e,o]),D={selectRow:w,setRowSelectionModel:p,getSelectedRows:C,isRowSelected:f,isRowSelectable:m},A={selectRows:v,selectRowRange:y};Be(e,D,"public"),Be(e,A,t.signature===zo.DataGrid?"private":"public");const R=g.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const F=uo(e.current.state),x=dn(e),O=S({},wl(e));let H=!1;F.forEach(k=>{x[k]||(delete O[k],H=!0)}),H&&e.current.setRowSelectionModel(Object.values(O))},[e,t.keepNonExistentRowsSelected]),M=g.useCallback((F,x)=>{const O=x.metaKey||x.ctrlKey,H=!i&&!O&&!ey(x),k=!u||H,G=e.current.isRowSelected(F);k?e.current.selectRow(F,H?!0:!G,!0):e.current.selectRow(F,!G,!1)},[e,u,i]),E=g.useCallback((F,x)=>{var O;if(a)return;const H=(O=x.target.closest(`.${N.cell}`))==null?void 0:O.getAttribute("data-field");if(H===Rr.field||H===pu)return;if(H){const G=e.current.getColumn(H);if(G?.type===oa)return}e.current.getRowNode(F.id).type!=="pinnedRow"&&(x.shiftKey&&(u||i)?h(F.id):M(F.id,x))},[a,u,i,e,h,M]),V=g.useCallback((F,x)=>{if(u&&x.shiftKey){var O;(O=window.getSelection())==null||O.removeAllRanges()}},[u]),I=g.useCallback((F,x)=>{x.nativeEvent.shiftKey?h(F.id):e.current.selectRow(F.id,F.value)},[e,h]),P=g.useCallback(F=>{const O=t.checkboxSelectionVisibleOnly&&t.pagination?Sp(e):Ur(e),H=Rt(e);e.current.selectRows(O,F.value,H?.items.length>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),L=g.useCallback((F,x)=>{if(e.current.getCellMode(F.id,F.field)!==Ke.Edit&&!vi(x)){if(Cl(x.key)&&x.shiftKey){const O=Xt(e);if(O&&O.id!==F.id){x.preventDefault();const H=e.current.isRowSelected(O.id);if(!u){e.current.selectRow(O.id,!H,!0);return}const k=e.current.getRowIndexRelativeToVisibleRows(O.id),G=e.current.getRowIndexRelativeToVisibleRows(F.id);let B,W;k>G?H?(B=G,W=k-1):(B=G,W=k):H?(B=k+1,W=G):(B=k,W=G);const z=d.rows.slice(B,W+1).map(j=>j.id);e.current.selectRows(z,!H);return}}if(x.key===" "&&x.shiftKey){x.preventDefault(),M(F.id,x);return}x.key==="a"&&(x.ctrlKey||x.metaKey)&&(x.preventDefault(),v(e.current.getAllRowIds(),!0))}},[e,M,v,d.rows,u]);xe(e,"sortedRowsSet",n(R)),xe(e,"rowClick",n(E)),xe(e,"rowSelectionCheckboxChange",n(I)),xe(e,"headerSelectionCheckboxChange",P),xe(e,"cellMouseDown",n(V)),xe(e,"cellKeyDown",n(L)),g.useEffect(()=>{s!==void 0&&e.current.setRowSelectionModel(s)},[e,s,t.rowSelection]),g.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const T=s!=null;g.useEffect(()=>{if(T||!t.rowSelection)return;const F=uo(e.current.state);if(m){const x=F.filter(O=>m(O));x.length<F.length&&e.current.setRowSelectionModel(x)}},[e,m,T,t.rowSelection]),g.useEffect(()=>{if(!t.rowSelection||T)return;const F=uo(e.current.state);!u&&F.length>1&&e.current.setRowSelectionModel([])},[e,u,i,T,t.rowSelection])},FE={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Searchâ€¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},EE=e=>{const{classes:t}=e;return g.useMemo(()=>Ge({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},_e,t),[t])},DE=(e,t)=>{const o={classes:t.classes},n=EE(o),s=g.useCallback(r=>{const i=S({},Rr,{cellClassName:n.cellCheckbox,headerClassName:n.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),l=t.checkboxSelection,a=r.lookup[In]!=null;return l&&!a?(r.lookup[In]=i,r.orderedFields=[In,...r.orderedFields]):!l&&a?(delete r.lookup[In],r.orderedFields=r.orderedFields.filter(c=>c!==In)):l&&a&&(r.lookup[In]=S({},i,r.lookup[In])),r},[e,n,t.checkboxSelection]);mt(e,"hydrateColumns",s)},ME=(e,t)=>{var o,n,s;const r=(o=(n=t.sortModel)!=null?n:(s=t.initialState)==null||(s=s.sorting)==null?void 0:s.sortModel)!=null?o:[];return S({},e,{sorting:{sortModel:yp(r,t.disableMultipleColumnsSorting),sortedRows:[]}})},IE=(e,t)=>{var o;const n=kt(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:ao,changeEvent:"sortModelChange"});const s=g.useCallback((R,M)=>{const E=ao(e),V=E.findIndex(P=>P.field===R);let I=[...E];return V>-1?M?I.splice(V,1,M):I.splice(V,1):I=[...E,M],I},[e]),r=g.useCallback((R,M)=>{var E;const I=ao(e).find(L=>L.field===R.field);if(I){var P;const L=M===void 0?Ld((P=R.sortingOrder)!=null?P:t.sortingOrder,I.sort):M;return L==null?void 0:S({},I,{sort:L})}return{field:R.field,sort:M===void 0?Ld((E=R.sortingOrder)!=null?E:t.sortingOrder):M}},[e,t.sortingOrder]),i=g.useCallback((R,M)=>M==null||M.sortable===!1?R:(M.sortingOrder||t.sortingOrder).some(V=>!!V)?[...R,"columnMenuSortItem"]:R,[t.sortingOrder]),l=g.useCallback(()=>{e.current.setState(R=>{if(t.sortingMode==="server")return n.debug("Skipping sorting rows as sortingMode = server"),S({},R,{sorting:S({},R.sorting,{sortedRows:ru(Ro(e),zt,!1)})});const M=ao(R,e.current.instanceId),E=SR(M,e),V=e.current.applyStrategyProcessor("sorting",{sortRowList:E});return S({},R,{sorting:S({},R.sorting,{sortedRows:V})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,n,t.sortingMode]),a=g.useCallback(R=>{ao(e)!==R&&(n.debug("Setting sort model"),e.current.setState(Ad(R,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,n,t.disableMultipleColumnsSorting]),c=g.useCallback((R,M,E)=>{if(!R.sortable)return;const V=r(R,M);let I;!E||t.disableMultipleColumnsSorting?I=V?[V]:[]:I=s(R.field,V),e.current.setSortModel(I)},[e,s,r,t.disableMultipleColumnsSorting]),u=g.useCallback(()=>ao(e),[e]),d=g.useCallback(()=>ou(e).map(M=>M.model),[e]),h=g.useCallback(()=>tu(e),[e]),p=g.useCallback(R=>e.current.getSortedRowIds()[R],[e]);Be(e,{getSortModel:u,getSortedRows:d,getSortedRowIds:h,getRowIdFromRowIndex:p,setSortModel:a,sortColumn:c,applySorting:l},"public");const m=g.useCallback((R,M)=>{var E;const V=ao(e);return!M.exportOnlyDirtyModels||t.sortModel!=null||((E=t.initialState)==null||(E=E.sorting)==null?void 0:E.sortModel)!=null||V.length>0?S({},R,{sorting:{sortModel:V}}):R},[e,t.sortModel,(o=t.initialState)==null||(o=o.sorting)==null?void 0:o.sortModel]),C=g.useCallback((R,M)=>{var E;const V=(E=M.stateToRestore.sorting)==null?void 0:E.sortModel;return V==null?R:(e.current.setState(Ad(V,t.disableMultipleColumnsSorting)),S({},R,{callbacks:[...R.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),w=g.useCallback(R=>{const M=Ro(e),E=M[zt],V=R.sortRowList?R.sortRowList(E.children.map(I=>M[I])):[...E.children];return E.footerId!=null&&V.push(E.footerId),V},[e]);mt(e,"exportState",m),mt(e,"restoreState",C),Sl(e,fs,"sorting",w);const v=g.useCallback(({colDef:R},M)=>{const E=M.shiftKey||M.metaKey||M.ctrlKey;c(R,void 0,E)},[c]),y=g.useCallback(({colDef:R},M)=>{QS(M.key)&&!M.ctrlKey&&!M.metaKey&&c(R,void 0,M.shiftKey)},[c]),D=g.useCallback(()=>{const R=ao(e),M=br(e);if(R.length>0){const E=R.filter(V=>M[V.field]);E.length<R.length&&e.current.setSortModel(E)}},[e]),A=g.useCallback(R=>{R==="sorting"&&e.current.applySorting()},[e]);mt(e,"columnMenu",i),xe(e,"columnHeaderClick",v),xe(e,"columnHeaderKeyDown",y),xe(e,"rowsSet",e.current.applySorting),xe(e,"columnsChange",D),xe(e,"activeStrategyProcessorChange",A),bi(()=>{e.current.applySorting()}),Mt(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function rh(e){const{clientHeight:t,scrollTop:o,offsetHeight:n,offsetTop:s}=e,r=s+n;if(n>t)return s;if(r-t>o)return r-t;if(s<o)return s}const TE=(e,t)=>{const o=wr(),n=kt(e,"useGridScroll"),s=e.current.columnHeadersElementRef,r=e.current.virtualScrollerRef,i=fe(e,$n),l=g.useCallback(d=>{const h=Zl(e),p=Et(e);if(!(d.rowIndex==null)&&h===0||p.length===0)return!1;n.debug(`Scrolling to cell at row ${d.rowIndex}, col: ${d.colIndex} `);let m={};if(d.colIndex!=null){const y=cr(e);let D;if(typeof d.rowIndex<"u"){var C;const A=(C=i[d.rowIndex])==null?void 0:C.id,R=e.current.unstable_getCellColSpanInfo(A,d.colIndex);R&&!R.spannedByColSpan&&(D=R.cellProps.width)}typeof D>"u"&&(D=p[d.colIndex].computedWidth),m.left=rh({clientHeight:r.current.clientWidth,scrollTop:Math.abs(r.current.scrollLeft),offsetHeight:D,offsetTop:y[d.colIndex]})}if(d.rowIndex!=null){var w,v;const y=ni(e.current.state),D=hR(e),A=bp(e),R=t.pagination?d.rowIndex-D*A:d.rowIndex,M=y.positions[R+1]?y.positions[R+1]-y.positions[R]:y.currentPageTotalHeight-y.positions[R],E=((w=r.current.querySelector(`.${N["pinnedRows--top"]}`))==null?void 0:w.clientHeight)||0,V=((v=r.current.querySelector(`.${N["pinnedRows--bottom"]}`))==null?void 0:v.clientHeight)||0;m.top=rh({clientHeight:r.current.clientHeight-E-V,scrollTop:r.current.scrollTop,offsetHeight:M,offsetTop:y.positions[R]})}return m=e.current.unstable_applyPipeProcessors("scrollToIndexes",m,d),typeof m.left!==void 0||typeof m.top!==void 0?(e.current.scroll(m),!0):!1},[n,e,r,t.pagination,i]),a=g.useCallback(d=>{if(r.current&&d.left!=null&&s.current){const h=o.direction==="rtl"?-1:1;s.current.scrollLeft=d.left,r.current.scrollLeft=h*d.left,n.debug(`Scrolling left: ${d.left}`)}r.current&&d.top!=null&&(r.current.scrollTop=d.top,n.debug(`Scrolling top: ${d.top}`)),n.debug("Scrolling, updating container, and viewport")},[r,o.direction,s,n]),c=g.useCallback(()=>r!=null&&r.current?{top:r.current.scrollTop,left:r.current.scrollLeft}:{top:0,left:0},[r]);Be(e,{scroll:a,scrollToIndexes:l,getScrollPosition:c},"public")};function kE(e,t){it(e,"columnHeaderClick",t.onColumnHeaderClick),it(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),it(e,"columnHeaderOver",t.onColumnHeaderOver),it(e,"columnHeaderOut",t.onColumnHeaderOut),it(e,"columnHeaderEnter",t.onColumnHeaderEnter),it(e,"columnHeaderLeave",t.onColumnHeaderLeave),it(e,"cellClick",t.onCellClick),it(e,"cellDoubleClick",t.onCellDoubleClick),it(e,"cellKeyDown",t.onCellKeyDown),it(e,"preferencePanelClose",t.onPreferencePanelClose),it(e,"preferencePanelOpen",t.onPreferencePanelOpen),it(e,"menuOpen",t.onMenuOpen),it(e,"menuClose",t.onMenuClose),it(e,"rowDoubleClick",t.onRowDoubleClick),it(e,"rowClick",t.onRowClick),it(e,"stateChange",t.onStateChange)}const AE=({content:e,container:t,scrollBarSize:o})=>{const n=e.width>t.width,s=e.height>t.height;let r=!1,i=!1;return(n||s)&&(r=n,i=e.height+(r?o:0)>t.height,i&&(r=e.width+o>t.width)),{hasScrollX:r,hasScrollY:i}};function LE(e,t){const o=kt(e,"useResizeContainer"),n=g.useRef(!1),s=g.useRef(null),r=g.useRef(null),i=fe(e,ni),l=fe(e,yr),a=Math.floor(t.rowHeight*l),c=Cu(e,t.columnHeaderHeight),u=g.useCallback(()=>{var M;const E=(M=e.current.rootElementRef)==null?void 0:M.current,V=eu(e),I=np(e);if(!s.current)return;let P;if(t.scrollbarSize!=null)P=t.scrollbarSize;else if(!V||!E)P=0;else{const G=os(E).createElement("div");G.style.width="99px",G.style.height="99px",G.style.position="absolute",G.style.overflow="scroll",G.className="scrollDiv",E.appendChild(G),P=G.offsetWidth-G.clientWidth,E.removeChild(G)}let L,T,F;if(t.autoHeight)F=!1,T=Math.round(V)>Math.round(s.current.width),L={width:s.current.width,height:i.currentPageTotalHeight+(T?P:0)};else{L={width:s.current.width,height:Math.max(s.current.height-c,0)};const k=AE({content:{width:Math.round(V),height:i.currentPageTotalHeight},container:{width:Math.round(L.width),height:L.height-I.top-I.bottom},scrollBarSize:P});F=k.hasScrollY,T=k.hasScrollX}const x={width:L.width-(F?P:0),height:L.height-(T?P:0)},O={viewportOuterSize:L,viewportInnerSize:x,hasScrollX:T,hasScrollY:F,scrollBarSize:P},H=r.current;r.current=O,(O.viewportInnerSize.width!==H?.viewportInnerSize.width||O.viewportInnerSize.height!==H?.viewportInnerSize.height)&&e.current.publishEvent("viewportInnerSizeChange",O.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,i.currentPageTotalHeight,c]),[d,h]=g.useState(),p=g.useMemo(()=>Dg(h,60),[]),f=g.useRef();Mt(()=>{d&&(u(),e.current.publishEvent("debouncedResize",s.current))},[e,d,u]);const m=g.useCallback(()=>{e.current.computeSizeAndPublishResizeEvent()},[e]),C=g.useCallback(()=>r.current,[]),w=g.useCallback(()=>{const M=e.current.getRootDimensions();if(!M)return 0;const E=vl(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const I=e.current.getRenderContext(),P=I.lastRowIndex-I.firstRowIndex;return Math.min(P-1,E.rows.length)}const V=Math.floor(M.viewportInnerSize.height/a);return Math.min(V,E.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,a]),v=g.useCallback(()=>{var M,E,V;const I=(M=e.current.mainElementRef)==null?void 0:M.current;if(!I)return;const L=Rw(I).getComputedStyle(I),T=parseFloat(L.height)||0,F=parseFloat(L.width)||0,x=T!==((E=f.current)==null?void 0:E.height),O=F!==((V=f.current)==null?void 0:V.width);if(!f.current||x||O){const H={width:F,height:T};e.current.publishEvent("resize",H),f.current=H}},[e]),y={resize:m,getRootDimensions:C},D={getViewportPageSize:w,updateGridDimensionsRef:u,computeSizeAndPublishResizeEvent:v};Be(e,y,"public"),Be(e,D,"private");const A=g.useRef(!0),R=g.useCallback(M=>{s.current=M;const E=/jsdom/.test(window.navigator.userAgent);if(M.height===0&&!n.current&&!t.autoHeight&&!E&&(o.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),n.current=!0),M.width===0&&!n.current&&!E&&(o.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),n.current=!0),A.current){h(M),A.current=!1;return}p(M)},[t.autoHeight,p,o]);Mt(()=>u(),[u]),it(e,"sortedRowsSet",u),it(e,"paginationModelChange",u),it(e,"columnsChange",u),xe(e,"resize",R),it(e,"debouncedResize",t.onResize)}const OE=["style"],GE=["style"];function dr(e,t,o=0,n=t.length){if(t.length<=0)return-1;if(o>=n)return o;const s=o+Math.floor((n-o)/2),r=t[s];return e<=r?dr(e,t,o,s):dr(e,t,s+1,n)}function HE(e,t,o){let n=1;for(;o<t.length&&Math.abs(t[o])<e;)o+=n,n*=2;return dr(e,t,Math.floor(o/2),Math.min(o,t.length))}const kn=({firstIndex:e,lastIndex:t,buffer:o,minFirstIndex:n,maxLastIndex:s})=>[ur(e-o,n,s),ur(t+o,n,s)],Kp=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,VE={maxSize:3},BE=e=>{const t=_n(),o=Re(),n=fe(t,Et),s=fe(t,DR),r=fe(t,Ep),{ref:i,onRenderZonePositioning:l,renderZoneMinColumnIndex:a=0,renderZoneMaxColumnIndex:c=n.length,getRowProps:u}=e,d=wr(),h=fe(t,cr),p=fe(t,eu),f=fe(t,Xt),m=fe(t,gl),C=fe(t,ni),w=fe(t,wl),v=Ds(t,o),y=g.useRef(null),D=g.useRef(null),A=Yo(i,D),[R,M]=g.useState(null),E=g.useRef(R),V=g.useRef({top:0,left:0}),[I,P]=g.useState({width:null,height:null}),L=g.useRef(p),[T,F]=g.useState(null),x=g.useRef(Object.create(null)),O=g.useRef(),H=g.useRef(),k=g.useRef(ql((ne,te,J,Y,ue,Z)=>{let Se;const Pe=ne.slice(te,J);return Z>-1&&(te>Z&&Z>=Y||J<Z&&Z<ue)&&(Se=Z),{focusedCellColumnIndexNotInRange:Se,renderedColumns:Pe}},VE)),G=g.useMemo(()=>f!==null?n.findIndex(ne=>ne.field===f.field):-1,[f,n]),B=g.useCallback(()=>{if(!s)return{firstRowIndex:0,lastRowIndex:v.rows.length,firstColumnIndex:0,lastColumnIndex:n.length};const{top:ne,left:te}=V.current,J=Math.min(ih(t,v,C,ne),C.positions.length-1),Y=o.autoHeight?J+v.rows.length:ih(t,v,C,ne+I.height);let ue=0,Z=h.length;if(r){let Se=!1;const[Pe,Ve]=kn({firstIndex:J,lastIndex:Y,minFirstIndex:0,maxLastIndex:v.rows.length,buffer:o.rowBuffer});for(let de=Pe;de<Ve&&!Se;de+=1){const oe=v.rows[de];Se=t.current.rowHasAutoHeight(oe.id)}Se||(ue=dr(Math.abs(te),h),Z=dr(Math.abs(te)+I.width,h))}return{firstRowIndex:J,lastRowIndex:Y,firstColumnIndex:ue,lastColumnIndex:Z}},[s,r,C,o.autoHeight,o.rowBuffer,v,h,n.length,t,I]);Mt(()=>{s?(D.current.scrollLeft=0,D.current.scrollTop=0):y.current.style.transform="translate3d(0px, 0px, 0px)"},[s]),Mt(()=>{P({width:D.current.clientWidth,height:D.current.clientHeight})},[C.currentPageTotalHeight]);const W=g.useCallback(()=>{D.current&&P({width:D.current.clientWidth,height:D.current.clientHeight})},[]);xe(t,"debouncedResize",W);const z=g.useCallback(ne=>{const[te,J]=kn({firstIndex:ne.firstRowIndex,lastIndex:ne.lastRowIndex,minFirstIndex:0,maxLastIndex:v.rows.length,buffer:o.rowBuffer}),[Y]=kn({firstIndex:ne.firstColumnIndex,lastIndex:ne.lastColumnIndex,minFirstIndex:a,maxLastIndex:c,buffer:o.columnBuffer}),ue=gc({firstColumnToRender:Y,apiRef:t,firstRowToRender:te,lastRowToRender:J,visibleRows:v.rows}),Z=d.direction==="ltr"?1:-1,Se=ni(t.current.state).positions[te],Pe=Z*cr(t)[ue];y.current.style.transform=`translate3d(${Pe}px, ${Se}px, 0px)`,typeof l=="function"&&l({top:Se,left:Pe})},[t,v.rows,l,a,c,o.columnBuffer,o.rowBuffer,d.direction]),j=g.useCallback(()=>E.current,[]),q=g.useCallback(ne=>{if(E.current&&Kp(ne,E.current)){z(ne);return}M(ne),z(ne);const[te,J]=kn({firstIndex:ne.firstRowIndex,lastIndex:ne.lastRowIndex,minFirstIndex:0,maxLastIndex:v.rows.length,buffer:o.rowBuffer});t.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:te,lastRowToRender:J}),E.current=ne},[t,M,E,v.rows.length,o.rowBuffer,z]);Mt(()=>{if(I.width==null)return;const ne=B();q(ne);const{top:te,left:J}=V.current,Y={top:te,left:J,renderContext:ne};t.current.publishEvent("scrollPositionChange",Y)},[t,B,I.width,q]);const X=Pt(ne=>{const{scrollTop:te,scrollLeft:J}=ne.currentTarget;if(V.current.top=te,V.current.left=J,!E.current||te<0||d.direction==="ltr"&&J<0||d.direction==="rtl"&&J>0)return;const Y=s?B():E.current,ue=Math.abs(Y.firstRowIndex-E.current.firstRowIndex),Z=Math.abs(Y.lastRowIndex-E.current.lastRowIndex),Se=Math.abs(Y.firstColumnIndex-E.current.firstColumnIndex),Pe=Math.abs(Y.lastColumnIndex-E.current.lastColumnIndex),Ve=ue>=o.rowThreshold||Z>=o.rowThreshold||Se>=o.columnThreshold||Pe>=o.columnThreshold||L.current!==p;t.current.publishEvent("scrollPositionChange",{top:te,left:J,renderContext:Ve?Y:E.current},ne),Ve&&(Kl.flushSync(()=>{q(Y)}),L.current=p)}),me=Pt(ne=>{t.current.publishEvent("virtualScrollerWheel",{},ne)}),ge=Pt(ne=>{t.current.publishEvent("virtualScrollerTouchMove",{},ne)}),Ce=g.useMemo(()=>f!==null?v.rows.findIndex(ne=>ne.id===f.id):-1,[f,v.rows]);xe(t,"rowMouseOver",(ne,te)=>{var J;te.currentTarget.contains(te.relatedTarget)||F((J=ne.id)!=null?J:null)}),xe(t,"rowMouseOut",(ne,te)=>{te.currentTarget.contains(te.relatedTarget)||F(null)});const re=(ne={renderContext:R})=>{var te;const{onRowRender:J,renderContext:Y,minFirstColumn:ue=a,maxLastColumn:Z=c,availableSpace:Se=I.width,rowIndexOffset:Pe=0,position:Ve="center"}=ne;if(!Y||Se==null)return null;const de=s?o.rowBuffer:0,oe=s?o.columnBuffer:0,[ce,ve]=kn({firstIndex:Y.firstRowIndex,lastIndex:Y.lastRowIndex,minFirstIndex:0,maxLastIndex:v.rows.length,buffer:de}),Le=[];if(ne.rows)ne.rows.forEach(Qe=>{Le.push(Qe),t.current.calculateColSpan({rowId:Qe.id,minFirstColumn:ue,maxLastColumn:Z,columns:n})});else{if(!v.range)return null;for(let Qe=ce;Qe<ve;Qe+=1){const Ze=v.rows[Qe];Le.push(Ze),t.current.calculateColSpan({rowId:Ze.id,minFirstColumn:ue,maxLastColumn:Z,columns:n})}}let je=!1;if(Ce>-1){const Qe=v.rows[Ce];(ce>Ce||ve<Ce)&&(je=!0,Ce>ce?Le.push(Qe):Le.unshift(Qe),t.current.calculateColSpan({rowId:Qe.id,minFirstColumn:ue,maxLastColumn:Z,columns:n}))}const[ke,Ie]=kn({firstIndex:Y.firstColumnIndex,lastIndex:Y.lastColumnIndex,minFirstIndex:ue,maxLastIndex:Z,buffer:oe}),Ye=gc({firstColumnToRender:ke,apiRef:t,firstRowToRender:ce,lastRowToRender:ve,visibleRows:v.rows});let _t=!1;(Ye>G||Ie<G)&&(_t=!0);const{focusedCellColumnIndexNotInRange:tt,renderedColumns:ot}=k.current(n,Ye,Ie,ue,Z,_t?G:-1),pt=((te=o.slotProps)==null?void 0:te.row)||{},{style:ut}=pt,Ht=he(pt,OE);(O.current!==u||H.current!==ut)&&(x.current=Object.create(null));const wo=[];let Ft=!1;for(let Qe=0;Qe<Le.length;Qe+=1){var $t;const{id:Ze,model:Qt}=Le[Qe],Xo=je&&f.id===Ze,Jo=je?ce+Qe===v.rows.length:ce+Qe===v.rows.length-1,yn=t.current.rowHasAutoHeight(Ze)?"auto":t.current.unstable_getRowHeight(Ze);let en;w[Ze]==null?en=!1:en=t.current.isRowSelectable(Ze),J&&J(Ze);const Kn=f!==null&&f.id===Ze?f.field:null,Zt=tt!==void 0&&n[tt],wt=Zt&&Kn?[Zt,...ot]:ot;let st=null;m!==null&&m.id===Ze&&(st=t.current.getCellParams(Ze,m.field).cellMode==="view"?m.field:null);const St=typeof u=="function"&&u(Ze,Qt)||{},{style:At}=St,vo=he(St,GE);if(!x.current[Ze]){const ro=S({},At,ut);x.current[Ze]=ro}let tn=Pe+((v==null||($t=v.range)==null?void 0:$t.firstRowIndex)||0)+ce+Qe;je&&f?.id===Ze?(tn=Ce,Ft=!0):Ft&&(tn-=1),wo.push(b.jsx(o.slots.row,S({row:Qt,rowId:Ze,focusedCellColumnIndexNotInRange:tt,isNotVisible:Xo,rowHeight:yn,focusedCell:Kn,tabbableCell:st,renderedColumns:wt,visibleColumns:n,firstColumnToRender:Ye,lastColumnToRender:Ie,selected:en,index:tn,containerWidth:Se,isLastVisible:Jo,position:Ve},vo,Ht,{hovered:T===Ze,style:x.current[Ze]}),Ze))}return O.current=u,H.current=ut,wo},we=I.width&&p>=I.width,pe=g.useMemo(()=>{const ne=Math.max(C.currentPageTotalHeight,1);let te=!1;D!=null&&D.current&&ne<=D?.current.clientHeight&&(te=!0);const J={width:we?p:"auto",height:ne,minHeight:te?"100%":"auto"};return o.autoHeight&&v.rows.length===0&&(J.height=sp(t,o.rowHeight)),J},[t,D,p,C.currentPageTotalHeight,we,o.autoHeight,o.rowHeight,v.rows.length]);g.useEffect(()=>{t.current.publishEvent("virtualScrollerContentSizeChange")},[t,pe]);const be=g.useMemo(()=>{const ne={};return we||(ne.overflowX="hidden"),o.autoHeight&&(ne.overflowY="hidden"),ne},[we,o.autoHeight]);return t.current.register("private",{getRenderContext:j}),{renderContext:R,updateRenderZonePosition:z,getRows:re,getRootProps:(ne={})=>S({ref:A,onScroll:X,onWheel:me,onTouchMove:ge},ne,{style:ne.style?S({},ne.style,be):be,role:"presentation"}),getContentProps:({style:ne}={})=>({style:ne?S({},ne,pe):pe,role:"presentation"}),getRenderZoneProps:()=>({ref:y,role:"rowgroup"})}};function ih(e,t,o,n){var s,r;const i=e.current.getLastMeasuredRowIndex();let l=i===1/0;(s=t.range)!=null&&s.lastRowIndex&&!l&&(l=i>=t.range.lastRowIndex);const a=ur(i-(((r=t.range)==null?void 0:r.firstRowIndex)||0),0,o.positions.length);return l||o.positions[a]>=n?dr(n,o.positions):HE(n,o.positions,a)}const NE=e=>{const{classes:t,headerAlign:o,isDragging:n,showColumnBorder:s,groupId:r}=e;return Ge({root:["columnHeader",o==="left"&&"columnHeader--alignLeft",o==="center"&&"columnHeader--alignCenter",o==="right"&&"columnHeader--alignRight",n&&"columnHeader--moving",s&&"columnHeader--showColumnBorder",s&&"columnHeader--withRightBorder","withBorderColor",r===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},_e,t)};function zE(e){var t;const{groupId:o,width:n,depth:s,maxDepth:r,fields:i,height:l,colIndex:a,hasFocus:c,tabIndex:u,isLastColumn:d}=e,h=Re(),p=g.useRef(null),f=We(),m=fe(f,Kg),C=o?m[o]:{},{headerName:w=o??"",description:v="",headerAlign:y=void 0}=C;let D;const A=o&&((t=m[o])==null?void 0:t.renderHeaderGroup),R=g.useMemo(()=>({groupId:o,headerName:w,description:v,depth:s,maxDepth:r,fields:i,colIndex:a,isLastColumn:d}),[o,w,v,s,r,i,a,d]);o&&A&&(D=A(R));const M=h.showColumnVerticalBorder,E=S({},e,{classes:h.classes,showColumnBorder:M,headerAlign:y,depth:s,isDragging:!1}),V=w??o,I=dt(),P=o===null?`empty-group-cell-${I}`:o,L=NE(E);g.useLayoutEffect(()=>{if(c){const H=p.current.querySelector('[tabindex="0"]')||p.current;H?.focus()}},[f,c]);const T=g.useCallback(O=>H=>{vi(H)||f.current.publishEvent(O,R,H)},[f,R]),F=g.useMemo(()=>({onKeyDown:T("columnGroupHeaderKeyDown"),onFocus:T("columnGroupHeaderFocus"),onBlur:T("columnGroupHeaderBlur")}),[T]),x=typeof C.headerClassName=="function"?C.headerClassName(R):C.headerClassName;return b.jsx(pp,S({ref:p,classes:L,columnMenuOpen:!1,colIndex:a,height:l,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:D,headerClassName:x,description:v,elementId:P,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:V,"aria-colspan":i.length,"data-fields":`|-${i.join("-|-")}-|`},F))}const lh=Te("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function WE(e){return!!e.target}const _E=e=>{const{innerRef:t,minColumnIndex:o=0,visibleColumns:n,sortColumnLookup:s,filterColumnLookup:r,columnPositions:i,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:a,columnHeaderFocus:c,columnGroupHeaderFocus:u,densityFactor:d,headerGroupingMaxDepth:h,columnMenuState:p,columnVisibility:f,columnGroupsHeaderStructure:m,hasOtherElementInTabSequence:C}=e,w=wr(),[v,y]=g.useState(""),[D,A]=g.useState(""),R=_n(),M=fe(R,Ep),E=Re(),V=g.useRef(null),I=Yo(t,V),[P,L]=g.useState(null),T=g.useRef(P),F=g.useRef(0),x=Ds(R,E),O=Cu(R,E.columnHeaderHeight),H=Math.floor(E.columnHeaderHeight*d),k=g.useCallback(we=>{P&&we&&Kp(P,we)||L(we)},[P]);g.useEffect(()=>{var we;(we=R.current.columnHeadersContainerElementRef)!=null&&we.current&&(R.current.columnHeadersContainerElementRef.current.scrollLeft=0)},[R]);const G=g.useRef(ql(OF,{equalityCheck:(we,pe)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(be=>we[be]===pe[be])})),B=g.useCallback(we=>{const[pe,be]=kn({firstIndex:we.firstRowIndex,lastIndex:we.lastRowIndex,minFirstIndex:0,maxLastIndex:x.rows.length,buffer:E.rowBuffer}),ne=G.current({firstColumnIndex:we.firstColumnIndex,minColumnIndex:o,columnBuffer:E.columnBuffer,firstRowToRender:pe,lastRowToRender:be,apiRef:R,visibleRows:x.rows}),te=w.direction==="ltr"?1:-1,J=ne>0?F.current-te*i[ne]:F.current;V.current.style.transform=`translate3d(${-J}px, 0px, 0px)`},[i,o,E.columnBuffer,R,x.rows,E.rowBuffer,w.direction]);g.useLayoutEffect(()=>{P&&B(P)},[P,B]);const W=g.useCallback(({left:we,renderContext:pe=null},be)=>{var ne,te;if(!V.current||F.current===we&&((ne=T.current)==null?void 0:ne.firstColumnIndex)===pe?.firstColumnIndex&&((te=T.current)==null?void 0:te.lastColumnIndex)===pe?.lastColumnIndex)return;F.current=we;let J=!1;pe!==T.current||!T.current?(WE(be)?(Kl.flushSync(()=>{k(pe)}),J=!0):k(pe),T.current=pe):J=!0,pe&&J&&B(pe)},[B,k]),z=g.useCallback(we=>A(we.field),[]),j=g.useCallback(()=>A(""),[]),q=g.useCallback(we=>y(we.field),[]),X=g.useCallback(()=>y(""),[]);xe(R,"columnResizeStart",z),xe(R,"columnResizeStop",j),xe(R,"columnHeaderDragStart",q),xe(R,"columnHeaderDragEnd",X),xe(R,"scrollPositionChange",W);const me=we=>{const{renderContext:pe=P,minFirstColumn:be=o,maxLastColumn:ne=n.length}=we||{};if(!pe)return null;const[te,J]=kn({firstIndex:pe.firstRowIndex,lastIndex:pe.lastRowIndex,minFirstIndex:0,maxLastIndex:x.rows.length,buffer:E.rowBuffer}),Y=M?G.current({firstColumnIndex:pe.firstColumnIndex,minColumnIndex:be,columnBuffer:E.columnBuffer,apiRef:R,firstRowToRender:te,lastRowToRender:J,visibleRows:x.rows}):0,ue=M?Math.min(pe.lastColumnIndex+E.columnBuffer,ne):ne;return{renderedColumns:n.slice(Y,ue),firstColumnToRender:Y,lastColumnToRender:ue,minFirstColumn:be,maxLastColumn:ne}},ge=(we,pe={})=>{const be=me(we);if(be==null)return null;const{renderedColumns:ne,firstColumnToRender:te}=be,J=[];for(let Y=0;Y<ne.length;Y+=1){const ue=ne[Y],Z=te+Y,Se=Z===0,Pe=l!==null&&l.field===ue.field||Se&&!C?0:-1,Ve=c!==null&&c.field===ue.field,de=p.open&&p.field===ue.field;J.push(b.jsx(Zy,S({},s[ue.field],{columnMenuOpen:de,filterItemsCounter:r[ue.field]&&r[ue.field].length,headerHeight:H,isDragging:ue.field===v,colDef:ue,colIndex:Z,isResizing:D===ue.field,hasFocus:Ve,tabIndex:Pe},pe),ue.field))}return b.jsx(lh,{role:"row","aria-rowindex":h+1,ownerState:E,children:J})},Ce=we=>{if(h===0)return null;const pe=me(we);if(pe==null||pe.renderedColumns.length===0)return null;const{firstColumnToRender:be,lastColumnToRender:ne}=pe,te=[],J=[];for(let Z=0;Z<h;Z+=1){var Y,ue;const Se=m[Z],Pe=n[be].field,Ve=(Y=R.current.unstable_getColumnGroupPath(Pe)[Z])!=null?Y:null,de=Se.findIndex(({groupId:tt,columnFields:ot})=>tt===Ve&&ot.includes(Pe)),oe=n[ne-1].field,ce=(ue=R.current.unstable_getColumnGroupPath(oe)[Z])!=null?ue:null,ve=Se.findIndex(({groupId:tt,columnFields:ot})=>tt===ce&&ot.includes(oe)),Le=Se.slice(de,ve+1).map(tt=>S({},tt,{columnFields:tt.columnFields.filter(ot=>f[ot]!==!1)})).filter(tt=>tt.columnFields.length>0),je=Le[0].columnFields.indexOf(Pe),Ie=Le[0].columnFields.slice(0,je).reduce((tt,ot)=>{var pt;const ut=R.current.getColumn(ot);return tt+((pt=ut.computedWidth)!=null?pt:0)},0);let Ye=be;const _t=Le.map(({groupId:tt,columnFields:ot})=>{const pt=u!==null&&u.depth===Z&&ot.includes(u.field),ut=a!==null&&a.depth===Z&&ot.includes(a.field)?0:-1,Ht={groupId:tt,width:ot.reduce((so,wo)=>so+R.current.getColumn(wo).computedWidth,0),fields:ot,colIndex:Ye,hasFocus:pt,tabIndex:ut};return Ye+=ot.length,Ht});J.push({leftOverflow:Ie,elements:_t})}return J.forEach((Z,Se)=>{te.push(b.jsx(lh,{style:{height:`${H}px`,transform:`translateX(-${Z.leftOverflow}px)`},role:"row","aria-rowindex":Se+1,ownerState:E,children:Z.elements.map(({groupId:Pe,width:Ve,fields:de,colIndex:oe,hasFocus:ce,tabIndex:ve},Le)=>b.jsx(zE,{groupId:Pe,width:Ve,fields:de,colIndex:oe,depth:Se,isLastColumn:oe===n.length-de.length,maxDepth:J.length,height:H,hasFocus:ce,tabIndex:ve},Le))},Se))}),te},re={minHeight:O,maxHeight:O,lineHeight:`${H}px`};return{renderContext:P,getColumnHeaders:ge,getColumnsToRender:me,getColumnGroupHeaders:Ce,isDragging:!!v,getRootProps:(we={})=>S({style:re},we),getInnerProps:()=>({ref:I,role:"rowgroup"}),headerHeight:H}},$E=["className"],UE=e=>{const{classes:t}=e;return Ge({root:["columnHeaders","withBorderColor"]},_e,t)},jE=Tt("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),KE=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,$E),r=Re(),i=UE(r);return b.jsx(jE,S({ref:o,className:Ae(n,i.root),ownerState:r},s,{role:"presentation"}))}),qE=["isDragging","className"],YE=e=>{const{isDragging:t,hasScrollX:o,classes:n}=e;return Ge({root:["columnHeadersInner",t&&"columnHeaderDropZone",o&&"columnHeadersInner--scrollable"]},_e,n)},QE=Tt("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${N.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${N.columnHeaderDropZone} .${N.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${N["columnHeadersInner--scrollable"]} .${N.columnHeader}:last-child`]:{borderRight:"none"}})),ZE=g.forwardRef(function(t,o){var n,s;const{isDragging:r,className:i}=t,l=he(t,qE),a=We(),c=Re(),u=S({},c,{isDragging:r,hasScrollX:(n=(s=a.current.getRootDimensions())==null?void 0:s.hasScrollX)!=null?n:!1}),d=YE(u);return b.jsx(QE,S({ref:o,className:Ae(i,d.root),ownerState:u},l))}),XE=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],JE=g.forwardRef(function(t,o){const{innerRef:n,visibleColumns:s,sortColumnLookup:r,filterColumnLookup:i,columnPositions:l,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:c,columnHeaderFocus:u,columnGroupHeaderFocus:d,densityFactor:h,headerGroupingMaxDepth:p,columnMenuState:f,columnVisibility:m,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:w}=t,v=he(t,XE),{isDragging:y,getRootProps:D,getInnerProps:A,getColumnHeaders:R,getColumnGroupHeaders:M}=_E({innerRef:n,visibleColumns:s,sortColumnLookup:r,filterColumnLookup:i,columnPositions:l,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:c,columnHeaderFocus:u,columnGroupHeaderFocus:d,densityFactor:h,headerGroupingMaxDepth:p,columnMenuState:f,columnVisibility:m,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:w});return b.jsx(KE,S({ref:o},D(v),{children:b.jsxs(ZE,S({isDragging:y},A(),{children:[M(),R()]}))}))}),eD=ta(JE),tD=g.forwardRef(function(t,o){const s=We().current.getLocaleText("noResultsOverlayLabel");return b.jsx(lu,S({ref:o},t,{children:s}))}),oD=["sortingOrder"],nD=g.memo(function(t){const{sortingOrder:o}=t,n=he(t,oD),s=Re(),[r]=o,i=r==="asc"?s.slots.columnSortedAscendingIcon:s.slots.columnSortedDescendingIcon;return i?b.jsx(i,S({},n)):null}),sD=["native"];function rD(e){let{native:t}=e,o=he(e,sD);return t?b.jsx("option",S({},o)):b.jsx(Bo,S({},o))}const iD={BooleanCellTrueIcon:YR,BooleanCellFalseIcon:Sa,ColumnMenuIcon:UR,OpenFilterButtonIcon:VR,FilterPanelDeleteIcon:Sa,ColumnFilteredIcon:Bd,ColumnSelectorIcon:NR,ColumnUnsortedIcon:nD,ColumnSortedAscendingIcon:Od,ColumnSortedDescendingIcon:Gd,ColumnResizeIcon:zR,DensityCompactIcon:WR,DensityStandardIcon:_R,DensityComfortableIcon:$R,ExportIcon:qR,MoreActionsIcon:QR,TreeDataCollapseIcon:Vd,TreeDataExpandIcon:Hd,GroupingCriteriaCollapseIcon:Vd,GroupingCriteriaExpandIcon:Hd,DetailPanelExpandIcon:Nd,DetailPanelCollapseIcon:jR,RowReorderIcon:zd,QuickFilterIcon:BR,QuickFilterClearIcon:Sa,ColumnMenuHideIcon:ZR,ColumnMenuSortAscendingIcon:Od,ColumnMenuSortDescendingIcon:Gd,ColumnMenuFilterIcon:Bd,ColumnMenuManageColumnsIcon:XR,ColumnMenuClearIcon:JR,LoadIcon:KR,FilterPanelAddIcon:Nd,FilterPanelRemoveAllIcon:ex,ColumnReorderIcon:zd},lD=S({},iD,{BaseCheckbox:zw,BaseTextField:Lw,BaseFormControl:Aw,BaseSelect:Mg,BaseSwitch:Jv,BaseButton:Vw,BaseIconButton:cn,BaseInputAdornment:Hw,BaseTooltip:Uv,BasePopper:Es,BaseInputLabel:kw,BaseSelectOption:rD,BaseChip:Tg}),aD=S({},lD,{Cell:ic,SkeletonCell:Cy,ColumnHeaderFilterIconButton:IR,ColumnMenu:fx,ColumnHeaders:eD,Footer:yP,FooterRowCount:TP,Toolbar:null,PreferencesPanel:Wx,LoadingOverlay:xP,NoResultsOverlay:tD,NoRowsOverlay:PP,Pagination:EP,FilterPanel:cP,ColumnsPanel:Gx,Panel:zx,Row:ZP}),qp=e=>{if(e!==void 0)return Object.keys(e).reduce((t,o)=>S({},t,{[`${o.charAt(0).toLowerCase()}${o.slice(1)}`]:e[o]}),{})};function cD({defaultSlots:e,slots:t,components:o}){const n=t??(o?qp(o):null);if(!n||Object.keys(n).length===0)return e;const s=S({},e);return Object.keys(n).forEach(r=>{const i=r;n[i]!==void 0&&(s[i]=n[i])}),s}const uD=["components","componentsProps"];function dD(e){var t;const o=Object.keys(e);if(!o.some(r=>r.startsWith("aria-")||r.startsWith("data-")))return e;const n={},s=(t=e.forwardedProps)!=null?t:{};for(let r=0;r<o.length;r+=1){const i=o[r];i.startsWith("aria-")||i.startsWith("data-")?s[i]=e[i]:n[i]=e[i]}return n.forwardedProps=s,n}function hD(e){return g.useMemo(()=>{const{components:t,componentsProps:o}=e,n=he(e,uD);return[t,o,dD(n)]},[e])}const gD={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},na={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:$o.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166},pD=qp(aD),fD=e=>{const[t,o,n]=hD(xw({props:e,name:"MuiDataGrid"})),s=g.useMemo(()=>S({},FE,n.localeText),[n.localeText]),r=g.useMemo(()=>cD({defaultSlots:pD,slots:n.slots,components:t}),[t,n.slots]);return g.useMemo(()=>{var i;return S({},na,n,{localeText:s,slots:r,slotProps:(i=n.slotProps)!=null?i:o},gD)},[n,s,r,o])},mD=e=>S({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),ah=(e,t,o)=>typeof e=="number"&&e>0?e:t,CD=(e,t)=>{const{getRowHeight:o,getRowSpacing:n,getEstimatedRowHeight:s}=t,r=g.useRef(Object.create(null)),i=g.useRef(-1),l=g.useRef(!1),a=fe(e,yr),c=fe(e,Rt),u=fe(e,cu),d=fe(e,ao),h=Ds(e,t),p=fe(e,Sr),f=ah(t.rowHeight,na.rowHeight),m=Math.floor(f*a),C=g.useCallback(()=>{var L,T;l.current=!1;const F=H=>{r.current[H.id]||(r.current[H.id]={sizes:{baseCenter:m},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:k,needsFirstMeasurement:G,sizes:B}=r.current[H.id];let W=typeof m=="number"&&m>0?m:52;const z=B.baseCenter;if(k)W=z;else if(o){const ge=o(S({},H,{densityFactor:a}));if(ge==="auto"){if(G){const Ce=s?s(S({},H,{densityFactor:a})):m;W=Ce??m}else W=z;l.current=!0,r.current[H.id].autoHeight=!0}else W=ah(ge,m),r.current[H.id].needsFirstMeasurement=!1,r.current[H.id].autoHeight=!1}else r.current[H.id].needsFirstMeasurement=!1;const j={};for(const ge in B)/^base[A-Z]/.test(ge)&&(j[ge]=B[ge]);if(j.baseCenter=W,n){var q,X;const ge=e.current.getRowIndexRelativeToVisibleRows(H.id),Ce=n(S({},H,{isFirstVisible:ge===0,isLastVisible:ge===h.rows.length-1,indexRelativeToCurrentPage:ge}));j.spacingTop=(q=Ce.top)!=null?q:0,j.spacingBottom=(X=Ce.bottom)!=null?X:0}const me=e.current.unstable_applyPipeProcessors("rowHeight",j,H);return r.current[H.id].sizes=me,me},x=[],O=h.rows.reduce((H,k)=>{x.push(H);let G=0,B=0;const W=F(k);for(const z in W){const j=W[z];/^base[A-Z]/.test(z)?G=j>G?j:G:B+=j}return H+G+B},0);p==null||(L=p.top)==null||L.forEach(H=>{F(H)}),p==null||(T=p.bottom)==null||T.forEach(H=>{F(H)}),e.current.setState(H=>S({},H,{rowsMeta:{currentPageTotalHeight:O,positions:x}})),l.current||(i.current=1/0),e.current.forceUpdate()},[e,h.rows,m,o,n,s,p,a]),w=g.useCallback(L=>{const T=r.current[L];return T?T.sizes.baseCenter:m},[m]),v=L=>{var T;return(T=r.current[L])==null?void 0:T.sizes},y=g.useCallback((L,T)=>{r.current[L].sizes.baseCenter=T,r.current[L].isResized=!0,r.current[L].needsFirstMeasurement=!1,C()},[C]),D=g.useMemo(()=>Dg(C,t.rowPositionsDebounceMs),[C,t.rowPositionsDebounceMs]),A=g.useCallback((L,T,F)=>{if(!r.current[L]||!r.current[L].autoHeight)return;const x=r.current[L].sizes[`base${Xe(F)}`]!==T;r.current[L].needsFirstMeasurement=!1,r.current[L].sizes[`base${Xe(F)}`]=T,x&&D()},[D]),R=g.useCallback(L=>{var T;return((T=r.current[L])==null?void 0:T.autoHeight)||!1},[]),M=g.useCallback(()=>i.current,[]),E=g.useCallback(L=>{l.current&&L>i.current&&(i.current=L)},[]),V=g.useCallback(()=>{r.current={},C()},[C]);g.useEffect(()=>{C()},[m,c,u,d,C]),mu(e,"rowHeight",C);const I={unstable_setLastMeasuredRowIndex:E,unstable_getRowHeight:w,unstable_getRowInternalSizes:v,unstable_setRowHeight:y,unstable_storeRowHeightMeasurement:A,resetRowHeights:V},P={getLastMeasuredRowIndex:M,rowHasAutoHeight:R};Be(e,I,"public"),Be(e,P,"private")},wD=e=>{const t=g.useCallback((s={})=>e.current.unstable_applyPipeProcessors("exportState",{},s),[e]),o=g.useCallback(s=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:s}).callbacks.forEach(i=>{i()}),e.current.forceUpdate()},[e]);Be(e,{exportState:t,restoreState:o},"public")},vD=e=>{const t=g.useRef({}),o=g.useCallback((c,u,d)=>{const h=t.current;h[c]||(h[c]={}),h[c][u]=d},[]),n=g.useCallback((c,u)=>{var d;return(d=t.current[c])==null?void 0:d[u]},[]),s=g.useCallback(c=>{const{columnIndex:u,rowId:d,minFirstColumnIndex:h,maxLastColumnIndex:p,columns:f}=c,m=f.length,C=f[u],w=typeof C.colSpan=="function"?C.colSpan(e.current.getCellParams(d,C.field)):C.colSpan;if(!w||w===1)return o(d,u,{spannedByColSpan:!1,cellProps:{colSpan:1,width:C.computedWidth}}),{colSpan:1};let v=C.computedWidth;for(let y=1;y<w;y+=1){const D=u+y;if(D>=h&&D<p){const A=f[D];v+=A.computedWidth,o(d,u+y,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(u+w,m-1),leftVisibleCellIndex:u})}o(d,u,{spannedByColSpan:!1,cellProps:{colSpan:w,width:v}})}return{colSpan:w}},[e,o]),r=g.useCallback(({rowId:c,minFirstColumn:u,maxLastColumn:d,columns:h})=>{for(let p=u;p<d;p+=1){const f=s({columnIndex:p,rowId:c,minFirstColumnIndex:u,maxLastColumnIndex:d,columns:h});f.colSpan>1&&(p+=f.colSpan-1)}},[s]),i={unstable_getCellColSpanInfo:n},l={calculateColSpan:r};Be(e,i,"public"),Be(e,l,"private");const a=g.useCallback(()=>{t.current={}},[]);xe(e,"columnOrderChange",a)},Yp=(e,t,o)=>{if(rp(e)){if(o[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${o[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));o[e.field]=t;return}const{groupId:n,children:s}=e;s.forEach(r=>{Yp(r,[...t,n],o)})},pc=e=>{if(!e)return{};const t={};return e.forEach(o=>{Yp(o,[],t)}),t},fc=(e,t,o)=>{const n=a=>{var c;return(c=t[a])!=null?c:[]},s=[],r=Math.max(...e.map(a=>n(a).length)),i=(a,c,u)=>is(n(a).slice(0,u+1),n(c).slice(0,u+1)),l=(a,c)=>!!(o!=null&&o.left&&o.left.includes(a)&&!o.left.includes(c)||o!=null&&o.right&&!o.right.includes(a)&&o.right.includes(c));for(let a=0;a<r;a+=1){const c=e.reduce((u,d)=>{var h;const p=(h=n(d)[a])!=null?h:null;if(u.length===0)return[{columnFields:[d],groupId:p}];const f=u[u.length-1],m=f.columnFields[f.columnFields.length-1];return f.groupId!==p||!i(m,d,a)||l(m,d)?[...u,{columnFields:[d],groupId:p}]:[...u.slice(0,u.length-1),{columnFields:[...f.columnFields,d],groupId:p}]},[]);s.push(c)}return s},bD=["groupId","children"],wu=e=>{let t={};return e.forEach(o=>{if(rp(o))return;const{groupId:n,children:s}=o,r=he(o,bD);if(!n)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");s||console.warn(`MUI: group groupId=${n} has no children.`);const i=S({},r,{groupId:n}),l=wu(s);if(l[n]!==void 0||t[n]!==void 0)throw new Error(`MUI: The groupId ${n} is used multiple times in the columnGroupingModel.`);t=S({},t,l,{[n]:i})}),S({},t)},SD=(e,t,o)=>{var n,s,r,i;if(!((n=t.experimentalFeatures)!=null&&n.columnGrouping))return e;const l=hn(o),a=Yl(o),c=wu((s=t.columnGroupingModel)!=null?s:[]),u=pc((r=t.columnGroupingModel)!=null?r:[]),d=fc(l,u,(i=o.current.state.pinnedColumns)!=null?i:{}),h=a.length===0?0:Math.max(...a.map(p=>{var f,m;return(f=(m=u[p])==null?void 0:m.length)!=null?f:0}));return S({},e,{columnGrouping:{lookup:c,unwrappedGroupingModel:u,headerStructure:d,maxDepth:h}})},yD=(e,t)=>{var o;const n=g.useCallback(a=>{var c;return(c=_b(e)[a])!=null?c:[]},[e]),s=g.useCallback(()=>Kg(e),[e]);Be(e,{unstable_getColumnGroupPath:n,unstable_getAllGroupDetails:s},"public");const i=g.useCallback(()=>{var a;const c=pc((a=t.columnGroupingModel)!=null?a:[]);e.current.setState(u=>{var d,h,p;const f=(d=(h=u.columns)==null?void 0:h.orderedFields)!=null?d:[],m=(p=u.pinnedColumns)!=null?p:{},C=fc(f,c,m);return S({},u,{columnGrouping:S({},u.columnGrouping,{headerStructure:C})})})},[e,t.columnGroupingModel]),l=g.useCallback(a=>{var c,u,d,h;if(!((c=t.experimentalFeatures)!=null&&c.columnGrouping))return;const p=(u=(d=(h=e.current).getPinnedColumns)==null?void 0:d.call(h))!=null?u:{},f=hn(e),m=Yl(e),C=wu(a??[]),w=pc(a??[]),v=fc(f,w,p),y=m.length===0?0:Math.max(...m.map(D=>{var A,R;return(A=(R=w[D])==null?void 0:R.length)!=null?A:0}));e.current.setState(D=>S({},D,{columnGrouping:{lookup:C,unwrappedGroupingModel:w,headerStructure:v,maxDepth:y}}))},[e,(o=t.experimentalFeatures)==null?void 0:o.columnGrouping]);xe(e,"columnIndexChange",i),xe(e,"columnsChange",()=>{l(t.columnGroupingModel)}),xe(e,"columnVisibilityModelChange",()=>{l(t.columnGroupingModel)}),g.useEffect(()=>{l(t.columnGroupingModel)},[l,t.columnGroupingModel])},RD=(e,t)=>{const o=dF(e,t);return DE(o,t),RE(o),Ut(xE,o,t),Ut(GF,o,t),Ut(wE,o,t),Ut(mE,o,t),Ut(JF,o,t),Ut(ME,o,t),Ut(iE,o,t),Ut(YF,o,t),Ut(NF,o,t),Ut(sE,o,t),Ut(mD,o,t),Ut(TF,o,t),Ut(SD,o,t),Ut(FR,o,t),oE(o,t),PE(o,t),HF(o,t),vE(o,t),xS(o,t),vD(o),yD(o,t),CE(o,t),eE(o,t),lE(o,t),XF(o,t),IE(o,t),zF(o,t),rE(o,t),CD(o,t),TE(o,t),kF(o),$F(o,t),qF(o,t),IF(o,t),LE(o,t),kE(o,t),wD(o),ER(o,t),o},xD=e=>{const{classes:t}=e;return Ge({root:["virtualScroller"]},_e,t)},PD=Tt("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),FD=g.forwardRef(function(t,o){const n=Re(),s=xD(n);return b.jsx(PD,S({ref:o},t,{className:Ae(s.root,t.className),ownerState:n}))}),ED=(e,t)=>{const{classes:o}=e;return Ge({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},_e,o)},DD=Tt("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),MD=g.forwardRef(function(t,o){var n;const s=Re(),r=!s.autoHeight&&((n=t.style)==null?void 0:n.minHeight)==="auto",i=ED(s,r);return b.jsx(DD,S({ref:o},t,{ownerState:s,className:Ae(i.root,t.className)}))}),ID=["className"],TD=e=>{const{classes:t}=e;return Ge({root:["virtualScrollerRenderZone"]},_e,t)},kD=Tt("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),AD=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,ID),r=Re(),i=TD(r);return b.jsx(kD,S({ref:o,className:Ae(i.root,n),ownerState:r},s))}),LD=["className"],OD=g.forwardRef(function(t,o){const{className:n}=t,s=he(t,LD),{getRootProps:r,getContentProps:i,getRenderZoneProps:l,getRows:a}=BE({ref:o});return b.jsxs(FD,S({className:n},r(s),{children:[b.jsx(CS,{}),b.jsx(MD,S({},i(),{children:b.jsx(AD,S({},l(),{children:a()}))}))]}))}),Qp=g.forwardRef(function(t,o){const n=fD(t),s=RD(n.apiRef,n);return b.jsx(XP,{privateApiRef:s,props:n,children:b.jsxs(yy,S({className:n.className,style:n.style,sx:n.sx,ref:o},n.forwardedProps,{children:[b.jsx(RP,{}),b.jsx(aS,{VirtualScrollerComponent:OD}),b.jsx(cS,{})]}))})}),GD=g.memo(Qp);na.filterDebounceMs;na.filterDebounceMs;Qp.propTypes={apiRef:$.shape({current:$.object.isRequired}),"aria-label":$.string,"aria-labelledby":$.string,autoHeight:$.bool,autoPageSize:$.bool,cellModesModel:$.object,checkboxSelection:$.bool,classes:$.object,clipboardCopyCellDelimiter:$.string,columnBuffer:$.number,columnGroupingModel:$.arrayOf($.object),columnHeaderHeight:$.number,columns:_w($.array.isRequired),columnThreshold:$.number,columnVisibilityModel:$.object,components:$.object,componentsProps:$.object,density:$.oneOf(["comfortable","compact","standard"]),disableColumnFilter:$.bool,disableColumnMenu:$.bool,disableColumnSelector:$.bool,disableDensitySelector:$.bool,disableEval:$.bool,disableRowSelectionOnClick:$.bool,disableVirtualization:$.bool,editMode:$.oneOf(["cell","row"]),experimentalFeatures:$.shape({ariaV7:$.bool,columnGrouping:$.bool,warnIfFocusStateIsNotSynced:$.bool}),filterDebounceMs:$.number,filterMode:$.oneOf(["client","server"]),filterModel:$.shape({items:$.arrayOf($.shape({field:$.string.isRequired,id:$.oneOfType([$.number,$.string]),operator:$.string.isRequired,value:$.any})).isRequired,logicOperator:$.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:$.bool,quickFilterLogicOperator:$.oneOf(["and","or"]),quickFilterValues:$.array}),forwardedProps:$.object,getCellClassName:$.func,getDetailPanelContent:$.func,getEstimatedRowHeight:$.func,getRowClassName:$.func,getRowHeight:$.func,getRowId:$.func,getRowSpacing:$.func,hideFooter:$.bool,hideFooterPagination:$.bool,hideFooterSelectedRowCount:$.bool,ignoreDiacritics:$.bool,initialState:$.object,isCellEditable:$.func,isRowSelectable:$.func,keepNonExistentRowsSelected:$.bool,loading:$.bool,localeText:$.object,logger:$.shape({debug:$.func.isRequired,error:$.func.isRequired,info:$.func.isRequired,warn:$.func.isRequired}),logLevel:$.oneOf(["debug","error","info","warn",!1]),nonce:$.string,onCellClick:$.func,onCellDoubleClick:$.func,onCellEditStart:$.func,onCellEditStop:$.func,onCellKeyDown:$.func,onCellModesModelChange:$.func,onClipboardCopy:$.func,onColumnHeaderClick:$.func,onColumnHeaderDoubleClick:$.func,onColumnHeaderEnter:$.func,onColumnHeaderLeave:$.func,onColumnHeaderOut:$.func,onColumnHeaderOver:$.func,onColumnOrderChange:$.func,onColumnVisibilityModelChange:$.func,onFilterModelChange:$.func,onMenuClose:$.func,onMenuOpen:$.func,onPaginationModelChange:$.func,onPreferencePanelClose:$.func,onPreferencePanelOpen:$.func,onProcessRowUpdateError:$.func,onResize:$.func,onRowClick:$.func,onRowCountChange:$.func,onRowDoubleClick:$.func,onRowEditStart:$.func,onRowEditStop:$.func,onRowModesModelChange:$.func,onRowSelectionModelChange:$.func,onSortModelChange:$.func,onStateChange:$.func,pageSizeOptions:$.arrayOf($.oneOfType([$.number,$.shape({label:$.string.isRequired,value:$.number.isRequired})]).isRequired),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:$.oneOf(["client","server"]),paginationModel:$.shape({page:$.number.isRequired,pageSize:$.number.isRequired}),processRowUpdate:$.func,rowBuffer:$.number,rowCount:$.number,rowHeight:$.number,rowModesModel:$.object,rowPositionsDebounceMs:$.number,rows:$.arrayOf($.object).isRequired,rowSelection:$.bool,rowSelectionModel:$.oneOfType([$.arrayOf($.oneOfType([$.number,$.string]).isRequired),$.number,$.string]),rowSpacingType:$.oneOf(["border","margin"]),rowThreshold:$.number,scrollbarSize:$.number,showCellVerticalBorder:$.bool,showColumnVerticalBorder:$.bool,slotProps:$.object,slots:$.object,sortingMode:$.oneOf(["client","server"]),sortingOrder:$.arrayOf($.oneOf(["asc","desc"])),sortModel:$.arrayOf($.shape({field:$.string.isRequired,sort:$.oneOf(["asc","desc"])})),sx:$.oneOfType([$.arrayOf($.oneOfType([$.func,$.object,$.bool])),$.func,$.object]),unstable_ignoreValueFormatterDuringExport:$.oneOfType([$.shape({clipboardExport:$.bool,csvExport:$.bool}),$.bool])};const Or=Ow.now().setZone("Asia/Seoul").toFormat("yyyy-MM-dd HH:mm:ss"),HD=[{field:"name",headerName:"Name",width:180,editable:!0},{field:"age",headerName:"Age",type:"number",editable:!0},{field:"dateCreated",headerName:"Date Created",width:180,editable:!0},{field:"lastLogin",headerName:"Last Login",width:220,editable:!0}],VD=[{id:1,name:"ss",age:25,dateCreated:Or,lastLogin:"2024-07-07"},{id:2,name:"ss",age:36,dateCreated:Or,lastLogin:"2024-07-07"},{id:3,name:"ss",age:19,dateCreated:Or,lastLogin:"2024-07-07"},{id:4,name:"ss",age:28,dateCreated:Or,lastLogin:"2024-07-07"},{id:5,name:"ss",age:23,dateCreated:Or,lastLogin:"2024-07-07"}];function BD(){const[e,t]=g.useState({}),{title:o,text:n,setId:s}=Gw();console.log("SingleClickEditing.title=",o),console.log("SingleClickEditing.text=",n),g.useEffect(()=>{s("tab")},[]);const r=g.useCallback((l,a)=>{l.isEditable&&(a.target.nodeType===1&&!a.currentTarget.contains(a.target)||t(c=>({...Object.keys(c).reduce((u,d)=>({...u,[d]:Object.keys(c[d]).reduce((h,p)=>({...h,[p]:{mode:Ke.View}}),{})}),{}),[l.id]:{...Object.keys(c[l.id]||{}).reduce((u,d)=>({...u,[d]:{mode:Ke.View}}),{}),[l.field]:{mode:Ke.Edit}}})))},[]),i=g.useCallback(l=>{t(l)},[]);return b.jsx("div",{style:{height:300,width:"100%"},children:b.jsx(GD,{rows:VD,columns:HD,cellModesModel:e,onCellModesModelChange:i,onCellClick:r})})}var ms=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,o){const n=t?this.allAsyncListeners:this.allSyncListeners;let s=n.get(e);return!s&&o&&(s=new Set,n.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,o=!1){this.getListeners(e,o,!0).add(t)}removeEventListener(e,t,o=!1){const n=this.getListeners(e,o,!1);n&&(n.delete(t),n.size===0&&(o?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const o=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const{frameworkOverrides:n}=this,s=l=>{const a=n?()=>n.wrapIncoming(l):l;t?this.dispatchAsync(a):a()},r=this.getListeners(o,t,!1);if((r?.size??0)>0){const l=new Set(r);for(const a of l)r?.has(a)&&s(()=>a(e))}const i=this.getGlobalListeners(t);if(i.size>0){const l=new Set(i);for(const a of l)s(()=>a(o,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function ND(e,t){return t}function Zp(e){return e?.getLocaleTextFunc()??ND}function zD(e,t,o,n){const s=t[o];return e.getLocaleTextFunc()(o,typeof s=="function"?s(n):s,n)}function gn(e){return e==null||e===""?null:e}function ie(e){return e!=null&&e!==""}function at(e){return!ie(e)}function mc(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function si(e,t){const o=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return o===n}function WD(e,t,o=!1){const n=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&s)return 0;if(n)return-1;if(s)return 1;function r(i,l){return i>l?1:i<l?-1:0}if(typeof e!="string"||!o)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var Xp=new Set(["__proto__","constructor","prototype"]);function _D(e,t){if(e!=null){if(Array.isArray(e)){for(let o=0;o<e.length;o++)t(o.toString(),e[o]);return}for(const o of Object.keys(e).filter(n=>!Xp.has(n)))t(o,e[o])}}function Wt(e,t,o=!0,n=!1){ie(t)&&_D(t,(s,r)=>{let i=e[s];i!==r&&(n&&i==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(i={},e[s]=i),ch(r)&&ch(i)&&!Array.isArray(i)?Wt(i,r,o,n):(o||r!==void 0)&&(e[s]=r))})}function jr(e,t,o){if(!t||!e)return;if(!o)return e[t];const n=t.split(".");let s=e;for(let r=0;r<n.length;r++){if(s==null)return;s=s[n[r]]}return s}function ch(e){return typeof e=="object"&&e!==null}var vu=class Qn{static applyGlobalGridOptions(t){if(!Qn.gridOptions)return{...t};let o={};return Wt(o,Qn.gridOptions,!0,!0),Qn.mergeStrategy==="deep"?Wt(o,t,!0,!0):o={...o,...t},Qn.gridOptions.context&&(o.context=Qn.gridOptions.context),t.context&&(Qn.mergeStrategy==="deep"&&o.context&&Wt(t.context,o.context,!0,!0),o.context=t.context),o}};vu.gridOptions=void 0;vu.mergeStrategy="shallow";var Jp=vu;function $D(e){return Jp.gridOptions?.[e]}var ef={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function Do(e,t,o){o==null||typeof o=="string"&&o==""?tf(e,t):Mo(e,t,o)}function Mo(e,t,o){e.setAttribute(of(t),o.toString())}function tf(e,t){e.removeAttribute(of(t))}function of(e){return`aria-${e}`}function Cs(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function UD(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function jD(e){return e.getAttribute("aria-label")}function hr(e,t){Do(e,"label",t)}function ri(e,t){Do(e,"labelledby",t)}function nf(e,t){Do(e,"live",t)}function KD(e,t){Do(e,"atomic",t)}function qD(e,t){Do(e,"relevant",t)}function YD(e,t){Do(e,"invalid",t)}function QD(e,t){Do(e,"disabled",t)}function sf(e,t){Do(e,"hidden",t)}function Cc(e,t){Mo(e,"expanded",t)}function ZD(e,t){Mo(e,"setsize",t)}function XD(e,t){Mo(e,"posinset",t)}function JD(e,t){Mo(e,"rowcount",t)}function rf(e,t){Mo(e,"rowindex",t)}function eM(e,t){Mo(e,"rowspan",t)}function tM(e,t){Mo(e,"colcount",t)}function lf(e,t){Mo(e,"colindex",t)}function oM(e,t){Mo(e,"colspan",t)}function nM(e,t){Mo(e,"sort",t)}function sM(e){tf(e,"sort")}function wc(e,t){Do(e,"selected",t)}function rM(e,t){Do(e,"controls",t)}function iM(e,t){rM(e,t.id),ri(t,e.id)}function uh(e,t){Do(e,"owns",t)}function sa(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var xa,Pa,Fa,Ea,vc,bc,Da;function Ms(){return xa===void 0&&(xa=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),xa}function af(){return Pa===void 0&&(Pa=/(firefox)/i.test(navigator.userAgent)),Pa}function cf(){return Fa===void 0&&(Fa=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Fa}function ls(){return Ea===void 0&&(Ea=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Ea}function Sc(e){if(!e)return null;const t=e.tabIndex,o=e.getAttribute("tabIndex");return t===-1&&(o===null||o===""&&!af())?null:t.toString()}function lM(){if(Da!==void 0)return Da;if(!document.body)return-1;let e=1e6;const t=af()?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){const n=e*2;if(o.style.height=n+"px",n>t||o.clientHeight!==n)break;e=n}return document.body.removeChild(o),Da=e,e}function aM(){return bc==null&&uf(),bc}function uf(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let o=t.offsetWidth-t.clientWidth;o===0&&t.clientWidth===0&&(o=null),t.parentNode&&t.parentNode.removeChild(t),o!=null&&(bc=o,vc=o===0)}function df(){return vc==null&&uf(),vc}var cM="[tabindex], input, select, button, textarea, [href]",hf="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function bu(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),s=t.call(e,hf),r=Uo(e);return n&&!s&&r}function ht(e,t,o={}){const{skipAriaHidden:n}=o;e.classList.toggle("ag-hidden",!t),n||sf(e,!t)}function uM(e,t,o={}){const{skipAriaHidden:n}=o;e.classList.toggle("ag-invisible",!t),n||sf(e,!t)}function ii(e,t){const o="disabled",n=t?r=>r.setAttribute(o,""):r=>r.removeAttribute(o);n(e);const s=e.querySelectorAll("input")??[];for(const r of s)n(r)}function as(e,t,o){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof o=="number"){if(++n>o)break}else if(e===o)break}return!1}function Is(e){const{height:t,width:o,borderTopWidth:n,borderRightWidth:s,borderBottomWidth:r,borderLeftWidth:i,paddingTop:l,paddingRight:a,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:h,marginBottom:p,marginLeft:f,boxSizing:m}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(o||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(i||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(a||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(f||"0"),boxSizing:m}}function Su(e){const t=Is(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function li(e){const t=Is(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function gf(e){const{height:t,marginBottom:o,marginTop:n}=Is(e);return Math.floor(t+o+n)}function yl(e){const{width:t,marginLeft:o,marginRight:n}=Is(e);return Math.floor(t+o+n)}function pf(e){const t=e.getBoundingClientRect(),{borderTopWidth:o,borderLeftWidth:n,borderRightWidth:s,borderBottomWidth:r}=Is(e);return{top:t.top+(o||0),left:t.left+(n||0),right:t.right+(s||0),bottom:t.bottom+(r||0)}}function Rl(e,t){let o=e.scrollLeft;return t&&(o=Math.abs(o)),o}function xl(e,t,o){o&&(t*=-1),e.scrollLeft=t}function oo(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function mn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ff(e){return!!e.offsetParent}function Uo(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!ff(e)||window.getComputedStyle(e).visibility!=="visible")}function yu(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Zi(e){return()=>{const t=e();return t?mf(t)||Cf(t):!0}}function mf(e){return e.clientWidth<e.scrollWidth}function Cf(e){return e.clientHeight<e.scrollHeight}function Pl(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Wo(e,t)}function Wo(e,t){t=Ru(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Kr(e,t){t=Ru(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Ru(e){return typeof e=="number"?`${e}px`:e}function xu(e){return e instanceof Node||e instanceof HTMLElement}function Jt(e,t,o){o==null||o===""?e.removeAttribute(t):e.setAttribute(t,o.toString())}function bn(e,t,o){const s=Ef(e).ResizeObserver,r=s?new s(o):null;return r?.observe(t),()=>r?.disconnect()}function Sn(e,t){const o=Ef(e);o.requestAnimationFrame?o.requestAnimationFrame(t):o.webkitRequestAnimationFrame?o.webkitRequestAnimationFrame(t):o.setTimeout(t,0)}var wf="data-ref",Ma;function dh(){return Ma??(Ma=document.createTextNode(" ")),Ma.cloneNode()}function Ct(e){const{attrs:t,children:o,cls:n,ref:s,role:r,tag:i}=e,l=document.createElement(i);if(n&&(l.className=n),s&&l.setAttribute(wf,s),r&&l.setAttribute("role",r),t)for(const a of Object.keys(t))l.setAttribute(a,t[a]);if(o)if(typeof o=="string")l.textContent=o;else{let a=!0;for(const c of o)c&&(typeof c=="string"?(l.appendChild(document.createTextNode(c)),a=!1):typeof c=="function"?l.appendChild(c()):(a&&(l.appendChild(dh()),a=!1),l.append(Ct(c)),l.appendChild(dh())))}return l}var hh={};function Pu(e,t){hh[t]||(e(),hh[t]=!0)}function ws(e,t,...o){e.get("debug")&&console.log("AG Grid: "+t,...o)}function qr(e,...t){Pu(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Xs(e,...t){Pu(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var dM={pending:!1,funcs:[]},hM={pending:!1,funcs:[]};function yc(e,t="setTimeout",o){const n=t==="raf"?hM:dM;if(n.funcs.push(e),n.pending)return;n.pending=!0;const s=()=>{const r=n.funcs.slice();n.funcs.length=0,n.pending=!1,r.forEach(i=>i())};t==="raf"?Sn(o,s):window.setTimeout(s,0)}function Dt(e,t,o){let n;return function(...s){const r=this;window.clearTimeout(n),n=window.setTimeout(function(){e.isAlive()&&t.apply(r,s)},o)}}function gh(e,t){let o=0;return function(...n){const s=this,r=Date.now();r-o<t||(o=r,e.apply(s,n))}}function gM(e,t,o=100,n){const s=Date.now();let r=null,i=!1;const l=()=>{const a=Date.now()-s>o;(e()||a)&&(t(),i=!0,r!=null&&(window.clearInterval(r),r=null))};l(),i||(r=window.setInterval(l,10))}var vf="https://www.ag-grid.com",le="34.1.0",ph=2e3,fh=100,bf="_version_",Sf=null,Js=`${vf}/javascript-data-grid`;function pM(e){Sf=e}function fM(e){Js=e}function yf(e,t,o){return Sf?.getConsoleMessage(e,t)??[vM(e,t,o)]}function Fu(e,t,o,n){e(`error #${t}`,...yf(t,o,n))}function mM(e){if(!e)return String(e);const t={};for(const o of Object.keys(e))typeof e[o]!="object"&&typeof e[o]!="function"&&(t[o]=e[o]);return JSON.stringify(t)}function CM(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=mM(e)),t}function Fl(e){return e===void 0?"undefined":e===null?"null":e}function Rc(e,t){return`${e}?${t.toString()}`}function wM(e,t,o){const n=Array.from(t.entries()).sort((r,i)=>i[1].length-r[1].length);let s=Rc(e,t);for(const[r,i]of n){if(r===bf)continue;const l=s.length-o;if(l<=0)break;const a="...",c=l+a.length,u=i.length-c>fh?i.slice(0,i.length-c)+a:i.slice(0,fh)+a;t.set(r,u),s=Rc(e,t)}return s}function Rf(e,t){const o=new URLSearchParams;if(o.append(bf,le),t)for(const r of Object.keys(t))o.append(r,CM(t[r]));const n=`${Js}/errors/${e}`,s=Rc(n,o);return s.length<=ph?s:wM(n,o,ph)}var vM=(e,t,o)=>{const n=Rf(e,t);return`${o?o+` 
`:""}Visit ${n}${o?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function ee(...e){Fu(qr,e[0],e[1])}function et(...e){Fu(Xs,e[0],e[1])}function Wr(e,t,o){Fu(Xs,e,t,o)}function bM(e,t){const o=t[0];return`error #${o} `+yf(o,t[1],e).join(" ")}function _o(...e){return bM(void 0,e)}function xf(e,t){return e.get("rowModelType")===t}function vt(e,t){return xf(e,"clientSide")}function Ts(e,t){return xf(e,"serverSide")}function It(e,t){return e.get("domLayout")===t}function cs(e){return Dl(e)!==void 0}function Pf(e){return typeof e.get("getRowHeight")=="function"}function SM(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Bn(e,t,o=!1,n){const{gos:s,environment:r}=e;if(n==null&&(n=r.getDefaultRowHeight()),Pf(s)){if(o)return{height:n,estimated:!0};const a={node:t,data:t.data},c=s.getCallback("getRowHeight")(a);if(xc(c))return c===0&&ee(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&s.get("masterDetail"))return yM(s);const i=s.get("rowHeight");return{height:i&&xc(i)?i:n,estimated:!1}}function yM(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return xc(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function us(e){const{environment:t,gos:o}=e,n=o.get("rowHeight");if(!n||at(n))return t.getDefaultRowHeight();const s=t.refreshRowHeightVariable();return s!==-1?s:(ee(24),t.getDefaultRowHeight())}function xc(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Ff(e,t,o){const n=t[e.getDomDataKey()];return n?n[o]:void 0}function vs(e,t,o,n){const s=e.getDomDataKey();let r=t[s];at(r)&&(r={},t[s]=r),r[o]=n}function xt(e){const{gos:t,eGridDiv:o}=e;let n=null;const s=t.get("getDocument");return s&&ie(s)?n=s():o&&(n=o.ownerDocument),n&&ie(n)?n:document}function Ef(e){return xt(e).defaultView||window}function ai(e){return e.eGridDiv.getRootNode()}function gt(e){return ai(e).activeElement}function Eu(e){let t=null,o=null;try{t=xt(e).fullscreenElement}catch{}finally{t||(t=ai(e));const n=t.querySelector("body");n?o=n:t instanceof ShadowRoot?o=t:t instanceof Document?o=t?.documentElement:o=t}return o}function RM(e){return Eu(e)?.clientWidth??(window.innerWidth||-1)}function xM(e){return Eu(e)?.clientHeight??(window.innerHeight||-1)}function PM(e,t,o){const s=e.getBoundingClientRect().height,r=RM(o)-2,i=xM(o)-2;if(!e.offsetParent)return;const a=pf(e.offsetParent),{clientY:c,clientX:u}=t;let d=c-a.top-s/2,h=u-a.left-10;const p=xt(o),f=p.defaultView||window,m=f.pageYOffset||p.documentElement.scrollTop,C=f.pageXOffset||p.documentElement.scrollLeft;r>0&&h+e.clientWidth>r+C&&(h=r+C-e.clientWidth),h<0&&(h=0),i>0&&d+e.clientHeight>i+m&&(d=i+m-e.clientHeight),d<0&&(d=0),e.style.left=`${h}px`,e.style.top=`${d}px`}function Df(e){const t=gt(e);return t===null||t===xt(e).body}function er(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function Mf(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||It(e,"print"))}function Go(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function Pc(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function If(e){return e.get("grandTotalRow")}function Tf(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function kf(e,t,o){return!!t.group&&!t.footer&&Tf(e,o)}function gr(e){const t=e.getCallback("getRowId");return t===void 0?t:o=>{let n=t(o);return typeof n!="string"&&(Pu(()=>ee(25,{id:n}),"getRowIdString"),n=String(n)),n}}function FM(e,t){const o=e.get("groupHideParentOfSingleChild");return!!(o===!0||o==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function EM(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function tr(e){return e?.checkboxes??!0}function Xi(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function El(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function Ia(e){return e?.hideDisabledCheckboxes??!1}function DM(e){return typeof e.get("rowSelection")!="string"}function Nn(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Af(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const o=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return o&&n?!1:o?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function MM(e){const t=Af(e);return t===!0||t==="enableSelection"}function IM(e){const t=Af(e);return t===!0||t==="enableDeselection"}function Fc(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function Dl(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Ml(e){return Dl(e)==="multiRow"}function TM(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function Il(e){const t=e.get("rowSelection");if(typeof t=="string"){const o=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return o&&n?"filteredDescendants":o?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function Lf(e,t=!0){const o=e.get("rowSelection");return typeof o!="object"?t?"all":void 0:o.mode==="multiRow"?o.selectAll:"all"}function ci(e){const t=Il(e);return t==="descendants"||t==="filteredDescendants"}function mh(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function kM(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function eo(e){return e.get("columnMenu")==="legacy"}function AM(e){return!eo(e)}function LM(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function OM(e,t,o){typeof e!="object"&&(e={});const n={...e};return o.forEach(s=>{const r=t[s];typeof r<"u"&&(n[s]=r)}),n}function GM(e,t){if(!e)return;const o={};let n=!1;if(Object.keys(e).forEach(i=>{o[i]=e[i],n=!0}),!n)return;const s={type:"gridOptionsChanged",options:o};t.dispatchEvent(s);const r={type:"componentStateChanged",...o};t.dispatchEvent(r)}function De(e,t){return e.addGridCommonParams(t)}function Of(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function Ji(e,t){return e[t]??e.gridOptions?.[t]??$D(t)??ef[t]}var Gf="__ag_Grid_Stop_Propagation",HM=["touchstart","touchend","touchmove","touchcancel","scroll"],VM=["wheel"],Ta={};function bs(e){e[Gf]=!0}function pn(e){return e[Gf]===!0}var Hf=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return o=>{if(typeof Ta[o]=="boolean")return Ta[o];const n=document.createElement(e[o]||"div");return o="on"+o,Ta[o]=o in n}})();function Vf(e,t,o){let n=t;for(;n;){const s=Ff(e,n,o);if(s)return s;n=n.parentElement}return null}function BM(e,t){return!t||!e?!1:zM(t).indexOf(e)>=0}function NM(e){const t=[];let o=e.target;for(;o;)t.push(o),o=o.parentElement;return t}function zM(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():NM(t)}function WM(e,t,o,n){const s=Bf(o);let r;s!=null&&(r={passive:s}),e&&e.addEventListener&&e.addEventListener(t,o,n,r)}var Bf=e=>{const t=HM.includes(e),o=VM.includes(e);if(t)return!0;if(o)return!1},K=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,o){this.localEventService||(this.localEventService=new ms),this.localEventService.addEventListener(e,t,o)}removeEventListener(e,t,o){this.localEventService?.removeEventListener(e,t,o)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const o=[];for(const n of Object.keys(t)){const s=t[n];s&&o.push(this._setupListener(e,n,s))}return o}_setupListener(e,t,o){if(this.destroyed)return()=>null;let n;return _M(e)?(e.__addEventListener(t,o),n=()=>(e.__removeEventListener(t,o),null)):(e instanceof HTMLElement?WM(this.beans.frameworkOverrides,e,t,o):e.addEventListener(t,o),n=()=>(e.removeEventListener(t,o),null)),this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}setupGridOptionListener(e,t){const{gos:o}=this;o.addPropertyEventListener(e,t);const n=()=>(o.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==n),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const o=e.join("-")+this.propertyListenerId++,n=s=>{if(s.changeSet){if(s.changeSet&&s.changeSet.id===this.lastChangeSetIdLookup[o])return;this.lastChangeSetIdLookup[o]=s.changeSet.id}const r={type:"gridPropertyChanged",changeSet:s.changeSet,source:s.source};t(r)};e.forEach(s=>this.setupGridOptionListener(s,n))}getLocaleTextFunc(){return Zp(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o}createBean(e,t,o){return(t||this.stubContext).createBean(e,o)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function _M(e){return e.__addEventListener!==void 0}var $M=/[&<>"']/g,UM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xr(e){return e?.toString().toString()??null}function el(e){return xr(e)?.replace($M,t=>UM[t])??null}var jM={resizable:!0,sortable:!0},KM=0;function Nf(){return KM++}function zn(e){return e instanceof ks}var ks=class extends K{constructor(e,t,o,n){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=o,this.primary=n,this.isColumn=!0,this.instanceId=Nf(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new ms,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=el(o)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:o,colFlex:n}}=this;t?.initCol(this);const s=e.hide;s!==void 0?this.visible=!s:this.visible=!e.initialHide,o?.initCol(this),n?.initCol(this)}setColDef(e,t,o){const n=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),n&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",o)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:o}}=this,n=e.get("suppressFieldDotNotation");this.fieldContainsDots=ie(t)&&t.indexOf(".")>=0&&!n,this.tooltipFieldContainsDots=ie(o)&&o.indexOf(".")>=0&&!n}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:o=>{const n=e.recreateColDef(this.colDef);this.setColDef(n,n,o.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const o=e.width,n=e.initialWidth;return o!=null?t=o:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const o=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,o)}removeEventListener(e,t){const o=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,o)}createColumnFunctionCallbackParams(e){return De(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??jM[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const o=this.createColumnFunctionCallbackParams(e);return t(o)}return!1}createColumnEvent(e,t){return De(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return at(this.sort)}isSorting(){return ie(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return ee(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const o=e===!0;this.visible!==o&&(this.visible=o,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let o=!0;for(;e;){if(!e.isPadding()){o=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:o}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return De(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(at(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)}getRowSpan(e){if(at(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)}setActualWidth(e,t,o=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),o||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,o){const n=this.createColumnEvent(e,t);o&&Wt(n,o),this.colEventSvc.dispatchEvent(n)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Ot(e){return e instanceof tl}var tl=class extends K{constructor(e,t,o,n){super(),this.colGroupDef=e,this.groupId=t,this.padding=o,this.level=n,this.isColumn=!1,this.expandable=!1,this.instanceId=Nf(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)zn(t)?e(t):Ot(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{zn(t)?e.push(t):Ot(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,o=!1;const n=this.findChildrenRemovingPadding();for(let r=0,i=n.length;r<i;r++){const l=n[r];if(!l.isVisible())continue;const a=l.getColumnGroupShow();a==="open"?(e=!0,o=!0):a==="closed"?(t=!0,o=!0):(e=!0,t=!0)}const s=e&&t&&o;this.expandable!==s&&(this.expandable=s,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=o=>{o.forEach(n=>{Ot(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},qM={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Ch(e,t,o){const n={},s=e.gos;return Object.assign(n,s.get("defaultColGroupDef")),Object.assign(n,t),s.validateColDef(n,o),n}var YM=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=mc(e);let o=0;for(;;){let n=e??t;if(n?o!==0&&(n+="_"+o):n=o,!this.existingKeys[n]){const s=String(n);return e&&o>0&&ee(273,{providedId:e,usedId:s}),this.existingKeys[s]=!0,s}o++}}},Tl=Object.freeze([]);function Je(e){if(e?.length)return e[e.length-1]}function As(e,t,o){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,s)=>o?o(n,t[s]):t[s]===n)}function Oi(e,t){if(e)for(const o of e)t(o)}function mo(e,t){const o=e.indexOf(t);o>=0&&e.splice(o,1)}function wh(e,t,o){for(let n=0;n<t.length;n++)mo(e,t[n]);for(let n=t.length-1;n>=0;n--)e.splice(o,0,t[n])}var ra="ag-Grid-AutoColumn",zf="ag-Grid-SelectionColumn",Wf="ag-Grid-RowNumbersColumn";function _f(e){const t=[],o=n=>{for(let s=0;s<n.length;s++){const r=n[s];zn(r)?t.push(r):Ot(r)&&o(r.getChildren())}};return o(e),t}function ln(e){return e.reduce((t,o)=>t+o.getActualWidth(),0)}function kl(e,t,o){const n={};if(!t)return;fn(null,t,r=>{n[r.getInstanceId()]=r}),o&&fn(null,o,r=>{n[r.getInstanceId()]=null});const s=Object.values(n).filter(r=>r!=null);e.context.destroyBeans(s)}function Du(e){return e.getId().startsWith(ra)}function Un(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(zf)??!1}function Hn(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(Wf)??!1}function QM(e){return Un(e)||Hn(e)}function Al(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function ZM(e,t){return As(e,t,(o,n)=>o.getColId()===n.getColId())}function XM(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function or(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function $f(e,t){const o=e===t,n=e.getColDef()===t,s=e.getColId()==t;return o||n||s}var JM=(e,t)=>(o,n)=>{const s={value1:void 0,value2:void 0};let r=!1;return e&&(e[o]!==void 0&&(s.value1=e[o],r=!0),ie(n)&&e[n]!==void 0&&(s.value2=e[n],r=!0)),!r&&t&&(t[o]!==void 0&&(s.value1=t[o]),ie(n)&&t[n]!==void 0&&(s.value2=t[n])),s};function eI(e,t=null,o,n,s){const r=new YM,{existingCols:i,existingGroups:l,existingColKeys:a}=tI(n);r.addExistingKeys(a);const c=Uf(e,t,0,o,i,r,l,s),{colGroupSvc:u}=e,d=u?.findMaxDepth(c,0)??0,h=u?u.balanceColumnTree(c,0,d,r):c;return fn(null,h,(f,m)=>{Ot(f)&&f.setupExpandable(),f.originalParent=m}),{columnTree:h,treeDepth:d}}function tI(e){const t=[],o=[],n=[];return e&&fn(null,e,s=>{if(Ot(s)){const r=s;o.push(r)}else{const r=s;n.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:o,existingColKeys:n}}function Uf(e,t,o,n,s,r,i,l){if(!t)return[];const{colGroupSvc:a}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){const d=t[u];a&&lI(d)?c[u]=a.createProvidedColumnGroup(n,d,o,s,r,i,l):c[u]=oI(e,n,d,s,r,l)}return c}function oI(e,t,o,n,s,r){const i=sI(o,n);i&&n?.splice(i.idx,1);let l=i?.column;if(l){const a=Ec(e,o,l.getColId());l.setColDef(a,o,r),nI(e,l,a,r)}else{const a=s.getUniqueKey(o.colId,o.field),c=Ec(e,o,a);l=new ks(c,o,a,t),e.context.createBean(l)}return e.dataTypeSvc?.addColumnListeners(l),l}function jf(e,t,o,n,s,r,i,l){const{sortSvc:a,pinnedCols:c,colFlex:u}=e;o!==void 0&&t.setVisible(!o,l),a&&(a.updateColSort(t,n,l),s!==void 0&&a.setColSortIndex(t,s)),r!==void 0&&c?.setColPinned(t,r),i!==void 0&&u?.setColFlex(t,i)}function nI(e,t,o,n){jf(e,t,o.hide,o.sort,o.sortIndex,o.pinned,o.flex,n);const s=t.getFlex();if(!(s!=null&&s>0))if(o.width!=null)t.setActualWidth(o.width,n);else{const r=t.getActualWidth();t.setActualWidth(r,n)}}function sI(e,t){if(t)for(let o=0;o<t.length;o++){const n=t[o].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[o].getId()===e.colId)return{idx:o,column:t[o]};continue}if(e.field!=null){if(n.field===e.field)return{idx:o,column:t[o]};continue}if(n===e)return{idx:o,column:t[o]}}}function Ec(e,t,o,n){const{gos:s,dataTypeSvc:r}=e,i={},l=s.get("defaultColDef");Wt(i,l,!1,!0);const a=rI(e,i,t,o);a&&iI(e,a,i);const c=i.cellDataType;Wt(i,t,!1,!0),c!==void 0&&(i.cellDataType=c);const u=s.get("autoGroupColumnDef"),d=Go(s);return t.rowGroup&&u&&d&&Wt(i,{sort:u.sort,initialSort:u.initialSort},!1,!0),r&&(r.postProcess(i),r.validateColDef(i)),s.validateColDef(i,o,n),i}function rI(e,t,o,n){const s=e.dataTypeSvc?.updateColDefAndGetColumnType(t,o,n),r=o.type??s??t.type;return t.type=r,r?Al(r):void 0}function iI(e,t,o){if(!t.length)return;const n=Object.assign({},qM),s=e.gos.get("columnTypes")||{};for(const r of Object.keys(s)){const i=s[r];r in n?ee(34,{key:r}):(i.type&&ee(35),n[r]=i)}t.forEach(r=>{const i=n[r.trim()];i?Wt(o,i,!1,!0):ee(36,{t:r})})}function lI(e){return e.children!==void 0}function fn(e,t,o){if(t)for(let n=0;n<t.length;n++){const s=t[n];Ot(s)&&fn(s,s.getChildren(),o),o(s,e)}}function Kf(e,t){const o=[],n=[],s=[];return e.forEach(i=>{const l=i.getColDef().lockPosition;l==="right"?s.push(i):l==="left"||l===!0?o.push(i):n.push(i)}),t.get("enableRtl")?[...s,...n,...o]:[...o,...n,...s]}function qf(e,t){let o=!0;return fn(null,t,n=>{if(!Ot(n))return;const s=n,r=s.getColGroupDef();if(!(r&&r.marryChildren))return;const l=[];s.getLeafColumns().forEach(h=>{const p=e.indexOf(h);l.push(p)});const a=Math.max.apply(Math,l),c=Math.min.apply(Math,l),u=a-c,d=s.getLeafColumns().length-1;u>d&&(o=!1)}),o}function Yf(e,t){if(!e||e.length==0)return;const o=t(e[0]);for(let n=1;n<e.length;n++)if(o!==t(e[n]))return;return o}function Qf(e,t,o){if(!t.length)return;const n=t.length===1?t[0]:null,s=Yf(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:n,source:o})}function aI(e,t,o){if(!t.length)return;const n=t.length===1?t[0]:null,s=Yf(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:n,source:o})}function cI(e,t,o,n){e.dispatchEvent({type:t,columns:o,column:o&&o.length==1?o[0]:null,source:n})}function pr(e,t,o,n,s=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:o,source:n})}function Fo(e,t,o){const{colModel:n,rowGroupColsSvc:s,pivotColsSvc:r,autoColSvc:i,selectionColSvc:l,colAnimation:a,visibleCols:c,pivotResultCols:u,environment:d,valueColsSvc:h,eventSvc:p,gos:f}=e,m=n.getColDefCols()??[],C=l?.getColumns();if(!m?.length&&!C?.length)return!1;if(t?.state&&!t.state.forEach)return ee(32),!1;const w=(A,R,M,E,V)=>{if(!A)return;const I=JM(R,t.defaultState),P=I("flex").value1;if(jf(e,A,I("hide").value1,I("sort").value1,I("sortIndex").value1,I("pinned").value1,P,o),P==null){const L=I("width").value1;if(L!=null){const T=A.getColDef().minWidth??d.getDefaultColumnMinWidth();T!=null&&L>=T&&A.setActualWidth(L,o)}}V||!A.isPrimary()||(h?.syncColumnWithState(A,o,I),s?.syncColumnWithState(A,o,I,M),r?.syncColumnWithState(A,o,I,E))},v=(A,R,M)=>{const E=Zf(e,o),V=R.slice(),I={},P={},L=[],T=[],F=[];let x=0;const O=s?.columns.slice()??[],H=r?.columns.slice()??[];A.forEach(B=>{const W=B.colId;if(W.startsWith(ra)){L.push(B),F.push(B);return}if(Un(W)){T.push(B),F.push(B);return}const j=M(W);j?(w(j,B,I,P,!1),mo(V,j)):(F.push(B),x+=1)});const k=B=>w(B,null,I,P,!1);V.forEach(k),s?.sortColumns(vh.bind(s,I,O)),r?.sortColumns(vh.bind(r,P,H)),n.refreshCols(!1);const G=(B,W,z=[])=>{W.forEach(j=>{const q=B(j.colId);mo(z,q),w(q,j,null,null,!0)}),z.forEach(k)};return G(B=>i?.getColumn(B)??null,L,i?.getColumns()?.slice()),G(B=>l?.getColumn(B)??null,T,l?.getColumns()?.slice()),dI(t,n,f),c.refresh(o),p.dispatchEvent({type:"columnEverythingChanged",source:o}),E(),{unmatchedAndAutoStates:F,unmatchedCount:x}};a?.start();let{unmatchedAndAutoStates:y,unmatchedCount:D}=v(t.state||[],m,A=>n.getColDefCol(A));if(y.length>0||ie(t.defaultState)){const A=u?.getPivotResultCols()?.list??[];D=v(y,A,R=>u?.getPivotResultCol(R)??null).unmatchedCount}return a?.finish(),D===0}function uI(e,t){const{colModel:o,autoColSvc:n,selectionColSvc:s,eventSvc:r,gos:i}=e,l=o.getColDefCols();if(!l?.length)return;const a=o.getColDefColTree(),c=_f(a),u=[];let d=1e3,h=1e3;const p=v=>{const y=Xf(v);at(y.rowGroupIndex)&&y.rowGroup&&(y.rowGroupIndex=d++),at(y.pivotIndex)&&y.pivot&&(y.pivotIndex=h++),u.push(y)};n?.getColumns()?.forEach(p),s?.getColumns()?.forEach(p),c?.forEach(p),Fo(e,{state:u},t);const f=n?.getColumns()??[],w=[...s?.getColumns()??[],...f,...l].map(v=>({colId:v.colId}));Fo(e,{state:w,applyOrder:!0},t),r.dispatchEvent(De(i,{type:"columnsReset",source:t}))}function Zf(e,t){const{rowGroupColsSvc:o,pivotColsSvc:n,valueColsSvc:s,colModel:r,sortSvc:i,eventSvc:l}=e,a={rowGroupColumns:o?.columns.slice()??[],pivotColumns:n?.columns.slice()??[],valueColumns:s?.columns.slice()??[]},c=Ll(e),u={};return c.forEach(d=>{u[d.colId]=d}),()=>{const d=(R,M,E,V)=>{const I=M.map(V),P=E.map(V);if(As(I,P))return;const T=new Set(M);E.forEach(x=>{T.delete(x)||T.add(x)});const F=[...T];l.dispatchEvent({type:R,columns:F,column:F.length===1?F[0]:null,source:t})},h=R=>{const M=[];return r.forAllCols(E=>{const V=u[E.getColId()];V&&R(V,E)&&M.push(E)}),M},p=R=>R.getColId();d("columnRowGroupChanged",a.rowGroupColumns,o?.columns??[],p),d("columnPivotChanged",a.pivotColumns,n?.columns??[],p);const m=h((R,M)=>{const E=R.aggFunc!=null,V=E!=M.isValueActive(),I=E&&R.aggFunc!=M.getAggFunc();return V||I});m.length>0&&cI(l,"columnValueChanged",m,t),pr(l,h((R,M)=>R.width!=M.getActualWidth()),!0,t),Qf(l,h((R,M)=>R.pinned!=M.getPinned()),t),aI(l,h((R,M)=>R.hide==M.isVisible()),t);const D=h((R,M)=>R.sort!=M.getSort()||R.sortIndex!=M.getSortIndex());D.length>0&&i?.dispatchSortChangedEvents(t,D);const A=Ll(e);gI(c,A,t,r,l)}}function Ll(e){const{colModel:t,rowGroupColsSvc:o,pivotColsSvc:n}=e,s=t.getColDefCols();if(at(s)||!t.isAlive())return[];const r=o?.columns,i=n?.columns,l=[],a=u=>{const d=u.isRowGroupActive()&&r?r.indexOf(u):null,h=u.isPivotActive()&&i?i.indexOf(u):null,p=u.isValueActive()?u.getAggFunc():null,f=u.getSort()!=null?u.getSort():null,m=u.getSortIndex()!=null?u.getSortIndex():null;l.push({colId:u.getColId(),width:u.getActualWidth(),hide:!u.isVisible(),pinned:u.getPinned(),sort:f,sortIndex:m,aggFunc:p,rowGroup:u.isRowGroupActive(),rowGroupIndex:d,pivot:u.isPivotActive(),pivotIndex:h,flex:u.getFlex()??null})};t.forAllCols(u=>a(u));const c=new Map(t.getCols().map((u,d)=>[u.getColId(),d]));return l.sort((u,d)=>{const h=c.has(u.colId)?c.get(u.colId):-1,p=c.has(d.colId)?c.get(d.colId):-1;return h-p}),l}function Xf(e){const t=(f,m)=>f??m??null,o=e.getColDef(),n=t(o.sort,o.initialSort),s=t(o.sortIndex,o.initialSortIndex),r=t(o.hide,o.initialHide),i=t(o.pinned,o.initialPinned),l=t(o.width,o.initialWidth),a=t(o.flex,o.initialFlex);let c=t(o.rowGroupIndex,o.initialRowGroupIndex),u=t(o.rowGroup,o.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let d=t(o.pivotIndex,o.initialPivotIndex),h=t(o.pivot,o.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const p=t(o.aggFunc,o.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:s,hide:r,pinned:i,width:l,flex:a,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:p}}function dI(e,t,o){if(!e.applyOrder||!e.state)return;const n=[];e.state.forEach(s=>{s.colId!=null&&n.push(s.colId)}),hI(t.cols,n,t,o)}function hI(e,t,o,n){if(e==null)return;let s=[];const r={};t.forEach(l=>{if(r[l])return;const a=e.map[l];a&&(s.push(a),r[l]=!0)});let i=0;if(e.list.forEach(l=>{const a=l.getColId();if(r[a]!=null)return;a.startsWith(ra)?s.splice(i++,0,l):s.push(l)}),s=Kf(s,n),!qf(s,o.getColTree())){ee(39);return}e.list=s}function gI(e,t,o,n,s){const r={};t.forEach(u=>r[u.colId]=u);const i={};e.forEach(u=>{r[u.colId]&&(i[u.colId]=!0)});const l=e.filter(u=>i[u.colId]),a=t.filter(u=>i[u.colId]),c=[];a.forEach((u,d)=>{const h=l&&l[d];if(h&&h.colId!==u.colId){const p=n.getCol(h.colId);p&&c.push(p)}}),c.length&&s.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:o})}var vh=(e,t,o,n)=>{const s=e[o.getId()],r=e[n.getId()],i=s!=null,l=r!=null;if(i&&l)return s-r;if(i)return-1;if(l)return 1;const a=t.indexOf(o),c=t.indexOf(n),u=a>=0,d=c>=0;return u&&d?a-c:u?-1:1},pI=class extends K{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(or(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),or(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:o,colAutosize:n,rowGroupColsSvc:s,pivotColsSvc:r,valueColsSvc:i,visibleCols:l,eventSvc:a}=t,c=this.colDefs?Zf(t,e):void 0;o?.expire();const u=this.colDefCols?.list,d=this.colDefCols?.tree,h=eI(t,this.colDefs,!0,d,e);kl(t,this.colDefCols?.tree,h.columnTree);const p=h.columnTree,f=h.treeDepth,m=_f(p),C={};m.forEach(w=>C[w.getId()]=w),this.colDefCols={tree:p,treeDepth:f,list:m,map:C},s?.extractCols(e,u),r?.extractCols(e,u),i?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),l.refresh(e),a.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),a.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&n?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:o,selectionColSvc:n,rowNumbersSvc:s,quickFilter:r,pivotResultCols:i,showRowGroupCols:l,rowAutoHeight:a,visibleCols:c,colViewport:u,eventSvc:d}=this.beans,h=this.selectCols(i,this.colDefCols);this.createColumnsForService([o,n,s],h);const p=SM(this.gos,this.showingPivotResult);(!e||p)&&this.restoreColOrder(h),this.positionLockedCols(h),l?.refresh(),r?.refreshCols(),this.setColSpanActive(),a?.setAutoHeightActive(h),c.clear(),u.clear(),!As(t,this.cols.tree)&&d.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const o of e)o&&(o.createColumns(t,n=>{this.lastOrder=n(this.lastOrder),this.lastPivotOrder=n(this.lastPivotOrder)}),o.addColumns(t))}selectCols(e,t){const o=e?.getPivotResultCols()??null;this.showingPivotResult=o!=null;const{map:n,list:s,tree:r,treeDepth:i}=o??t;return this.cols={list:s.slice(),map:{...n},tree:r.slice(),treeDepth:i},o&&(o.list.some(a=>this.cols?.map[a.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:o}=this.beans,n=this.isPivotMode()&&!this.showingPivotResult,s=t?.isSelectionColumnEnabled(),r=o.get("rowNumbers"),i=e?.columns;return this.cols.list.filter(a=>{const c=Du(a);if(n){const u=i?.includes(a);return c||u||s&&Un(a)||r&&Hn(a)}else return c||a.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,o){Fo(this.beans,{state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},o)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const o=t.filter(d=>e.map[d.getId()]!=null);if(o.length===0)return;if(o.length===e.list.length){e.list=o;return}const n=d=>{const h=d.getOriginalParent();return h?h.getChildren().length>1?!0:n(h):!1};if(!o.some(d=>n(d))){const d=new Set(o);for(const h of e.list)d.has(h)||o.push(h);e.list=o;return}const s=new Map;for(let d=0;d<o.length;d++){const h=o[d];s.set(h,d)}const r=e.list.filter(d=>!s.has(d));if(r.length===0){e.list=o;return}const i=(d,h)=>{const p=h?h.getOriginalParent():d.getOriginalParent();if(!p)return null;let f=null,m=null;for(const C of p.getChildren())if(!(C===h||C===d)){if(C instanceof ks){const w=s.get(C);if(w==null)continue;(f==null||f<w)&&(f=w,m=C);continue}C.forEachLeafColumn(w=>{const v=s.get(w);v!=null&&(f==null||f<v)&&(f=v,m=w)})}return m??i(d,p)},l=[],a=new Map;for(const d of r){const h=i(d,null);if(h==null){l.push(d);continue}const p=a.get(h);p===void 0?a.set(h,d):Array.isArray(p)?p.push(d):a.set(h,[p,d])}const c=new Array(e.list.length);let u=c.length-1;for(let d=l.length-1;d>=0;d--)c[u--]=l[d];for(let d=o.length-1;d>=0;d--){const h=o[d],p=a.get(h);if(p)if(Array.isArray(p))for(let f=p.length-1;f>=0;f--){const m=p[f];c[u--]=m}else c[u--]=p;c[u--]=h}e.list=c}positionLockedCols(e){e.list=Kf(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:o,eventSvc:n}=this.beans;o.refresh(t),n.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=or(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){kl(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:o,selectionColSvc:n}=this.beans;Oi(this.colDefCols?.list,e),Oi(o?.columns?.list,e),Oi(n?.columns?.list,e),Oi(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:o,list:n}=t;if(typeof e=="string"&&o[e])return o[e];for(let s=0;s<n.length;s++)if($f(n[s],e))return n[s];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},Jf=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let o;return typeof t!="number"?o=0:o=t+1,this.existingIds[e]=o,o}},Pr=class extends K{};function Ri(e,t,o){return o&&e.addDestroyFunc(()=>t.destroyBean(o)),o??e}var xi=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(s=>this.toggleCss(s,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},fI=0,Fe=null,nt=class extends K{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=fI++,this.cssManager=new xi(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(o=>[o.selector,o])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(wf):null}applyElementsToComponent(e,t,o,n=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const s=this[t];if(s===Fe)this[t]=n??e;else{const r=o&&o[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(e,t){const o=[];for(const n of e.childNodes??[])o.push(n);o.forEach(n=>{if(!(n instanceof HTMLElement))return;const s=this.createComponentFromElement(n,r=>{const i=r.getGui();if(i)for(const l of n.attributes??[])i.setAttribute(l.name,l.value)},t);if(s){if(s.addItems&&n.children.length){this.createChildComponentsFromTags(n,t);const r=Array.prototype.slice.call(n.children);s.addItems(r)}this.swapComponentForNode(s,e,n)}else n.childNodes&&this.createChildComponentsFromTags(n,t)})}createComponentFromElement(e,t,o){const n=e.nodeName,s=this.getDataRefAttribute(e),r=n.indexOf("AG-")===0,i=r?this.componentSelectors.get(n):null;let l=null;if(i){const a=o&&s?o[s]:void 0;l=new i.component(a),l.setParentComponent(this),this.createBean(l,null,t)}else if(r)throw new Error(`selector: ${n}`);return this.applyElementsToComponent(e,s,o,l),l}swapComponentForNode(e,t,o){const n=e.getGui();t.replaceChild(n,o),t.insertBefore(document.createComment(o.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(o=>o.setAttribute("tabindex",t.toString()))}setTemplate(e,t,o){let n;typeof e=="string"||e==null?n=yu(e):n=Ct(e),this.setTemplateFromElement(n,t,o)}setTemplateFromElement(e,t,o,n=!1){if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let s=0;s<t.length;s++){const r=t[s];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,o)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let o=t;return e==null?null:(o||(o=this.eGui),xu(e)?{element:e,parent:o}:{element:e.getGui(),parent:o})}prependChild(e,t){const{element:o,parent:n}=this.getContainerAndElement(e,t)||{};!o||!n||n.insertAdjacentElement("afterbegin",o)}appendChild(e,t){const{element:o,parent:n}=this.getContainerAndElement(e,t)||{};!o||!n||n.appendChild(o)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:o}=t;uM(this.eGui,e,{skipAriaHidden:o})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:o}=t;ht(this.eGui,e,{skipAriaHidden:o});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,o){this.eGui.addEventListener(e,t,o),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function em(e){return typeof e=="object"&&!!e.component}var Ue=class _r{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(o=>this.onDone(o),o=>this.onReject(o))}static all(t){return t.length?new _r(o=>{let n=t.length;const s=new Array(n);t.forEach((r,i)=>{r.then(l=>{s[i]=l,n--,n===0&&o(s)})})}):_r.resolve()}static resolve(t=null){return new _r(o=>o(t))}then(t){return new _r(o=>{this.status===1?o(t(this.resolution)):this.waiters.push(n=>o(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(o=>o(t))}onReject(t){}};function mI(e){return e?e.prototype&&"getGui"in e.prototype:!1}function tm(e,t,o,n){const{name:s}=o;let r,i,l,a,c,u;if(t){const d=t,h=d[s+"Selector"],p=h?h(n):null,f=m=>{typeof m=="string"?r=m:m!=null&&m!==!0&&(e.isFrameworkComponent(m)?l=m:i=m)};p?(f(p.component),a=p.params,c=p.popup,u=p.popupPosition):f(d[s])}return{compName:r,jsComp:i,fwComp:l,paramsFromSelector:a,popupFromSelector:c,popupPositionFromSelector:u}}var CI=class extends K{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,o,n=!1){return this.getCompDetails(this.gridOptions,e,t,o,n)}getCompDetails(e,t,o,n,s=!1){const{name:r,cellRenderer:i}=t;let{compName:l,jsComp:a,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:h}=tm(this.beans.frameworkOverrides,e,t,n),p,f;const m=y=>{const D=this.registry.getUserComponent(r,y);D&&(a=D.componentFromFramework?void 0:D.component,c=D.componentFromFramework?D.component:void 0,p=D.params,f=D.processParams)};if(l!=null&&m(l),a==null&&c==null&&o!=null&&m(o),a&&i&&!mI(a)&&(a=this.agCompUtils?.adaptFunction(t,a)),!a&&!c){const{validation:y}=this.beans;s&&(l!==o||!o)?l?y?.isProvidedUserComp(l)||et(50,{compName:l}):o?y||et(260,{...this.gos.getModuleErrorParams(),propName:r,compName:o}):et(216,{name:r}):o&&!y&&et(146,{comp:o});return}const C=this.mergeParams(e,t,n,u,p,f),w=a==null,v=a??c;return{componentFromFramework:w,componentClass:v,params:C,type:t,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(v,w,C,t)}}newAgStackInstance(e,t,o,n){const s=!t;let r;s?r=new e:r=this.frameworkCompWrapper.wrap(e,n.mandatoryMethods,n.optionalMethods,n),this.createBean(r);const i=r.init?.(o);return i==null?Ue.resolve(r):i.then(()=>r)}mergeParams(e,t,o,n=null,s,r){const i={...o,...s},l=e,a=l&&l[t.name+"Params"];if(typeof a=="function"){const c=a(o);Wt(i,c)}else typeof a=="object"&&Wt(i,a);return Wt(i,n),r?r(i):i}},wI={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},vI={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},bI={name:"headerComponent",optionalMethods:["refresh"]},SI={name:"innerHeaderComponent"},yI={name:"innerHeaderGroupComponent"},RI={name:"headerGroupComponent"},xI={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},PI={name:"loadingCellRenderer",cellRenderer:!0},FI={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},EI={name:"loadingOverlayComponent",optionalMethods:["refresh"]},DI={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},MI={name:"tooltipComponent"},Mu={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},II={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},TI={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},kI={name:"loadingCellRenderer",cellRenderer:!0},AI={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},LI={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function OI(e,t){return e.getCompDetailsFromGridOptions(vI,"agDragAndDropImage",t,!0)}function GI(e,t,o){return e.getCompDetails(t,bI,"agColumnHeader",o)}function HI(e,t,o){return e.getCompDetails(t,SI,void 0,o)}function VI(e,t){const o=t.columnGroup.getColGroupDef();return e.getCompDetails(o,RI,"agColumnGroupHeader",t)}function BI(e,t,o){return e.getCompDetails(t,yI,void 0,o)}function NI(e,t){return e.getCompDetailsFromGridOptions(TI,void 0,t,!0)}function zI(e,t){return e.getCompDetailsFromGridOptions(kI,"agLoadingCellRenderer",t,!0)}function WI(e,t){return e.getCompDetailsFromGridOptions(AI,"agGroupRowRenderer",t,!0)}function _I(e,t){return e.getCompDetailsFromGridOptions(LI,"agDetailCellRenderer",t,!0)}function bh(e,t,o){return e.getCompDetails(t,xI,void 0,o)}function Sh(e,t,o){return e.getCompDetails(t,PI,"agSkeletonCellRenderer",o,!0)}function om(e,t,o){return e.getCompDetails(t,FI,"agCellEditor",o,!0)}function $I(e,t,o,n){const s=t.filter;return em(s)&&(t={filter:s.component,filterParams:t.filterParams}),e.getCompDetails(t,Mu,n,o,!0)}function UI(e,t,o){return e.getCompDetails(t,wI,"agDateInput",o,!0)}function jI(e,t){return e.getCompDetailsFromGridOptions(EI,"agLoadingOverlay",t,!0)}function KI(e,t){return e.getCompDetailsFromGridOptions(DI,"agNoRowsOverlay",t,!0)}function qI(e,t){return e.getCompDetails(t.colDef,MI,"agTooltipComponent",t,!0)}function YI(e,t,o,n){return e.getCompDetails(t,II,n,o)}function nm(e,t){return tm(e,t,Mu)}function ka(e,t,o){return e.mergeParams(t,Mu,o)}function ui(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var sm=new Set,Ol={},ds={},ol,rm=!1,im=!1,QI=!1;function ZI(e){const[t,o]=e.version.split(".")||[],[n,s]=ol.split(".")||[];return t===n&&o===s}function XI(e){ol||(ol=e.version);const t=o=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${o} Please update all modules to the same version.`;if(e.version?ZI(e)||Xs(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${ol}.`)):Xs(t(`'${e.moduleName}' is incompatible.`)),e.validate){const o=e.validate();o.isValid||Xs(`${o.message}`)}}function di(e,t,o=!1){o||(rm=!0),XI(e);const n=e.rowModels??["all"];sm.add(e);let s;t!==void 0?(im=!0,ds[t]===void 0&&(ds[t]={}),s=ds[t]):s=Ol,n.forEach(r=>{s[r]===void 0&&(s[r]={}),s[r][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(r=>di(r,t,o))}function JI(e){delete ds[e]}function Dc(e,t,o){const n=s=>!!Ol[s]?.[e]||!!ds[t]?.[s]?.[e];return n(o)||n("all")}function Iu(){return im}function e0(e,t){const o=ds[e]??{};return[...Object.values(Ol.all??{}),...Object.values(o.all??{}),...Object.values(Ol[t]??{}),...Object.values(o[t]??{})]}function t0(){return new Set(sm)}function o0(e,t){const o=ds[e]??{};return[...Object.values(o.all??{}),...Object.values(o[t]??{})]}function n0(){return rm}function s0(){return QI}var r0=class{static register(e){di(e,void 0)}static registerModules(e){e.forEach(t=>di(t,void 0))}},i0=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const o=new t;o.beanName?this.beans[o.beanName]=o:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(o)}),e.derivedBeans?.forEach(t=>{const{beanName:o,bean:n}=t(this);this.beans[o]=n,this.createdBeans.push(n)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(o=>{o.preWireBeans?.(this.beans),o.wireBeans?.(this.beans)}),e.forEach(o=>o.preConstruct?.()),t&&e.forEach(t),e.forEach(o=>o.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function l0(e){return typeof e=="object"&&!!e.getComp}var a0=class extends i0{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),JI(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},c0=class extends K{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new lm,this.rowValidations=new am,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const o=this.getEditRow(e);t?o.delete(t):o.clear(),o.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const o=e&&this.edits.get(e);if(o)return o;if(t.checkSiblings){const n=e.pinnedSibling;if(n)return this.getEditRow(n)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const o=this.getEditRow(e),n=e.pinnedSibling,s=t&&n&&this.getEditRow(n);if(!o&&!s)return e.data;const r=Object.assign({},e.data),i=(l,a)=>l.forEach(({pendingValue:c},u)=>{c!==Co&&(a[u.getColId()]=c)});return o&&i(o,r),s&&i(s,r),r}getEdit(e,t){const o=this._getEdit(e);return t&&o?{...o}:o}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((o,n)=>t.set(n,new Map(o))),t}setEditMap(e){this.edits.clear(),e.forEach((t,o)=>{const n=new Map;t.forEach((s,r)=>n.set(r,{...s})),this.edits.set(o,n)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const o={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,o),o}clearEditValue(e){const{rowNode:t,column:o}=e;if(t)if(o){const n=this._getEdit(e);n&&(n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed")}else this.getEditRow(t)?.forEach(n=>{n.editorValue=void 0,n.pendingValue=n.sourceValue,n.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((o,n)=>{for(const s of o.keys())t.push({rowNode:n,column:s,...o.get(s)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:o,column:n}=e,{withOpenEditor:s}=t;if(o){const r=this.getEditRow(o,t);return r?n?s?this.getEdit(e)?.state==="editing":r.has(n)??!1:r.size!==0?s?Array.from(r.values()).some(({state:i})=>i==="editing"):!0:!1:!1}return s?this.getEditPositions().some(({state:r})=>r==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:o,column:n}=e;n&&!t.has(n)&&t.set(n,{editorValue:void 0,pendingValue:Co,sourceValue:this.beans.valueSvc.getValue(n,o,!0,"api"),state:"editing"}),this.edits.set(o,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},lm=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:o}=e||{};return this.cellValidations?.get(t)?.get(o)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:o,column:n}=e;this.cellValidations.has(o)||this.cellValidations.set(o,new Map),this.cellValidations.get(o).set(n,t)}clearCellValidation(e){const{rowNode:t,column:o}=e;this.cellValidations.get(t)?.delete(o)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},am=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function u0(e){const{rowIndex:t,rowPinned:o,column:n}=e;return`${t}.${o??"null"}.${n.getId()}`}function cm(e,t){const o=e.column===t.column,n=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return o&&n&&s}function d0(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ie(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function h0(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function g0(e){let t=0,o;const{pinnedRowModel:n,rowModel:s,pageBounds:r}=e;return n?.getPinnedTopRowCount()?o="top":s.getRowCount()?(o=null,t=r.getFirstRow()):n?.getPinnedBottomRowCount()&&(o="bottom"),o===void 0?null:{rowIndex:t,rowPinned:o}}function p0(e){let t,o=null;const{pinnedRowModel:n,pageBounds:s}=e,r=n?.getPinnedBottomRowCount(),i=n?.getPinnedTopRowCount();return r?(o="bottom",t=r-1):e.rowModel.getRowCount()?(o=null,t=s.getLastRow()):i&&(o="top",t=i-1),t===void 0?null:{rowIndex:t,rowPinned:o}}function Cn(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function $r(e,t){const o=e.spannedRowRenderer?.getCellByPosition(t);if(o)return o;const n=e.rowRenderer.getRowByPosition(t);return n?n.getCellCtrl(t.column):null}function f0(e,t,o){const{rowModel:n,pinnedRowModel:s}=e;let r;return r??(r=n?.getRowNode(t)),o?r??(r=s?.getPinnedRowById(t,o)):(r??(r=s?.getPinnedRowById(t,"top")),r??(r=s?.getPinnedRowById(t,"bottom"))),r}function Gl(e,t){const{rowIndex:o,rowPinned:n}=t,{pageBounds:s,pinnedRowModel:r,rowModel:i}=e;if(o===0)return n==="top"?null:n==="bottom"&&i.isRowsToRender()?{rowIndex:s.getLastRow(),rowPinned:null}:r?.isRowsToRender("top")?{rowIndex:r.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const l=n?void 0:i.getRow(o);return um(e,l,!0)??{rowIndex:o-1,rowPinned:n}}function yh(e,t){const{rowIndex:o,rowPinned:n}=t,{pageBounds:s,pinnedRowModel:r,rowModel:i}=e;if(m0(e,t))return n==="bottom"?null:n==="top"&&i.isRowsToRender()?{rowIndex:s.getFirstRow(),rowPinned:null}:r?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const l=n?void 0:i.getRow(o);return um(e,l)??{rowIndex:o+1,rowPinned:n}}function um(e,t,o=!1){const{gos:n,rowRenderer:s}=e;if(!t?.sticky||!Mf(n))return;const r=s.getStickyTopRowCtrls(),i=s.getStickyBottomRowCtrls(),l=!i.some(d=>d.rowNode.rowIndex===t.rowIndex),a=l?r:i,c=(o?-1:1)*(l?-1:1);let u;for(let d=0;d<a.length;d++)if(a[d].rowNode.rowIndex===t.rowIndex){u=a[d+c];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function m0(e,t){const{rowPinned:o,rowIndex:n}=t,{pinnedRowModel:s,pageBounds:r}=e;return o==="top"?(s?.getPinnedTopRowCount()??0)-1<=n:o==="bottom"?(s?.getPinnedBottomRowCount()??0)-1<=n:r.getLastRow()<=n}function Tu(e,t={}){const{rowIndex:o,rowId:n,rowCtrl:s,rowPinned:r}=t;if(s)return s;const{rowModel:i,rowRenderer:l}=e;let{rowNode:a}=t;return a||(n?a=f0(e,n,r):o!=null&&(a=i.getRow(o))),l.getRowCtrls(a?[a]:[])?.[0]}function lt(e,t={}){const{cellCtrl:o,colId:n,columnId:s,column:r}=t;if(o)return o;const i=e.colModel.getCol(n??s??Mc(r)),l=t.rowCtrl??Tu(e,t),a=l?.getCellCtrl(i)??void 0;if(a)return a;const c=t.rowNode??l?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[i])?.[0]}function Rh(e){const{editSvc:t}=e;t?.isBatchEditing()?nr(e):t?.stopEditing(void 0,{source:"api"})}function C0(e,t,o){const{gos:n,popupSvc:s}=t;if(!n.get("stopEditingWhenCellsLoseFocus"))return;const r=i=>{const l=i.relatedTarget;if(Sc(l)===null){Rh(t);return}let a=o.some(c=>c.contains(l))&&ym(n,l);a||(a=!!s&&(s.getActivePopups().some(c=>c.contains(l))||s.isElementWithinCustomPopup(l))),a||Rh(t)};o.forEach(i=>e.addManagedElementListeners(i,{focusout:r}))}function Mc(e){if(e)return typeof e=="string"?e:e.getColId()}var Co=Symbol("unedited");function dm(e,t={}){const o=[],n=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const s of n){const r=s.comp?.getCellEditor();r&&o.push({ctrl:s,editor:ui(r)})}return o}var w0=(e,t={})=>dm(e,t).map(o=>o.editor);function v0(e,t,o,n,s,r){t.length===0&&o?.rowNode&&o?.column&&fr(e,o,{key:n,event:s,cellStartedEdit:r});const{valueSvc:i,editSvc:l,editModelSvc:a}=e,{rowNode:c,column:u}=o??{};for(const d of t){const{rowNode:h,column:p}=d,f=lt(e,d);if(!f){if(h&&p){const C=i.getValue(p,h,void 0,"api"),y=(o?.rowNode===h&&o?.column===p&&n||void 0)??l?.getCellDataValue(d,!1)??i.getValueForDisplay(p,h)?.value??C??Co;a?.setEdit(d,{pendingValue:y,sourceValue:C,state:"editing"})}continue}const m=r&&c===f.rowNode&&f.column===u;fr(e,{rowNode:c,column:f.column},{key:m?n:null,event:m?s:null,cellStartedEdit:m})}}function Vn({pendingValue:e,sourceValue:t}){return e===Co&&(e=t),e!==t}function fr(e,t,o){const{key:n,event:s,cellStartedEdit:r,silent:i}=o??{},l=lt(e,t),a=l?.comp?.getCellEditor(),c=gm(e,t,n,r),u=e.editModelSvc?.getEdit(t);let d=n?.length===1?n:c.value;if(d===void 0&&(d=u?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:d,state:"editing"}),a){a.refresh?.(c);return}const h=t.column.getColDef(),p=om(e.userCompFactory,h,c),f=p?.popupFromSelector!=null?p.popupFromSelector:!!h.cellEditorPopup,m=p?.popupPositionFromSelector!=null?p.popupPositionFromSelector:h.cellEditorPopupPosition;pm(p.params,s),l&&(l.editCompDetails=p,l.comp?.setEditDetails(p,f,m,e.gos.get("reactiveCustomComponents")),l?.rowCtrl?.refreshRow({suppressFlash:!0}),i||e.editSvc?.dispatchCellEvent(t,s,"cellEditingStarted"))}function hm(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function gm(e,t,o,n){const{valueSvc:s,gos:r,editSvc:i}=e,l=lt(e,t),a=t.rowNode?.rowIndex??void 0,c=i?.isBatchEditing(),u=e.colModel.getCol(t.column.getId()),{rowNode:d,column:h}=t,p=l.comp?.getCellEditor(),f=i?.getCellDataValue(t,!1)??(p?hm(p)?.editorValue:void 0),m=f===Co?s.getValueForDisplay(u,d)?.value:f;return De(r,{value:m,eventKey:o??null,column:h,colDef:h.getColDef(),rowIndex:a,node:d,data:d.data,cellStartedEdit:n??!1,onKeyDown:l?.onKeyDown.bind(l),stopEditing:C=>{i.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:C}),Hl(e,t)},eGridCell:l?.eGui,parseValue:C=>s.parseValue(u,d,C,l?.value),formatValue:l?.formatValue.bind(l),validate:()=>{i?.validateEdit()}})}function Ic(e,t){const{editModelSvc:o}=e;o?.getEditMap().forEach((n,s)=>{n.forEach((r,i)=>{!t&&(r.state==="editing"||r.pendingValue===Co)||!Vn(r)&&(r.state!=="editing"||t)&&o?.removeEdits({rowNode:s,column:i})})})}function b0(e,t){const o=t.comp?.getCellEditor();if(!o?.refresh)return;const{eventKey:n,cellStartedEdit:s}=t.editCompDetails.params,{column:r}=t,i=gm(e,t,n,s),l=r.getColDef(),a=om(e.userCompFactory,l,i);o.refresh(pm(a.params,n))}function pm(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function es(e,t){e.editModelSvc?.getEditPositions().forEach(o=>{const n=lt(e,o);if(!n)return;const s=n.comp.getCellEditor();if(!s)return;const{editorValue:r,editorValueExists:i}=hm(s);nl(e,o,t,r,void 0,!i)})}function nl(e,t,o,n,s,r){const{editModelSvc:i,valueSvc:l}=e;if(!i)return;const{rowNode:a,column:c}=t;if(!(a&&c))return;const d=!!lt(e,t)?.comp?.getCellEditor();let h=i.getEdit(t,!0);h?.sourceValue||(h=i.setEdit(t,{sourceValue:l.getValue(c,a,void 0,"api"),pendingValue:Co,state:d?"editing":"changed"})),i.setEdit(t,{editorValue:r?h.sourceValue:n,state:d?"editing":"changed"}),o&&S0(e,t)}function S0(e,t){const{editModelSvc:o}=e,n=o?.getEdit(t,!0);o?.setEdit(t,{pendingValue:n?.editorValue})}function nr(e,t,o){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(n=>Hl(e,n,o))}function Hl(e,t,o){const{editSvc:n,editModelSvc:s}=e,{rowNode:r,column:i}=t,l=lt(e,t);if(!l){s?.hasEdits(t)&&r&&i&&s?.setEdit(t,{state:"changed"});return}const{comp:a}=l;if(a&&!a.getCellEditor())return;const c=a?.getCellEditor()?.getValidationErrors?.(),u=s?.getCellValidationModel();c?.length?u?.setCellValidation(t,{errorMessages:c}):u?.clearCellValidation(t),s?.getEdit(t)&&s?.setEdit(t,{state:"changed"}),a?.setEditDetails(),a?.refreshEditStyles(!1,!1),l?.refreshCell({force:!0,suppressFlash:!0});const d=s?.getEdit(t);d?.state==="changed"&&!o?.silent&&n?.dispatchCellEvent(t,o?.event,"cellEditingStopped",{valueChanged:Vn(d),newValue:d?.pendingValue,oldValue:d?.sourceValue})}function Ss(e){const t=dm(e),o=new lm,{ariaAnnounce:n,localeSvc:s,editModelSvc:r,gos:i}=e,l=i.get("editType")==="fullRow",c=Zp(s)("ariaValidationErrorPrefix","Cell Editor Validation");for(const d of t){const{ctrl:h,editor:p}=d,{rowNode:f,column:m}=h,C=p.getValidationErrors?.()??[],w=p.getValidationElement?.(!1)||!p.isPopup?.()&&h.eGui;if(w){const v=C!=null&&C.length>0,y=v?C.join(". "):"";YD(w,v),v&&n.announceValue(`${c} ${C}`,"editorValidation"),w instanceof HTMLInputElement?w.setCustomValidity(y):w.classList.toggle("invalid",v)}C?.length>0&&o.setCellValidation({rowNode:f,column:m},{errorMessages:C})}es(e,!1),r?.setCellValidationModel(o);const u=new Set;for(const{ctrl:d}of t)u.add(d.rowCtrl);if(l){const d=y0(e);r?.setRowValidationModel(d)}for(const d of u.values()){d.rowEditStyleFeature?.applyRowStyles();for(const h of d.getAllCellCtrls())h.tooltipFeature?.refreshTooltip(!0),h.editorTooltipFeature?.refreshTooltip(!0),h.editStyleFeature?.applyCellStyles?.()}}var y0=e=>{const t=new am,o=e.gos.get("getFullRowEditValidationErrors"),n=e.editModelSvc?.getEditMap();if(!n)return t;for(const s of n.keys()){const r=n.get(s);if(!r)continue;const i=[],{rowIndex:l,rowPinned:a}=s;for(const u of r.keys()){const d=r.get(u);if(!d)continue;const{editorValue:h,pendingValue:p,sourceValue:f}=d,m=h??(p===Co?void 0:p)??f;i.push({column:u,colId:u.getColId(),rowIndex:l,rowPinned:a,oldValue:f,newValue:m})}const c=o?.({editorsState:i})??[];c.length>0&&t.setRowValidation({rowNode:s},{errorMessages:c})}return t};function R0(e){Ss(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const o=[];return t.forEach((n,s)=>{n.forEach(({errorMessages:r},i)=>{o.push({column:i,rowIndex:s.rowIndex,rowPinned:s.rowPinned,messages:r??null})})}),o}var x0="ag-column-first",P0="ag-column-last";function fm(e,t,o,n){return at(e)?[]:E0(e.headerClass,e,t,o,n)}function mm(e,t,o){e.toggleCss(x0,o.isColAtEdge(t,"first")),e.toggleCss(P0,o.isColAtEdge(t,"last"))}function F0(e,t,o,n){return De(t,{colDef:e,column:o,columnGroup:n})}function E0(e,t,o,n,s){if(at(e))return[];let r;if(typeof e=="function"){const i=F0(t,o,n,s);r=e(i)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}function Pi(e){return!!(e.rowPinned&&e.pinnedSibling)}function io(e,t,o,n){const s=t==="top";if(!o)return io(e,t,s?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),n);if(!n){const a=s?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return io(e,t,o,s?e.getPinnedTopRow(a-1):e.getPinnedBottomRow(a-1))}let r=!1,i=!1;const l=[];return e.forEachPinnedRow(t,a=>{if(a===o&&!r){r=!0,l.push(a);return}if(r&&a===n){i=!0,l.push(a);return}r&&!i&&l.push(a)}),l}var U={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},Tc=!1,Vl=0;function D0(e){Vl>0||(e.addEventListener("keydown",Bl),e.addEventListener("mousedown",Bl))}function M0(e){Vl>0||(e.removeEventListener("keydown",Bl),e.removeEventListener("mousedown",Bl))}function Bl(e){const t=Tc,o=e.type==="keydown";o&&(e.ctrlKey||e.metaKey||e.altKey)||t!==o&&(Tc=o)}function I0(e){const t=xt(e);return D0(t),Vl++,()=>{Vl--,M0(t)}}function T0(){return Tc}function k0(e,t,o){t.addManagedElementListeners(o,{keydown:n=>{if(!n.defaultPrevented&&n.key===U.TAB){const s=n.shiftKey;Ls(e,o,!1,s)||mr(e,s)&&n.preventDefault()}}})}function sr(e,t,o=!1){const n=cM;let s=hf;t&&(s+=", "+t),o&&(s+=', [tabindex="-1"]');const r=Array.prototype.slice.apply(e.querySelectorAll(n)).filter(a=>Uo(a)),i=Array.prototype.slice.apply(e.querySelectorAll(s));return i.length?((a,c)=>a.filter(u=>c.indexOf(u)===-1))(r,i):r}function ys(e,t=!1,o=!1,n=!1){const s=sr(e,n?".ag-tab-guard":null,o),r=t?Je(s):s[0];return r?(r.focus({preventScroll:!0}),!0):!1}function Ls(e,t,o,n){const s=sr(t,o?':not([tabindex="-1"])':null),r=gt(e);let i;o?i=s.findIndex(a=>a.contains(r)):i=s.indexOf(r);const l=i+(n?-1:1);return l<0||l>=s.length?null:s[l]}function Cm(e,t=5){let o=0;for(;e&&Sc(e)===null&&++o<=t;)e=e.parentElement;return Sc(e)===null?null:e}function A0(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function hs(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function ia(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function mr(e,t,o=!1){const n=e.ctrlsSvc.get("gridCtrl");return!o&&n.focusNextInnerContainer(t)?!0:((o||!t&&!n.isDetailGrid())&&n.forceFocusOutOfContainer(t),!1)}function L0(e,t,o,{rowNode:n,column:s},r){return De(e.gos,{type:o,node:n,data:n.data,value:r,column:s,colDef:s.getColDef(),rowPinned:n.rowPinned,event:t,rowIndex:n.rowIndex})}function O0(e,t=!1){return e===U.DELETE?!0:!t&&e===U.BACKSPACE?cf():!1}var G0=class extends K{constructor(e,t,o,n){super(),this.cellCtrl=e,this.rowNode=o,this.rowCtrl=n,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case U.ENTER:this.onEnterKeyDown(e);break;case U.F2:this.onF2KeyDown(e);break;case U.ESCAPE:this.onEscapeKeyDown(e);break;case U.TAB:this.onTabKeyDown(e);break;case U.BACKSPACE:case U.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case U.DOWN:case U.UP:case U.RIGHT:case U.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:o,beans:n}=this;if(!n.editSvc?.isEditing(o,{withOpenEditor:!0})){if(e.shiftKey&&o.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const s=o.getFocusedCellPosition();n.navigation?.navigateToNextCell(e,t,s,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:o}=this.beans;if(!t)return;const n=t.extendLatestRangeInDirection(e);n&&(e.key===U.LEFT||e.key===U.RIGHT?o?.ensureColumnVisible(n.column):o?.ensureRowVisible(n.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:o,beans:n,rowNode:s}=this,{gos:r,rangeSvc:i,eventSvc:l,editSvc:a}=n;if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),O0(e,r.get("enableCellEditingOnBackspace"))&&!a?.isEditing(o,{withOpenEditor:!0})){if(i&&Nn(r))i.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(o.isCellEditable()){const{column:c}=o,u=this.beans.valueSvc.getDeleteValue(c,s);s.setDataValue(c,u,"cellClear")}}else a?.isEditing(o,{withOpenEditor:!0})||n.editSvc?.startEditing(o,{startedEdit:!0,event:t});l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:o}=this,{editSvc:n,navigation:s}=o,r=n?.isEditing(t),i=t.rowNode,l=n?.isRowEditing(i),a=c=>{n?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(r||l){if(this.isCtrlEnter(e)){n?.applyBulkEdit(t,o?.rangeSvc?.getCellRanges()||[]);return}if(Ss(o),n?.checkNavWithValidation(void 0,e)==="block-stop")return;n?.isEditing(t,{withOpenEditor:!0})?n?.stopEditing(t,{event:e}):l&&!t.isCellEditable()?n?.stopEditing({rowNode:i},{event:e}):a(t)}else if(o.gos.get("enterNavigatesVertically")){const c=e.shiftKey?U.UP:U.DOWN;s?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(n?.hasValidationErrors())return;n?.hasValidationErrors(t)&&n.revertSingleCellEdit(t,!0),a(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===U.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:o}}=this;o?.isEditing()&&(Ss(this.beans),o?.checkNavWithValidation(void 0,e)==="block-stop")||o?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:o}}=this;o?.checkNavWithValidation(t,e)==="block-stop"&&o.revertSingleCellEdit(t),o?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const o=e.target!==this.eGui,{beans:{editSvc:n},cellCtrl:s}=this;if(o||n?.isEditing(s,{withOpenEditor:!0}))return;if(e.key===U.SPACE)this.onSpaceKeyDown(e);else if(n?.isCellEditable(s,"ui")){if(n?.hasValidationErrors()&&!n?.hasValidationErrors(s))return;n?.startEditing(s,{startedEdit:!0,event:e,source:"api"}),!s.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:o}=this.beans,{rowNode:n}=this.cellCtrl;!o?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&cs(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,n,"spaceKey"),e.preventDefault()}};function wm(e,t,o){if(o===0)return!1;const n=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(n,s)<=o}function xh({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var H0=class extends K{constructor(e,t,o){super(),this.cellCtrl=e,this.column=o,this.beans=t}onMouseEvent(e,t){if(!pn(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:o,editSvc:n,editModelSvc:s,frameworkOverrides:r}=this.beans,i=e.ctrlKey||e.metaKey,{cellCtrl:l}=this,{column:a,cellPosition:c}=l;o&&i&&o.getCellRangeCount(c)>1&&o.intersectLastRange(!0);const u=l.createEvent(e,"cellClicked");t.dispatchEvent(u);const d=a.getColDef();if(d.onCellClicked&&window.setTimeout(()=>{r.wrapOutgoing(()=>{d.onCellClicked(u)})},0),s?.getState(l)!=="editing"){const h=n?.isEditing(),p=s?.getCellValidationModel().getCellValidationMap().size??0,f=s?.getRowValidationModel().getRowValidationMap().size??0;if(h&&(p>0||f>0))return;n?.shouldStartEditing(l,e)?n?.startEditing(l,{event:e}):n?.shouldStopEditing(l,e)&&n?.stopEditing(l)}}onCellDoubleClicked(e){const{column:t,beans:o,cellCtrl:n}=this,{eventSvc:s,frameworkOverrides:r,editSvc:i,editModelSvc:l}=o,a=t.getColDef(),c=n.createEvent(e,"cellDoubleClicked");if(s.dispatchEvent(c),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{a.onCellDoubleClicked(c)})},0),i?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const u=i?.isEditing(),d=l?.getCellValidationModel().getCellValidationMap().size??0,h=l?.getRowValidationModel().getRowValidationMap().size??0;if(u&&(d>0||h>0))return;i?.startEditing(n,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:o,shiftKey:n}=e,s=e.target,{cellCtrl:r,beans:i}=this,{eventSvc:l,rangeSvc:a,rowNumbersSvc:c,focusSvc:u,gos:d,editSvc:h}=i;if(this.isRightClickInExistingRange(e))return;const p=a&&!a.isEmpty(),f=this.containsWidget(s),{cellPosition:m,column:C}=r,w=Hn(C);if(c&&w&&!c.handleMouseDownOnCell(m,e)){a&&e.preventDefault(),e.stopImmediatePropagation();return}if(!n||!p){const v=h?.isEditing(r),D=d.get("enableCellTextSelection")&&e.defaultPrevented,A=(Ms()||D)&&!v&&!bu(s)&&!f;r.focusCell(A,e)}if(n&&p&&!u.isCellFocused(m)){e.preventDefault();const v=u.getFocusedCell();if(v){const{column:y,rowIndex:D,rowPinned:A}=v;h?.isEditing(v)&&h?.stopEditing(v),u.setFocusedCell({column:y,rowIndex:D,rowPinned:A,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!f){if(a){w&&e.preventDefault();const v=xh(this.beans,e)&&w;if(n)a.extendLatestRangeToCell(m);else if(!v){const y=t||o;a.setRangeToCell(m,y)}}l.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const o=t.isCellInAnyRange(this.cellCtrl.cellPosition),n=xh(this.beans,e);if(o&&n)return!0}return!1}containsWidget(e){return as(e,"ag-selection-checkbox",3)||as(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:o}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),o?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:o}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),o?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,o=t.contains(e.target),n=t.contains(e.relatedTarget);return o&&n}},V0=class extends K{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();As(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,o=e.getColSpan(t),n=[];if(o===1)n.push(e);else{let s=e;const r=e.getPinned();for(let i=0;s&&i<o&&(n.push(s),s=this.beans.visibleCols.getColAfter(s),!(!s||at(s)||r!==s.getPinned()));i++);}return n}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Je(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,o=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const n=t.bodyWidth;return o+n+(e||0)}return o+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const o=us(this.beans)*this.rowSpan;this.eContent.style.height=`${o}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},B0="ag-cell",N0="ag-cell-auto-height",z0="ag-cell-normal-height",W0="ag-cell-focus",_0="ag-cell-first-right-pinned",$0="ag-cell-last-left-pinned",U0="ag-cell-not-inline-editing",j0="ag-cell-wrap-text",Nl="cellCtrl";function vm(e,t){return Vf(e,t,Nl)}var K0=0,rr=class extends K{constructor(e,t,o,n){super(),this.column=e,this.rowNode=t,this.rowCtrl=n,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=o,this.gos=o.gos,this.editSvc=o.editSvc,this.hasEdit=!!o.editSvc;const{colId:s}=e;this.instanceId=s+"-"+K0++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new V0(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new H0(this,e,this.column),this.keyboardListener=new G0(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Nn(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),Hn(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),Ss(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,o,n,s,r,i){this.comp=e,this.eGui=t,this.printLayout=s,i??(i=this),this.addDomData(i),this.addFeatures(),i.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),r&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(l=>l()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:o,ctrlsSvc:n,eventSvc:s}=e,r=t.getColDef(),i=this.createCellRendererParams();i.deferRender=!0;const l=Sh(o,r,i);if(n.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let a;const c=new Ue(u=>{a=u});return this.addManagedListeners(s,{bodyScrollEnd:()=>a()}),{loadingComp:l,onReady:c}}return{loadingComp:l,onReady:Ue.resolve()}}showValue(e,t){const{beans:o,column:n,rowNode:s,rangeFeature:r}=this,{userCompFactory:i}=o;let l=this.getValueToDisplay(),a;const c=s.stub&&s.groupData?.[n.getId()]==null,u=n.getColDef();if(c||this.isCellRenderer()){const d=this.createCellRendererParams();!c||Hn(n)?a=bh(i,u,d):a=Sh(i,u,d)}if(!a&&!c&&o.findSvc?.isMatch(s,n)){const d=this.createCellRendererParams();a=bh(i,{...n.getColDef(),cellRenderer:"agFindCellRenderer"},d)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(s,{checkSiblings:!0})){const d=this.editSvc.prepDetailsDuringBatch(this,{compDetails:a,valueToDisplay:l});d&&(d.compDetails?a=d.compDetails:d.valueToDisplay&&(l=d.valueToDisplay))}this.comp.setRenderDetails(a,l,e),!t&&r&&Sn(o,()=>r?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&Pi(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:o}=this.beans.gridOptions,n=El(t),s=Un(this.column);return o==="custom"&&n!=="selectionColumn"&&s?!1:e.checkboxSelection||s&&typeof t=="object"&&tr(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),o=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return t||o||n||s}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:o,rowNode:n,comp:s,eGui:r,beans:{valueSvc:i,gos:l,editSvc:a}}=this;return De(l,{value:e,valueFormatted:t,getValue:()=>i.getValueForDisplay(o,n).value,setValue:u=>a?.setDataValue({rowNode:n,column:o},u)||i.setValue(n,o,u),formatValue:this.formatValue.bind(this),data:n.data,node:n,pinned:o.getPinned(),colDef:o.getColDef(),column:o,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:s.getParentOfValue(),registerRowDragger:(u,d,h,p)=>this.registerRowDragger(u,d,p),setTooltip:(u,d)=>{l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,d),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:o}={}){if(this.suppressRefreshCell)return;const n=this.column.getColDef(),s=n.field==null&&n.valueGetter==null&&n.showRowGroup==null,r=e||s||o,i=!!this.comp,l=this.updateAndFormatValue(i),a=r||l;if(i){if(a){this.showValue(!!o,!1);const c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&n.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,o=this.valueFormatted,{value:n,valueFormatted:s}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=n,this.valueFormatted=s,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=o:!0}valuesAreEqual(e,t){const o=this.column.getColDef();return o.equals?o.equals(e,t):e===t}addDomData(e){const t=this.eGui;vs(this.beans.gos,t,Nl,this),e.addDestroyFunc(()=>vs(this.beans.gos,t,Nl,null))}createEvent(e,t){const{rowNode:o,column:n,value:s,beans:r}=this;return L0(r,e,t,{rowNode:o,column:n},s)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:o}=this;mm(e,t,o.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);lf(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const o=this.editSvc?.allowedFocusTargetOnValidation(this);o&&o!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:o},comp:n}=this;if(!n||t?.isEditing(this)||!this.isCellFocused()||!o.shouldTakeFocus())return;const s=()=>{if(!this.isAlive())return;const r=n.getFocusableElement();this.isCellFocused()&&r.focus({preventScroll:!0})};if(e){setTimeout(s,0);return}s()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Hn(this.column)&&(e=!0),Jt(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(_0,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss($0,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(ia(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const o=this.isCellFocused(),n=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(W0,o),o&&e&&e.forceBrowserFocus){let s=this.comp.getFocusableElement();if(n){const r=sr(s,null,!0);r.length&&(s=r[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}o&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:gn(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(B0,!0),e.toggleCss(U0,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(N0,t),e.toggleCss(z0,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(j0,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),o=this.createEvent(e,"cellContextMenu"),{beans:n}=this;n.eventSvc.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout(()=>{n.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(o)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(gt(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,o){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const n=this.createRowDragComp(e,t,o);n&&(this.customRowDragComp=n,this.addDestroyFunc(()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null}))}createRowDragComp(e,t,o){const n=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,o);if(n)return this.beans.context.createBean(n),n}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},bm="__ag_grid_instance";function Sm(e,t){t[bm]=e.gridInstanceId}function hi(e,t){return ym(e,t.target)}function ym(e,t){let o=t;for(;o;){const n=o[bm];if(ie(n))return n===e.gridInstanceId;o=o.parentElement}return!1}function q0(e,t){return vm(e,t.target)?.getFocusedCellPosition()??null}function Ph(e,t){const o=It(e.gos,"normal"),n=t;let s,r;n.clientX!=null||n.clientY!=null?(s=n.clientX,r=n.clientY):(s=n.x,r=n.y);const{pageFirstPixel:i}=e.pageBounds.getCurrentPagePixelRange();if(r+=i,o){const l=e.ctrlsSvc.getScrollFeature(),a=l.getVScrollPosition(),c=l.getHScrollPosition();s+=c.left,r+=a.top}return{x:s,y:r}}var Y0=class extends K{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragSvc.addDragSource(o)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:o}=this,n=t.find(s=>s.dragSource===e);n&&(o.removeDragSource(n.params),mo(t,n))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:o}=this;e.forEach(n=>t.removeDragSource(n.params)),e.length=0,o.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const o=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(o)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const o=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const s=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),r=this.findCurrentDropTarget(e,s),{lastDropTarget:i,dragSource:l,dragAndDropImageComp:a,dragItem:c}=this;if(r!==i){if(this.leaveLastTargetIfExists(e,o,n,t),i!==null&&r===null&&l?.onGridExit?.(c),i===null&&r!==null&&l?.onGridEnter?.(c),this.enterDragTargetIfExists(r,e,o,n,t),r&&a){const{comp:u,promise:d}=a;u?u.setIcon(r.getIconName?r.getIconName():null,!1):d.then(h=>{h&&h.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){const u=this.createDropTargetEvent(r,e,o,n,t);r.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,o=[[e.getContainer()]];return t?o.concat(t):o}isMouseOnDropTarget(e,t){const o=this.getAllContainersFromDropTarget(t);let n=!1;const s=(l,a)=>{for(const c of a){const{width:u,height:d,left:h,right:p,top:f,bottom:m}=c.getBoundingClientRect();if(u===0||d===0)return!1;const C=l.clientX>=h&&l.clientX<p,w=l.clientY>=f&&l.clientY<m;if(!C||!w)return!1}return!0};for(const l of o)if(s(e,l)){n=!0;break}const{eElement:r,type:i}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:n&&t.isInterestedIn(i,r)}findCurrentDropTarget(e,t){const o=t.length;if(o===0)return null;if(o===1)return t[0];const s=ai(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const r of s)for(const i of t)if(this.getAllContainersFromDropTarget(i).flatMap(a=>a).indexOf(r)!==-1)return i;return null}enterDragTargetIfExists(e,t,o,n,s){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,o,n,s);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,o,n){const{lastDropTarget:s}=this;if(!s)return;if(s.onDragLeave){const i=this.createDropTargetEvent(s,e,t,o,n);s.onDragLeave(i)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(o=>o.external).find(o=>o.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const o=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:n}=e;return o.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,o=e.clientX;return t===o?null:t>o?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,o=e.clientY;return t===o?null:t>o?"up":"down"}createDropTargetEvent(e,t,o,n,s){const r=e.getContainer(),i=r.getBoundingClientRect(),{dragItem:l,dragSource:a,gos:c}=this,u=t.clientX-i.left,d=t.clientY-i.top;return De(c,{event:t,x:u,y:d,vDirection:n,hDirection:o,dragSource:a,fromNudge:s,dragItem:l,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&PM(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const o=t.getGui();this.dragAndDropImageParent?.removeChild(o),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:o}=this;if(!e)return;const n=OI(o,De(t,{dragSource:e}));if(!n)return;const s=n.newAgStackInstance();this.dragAndDropImageComp={promise:s},s.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:o}=this;if(!t)return;const n=e.getGui();n.style.setProperty("position","absolute"),n.style.setProperty("z-index","9999"),Sm(this.gos,n),o.applyThemeClasses(n),e.setIcon(null,!1);let{dragItemName:s}=t;typeof s=="function"&&(s=s()),e.setLabel(s||""),n.style.top="20px",n.style.left="20px";const r=Eu(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(n):ee(54)}registerGridDropTarget(e,t){const o={getContainer:e,isInterestedIn:n=>n===1||n===0,getIconName:()=>"notAllowed"};this.addDropTarget(o),t.addDestroyFunc(()=>this.removeDropTarget(o))}},Q0=class extends K{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,o=e.mouseDownListener;if(t.removeEventListener("mousedown",o),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,o=t.find(n=>n.dragSource===e);o&&(this.removeListener(o),mo(t,o))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:o,includeTouch:n,stopPropagationForTouch:s}=e;o.addEventListener("mousedown",t);let r=null;const i=this.gos.get("suppressTouch");n&&!i&&(r=l=>{bu(l.target)||(s&&l.stopPropagation(),this.onTouchStart(e,l))},o.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const o=t.touches[0];this.touchLastTime=o,this.touchStart=o;const n=a=>this.onTouchMove(a,e.eElement),s=a=>this.onTouchUp(a,e.eElement),r=a=>{a.cancelable&&a.preventDefault()},i=t.target,l=[{target:ai(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:i,type:"touchmove",listener:n,options:{passive:!0}},{target:i,type:"touchend",listener:s,options:{passive:!0}},{target:i,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)}onMouseDown(e,t){const o=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=c=>this.onMouseMove(c,e.eElement),s=c=>this.onMouseUp(c,e.eElement),r=c=>c.preventDefault(),i=c=>{c.key===U.ESCAPE&&this.cancelDrag(e.eElement)},l=ai(this.beans),a=[{target:l,type:"mousemove",listener:n},{target:l,type:"mouseup",listener:s},{target:l,type:"contextmenu",listener:r},{target:l,type:"keydown",listener:i}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:o,type:n,listener:s,options:r}=t;o.addEventListener(n,s,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:o,type:n,listener:s,options:r}=t;o.removeEventListener(n,s,r)})})}isEventNearStartEvent(e,t){const{dragStartPixels:o}=this.currentDragParams,n=ie(o)?o:4;return wm(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,o){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:o}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)}onMouseMove(e,t){Ms()&&xt(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,o=t.get("enableCellTextSelection"),n=e.type==="mousemove",s=r=>!!r.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return o&&n&&e.cancelable&&hi(t,e)&&!s(e)}onTouchUp(e,t){let o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function Rm(e,t){return e+"_"+t}function ft(e){return e instanceof gi}var gi=class extends K{constructor(e,t,o,n){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=o,this.pinned=n,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return Rm(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{ft(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Je(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{zn(t)?e.push(t):ft(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{zn(t)?e.push(t):ft(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(o=>{if(ft(o)&&!o.displayedChildren?.length)return;switch(o.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(o);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(o);break;default:this.displayedChildren.push(o);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},kc="row-group-",ku="t-",Au="b-",Z0=0,Rs=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Z0++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:o,eventSvc:n}=this.beans,s=this.data;this.data=e,o?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,s,t);if(this.__localEventService?.dispatchEvent(r),this.sibling){this.sibling.data=e;const l=this.sibling.createDataChangedEvent(e,s,t);this.sibling.__localEventService?.dispatchEvent(l)}n.dispatchEvent({type:"rowNodeDataChanged",node:this});const i=this.pinnedSibling;i&&(i.data=e,i.__localEventService?.dispatchEvent(i.createDataChangedEvent(e,s,t)),n.dispatchEvent({type:"rowNodeDataChanged",node:i}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,o){return{type:"dataChanged",node:this,oldData:t,newData:e,update:o}}getRowIndexString(){return this.rowIndex==null?(et(13),null):this.rowPinned==="top"?ku+this.rowIndex:this.rowPinned==="bottom"?Au+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:o}=this.beans,n=o?.createDaemonNode?.(this),s=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),o&&(o.updateRowSelectable(this),o.syncInRowNode(this,n));const r=this.createDataChangedEvent(e,s,!1);this.__localEventService?.dispatchEvent(r)}setId(e){const t=gr(this.beans.gos);if(t)if(this.data){const o=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(kc)&&et(14,{groupPrefix:kc})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,o){this.beans.expansionSvc?.setExpanded(this,e,t,o)}setDataValue(e,t,o){const{colModel:n,valueSvc:s,gos:r,editSvc:i}=this.beans,l=typeof e!="string"?e:n.getCol(e)??n.getColDefCol(e);if(!l)return!1;const a=s.getValueForDisplay(l,this,void 0,void 0,"api").value;if(r.get("readOnlyEdit")){const{beans:{eventSvc:d},data:h,rowIndex:p,rowPinned:f}=this;return d.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:p,rowPinned:f,column:l,colDef:l.colDef,data:h,node:this,oldValue:a,newValue:t,value:t,source:o}),!1}if(i){const d=i.setDataValue({rowNode:this,column:l},t,o);if(d!=null)return d}const c=s.setValue(this,l,t,o);this.dispatchCellChangedEvent(l,t,a);const u=this.pinnedSibling;return u&&c&&u.dispatchCellChangedEvent(l,t,a),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,o){const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:o};this.__localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,o="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:o})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new ms),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new ms),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const o=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,o)}removeEventListener(e,t){const o=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,o)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(ee(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function X0(e,t,o){return De(t,{type:o,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var J0=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function eT(e,t){const o=new Rs(t);return Object.keys(e).forEach(n=>{J0.has(n)||(o[n]=e[n])}),o.oldRowTop=null,o}var xm={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},tT=new Set(Object.values(xm));function Fn(e,t){const o=e.filterUi;if(!o)return null;if(o.created)return o.promise;if(t)return null;const n=o.create(o.refreshed),s=o;return s.created=!0,s.promise=n,n}function oT(e,t,o,n,s,r){return t.refresh?.({...o,model:n,source:r}),e().then(i=>{if(i){const{filter:l,filterParams:a}=i;Pm(l,a,n,s,r)}})}function Pm(e,t,o,n,s){e?.refresh?.({...t,model:o,state:n,source:s})}function Fm(e,t,o){const n=e();n?.created&&n.promise.then(s=>{const r=t();Pm(s,n.filterParams,r,o()??{model:r},"ui")})}function Fh(e,t,o,n,s,r){let i,l=!1,a;switch(e){case"apply":{const c=n();a=c?.model??null,i={state:c?.state,model:a},l=!0;break}case"clear":{i={model:null};break}case"reset":{i={model:null},l=!0,a=null;break}case"cancel":{i={model:o()};break}}s(i),l?r(a):Fm(t,o,n)}function yt(e,t){return e[t]??null}function nT(e){return{tag:"div",cls:e}}var sT=class extends nt{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(nT(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const o=this.buttons;if(this.buttons=e,o===e)return;const n=this.getGui();oo(n);let s;this.destroyListeners();const r=document.createDocumentFragment(),i=this.className,l=({type:c,label:u})=>{const d=w=>{this.dispatchLocalEvent({type:c,event:w})};["apply","clear","reset","cancel"].includes(c)||ee(75);const h=c==="apply",f=Ct({tag:"button",attrs:{type:h&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${i}-button${h?" "+i+"-apply-button":""}`,children:u});this.activateTabIndex([f]),h&&(s=f);const m=w=>{w.key===U.ENTER&&(w.preventDefault(),d(w))},C=this.listeners;f.addEventListener("click",d),C.push(()=>f.removeEventListener("click",d)),f.addEventListener("keydown",m),C.push(()=>f.removeEventListener("keydown",m)),r.append(f)};e.forEach(c=>l(c)),this.eApply=s;const a=this.validationTooltipFeature;s&&!a?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!s&&a&&(this.validationTooltipFeature=this.destroyBean(a)),n.append(r)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const o=this.eApply;o&&(ii(o,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},rT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function Ln(e,t,o){return zD(e,rT,t,o)}function Lu(e,t){const{debounceMs:o}=e;return la(e)?(o!=null&&ee(71),0):o??t}function la(e){return(e.buttons?.indexOf("apply")??-1)>=0}var iT=class extends nt{constructor(e,t,o,n,s,r){super(),this.column=e,this.wrapper=t,this.eventParent=o,this.updateModel=n,this.isGlobalButtons=s,this.enableGlobalButtonCheck=r,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,o=t,n=o.useForm,s=n?"form":"div";this.setTemplate({tag:s,cls:"ag-filter-wrapper"}),n&&this.addManagedElementListeners(this.getGui(),{submit:r=>{r?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=o,this.resetButtonsPanel(o),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:r,params:i})=>{r===this.column&&this.resetButtonsPanel(i,this.params)},filterStateChanged:({column:r,state:i})=>{r===this.column&&this.eButtons?.updateValidity(i.valid!==!1)},filterAction:({column:r,action:i,event:l})=>{r===this.column&&this.afterAction(i,l)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:r})=>{if(r!==this.isGlobalButtons){this.isGlobalButtons=r;const i=this.params;this.resetButtonsPanel(i,i,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,o){const{buttons:n,readOnly:s}=t??{},{buttons:r,readOnly:i,useForm:l}=e;if(!o&&s===i&&si(n,r))return;const a=r&&r.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(a){const u=r.map(d=>{const h=`${d}Filter`;return{type:d,label:Ln(this,h)}});if(this.applyActive=la(this.params),!c){c=this.createBean(new sT),this.appendChild(c.getGui());const d=this.column,h=p=>({event:f})=>{this.updateModel(d,p),this.afterAction(p,f)};c?.addManagedListeners(c,{apply:h("apply"),clear:h("clear"),reset:h("reset"),cancel:h("cancel")}),this.eButtons=c}c.updateButtons(u,l)}else this.applyActive=!1,c&&(mn(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const o=e,n=o&&o.key;let s;(n===U.ENTER||n===U.SPACE)&&(s={keyboardEvent:o}),t(s),this.hidePopup=null}afterAction(e,t){const{params:o,applyActive:n}=this,s=o?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),s&&n&&this.close(t);break}case"reset":{s&&n&&this.close();break}case"cancel":{s&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===U.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},lT={tag:"div",cls:"ag-filter"},aT=class extends nt{constructor(e,t,o){super(lT),this.column=e,this.source=t,this.enableGlobalButtonCheck=o,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Ue.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:o,beans:{colFilter:n}}=this,s=n.getFilterUiForDisplay(t)??null;this.wrapper=s,s?.then(r=>{if(!r)return;const{isHandler:i,comp:l}=r;let a;if(i){const c=!!this.enableGlobalButtonCheck,u=this.createBean(new iT(t,r,n,n.updateModel.bind(n),c&&n.isGlobalButtons,c));this.comp=u,a=u.getGui()}else a=l.getGui(),ie(a)||ee(69,{guiFromFilter:a});this.appendChild(a),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:o,eGui:this.getGui()}):l.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:o}=e;(t==="api"||t==="paramsUpdated")&&o.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(oo(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},Ou="T",cT=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${Ou}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function Ho(e,t){return e.toString().padStart(t,"0")}function to(e,t=!0,o="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>Ho(s,2)).join(o);return t&&(n+=Ou+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>Ho(s,2)).join(":")),n}function Gi(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),Ho(e.getDate(),2),Ho(e.getHours(),2),`:${Ho(e.getMinutes(),2)}`,`:${Ho(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,Ho(e.getDate(),2)].map(String):null}var Aa=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ac(e,t){if(t==null)return to(e,!1);const o=Ho(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>o.slice(o.length-4,o.length),YY:()=>o.slice(o.length-2,o.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Ho(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Aa(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Aa(e.getDate())}`,DD:()=>Ho(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Aa(e.getDay())}`,d:()=>`${e.getDay()}`},i=new RegExp(Object.keys(r).join("|"),"g");return t.replace(i,l=>l in r?r[l]():l)}function sl(e,t=!1){return!!Yt(e,t)}function uT(e){return!!e&&sl(e,!0)&&!!e.match(cT)?.[1]}function Yt(e,t=!1){if(!e)return null;const[o,n]=e.split(Ou);if(!o)return null;const s=o.split("-").map(h=>parseInt(h,10));if(s.filter(h=>!isNaN(h)).length!==3)return null;const[r,i,l]=s,a=new Date(r,i-1,l);if(a.getFullYear()!==r||a.getMonth()!==i-1||a.getDate()!==l)return null;if(!n||n==="00:00:00")return a;const[c,u,d]=n.split(":").map(h=>parseInt(h,10));if(c>=0&&c<24)a.setHours(c);else if(t)return null;if(u>=0&&u<60)a.setMinutes(u);else if(t)return null;if(d>=0&&d<60)a.setSeconds(d);else if(t)return null;return a}var Eh={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Dh=["january","february","march","april","may","june","july","august","september","october","november","december"];function dT(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function Mh(e){return e instanceof Date&&!isNaN(e.getTime())}var Lc={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:Mh}),dateString:({dataTypeDefinition:e})=>({comparator:(t,o)=>{const n=e.dateParser(o);return o==null||n<t?-1:n>t?1:0},isValidDate:t=>typeof t=="string"&&Mh(e.dateParser(t))}),dateTime:e=>Lc.date(e),dateTimeString:e=>Lc.dateString(e),object:()=>{},text:()=>{}},Oc={number:()=>({comparator:dT}),boolean:({t:e})=>({valueFormatter:t=>ie(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:o=>{const n=e(o);return ie(n)?n:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,n)=>{if(o==="NaN")return t("invalidDate","Invalid Date");if(n===1&&o!=null){const s=Dh[Number(o)-1];return t(s,Eh[s])}return o??t("blanks","(Blanks)")},treeListPathGetter:o=>Gi(o,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:o})=>({valueFormatter:n=>{const s=e(n);return ie(s)?s:o("blanks","(Blanks)")},treeList:!0,treeListPathGetter:n=>Gi(t.dateParser(n??void 0),!1),treeListFormatter:(n,s)=>{if(s===1&&n!=null){const r=Dh[Number(n)-1];return o(r,Eh[r])}return n??o("blanks","(Blanks)")}}),dateTime:e=>{const t=Oc.date(e);return t.treeListPathGetter=Gi,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,o=Oc.dateString(e);return o.treeListPathGetter=n=>Gi(t(n??void 0)),o},object:({formatValue:e,t})=>({valueFormatter:o=>{const n=e(o);return ie(n)?n:t("blanks","(Blanks)")}}),text:()=>{}};function hT(e,t,o,n,s,r,i){let l=t,a=o;const c=e==="agSetColumnFilter";!a&&n.baseDataType==="object"&&!c&&(a=({column:p,node:f})=>s({column:p,node:f,value:r.valueSvc.getValue(p,f)}));const d=(c?Oc:Lc)[n.baseDataType],h=d({dataTypeDefinition:n,formatValue:s,t:i});return l=typeof t=="object"?{...h,...t}:h,{filterParams:l,filterValueGetter:a}}var gT={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},pT={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function fT(e,t=!1){return(t?pT:gT)[e??"text"]}var Em="ag-resizer-wrapper",En=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),mT={tag:"div",cls:Em,children:[En("eTopLeft","topLeft"),En("eTop","top"),En("eTopRight","topRight"),En("eRight","right"),En("eBottomRight","bottomRight"),En("eBottom","bottom"),En("eBottomLeft","bottomLeft"),En("eLeft","left")]},CT=class extends K{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:o}=this.offsetParent,n=o/2-this.getWidth()/2,s=t/2-this.getHeight()/2;this.offsetElement(n,s,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:o,minWidth:n,width:s,minHeight:r,height:i,x:l,y:a}=this.config;this.offsetParent||this.setOffsetParent();let c=0,u=0;const d=Uo(this.element);if(d){const h=this.findBoundaryElement(),p=window.getComputedStyle(h);if(p.minWidth!=null){const f=h.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-f}if(p.minHeight!=null){const f=h.offsetHeight-this.element.offsetHeight;c=parseInt(p.minHeight,10)-f}}if(this.minHeight=r||c,this.minWidth=n||u,s&&this.setWidth(s),i&&this.setHeight(i),(!s||!i)&&this.refreshSize(),t)this.center(e);else if(l||a)this.offsetElement(l,a,e);else if(d&&o){let h=this.boundaryEl,p=!0;if(h||(h=this.findBoundaryElement(),p=!1),h){const f=parseFloat(h.style.top),m=parseFloat(h.style.left);p?this.offsetElement(isNaN(m)?0:m,isNaN(f)?0:f,e):this.setPosition(m,f)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const o=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(o),this.moveElementDragListener=o):(this.dragSvc?.removeDragSource(o),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],s=this.getResizerElement(t),r={dragStartPixels:0,eElement:s,onDragStart:i=>this.onResizeStart(i,t),onDragging:this.onResize.bind(this),onDragStop:i=>this.onResizeEnd(i,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragSvc?.addDragSource(r),this.resizeListeners.push(r),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,o=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Kr(o,e),e=gf(o),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(n?(o.style.maxHeight="unset",o.style.minHeight="unset"):t?Kr(o,e):(o.style.height=`${e}px`,o.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:o}=this.offsetParent;if(!o)return null;const n=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,i=e?0:s.top;let l=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();l=u-n.bottom}}return o+i-r-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:o}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Wo(t,e),e=yl(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,r=o?this.position.x:this.element.getBoundingClientRect().left;s&&e+r>s&&(e=s-r)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Wo(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,o){const{forcePopupParentAsOffsetParent:n}=this.config,s=n?this.boundaryEl:this.element;s&&(this.popupSvc?.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:o}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const o=this.getAvailableHeight();this.element.style.setProperty("max-height",`${o}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=bn(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:o,isTop:n,anywhereWithin:s,topBuffer:r}=e,i=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,a=this.shouldSkipX(t,!!o,!!s,i)?0:i,c=this.shouldSkipY(t,!!n,r,l)?0:l;return{movementX:a,movementY:c}}shouldSkipX(e,t,o,n){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),i=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:s.left;let a=l<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=i.right;return a?!0:(t?a=n<0&&e.clientX>l+r.left||n>0&&e.clientX<l+r.left:o?a=n<0&&e.clientX>i.right||n>0&&e.clientX<l+r.left:a=n<0&&e.clientX>i.right||n>0&&e.clientX<i.right,a)}shouldSkipY(e,t,o=0,n){const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),i=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:s.top;let a=l<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=i.bottom;return a?!0:(t?a=n<0&&e.clientY>l+r.top+o||n>0&&e.clientY<l+r.top:a=n<0&&e.clientY>i.bottom||n>0&&e.clientY<i.bottom,a)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(Ct(mT)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${Em}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:o,forcePopupParentAsOffsetParent:n}=this.config;!o&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(o=>!o.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,o=0;for(let n=0;n<e.length;n++){const s=e[n],r=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let i=this.minHeight||0,l=this.minWidth||0;if(r){const a=window.getComputedStyle(s);a.minHeight&&(i=parseInt(a.minHeight,10)),a.minWidth&&(l=parseInt(a.minWidth,10))}else i=s.offsetHeight,l=s.offsetWidth;t+=i,o+=l}return{height:t,width:o}}applySizeToSiblings(e){let t=null;const o=this.getSiblings();if(o){for(let n=0;n<o.length;n++){const s=o[n];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=o[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:o}=this.config,{isTop:n,isRight:s,isBottom:r,isLeft:i}=this.currentResizer,l=s||i,a=r||n,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:i,isTop:n}),d=this.position.x,h=this.position.y;let p=0,f=0;if(l&&c){const m=i?-1:1,C=this.getWidth(),w=C+c*m;let v=!1;i&&(p=C-w,(d+p<=0||w<=this.minWidth)&&(v=!0,p=0)),v||this.setWidth(w)}if(a&&u){const m=n?-1:1,C=this.getHeight(),w=C+u*m;let v=!1;n?(f=C-w,(h+f<=0||w<=this.minHeight)&&(v=!0,f=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<w&&this.getMinSizeOfSiblings().height+w>this.element.parentElement.offsetHeight&&(v=!0),v||this.setHeight(w)}this.updateDragStartPosition(e.clientX,e.clientY),((t||o)&&p||f)&&this.offsetElement(d+p,h+f)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:o}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:s,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+s,o+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},wT="ag-focus-managed",Fr=class extends K{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:o=>{if(o.defaultPrevented)return;const n=Ls(this.beans,this.eFocusable,!1,o.shiftKey);n&&(n.focus(),o.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:o}}=this;e.classList.add(wT),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),o&&this.addManagedElementListeners(e,{focusout:o})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||pn(t))return;const{callbacks:o}=this;if(o.shouldStopEventPropagation(t)){bs(t);return}t.key===U.TAB?o.onTabKeyDown(t):o.handleKeyDown&&o.handleKeyDown(t)}})}},vT=class extends nt{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Fr(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new CT(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,o=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,o);const s=t.state,r=this.state;return this.state=s,(s.model!==r.model||s.state!==r.state)&&this.setModelIntoUi(s.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=la(e),this.setupApplyDebounced()}doesFilterPass(e){ee(283);const{getHandler:t,model:o,column:n}=this.params;return t().doesFilterPass({...e,model:o,handlerParams:this.beans.colFilter.getHandlerParams(n)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return ee(284),this.params.model!=null}setupApplyDebounced(){const e=Lu(this.params,this.defaultDebounceMs),t=Dt(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return ee(285),this.params.model}setModel(e){ee(286);const{beans:t,params:o}=this;return t.colFilter.setModelForColumnLegacy(o.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:o}=this,n=!this.areModelsEqual(t.model,o.model);return n&&t.onAction("apply",e),n}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const o=this.getModelFromUi(),n={model:o,state:this.getState(),valid:this.canApply(o)};this.state=n;const s=this.params;s.onStateChange(n),s.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:s.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:o}=this;if(!t)return;const n=e==="floatingFilter"||e==="columnFilter";n?(t.restoreLastSize(),t.setResizable(o.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(n)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return Ln(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function bT(e){return!!e.operator}function ST(e,t,o){if(t==null)return null;let n=null;const{compName:s,jsComp:r,fwComp:i}=nm(e,t);return s?n={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[s]:r==null&&i==null&&t.filter===!0&&(n=o()),n}var rl={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},Gu=class extends K{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},o=t.autoHeight?rl.AUTO_HEIGHT:t.print?rl.PRINT:rl.NORMAL;this.view.updateLayoutClasses(o,t)}},Dn="Viewport",Ih="fakeVScrollComp",La=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],Th=100,Oa=150,yT=class extends K{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Dt(this,()=>this.lastScrollSource[1]=null,Oa),this.resetLastVScrollDebounced=Dt(this,()=>this.lastScrollSource[0]=null,Oa)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,o=>{this.centerRowsCtrl=o.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Dn)});for(const e of La){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),o=t?Dt(this,this.onVScroll.bind(this,Dn),Th):this.onVScroll.bind(this,Dn),n=t?Dt(this,this.onVScroll.bind(this,Ih),Th):this.onVScroll.bind(this,Ih);this.addManagedElementListeners(this.eBodyViewport,{scroll:o}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...La,Dn]){if(this.lastScrollSource[1]===t)continue;const o=this.getViewportForSource(t);xl(o,e,this.enableRtl)}}getViewportForSource(e){return e===Dn?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:o}=t;if(this.shouldBlockScrollUpdate(1,o,!0))return;const n=Rl(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Dn?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:o}=this;o?.setScrollTop(t),this.nextScrollTop=t,e===Dn?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,o?.active?o.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},Oa)}shouldBlockScrollUpdate(e,t,o=!1){return o&&!ls()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Su(this.eBodyViewport),{scrollHeight:o}=this.eBodyViewport;return e<0||e+t>o}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:o}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>o}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const o of La)if(this.getViewportForSource(o).scrollLeft!==e){t=!0;break}t&&this.onHScroll(Dn)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),xl(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:o,lastScrollTop:n}=this;return{top:n,bottom:n+o}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:o}=this.beans,n=o.getRowCount();let s=-1;for(let r=0;r<n;r++){const i=o.getRow(r);if(typeof e=="function"){if(i&&e(i)){s=r;break}}else if(e===i||e===i.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,t)}ensureIndexVisible(e,t,o=0){if(It(this.gos,"print"))return;const{rowModel:n}=this.beans,s=n.getRowCount();if(typeof e!="number"||e<0||e>=s){ee(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:r,pageBounds:i,rowContainerHeight:l,rowRenderer:a}=this.beans;r.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),u=n.getRow(e);let d,h,p=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:f,stickyBottomHeight:m}=c,C=u.rowTop,w=u.rowHeight,v=i.getPixelOffset(),y=u.rowTop-v,D=y+u.rowHeight,A=this.getVScrollPosition(),R=l.divStretchOffset,M=A.top+R,E=A.bottom+R,V=E-M,I=l.getScrollPositionForPixel(y),P=l.getScrollPositionForPixel(D-V),L=Math.min((I+P)/2,y),T=M+f>y,F=E-m<D;let x=null;t==="top"?x=I-f:t==="bottom"?x=P+m:t==="middle"?x=L:T?x=I-f:F&&(P-I>V?x=I-f:x=P+m),x!==null&&(this.setVerticalScrollPosition(x),a.redraw({afterScroll:!0})),d=C!==u.rowTop||w!==u.rowHeight,h=f!==c.stickyTopHeight||m!==c.stickyBottomHeight,p++}while((d||h)&&p<10);if(this.animationFrameSvc?.flushAllFrames(),o<10&&(u?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const f=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const m=this.getVScrollPosition().top;f!==m&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=n.getRowCount())&&this.ensureIndexVisible(e,t,o+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:o,frameworkOverrides:n}=this.beans,s=o.getCol(e);if(!s||s.isPinned()||!this.visibleCols.isColDisplayed(s))return;const r=this.getPositionedHorizontalScroll(s,t);n.wrapIncoming(()=>{r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:o,columnAfterEnd:n}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),i=this.enableRtl;let l=(i?o:n)||s,a=i?n:o;t!=="auto"&&(l=t==="start",a=t==="end");const c=t==="middle";if(l||a||c){const{colLeft:u,colMiddle:d,colRight:h}=this.getColumnBounds(e);return c?d-r/2:l?i?h:u:i?u-r:h-r}return null}isColumnOutsideViewport(e){const{start:t,end:o}=this.getViewportBounds(),{colLeft:n,colRight:s}=this.getColumnBounds(e),r=this.enableRtl,i=r?t>s:o<s,l=r?o<n:t>n;return{columnBeforeStart:i,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,o=this.visibleCols.bodyWidth,n=e.getActualWidth(),s=e.getLeft(),r=t?-1:1,i=t?o-s:s,l=i+n*r,a=i+n/2*r;return{colLeft:i,colMiddle:a,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),o=t,n=e+t;return{start:o,end:n,width:e}}},Hu=class extends K{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=It(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:o}=this.beans,n=t.bodyWidth,s=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth();let i;e?i=n+s+r:(i=n,this.addSpacer&&(this.gos.get("enableRtl")?s:r)===0&&o.verticalScrollShowing&&(i+=o.getScrollbarWidth())),this.callback(i)}},RT=class extends K{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:o}=this,n=()=>{Sn(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(n),o.registerBodyViewportResizeListener(n)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const o=this.centerContainerCtrl.getCenterWidth();o!==this.centerWidth&&(this.centerWidth=o,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=Su(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function Vu(e,t,o,n,s,r){if(o==null&&t==null)return;const i={},l={},a=(c,u)=>{c.split(" ").forEach(d=>{d.trim()!=""&&u(d)})};if(o){const c=Object.keys(o);for(let u=0;u<c.length;u++){const d=c[u],h=o[d];let p;typeof h=="string"?p=e?e.evaluate(h,n):!0:typeof h=="function"&&(p=h(n)),a(d,f=>{p?i[f]=!0:l[f]=!0})}}t&&r&&Object.keys(t).forEach(c=>a(c,u=>{i[u]||(l[u]=!0)})),r&&Object.keys(l).forEach(r),Object.keys(i).forEach(s)}function kh(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var xT=class extends K{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const o=this.gos,n=i=>{typeof i=="string"?e.push(i):Array.isArray(i)&&i.forEach(l=>e.push(l))},s=o.get("rowClass");s&&n(s);const r=o.getCallback("getRowClass");if(r){const i={data:t.data,node:t,rowIndex:t.rowIndex},l=r(i);n(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,o=>{e.push(o)},()=>{})}processRowClassRules(e,t,o){const{gos:n,expressionSvc:s}=this.beans,r=De(n,{data:e.data,node:e,rowIndex:e.rowIndex});Vu(s,void 0,n.get("rowClassRules"),r,t,o)}processStylesFromGridOptions(e){const t=this.gos,o=t.get("rowStyle"),n=t.getCallback("getRowStyle");let s;if(n){const r={data:e.data,node:e,rowIndex:e.rowIndex};s=n(r)}if(s||o)return Object.assign({},o,s)}},PT=0,zl="renderedRow",Wl=class extends K{constructor(e,t,o,n,s){super(),this.rowNode=e,this.useAnimationFrameForCreate=n,this.printLayout=s,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+PT++,this.rowId=el(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=kh(this.rowNode),this.setRowType(),this.setAnimateFlags(o),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=el(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,o,n){const{context:s,focusSvc:r}=this.beans;n=Ri(this,s,n);const i={rowComp:e,element:t,containerType:o,compBean:n};this.allRowGuis.push(i),this.updateGui(o,i),this.initialiseRowComp(i);const l=this.rowNode,a=this.rowType==="FullWidthLoading"||l.stub,c=!l.data&&this.beans.rowModel.getType()==="infinite";!a&&!c&&!l.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const u=this.fullWidthGui?.element;u&&!this.beans.editSvc?.isEditing(this)&&r.isRowFocused(l.rowIndex,l.rowPinned)&&r.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(o=>o.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),cs(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const o=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(s=>o.toggleCss(s,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Cc(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),vs(t,e.element,zl,this),e.compBean.addDestroyFunc(()=>vs(t,e.element,zl,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=el(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(yc(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(yc(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const o=this.createBean(t,this.beans.context);this.rowDragComps.push(o),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==o),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(o,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),o=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(o)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:o,beans:{visibleCols:n}}=this,s=!!e||!n.isPinningLeft(),r=!!t,i=!!o||!n.isPinningRight();return s&&r&&i}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),o=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.colModel.isPivotMode(),s=kf(this.gos,this.rowNode,n);e?this.rowType="FullWidthLoading":o?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":s?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:o}=this.beans;if(!o?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(o.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new rr(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,o=null){const n={list:[],map:{}},s=(c,u,d)=>{d!=null?n.list.splice(d,0,u):n.list.push(u),n.map[c]=u},r=[];for(const c of t){const u=c.getInstanceId();let d=e.map[u];d&&!this.isCorrectCtrlForSpan(d)&&(d.destroy(),d=void 0),d||(d=this.getNewCellCtrl(c)),d&&s(u,d)}for(const c of e.list){const u=c.column.getInstanceId();if(n.map[u]!=null)continue;!this.isCellEligibleToBeRemoved(c,o)?r.push([u,c]):c.destroy()}if(r.length)for(const[c,u]of r){const d=n.list.findIndex(p=>p.column.getLeft()>u.column.getLeft()),h=d===-1?void 0:Math.max(d-1,0);s(c,u,h)}const{focusSvc:i,visibleCols:l}=this.beans,a=i.getFocusedCell();if(a&&a.column.getPinned()==o){const c=a.column.getInstanceId();if(!n.map[c]&&l.allCols.includes(a.column)){const d=this.createFocusedCellCtrl();if(d){const h=n.list.findIndex(f=>f.column.getLeft()>d.column.getLeft()),p=h===-1?void 0:Math.max(h-1,0);s(c,d,p)}}}return n}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,o=e.getFocusedCell();if(!o)return;const n=t?.getCellSpan(o.column,this.rowNode);if(n){if(n.firstNode!==this.rowNode||!n.doesSpanContain(o))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(o.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const o=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(o,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const o=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const s=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(e,t){const{column:s}=e;if(s.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:r,editSvc:i}=this.beans,l=i?.isEditing(e),a=e.isCellFocused();return l||a?!(r.allCols.indexOf(s)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||It(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ie(this.rowNode.oldRowTop),{visibleCols:o}=this.beans,n=o.isPinningLeft(),s=o.isPinningRight();if(t){const{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=n,r.right=s}else{const{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=n,r.right=s}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(i,l)=>i?i.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(i.element,l).params):!0,t=e(this.fullWidthGui,null),o=e(this.centerGui,null),n=e(this.leftGui,"left"),s=e(this.rightGui,"right");return t&&o&&n&&s}addListeners(){const{beans:e,gos:t,rowNode:o}=this,{expansionSvc:n,eventSvc:s,context:r,rowSpanSvc:i}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...n?.getRowExpandedListeners(this)??{}}),o.detail&&this.addManagedListeners(o.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(o,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(s,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),i&&this.addManagedListeners(i,{spannedCellsUpdated:({pinned:l})=>{l&&!o.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,r),this.tooltipFeature=this.destroyBean(this.tooltipFeature,r),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,r)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(a=>{this.addRowDraggerToRow(a)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,r)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(o=>o.refreshCell(e)),this.allRowGuis.forEach(o=>{this.setRowCompRowId(o.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(o.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",o=t==="above",n=t==="inside",s=t==="below",i=this.gos.get("treeData")&&(s||o),l=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(a=>{const c=a.rowComp;c.toggleCss("ag-row-highlight-above",o),c.toggleCss("ag-row-highlight-inside",n),c.toggleCss("ag-row-highlight-below",s),c.toggleCss("ag-row-highlight-indent",i),i?a.element.style.setProperty("--ag-row-highlight-level",l):a.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:gn(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:o,column:n}=t;if(!(o.element===e.target))return;const i=this.rowNode,{focusSvc:l,navigation:a}=this.beans,c=l.getFocusedCell(),u={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:c?.column??n};a?.navigateToNextCell(e,e.key,u,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||pn(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),o=t?t.element:null,n=o===e.target,s=gt(this.beans);let r=!1;o&&s&&(r=o.contains(s)&&s.classList.contains("ag-cell"));let i=null;!n&&!r&&(i=Ls(this.beans,o,!1,e.shiftKey)),(this.isFullWidth()&&n||!i)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>Uo(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(o=>{Jt(o.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,o=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let n;if(this.fullWidthGui)n=this.fullWidthGui.element;else{const r=this.beans.colModel.getCol(e?.column)?.pinned;r?n=r==="right"?this.rightGui?.element:this.leftGui?.element:n=this.centerGui?.element}n&&(n.classList.toggle("ag-full-width-focus",o),o&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const o={list:[],map:{}};return e.list.forEach(n=>{n!==t&&(o.list.push(n),o.map[n.column.getInstanceId()]=n)}),o}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:o}=this;return De(this.gos,{type:e,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned,event:t})}createRowEventWithSource(e,t){const o=this.createRowEvent(e,t);return o.source=this,o}onRowDblClick(e){pn(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),o=this.getColumnForFullWidth(t);if(!(!t||!o))return{rowGui:t,column:o}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=as(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:o,focusSvc:n}=this.beans;o?.removeAllCellRanges();const s=this.findFullWidthInfoForEvent(e);if(!s)return;const{rowGui:r,column:i}=s,l=r.element,a=e.target;let c=e.defaultPrevented||Ms();l&&l.contains(a)&&bu(a)&&(c=!1),n.setFocusedCell({rowIndex:t.rowIndex,column:i,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(pn(e)||this.lastMouseDownOnDragger)return;const{eventSvc:o,selectionSvc:n}=this.beans;o.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),n?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:o,rowNode:n}=this,s=De(o,{fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(i,l,a,c)=>this.addFullWidthRowDragging(i,l,a,c),setTooltip:(i,l)=>{o.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(i,l)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return _I(r,s);case"FullWidthGroup":{const{value:i,valueFormatted:l}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return s.value=i,s.valueFormatted=l,WI(r,s)}case"FullWidthLoading":return zI(r,s);default:return NI(r,s)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,o="",n){const{rowDragSvc:s,context:r}=this.beans;if(!s||!this.isFullWidth())return;const i=s.createRowDragComp(()=>o,this.rowNode,void 0,e,t,n);this.createBean(i,r),this.addDestroyFunc(()=>{this.destroyBean(i,r)})}onUiLevelChanged(){const e=kh(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(n=>{n.rowComp.toggleCss(t,!0),n.rowComp.toggleCss(o,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(o=>o.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(o=>o.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(o=>o.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,o=>o.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),o=this.isFullWidth(),{rowNode:n,beans:s}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(n.rowIndex%2===0?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&(r.push("ag-row-pinned"),s.pinnedRowModel?.isManual()&&r.push("ag-row-pinned-manual")),!n.isRowPinned()&&n.pinnedSibling&&r.push("ag-row-pinned-source"),n.isSelected()&&r.push("ag-row-selected"),n.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),n.stub&&r.push("ag-row-loading"),o&&r.push("ag-full-width-row"),s.expansionSvc?.addExpandedCss(r,n),n.dragging&&r.push("ag-row-dragging");const{rowStyleSvc:i}=s;return i&&(i.processClassesFromGridOptions(r,n),i.preProcessRowClassRules(r,n)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),o&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:o}=e,{rowNode:n,beans:s,gos:r}=this;o.addManagedListeners(t,{pointerenter:i=>{i.pointerType==="mouse"&&n.dispatchRowEvent("mouseEnter")},pointerleave:i=>{i.pointerType==="mouse"&&n.dispatchRowEvent("mouseLeave")}}),o.addManagedListeners(n,{mouseEnter:()=>{!s.dragSvc?.dragging&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(o=>o.element);for(const o of t)o.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),o=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(o,e),n)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),s=Pf(this.gos)?Bn(this.beans,this.rowNode).height:void 0,r=s?`${Math.min(o,s)-2}px`:void 0;this.forEachGui(e,i=>{i.element.style.height=`${t}px`,r&&i.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&er(this.gos)&&!t.sticky)if(t.rowTop!=null){const s=this.roundRowTopToBounds(t.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(gt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const o=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(o),this.beans.eventSvc.dispatchEvent(o),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(o=>o.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const o=this.beans.pageBounds.getPixelOffset();return e+o*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ie(e)){const t=this.applyPaginationOffset(e),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(s)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let o;if(t.sticky)o=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,s=this.applyPaginationOffset(n);o=t.isRowPinned()?s:this.beans.rowContainerHeight.getRealPixelPosition(s)}return o+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let o=null;return this.getAllCellCtrls().forEach(n=>{n.column==e&&(o=n)}),o!=null||t||this.getAllCellCtrls().forEach(n=>{n?.getColSpanningList().indexOf(e)>=0&&(o=n)}),o}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const o=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,s=o+this.rowNode.rowIndex+1;this.forEachGui(e,r=>{r.rowComp.setRowIndex(t),r.rowComp.toggleCss("ag-row-even",n),r.rowComp.toggleCss("ag-row-odd",!n),rf(r.element,s)})}};function Dm(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function Gc(e,t,o,n,s){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const i=De(e,{event:t,editing:s,column:n,node:o,data:o.data,colDef:n.getColDef()});return!!(r&&r(i))}function FT(e){const{pinnedRowModel:t,rowModel:o}=e,[n,s]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],r=n?null:"top";let i,l;s?(i=null,l=o.getRowCount()-1):(i="bottom",l=t?.getPinnedBottomRowCount()??-1);const{visibleCols:a,rangeSvc:c}=e,u=a.allCols;!c||!u?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:l,rowEndPinned:i})}var ET=65,DT=67,MT=86,IT=68,TT=90,kT=89;function AT(e){const{keyCode:t}=e;let o;switch(t){case ET:o=U.A;break;case DT:o=U.C;break;case MT:o=U.V;break;case IT:o=U.D;break;case TT:o=U.Z;break;case kT:o=U.Y;break;default:o=e.code}return o}var LT=class extends K{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Hf("touchstart")?"touchstart":"mousedown"].forEach(o=>{const n=this.processMouseEvent.bind(this,o);this.addManagedElementListeners(this.element,{[o]:n})})}processMouseEvent(e,t){if(!hi(this.gos,t)||pn(t))return;const{cellCtrl:o,rowCtrl:n}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(o?.column&&o.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,n,o)):(o&&o.onMouseEvent(e,t),n&&n.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:vm(t,e),rowCtrl:Vf(t,e,zl)}}processKeyboardEvent(e,t){const{cellCtrl:o,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,t):n?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,o){const n=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!Gc(this.gos,o,e.rowNode,e.column,n)&&t==="keydown"&&(!n&&this.beans.navigation?.handlePageScrollingKey(o)||e.onKeyDown(o),this.doGridOperations(o,n),Dm(o)&&e.processCharacter(o)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(o,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,o){const{rowNode:n}=e,{focusSvc:s,navigation:r}=this.beans,l=s.getFocusedCell()?.column;if(!Gc(this.gos,o,n,l,!1)){const c=o.key;if(t==="keydown")switch(c){case U.PAGE_HOME:case U.PAGE_END:case U.PAGE_UP:case U.PAGE_DOWN:r?.handlePageScrollingKey(o,!0);break;case U.LEFT:case U.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case U.UP:case U.DOWN:e.onKeyboardNavigate(o);break;case U.TAB:e.onTabKeyDown(o);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",o))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!hi(this.gos,e))return;const o=AT(e),{clipboardSvc:n,undoRedo:s}=this.beans;if(o===U.A)return this.onCtrlAndA(e);if(o===U.C)return this.onCtrlAndC(n,e);if(o===U.D)return this.onCtrlAndD(n,e);if(o===U.V)return this.onCtrlAndV(n,e);if(o===U.X)return this.onCtrlAndX(n,e);if(o===U.Y)return this.onCtrlAndY(s);if(o===U.Z)return this.onCtrlAndZ(s,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:o,selectionSvc:n},gos:s}=this;o&&Nn(s)&&t.isRowsToRender()?FT(this.beans):n&&n?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:Lf(s)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:o}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(o,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:o}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(o,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:o}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(o,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},Mm=class extends K{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,o=t!=null?`${t}px`:"";this.eContainer.style.height=o,this.eViewport&&(this.eViewport.style.height=o)}},Hi=e=>e.topRowCtrls,Vi=e=>e.getStickyTopRowCtrls(),Bi=e=>e.getStickyBottomRowCtrls(),Ni=e=>e.bottomRowCtrls,zi=e=>e.allRowCtrls,Ga=e=>e.getCtrls("top"),Ha=e=>e.getCtrls("center"),Va=e=>e.getCtrls("bottom"),OT={center:{type:"center",name:"center-cols",getRowCtrls:zi,getSpannedRowCtrls:Ha},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:zi,getSpannedRowCtrls:Ha},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:zi,getSpannedRowCtrls:Ha},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:zi},topCenter:{type:"center",name:"floating-top",getRowCtrls:Hi,getSpannedRowCtrls:Ga},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Hi,getSpannedRowCtrls:Ga},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Hi,getSpannedRowCtrls:Ga},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Hi},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Vi},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Vi},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Vi},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Vi},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Bi},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Bi},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Bi},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Bi},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Ni,getSpannedRowCtrls:Va},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Ni,getSpannedRowCtrls:Va},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Ni,getSpannedRowCtrls:Va},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Ni}};function Im(e){return`ag-${Fi(e).name}-viewport`}function il(e){const t=Fi(e);return t.container??`ag-${t.name}-container`}function GT(e){return`ag-${Fi(e).name}-spanned-cells-container`}function Fi(e){return OT[e]}var HT=["topCenter","topLeft","topRight"],VT=["bottomCenter","bottomLeft","bottomRight"],BT=["center","left","right"],NT=["center","left","right","fullWidth"],zT=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],WT=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],_T=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],Tm=["stickyTopCenter","stickyTopLeft","stickyTopRight"],km=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],$T=[...Tm,"stickyTopFullWidth",...km,"stickyBottomFullWidth"],UT=[...HT,...VT,...BT,...Tm,...km],jT=class extends K{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Fi(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new RT(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,o,n){this.comp=e,this.eContainer=t,this.eSpannedContainer=o,this.eViewport=n,this.createManagedBean(new LT(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:s,rangeSvc:r}=this.beans,i=()=>this.onPinnedWidthChanged();this.forContainers(WT,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:i})}),this.forContainers(_T,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(s?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:i})}),this.forContainers(NT,()=>this.createManagedBean(new Mm(this.eContainer,this.name==="center"?n:void 0))),r&&this.forContainers(UT,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(zT,()=>this.createManagedBean(new Hu(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,o=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:o,displayedColumnsWidthChanged:o,displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),o(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if($T.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const o=this.gos.get("ensureDomOrder"),n=It(this.gos,"print");this.comp.setDomOrder(o||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=o=>{e.dragging&&o.cancelable&&o.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),o=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,o,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return li(this.eViewport)}getCenterViewportScrollLeft(){return Rl(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=bn(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return ff(this.eViewport)}getViewportScrollLeft(){return Rl(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||mf(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){xl(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const o=It(this.gos,"print"),s=this.gos.get("embedFullWidthRows")||o,r=t.filter(i=>{const l=i.isFullWidth();return this.options.fullWidth?!s&&l:s||!l});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},KT="ag-force-vertical-scroll",qT="ag-selectable",YT="ag-column-moving",QT=class extends K{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,o,n,s,r,i){this.comp=e,this.eGridBody=t,this.eBodyViewport=o,this.eTop=n,this.eBottom=s,this.eStickyTop=r,this.eStickyBottom=i,this.eCenterColsViewport=o.querySelector(`.${Im("center")}`),this.eFullWidthContainer=o.querySelector(`.${il("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${il("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=i.querySelector(`.${il("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Gu(this.comp)),this.scrollFeature=this.createManagedBean(new yT(o)),this.beans.rowDragSvc?.setupRowDrag(o,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,o,s,r,i]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(n),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),o=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:o,rowResizeEnded:o}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const o=t&&e.getScrollbarWidth()||0,n=df()?16:0,s=`calc(100% + ${o+n}px)`;Sn(this.beans,()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let o=this.gos.get("treeData");if(!o){const n=t.isPivotMode();o=(e?e.columns.length:0)>=(n?2:1)}this.comp.setGridRootRole(o?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:o=>{const{target:n}=o,s=as(n,"ag-root",t);t.classList.toggle("ag-has-focus",!s)},focusout:o=>{const{target:n,relatedTarget:s}=o,r=t.contains(s),i=as(s,"ag-root",t);as(n,"ag-root",t)||(!r||i)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(YT,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(qT,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,o=t.isLastRowIndexKnown()?t.getRowCount():-1,n=o===-1?-1:e+o;this.comp.setRowCount(n)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?KT:null,o=It(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||o&&Cf(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let o=t.sizesMeasured;const n=()=>{const s=o&&er(this.gos)&&!e.stretching,r=s?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,s)};n(),this.addManagedEventListeners({heightScaleChanged:n}),this.addManagedPropertyListener("animateRows",n),this.addManagedEventListeners({gridStylesChanged:()=>{!o&&t.sizesMeasured&&(o=!0,n())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:o,eTop:n,eBottom:s,beans:{popupSvc:r,touchSvc:i}}=this,l=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:l}),i?.mockBodyContextMenu(this,l),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,r)});const a=this.onStickyWheel.bind(this);for(const u of[t,o,n,s])this.addManagedElementListeners(u,{wheel:a});const c=this.onHorizontalWheel.bind(this);for(const u of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(u).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:o,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(o))&&hi(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:o,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(o))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:o}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||o})}onBodyViewportContextMenu(e,t,o){if(!e&&!o)return;this.gos.get("preventDefaultOnContextMenu")&&(e||o).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:o,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,o=e?.getPinnedTopTotalHeight(),n=e?.getPinnedBottomTotalHeight(),s=t.getPinnedRowBorderWidth(),r=t.getRowBorderWidth(),i=s-r,l=o?i+o:0,a=n?i+n:0;this.comp.setTopHeight(l),this.comp.setBottomHeight(a),this.comp.setTopInvisible(l<=0),this.comp.setBottomInvisible(a<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),o=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let n=0;t>0&&(n+=t),o>0&&(n+=o),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:o}=this,n=e?.getPinnedBottomTotalHeight()??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,i=n+r;o.setStickyBottomBottom(`${i}px`)}},Am=class extends nt{constructor(e,t){super(),this.direction=t,this.eViewport=Fe,this.eContainer=Fe,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",cf()||ls())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=df(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),o=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:o,touchend:o})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Sn(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;gM(()=>Uo(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},ZT={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},XT=class extends Am{constructor(){super(ZT,"horizontal"),this.eLeftSpacer=Fe,this.eRightSpacer=Fe,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new Hu(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const o=!this.enableRtl&&e,n=this.scrollVisibleSvc.getScrollbarWidth();o&&(t+=n),Wo(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let s=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(s+=n),Wo(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=n)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,o=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=o?0:n===0&&t?16:n,i=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Kr(this.getGui(),r),Kr(this.eViewport,r),Kr(this.eContainer,r),r||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(i,100):i()}getScrollPosition(){return Rl(this.eViewport,this.enableRtl)}setScrollPosition(e){Uo(this.eViewport)||this.attemptSettingScrollPosition(e),xl(this.eViewport,e,this.enableRtl)}},JT={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},ek=class extends Am{constructor(){super(JT,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Mm(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,o=this.invisibleScrollbar,n=t&&e.getScrollbarWidth()||0,s=n===0&&o?16:n;this.toggleCss("ag-scrollbar-invisible",o),Wo(this.getGui(),s),Wo(this.eViewport,s),Wo(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const o=e.getGridBodyCtrl().eBodyViewport,n=this.getScrollPosition(),s=o.scrollTop;n!=s&&this.setScrollPosition(s,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Uo(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function Vo(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function Bu(e){const t=[],o=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const n of o){if(!n)continue;const s=n.getGroupRowCount()||0;for(let r=0;r<s;r++){const i=n.getGroupRowCtrlAtIndex(r),l=t[r];if(i){const a=tk(e,i);(l==null||a>l)&&(t[r]=a)}}}return t}function tk(e,t){let n=e.colModel.isPivotMode()?nk(e):Om(e);const s=t.getHeaderCellCtrls();for(const r of s){const{column:i}=r,l=i.getAutoHeaderHeight();l!=null&&l>n&&i.isAutoHeaderHeight()&&(n=l)}return n}function Nu(e){let o=e.colModel.isPivotMode()?ok(e):Ei(e);return e.colModel.forAllCols(n=>{const s=n.getAutoHeaderHeight();s!=null&&s>o&&n.isAutoHeaderHeight()&&(o=s)}),o}function Ei(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function Lm(e){return e.gos.get("floatingFiltersHeight")??Ei(e)}function Om(e){return e.gos.get("groupHeaderHeight")??Ei(e)}function ok(e){return e.gos.get("pivotHeaderHeight")??Ei(e)}function nk(e){return e.gos.get("pivotGroupHeaderHeight")??Om(e)}var sk=class extends K{setComp(e,t,o){this.comp=e,this.eGui=t;const{beans:n}=this,{headerNavigation:s,touchSvc:r,ctrlsSvc:i}=n;s&&this.createManagedBean(new Fr(o,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,n),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,n)}),this.onPivotModeChanged(n),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),r?.mockHeaderContextMenu(this,l),i.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Sn(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const o=Bu(e).reduce((r,i)=>r+i,0),n=Nu(e);if(e.filterManager?.hasFloatingFilters()&&(t+=Lm(e)),t+=o,t+=n,this.headerHeight===t)return;this.headerHeight=t;const s=`${t+1}px`;this.comp.setHeightAndMinHeight(s),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const o=e.visibleCols.allCols.some(n=>n.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",o)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),o=e.shiftKey,n=o!==t?"LEFT":"RIGHT",{beans:s}=this,{headerNavigation:r,focusSvc:i}=s;(r.navigateHorizontally(n,!0,e)||!o&&i.focusOverlay(!1)||mr(s,o,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:o}=this.beans;switch(e.key){case U.LEFT:t="LEFT";case U.RIGHT:{ie(t)||(t="RIGHT"),o.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case U.UP:t="UP";case U.DOWN:{ie(t)||(t="DOWN"),o.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:o,beans:n}=this;!t&&o.contains(gt(n))||o.contains(t)||(n.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,o){const{menuSvc:n,ctrlsSvc:s}=this.beans;if(!e&&!o||!n?.isHeaderContextMenuEnabled())return;const{target:r}=e??t;(r===this.eGui||r===s.getHeaderRowContainerCtrl()?.eViewport)&&n.showHeaderContextMenu(void 0,e,o)}},zu=class extends K{constructor(e,t,o,n){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=n,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=o}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Je(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,o=e.get("suppressColumnMoveAnimation"),n=ie(this.columnOrGroup.getOldLeft());t?.isActive()&&n&&!o?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),o=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=o,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===o&&this.setLeft(o)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:o,visibleCols:n}=this.beans;if(!It(o,"print")||e.getPinned()==="left")return t;const r=n.getColsLeftWidth();if(e.getPinned()==="right"){const i=n.bodyWidth;return r+i+t}return r+t}setLeft(e){if(ie(e)&&(this.eCell.style.left=`${e}px`),ft(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&oM(this.ariaEl,t.length)}}},rk=0,Gm="headerCtrl",Wu=class extends K{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+rk++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:o}=this.beans.focusSvc.focusedHeader,n=o.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;if(!ie(s))return!1;const r=De(this.gos,{colDef:n,column:o,headerRowIndex:t,event:e});return!!s(r)}getWrapperHasFocus(){return gt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let o;if(typeof t=="function"){const n=this.getHeaderClassParams();o=t(n)}else o=t;o&&this.comp.setUserStyles(o)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:o,compBean:n}=e,{beans:s}=this,r=d=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:f,borderTopWidth:m}=Is(this.eGui),C=h+p+f+m,v=t.offsetHeight+C;if(d<5){const y=xt(s),D=!y||!y.contains(t),A=v==0;if(D||A){yc(()=>r(d+1),"raf",s);return}}this.setColHeaderHeight(this.column,v)};let i=!1,l;const a=()=>{const d=this.column.isAutoHeaderHeight();d&&!i&&c(),!d&&i&&u()},c=()=>{i=!0,r(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),l=bn(this.beans,t,()=>r(0))},u=()=>{i=!1,l&&l(),this.comp.toggleCss("ag-header-cell-auto-height",!1),l=void 0};a(),n.addDestroyFunc(()=>u()),n.addManagedListeners(this.column,{widthChanged:()=>i&&r(0)}),n.addManagedEventListeners({sortChanged:()=>{i&&window.setTimeout(()=>r(0))}}),o&&o(a)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:o,eGui:n}=this;!e||!t||!n||(mm(e,t,o.visibleCols),lf(n,o.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=hs(this.beans);this.eGui&&Jt(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=gt(this.beans),o=e.key===U.LEFT||e.key===U.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||o)&&(e.preventDefault(),e.stopImmediatePropagation()),!o))return;const s=e.key===U.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(s)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:o}=this.beans;return o?o.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:o}=this;let n=e.key===U.LEFT!==t.get("enableRtl");const s=o.getPinned(),r=t.get("enableRtl");return s&&r!==(s==="right")&&(n=!n),(n?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case U.PAGE_DOWN:case U.PAGE_UP:case U.PAGE_HOME:case U.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=Gm,{eGui:o,gos:n}=this;vs(n,o,t,this),e.addDestroyFunc(()=>vs(n,o,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,o){const n=e??t,{menuSvc:s,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&n.preventDefault(),s?.isHeaderContextMenuEnabled(o)&&s.showHeaderContextMenu(o,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",o)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:o}=this;e.isColumn?o.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):o.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},ik=class extends Wu{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,o,n,s){this.comp=e;const{rowCtrl:r,column:i,beans:l}=this,{colResize:a,context:c,colHover:u,rangeSvc:d}=l,h=Ri(this,c,s);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:f=>this.setRefreshFunction("measuring",f),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),a?this.resizeFeature=h.createManagedBean(a.createResizeFeature(r.pinned,i,o,e,this)):ht(o,!1),u?.createHoverFeature(h,[i],t),d?.createRangeHighlightFeature(h,i,e),h.createManagedBean(new zu(i,t,l)),h.createManagedBean(new Fr(t,{shouldStopEventPropagation:f=>this.shouldStopEventPropagation(f),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(i,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(i,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const p=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,o=e.colDef;return De(t.gos,{colDef:o,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return GI(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:o,gos:n}=this.beans;return De(n,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!o&&(!this.openFilterEnabled||eo(this.gos)),showColumnMenu:(r,i)=>{e?.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:i})},showColumnMenuAfterMouseClick:(r,i)=>{e?.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:i})},showFilter:r=>{e?.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t?.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,i)=>{t?.setSortForColumn(this.column,r,!!i,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,i)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,i)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const o=t.createSelectAllFeature(this.column);o&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(o),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!o&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===U.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===U.ENTER&&this.onEnterKeyDown(e),e.key===U.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const o=this.comp.getUserCompInstance();Ah(o)&&o.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),T0()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),o=fm(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(o),o.forEach(s=>{n.has(s)?n.delete(s):this.comp.toggleCss(s,!0)}),n.forEach(s=>this.comp.toggleCss(s,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const o=this.column.getActualWidth();this.comp.setWidth(`${o}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const o=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",o),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,o=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",o)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:o,beans:n}=this,s=Bu(this.beans),r=s.reduce((h,p)=>h+=p,0)===0;if(o.toggleCss("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),o.toggleCss("ag-header-span-height",!1),o.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:i,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();o.toggleCss("ag-header-span-height",i>0);const a=Nu(n);if(i===0){o.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}o.toggleCss("ag-header-span-total",l);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,u=s.length-c;let d=0;for(let h=0;h<u;h++)d+=s[s.length-1-h];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${a+d}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(UD(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!eo(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(gt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,o)=>t==="filter"?-1:o.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),o=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:o,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return Ah(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function Ah(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var lk=0,Ba=class extends K{constructor(e,t,o){super(),this.rowIndex=e,this.pinned=t,this.type=o,this.instanceId=lk++,this.comp=null,this.allCtrls=[];let n="ag-header-row-column";o==="group"?n="ag-header-row-group":o==="filter"&&(n="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${n}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=It(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,o=!0){this.comp=e,t=Ri(this,this.beans.context,t),o&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),o=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:o,virtualColumnsChanged:n=>this.onVirtualColumnsChanged(n.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",o),e.addManagedPropertyListener("ensureDomOrder",n=>this.isEnsureDomOrder=n.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=It(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=Bu(this.beans);for(let s=0;s<t.length;s++){if(s===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[s]};e+=t[s]}const o=Nu(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:o};e+=o;const n=Lm(this.beans);return{topOffset:e,rowHeight:n}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),o=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,o,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,this.ctrlsById,e);const o=n=>{const{focusSvc:s,visibleCols:r}=this.beans;return s.isHeaderWrapperFocused(n)?r.isVisible(n.column):!1};if(e)for(const[n,s]of e)o(s)?this.ctrlsById.set(n,s):this.destroyBean(s);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,o){if(e.isEmptyGroup())return;const n=e.getUniqueId();let s;if(o&&(s=o.get(n),o.delete(n)),s&&s.column!=e&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":s=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:s=this.createBean(new ik(e,this));break}t.set(n,s)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const o=this.allCtrls.find(s=>s.column==e);return o?o.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},ak=class extends K{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:o,ctrlsSvc:n,colModel:s,colMoves:r}=this.beans;this.setupCenterWidth(),o?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);const i=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;n.register(l,this),s.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:o,visibleCols:n}=this.beans;let s=0;const r=t.getFocusHeaderToUseAfterRefresh(),i=()=>{const d=n.headerGroupRowCount;s=d;const h=this.groupsRowCtrls.length;if(h!==d){if(h>d){for(let p=d;p<h;p++)this.destroyBean(this.groupsRowCtrls[p]);this.groupsRowCtrls.length=d;return}for(let p=h;p<d;p++){const f=this.createBean(new Ba(p,this.pinned,"group"));this.groupsRowCtrls.push(f)}}},l=()=>{const d=s++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new Ba(d,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==d&&this.columnsRowCtrl.setRowIndex(d)},a=()=>{this.includeFloatingFilter=!!o?.hasFloatingFilters()&&!this.hidden;const d=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){d();return}e||d();const h=s++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==h&&this.filtersRowCtrl.setRowIndex(h):this.filtersRowCtrl=this.createBean(new Ba(h,this.pinned,"filter"))},c=this.getAllCtrls();i(),l(),a();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,r),c.length!==u.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=o=>o?.getHeaderCellCtrls().find(n=>n.column===e);if(zn(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let o=0;o<this.groupsRowCtrls.length;o++){const n=t(this.groupsRowCtrls[o]);if(n)return n}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,o){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,o):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const o=e?.createBodyDropTarget(this.pinned,t);o&&this.createManagedBean(o)}restoreFocusOnHeader(e,t){if(!t)return;const{column:o}=t;o.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Hu(e=>this.comp.setCenterWidth(`${e}px`),!0))}},ck=class extends K{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(Oh(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,o){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,o)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){Oh(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(eo(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&zn(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(ls()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!eo(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!eo(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return eo(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,o,n){const{positionBy:s,onClosedCallback:r}=t,i=t.column;if(s==="button"){const{buttonElement:l}=t;e?.showMenuAfterButtonClick(i,l,o,r,n)}else if(s==="mouse"){const{mouseEvent:l}=t;e?.showMenuAfterMouseEvent(i,l,o,r,n)}else if(i){const l=this.beans,a=l.ctrlsSvc;a.getScrollFeature().ensureColumnVisible(i,"auto"),Sn(l,()=>{const c=a.getHeaderRowContainerCtrl(i.getPinned())?.getHeaderCtrlForColumn(i);c&&e?.showMenuAfterButtonClick(i,c.getAnchorElementForMenu(n),o,r,n)})}}};function Lh(e,t,o){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",o))}function Oh(e){const{enterpriseMenuFactory:t,filterMenuFactory:o,gos:n}=e;return t&&eo(n)?t:o}var _u=class extends nt{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},aa=class extends _u{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},Hm=class extends nt{constructor(){super()}},uk={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},dk=class extends Hm{init(){const e=gn(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??uk),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},hk={tag:"span",cls:"ag-overlay-no-rows-center"},gk=class extends Hm{init(){const e=gn(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??hk),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function pk(e,t,o){const n=po(e,t,o);if(n){const{className:r}=n;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}const s=Ct({tag:"span"});return s.appendChild(n),s}function po(e,t,o){let n=null;e==="smallDown"?ee(262):e==="smallLeft"?ee(263):e==="smallRight"&&ee(264);const s=o&&o.getColDef().icons;if(s&&(n=s[e]),t.gos&&!n){const r=t.gos.get("icons");r&&(n=r[e])}if(n){let r;if(typeof n=="function")r=n();else if(typeof n=="string")r=n;else{ee(38,{iconName:e});return}if(typeof r=="string")return yu(r);if(xu(r))return r;ee(133,{iconName:e});return}else{const r=t.registry.getIcon(e);return r||t.validation?.validateIcon(e),Ct({tag:"span",cls:`ag-icon ag-icon-${r??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var fk=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",mk={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Ck=class extends nt{constructor(){super(),this.dragSource=null,this.eIcon=Fe,this.eLabel=Fe,this.eGhost=Fe,this.registerCSS(fk)}postConstruct(){const e=t=>pk(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(mk),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:o,dragSource:n,dropIconMap:s,gos:r}=this;oo(o);let i=null;e||(e=n?.getDefaultIconName?n.getDefaultIconName():"notAllowed"),i=s[e],o.classList.toggle("ag-shake-left-to-right",t),!(i===s.hide&&r.get("suppressDragLeaveHidesColumns"))&&i&&o.appendChild(i)}setLabel(e){this.eLabel.textContent=e}},wk=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",vk=class extends nt{constructor(e,t,o){super(t,o),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(wk)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:o,labelAlignment:n,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;oo(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(ht(t,!1),Cs(t,"presentation")):(ht(t,!0),Cs(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const o=this.getGui().classList;return o.toggle("ag-label-align-left",e==="left"),o.toggle("ag-label-align-right",e==="right"),o.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Pl(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return ii(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Vm=class extends vk{constructor(e,t,o,n){super(e,t,o),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:o}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),o!=null&&this.onValueChange(o),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),o=this.getLabel();o==null||o==""||jD(e)!==null?ri(e,""):ri(e,t??"")}setAriaLabel(e){return hr(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Wo(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function bk(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var ts=class extends Vm{constructor(e,t,o="text",n="input"){super(e,e?.template??bk(n),[],t),this.inputType=o,this.displayFieldTag=n,this.eLabel=Fe,this.eWrapper=Fe,this.eInput=Fe}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:o,className:n}=this;e.classList.add(`${n}-label`),t.classList.add(`${n}-input-wrapper`),o.classList.add(`${n}-input`),this.addCss("ag-input-field"),o.id=o.id||`ag-${this.getCompId()}-input`;const{inputName:s,inputWidth:r}=this.config;s!=null&&this.setInputName(s),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([o])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,Jt(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return Pl(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Jt(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return hr(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return ii(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Jt(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Jt(this.eInput,"autocomplete",t)}return this}},$u=class extends ts{constructor(e,t="ag-checkbox",o="checkbox"){super(e,t,o),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const o=this.eInput;o.checked=e,o.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,o){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:o});const n=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),o=this.selected=e.target.checked;this.refreshSelectedClass(o),this.dispatchChange(o,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},Uu={selector:"AG-CHECKBOX",component:$u},Sk=".ag-checkbox-cell{height:100%}",yk={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Rk=class extends nt{constructor(){super(yk,[Uu]),this.eCheckbox=Fe,this.registerCSS(Sk)}init(e){this.refresh(e);const{eCheckbox:t,beans:o}=this,n=t.getInputElement();n.setAttribute("tabindex","-1"),nf(n,"polite"),this.addManagedListeners(n,{click:s=>{if(bs(s),t.isDisabled())return;const r=t.getValue();this.onCheckboxChanged(r)},dblclick:s=>{bs(s)}}),this.addManagedElementListeners(e.eGridCell,{keydown:s=>{if(s.key===U.SPACE&&!t.isDisabled()){e.eGridCell===gt(o)&&t.toggle();const r=t.getValue();this.onCheckboxChanged(r),s.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,o=!0;const{value:n,column:s,node:r}=e;if(r.group&&s)if(typeof n=="boolean")t=n;else{const d=s.getColId();d.startsWith(ra)?t=n==null||n===""?void 0:n==="true":r.aggData&&r.aggData[d]!==void 0?t=n??void 0:o=!1}else t=n??void 0;const{eCheckbox:i}=this;if(!o){i.setDisplayed(!1);return}i.setValue(t);const l=e.disabled??!s?.isCellEditable(r);i.setDisabled(l);const a=this.getLocaleTextFunc(),c=sa(a,t),u=l?c:`${a("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;i.setInputAriaLabel(u)}onCheckboxChanged(e){const{params:t}=this,{column:o,node:n,value:s}=t;this.beans?.editSvc?.setEditingCells([{column:o,colId:o.getColId(),rowIndex:n.rowIndex,rowPinned:n.rowPinned,state:"changed",oldValue:s,newValue:s}],{update:!0});const r=n.setDataValue(o,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:n,column:o},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),r||this.updateCheckbox(t)}},Gh=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:o,order:n}=this;t.has(e)||(t.add(e),o.add(e),n.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),mo(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:o,queued:n}=this;e.clear(),n.clear(),t.clear(),o.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:o}=this.beans,n=e?.getSortOptions()??[],s=Fk(this.order);if(this.order.sort((i,l)=>(i.pinnedSibling?.rowIndex??0)-(l.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,n)??this.order,!s)return;const r=If(o);r==="bottom"||r==="pinnedBottom"?this.order.push(s):this.order.unshift(s)}hide(e){const{all:t,visible:o}=this;t.forEach(n=>e(n)?o.delete(n):o.add(n)),this.order=Array.from(o),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function Bm(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(o=>o==e)?Bm(t):!1}function Na(e,t){const{gos:o,rowModel:n,filterManager:s}=e;return Ts(o)?!n.getRowNode(t.id):s?.isAnyFilterPresent()?!Bm(t):o.get("pivotMode")?!t.group:!1}function xk(e){return!!e.footer&&e.level===-1}function Pk(e){return!!e.pinnedSibling&&xk(e.pinnedSibling)}function Fk(e){const t=e.findIndex(Pk);if(t>-1)return e.splice(t,1)?.[0]}var Hh=class extends K{postConstruct(){const{gos:e,beans:t}=this;this.top=new Gh(t,"top"),this.bottom=new Gh(t,"bottom");const o=s=>Na(t,s.pinnedSibling),n=()=>{const s=e.get("isRowPinned");s&&e.get("enableRowPinning")&&t.rowModel.forEachNode(r=>this.pinRow(r,s(r)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:s})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(r=>r.hide(o)),this.refreshRowPositions(),s||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(Dk),this.refreshRowPositions()},rowNodeDataChanged:({node:s})=>{(e.get("isRowPinnable")?.(s)??!0)||this.pinRow(s,null)},firstDataRendered:n}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(s=>s.hide(o)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:s})=>{this._grandTotalPinned=s==="pinnedBottom"?"bottom":s==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",n)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const o=[];t.forEach(n=>o.push(n)),o.forEach(n=>this.pinRow(n,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,o){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,Ik(this.beans);return}const n=e.rowPinned??e.pinnedSibling?.rowPinned;if(n!=null&&t!=null&&t!=n){const i=e.rowPinned?e:e.pinnedSibling,l=e.rowPinned?e.pinnedSibling:e;this.pinRow(i,null,o),this.pinRow(l,t,o);return}const r=o&&Mk(this.beans,e,o);if(r){r.forEach(i=>this.pinRow(i,t));return}if(t==null){const i=e.rowPinned?e:e.pinnedSibling,l=this.findPinnedRowNode(i);if(!l)return;l.delete(i);const a=i.pinnedSibling;za(i),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(a)}else{const i=Vh(this.beans,e,t),l=this.getContainer(t);l.add(i),Na(this.beans,e)&&l.hide(a=>Na(this.beans,a.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const o=n=>{if(n.rowHeightEstimated){const s=Bn(this.beans,n);n.setRowTop(t),n.setRowHeight(s.height),t+=s.height,e=!0}};return this.bottom.forEach(o),t=0,this.top.forEach(o),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return Bh(this.top)}getPinnedBottomTotalHeight(){return Bh(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const o=[];return this.forEachPinnedRow(t,n=>o.push(n.pinnedSibling.id)),o};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,o)=>{for(const n of e[o]){const s=this.beans.rowModel.getRowNode(n);s?this.pinRow(s,o):t.queue(n)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const o=new Set;e.forEachQueued(n=>{const s=this.beans.rowModel.getRowNode(n);s&&o.add(s)});for(const n of o)e.unqueue(n.id),this.pinRow(n,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:o}=this,n=t.rowModel;if(!vt(e))return;const s=n.rootNode?.sibling;if(!s)return;const r=s.pinnedSibling,i=r&&this.findPinnedRowNode(r);if(o){if(i&&i.floating!==o&&(i.delete(r),za(r)),!i||i.floating!==o){const l=Vh(t,s,o);this.getContainer(o).add(l)}}else{if(!i)return;i.delete(r),za(r)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(o=>o.setRowHeight(o.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=o=>Ek(this.beans,o);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function Ek(e,t){let o=0;t.forEach((n,s)=>{n.setRowTop(o),(n.rowHeightEstimated||n.rowHeight==null)&&n.setRowHeight(Bn(e,n).height),n.setRowIndex(s),o+=n.rowHeight})}function Vh(e,t,o){if(t.pinnedSibling)return t.pinnedSibling;const n=eT(t,e);n.setRowTop(null),n.setRowIndex(null),n.rowPinned=o;const s=o==="top"?ku:Au;return n.id=`${s}${o}-${t.id}`,n.pinnedSibling=t,t.pinnedSibling=n,n}function za(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function Dk(e){const t=new Set;e.forEach(o=>{o.group&&t.add(o)}),t.forEach(o=>e.delete(o))}function Mk(e,t,o){const{rowSpanSvc:n}=e,s=(o&&n?.isCellSpanning(o,t))??!1;if(o&&s)return n?.getCellSpan(o,t)?.spannedNodes}function Bh(e){const t=e.size();if(t===0)return 0;const o=e.getByIndex(t-1);return o===void 0?0:o.rowTop+o.rowHeight}function Ik({gos:e,rowModel:t}){vt(e)&&t.refreshModel({step:"map"})}var Nh=class extends K{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=o=>{o.setRowHeight(o.rowHeight,!0)};Gr(this.pinnedBottomRows,t),Gr(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const o=n=>{if(n.rowHeightEstimated){const s=Bn(this.beans,n);n.setRowTop(t),n.setRowHeight(s.height),t+=s.height,e=!0}};return Gr(this.pinnedBottomRows,o),t=0,Gr(this.pinnedTopRows,o),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const o=this.getCache(t);if(e===void 0){o.order.length=0,o.cache={};return}const n=gr(this.gos),s=t==="top"?ku:Au,r=new Set(o.order),i=[],l=new Set;let a=0,c=-1;for(const u of e){const d=n?.({data:u,level:0,rowPinned:t})??s+this.nextId++;if(l.has(d)){ee(96,{id:d,data:u});continue}c++,l.add(d),i.push(d);const h=Yr(o,d);if(h!==void 0)h.data!==u&&h.updateData(u),a+=this.setRowTopAndRowIndex(h,a,c),r.delete(d);else{const p=new Rs(this.beans);p.id=d,p.data=u,p.rowPinned=t,a+=this.setRowTopAndRowIndex(p,a,c),o.cache[d]=p,o.order.push(d)}}r.forEach(u=>{Yr(o,u)?.clearRowTopAndRowIndex(),delete o.cache[u]}),o.order=i}setRowTopAndRowIndex(e,t,o){return e.setRowTop(t),e.setRowHeight(Bn(this.beans,e).height),e.setRowIndex(o),e.rowHeight}getPinnedTopTotalHeight(){return zh(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return zh(this.pinnedBottomRows)}getPinnedTopRowCount(){return Vc(this.pinnedTopRows)}getPinnedBottomRowCount(){return Vc(this.pinnedBottomRows)}getPinnedTopRow(e){return Hc(this.pinnedTopRows,e)}getPinnedBottomRow(e){return Hc(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Yr(this.getCache(t),e)}forEachPinnedRow(e,t){return Gr(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function zh(e){const t=Vc(e);if(t===0)return 0;const o=Hc(e,t-1);return o===void 0?0:o.rowTop+o.rowHeight}function Yr(e,t){return e.cache[t]}function Hc(e,t){return Yr(e,e.order[t])}function Gr(e,t){e.order.forEach((o,n)=>{const s=Yr(e,o);s&&t(s,n)})}function Vc(e){return e.order.length}var Tk=class extends K{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const o=e.get("enableRowPinning"),n=If(e),r=!!o||(n==="pinnedBottom"||n==="pinnedTop"),i=r?this.inner instanceof Nh:this.inner instanceof Hh;this.inner&&i&&this.destroyBean(this.inner),(i||!this.inner)&&(this.inner=this.createManagedBean(r?new Hh:new Nh))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,o){return this.inner.pinRow(e,t,o)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},kk="ROOT_NODE_ID",Ak=class extends K{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=kk,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,o)=>this.createRowNode(t,o))??[]}setImmutableRowData(e,t){const o=gr(this.gos),n=!this.gos.get("suppressMaintainUnsortedOrder"),s=e.changedRowNodes,r=new Set,i=this.rootNode,l=i.allLeafChildren,a=l.length;let c=!1,u=!1,d=!1,h=!1;for(let f=0,m=-1,C=t.length;f<C;f++){const w=t[f];let v=this.getRowNode(o({data:w,level:0}));if(!v)c=!0,v=this.createRowNode(w,-1),s.add(v);else{if(n){const y=v.sourceRowIndex;h||(h=y<=m||c),m=y}v.data!==w&&(d=!0,v.updateData(w),s.update(v))}r.add(v)}const p=[];for(let f=0;f<a;f++){const m=l[f];r.has(m)||(u=!0,m.isSelected()&&p.push(m),m.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(m.pinnedSibling,null),this.rowNodeDeleted(m),s.remove(m))}if(c||u||h){const f=new Array(r.size);let m=0;if(!n)for(let w=0;w<a;++w){const v=l[w];r.delete(v)&&(v.sourceRowIndex=m,f[m++]=v)}for(const w of r)w.sourceRowIndex=m,f[m++]=w;i.allLeafChildren=f;const C=i.sibling;C&&(C.allLeafChildren=f),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=h)}(c||u||h||d)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,o=this.allNodesMap;o[t]===e&&delete o[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const o={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},n=[],s=gr(this.gos);return this.executeRemove(s,e,o,n),this.executeUpdate(s,e,o,n),this.executeAdd(e,o),this.deselectNodes(n),o}executeAdd(e,t){const o=e.add;if(!o?.length)return;let n=this.rootNode.allLeafChildren,s=n.length;if(typeof e.addIndex=="number"&&(s=this.sanitizeAddIndex(e.addIndex),s>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let d=0;d<n.length;d++)if(n[d]?.rowIndex==s-1){s=d+1;break}}const r=o.length,i=t.changedRowNodes,l=new Array(r);for(let u=0;u<r;u++){const d=this.createRowNode(o[u],s+u);i.add(d),l[u]=d}const a=this.rootNode;if(s<n.length){const u=n.slice(0,s),d=n.slice(s,n.length),h=u.length+l.length;for(let p=0,f=d.length;p<f;++p)d[p].sourceRowIndex=h+p;n=[...u,...l,...d],t.rowsInserted=!0}else n=n.concat(l);a.allLeafChildren=n;const c=a.sibling;c&&(c.allLeafChildren=n),t.rowNodeTransaction.add=l}executeRemove(e,t,{changedRowNodes:o,rowNodeTransaction:n},s){const{remove:r}=t;if(!r?.length)return;const i={};r.forEach(c=>{const u=this.lookupRowNode(e,c);u&&(u.isSelected()&&s.push(u),u.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(u.pinnedSibling,null),u.clearRowTopAndRowIndex(),i[u.id]=!0,delete this.allNodesMap[u.id],n.remove.push(u),o.remove(u))});const l=this.rootNode;l.allLeafChildren=l.allLeafChildren?.filter(c=>!i[c.id])??null,l.allLeafChildren?.forEach((c,u)=>{c.sourceRowIndex=u});const a=l.sibling;a&&(a.allLeafChildren=l.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:o,rowNodeTransaction:n},s){const{update:r}=t;r?.length&&r.forEach(i=>{const l=this.lookupRowNode(e,i);l&&(l.updateData(i),!l.selectable&&l.isSelected()&&s.push(l),n.update.push(l),o.update(l))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",o=this.beans.selectionSvc,n=e.length>0;n&&o?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),o?.updateGroupsFromChildrenSelections?.(t),n&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:o?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const o=new Rs(this.beans);return o.parent=this.rootNode,o.level=0,o.group=!1,o.expanded=!1,o.sourceRowIndex=t,o.setDataAndId(e,String(this.nextId)),this.allNodesMap[o.id]&&ee(2,{nodeId:o.id}),this.allNodesMap[o.id]=o,this.nextId++,o}lookupRowNode(e,t){let o;if(e){const n=e({data:t,level:0});if(o=this.allNodesMap[n],!o)return et(4,{id:n}),null}else if(o=this.rootNode?.allLeafChildren?.find(n=>n.data===t),!o)return et(5,{data:t}),null;return o||null}},Lk={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Ok=class extends nt{constructor(){super(Lk,[Uu]),this.eCheckbox=Fe}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:o}=this,n=t.isSelected(),s=sa(e,n),[r,i]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(r,i);o.setValue(n,!0),o.setInputAriaLabel(`${l} (${s})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:bs,click:n=>{bs(n),this.beans.selectionSvc?.handleSelectionEvent(n,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:s})=>{const r=typeof n=="object"?Ia(n):void 0,i=typeof s=="object"?Ia(s):void 0;r!==i&&this.onSelectableChanged()}),Fc(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:o,gos:n}=this,s=t.selectable,r=this.getIsVisible();let i;if(typeof r=="function"){const d=o?.callbackParams;if(!e)i=r({...d,node:t,data:t.data});else{const h=e.createColumnFunctionCallbackParams(t);i=r({...d,...h})}}else i=r??!1;const l=s&&!i||!s&&i,a=s||i,c=n.get("rowSelection"),u=c&&typeof c!="string"?!Ia(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(a&&(l?u:!0)),this.setDisplayed(a&&(l?u:!0)),a&&this.eCheckbox.setDisabled(l),o?.removeHidden){this.setDisplayed(a);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?tr(t):this.column?.getColDef()?.checkboxSelection}},Gk=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:o,pinnedRowModel:n}=this;return t??(t=o.getRowNode(e)),n?.isManual()&&(t??(t=n.getPinnedRowById(e,"top")),t??(t=n.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const o=t[0].id===this.rootId,n=t.findIndex(s=>s.id===e.id);if(n>-1){const s=t.slice(0,n),r=t.slice(n+1);return this.setEndRange(e),o?{keep:s,discard:r}:{keep:r,discard:s}}else return{keep:t,discard:[]}}extend(e,t=!1){const o=this.getRoot();if(o==null){const s=this.getRange().slice();return t&&e.depthFirstSearch(r=>!r.group&&s.push(r)),s.push(e),this.setRoot(e),{keep:s,discard:[]}}const n=this.getNodesInRange(o,e);if(!n)return this.setRoot(e),{keep:[e],discard:[]};if(n.find(s=>s.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const s=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:s}}}getNodesInRange(e,t){const{pinnedRowModel:o,rowModel:n}=this;if(!o?.isManual())return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return io(o,"top",e,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const s=io(o,"bottom",void 0,e),r=n.getRowCount(),i=n.getRow(r-1);return(n.getNodesInRangeForSelection(t,i)??[]).concat(s)}if(!e.rowPinned&&!t.rowPinned)return n.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return io(o,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const s=io(o,"top",t,void 0),r=io(o,"bottom",void 0,e),i=n.getRow(0),l=n.getRow(n.getRowCount()-1);return s.concat(n.getNodesInRangeForSelection(i,l)??[]).concat(r)}if(!e.rowPinned&&t.rowPinned==="top")return io(o,"top",t,void 0).concat(n.getNodesInRangeForSelection(n.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const s=io(o,"top",e,void 0),r=io(o,"bottom",void 0,t),i=n.getRow(0),l=n.getRow(n.getRowCount()-1);return s.concat(n.getNodesInRangeForSelection(i,l)??[]).concat(r)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return io(o,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const s=io(o,"bottom",void 0,t),r=n.getRow(n.getRowCount());return(n.getNodesInRangeForSelection(e,r)??[]).concat(s)}return null}},Hk=class extends K{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(gt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new $u);this.cbSelectAll=t,t.addCss("ag-header-select-all"),Cs(t.getGui(),"presentation"),this.showOrHideSelectAll();const o=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:o,paginationChanged:o,modelUpdated:o}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:s})=>{const r=i=>typeof i=="string"||!i||i.mode==="singleRow"?void 0:i.selectAll;r(n)!==r(s)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,o=this.cbSelectAll,n=t.getSelectAllState(e);o.setValue(n);const s=t.hasNodesToSelect(e);o.setDisabled(!s),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:o,cbSelectAll:n,cbSelectAllVisible:s}=this,r=n.getValue(),i=sa(t,r),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");o.setAriaDescriptionProperty("selectAll",s?`${l} (${i})`:null),n.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||o.announceAriaDescription()}checkSelectionType(e){return Ml(this.gos)?!0:(ee(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:o}=this.beans;return vt(t)||Ts(t)?!0:(ee(129,{feature:e,rowModel:o.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let o="uiSelectAll";t==="currentPage"?o="uiSelectAllCurrentPage":t==="filtered"&&(o="uiSelectAllFiltered");const n={source:o,selectAll:t},s=this.beans.selectionSvc;e?s.selectAllRowNodes(n):s.deselectAllRowNodes(n)}isCheckboxSelection(){const{column:e,gos:t,beans:o}=this,r=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return Nm(o,e)&&this.checkRightRowModelType(r)&&this.checkSelectionType(r)}getSelectAllMode(){const e=Lf(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:o}=this.column.getColDef();return t?"currentPage":o?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function Nm({gos:e,selectionColSvc:t},o){const n=e.get("rowSelection"),s=o.getColDef(),{headerCheckboxSelection:r}=s;let i=!1;if(typeof n=="object"){const a=Un(o),c=Du(o);(El(n)==="autoGroupColumn"&&c||a&&t?.isSelectionColumnEnabled())&&(i=Xi(n))}else typeof r=="function"?i=r(De(e,{column:o,colDef:s})):i=!!r;return i}var Vk=class extends K{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new Gk(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const o=Fc(e);o!==this.isRowSelectable&&(this.isRowSelectable=o,this.updateSelectable())}),this.isRowSelectable=Fc(e),this.addManagedEventListeners({cellValueChanged:o=>this.updateRowSelectable(o.node),rowNodeDataChanged:o=>this.updateRowSelectable(o.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Ok}createSelectAllFeature(e){if(Nm(this.beans,e))return new Hk(e)}isMultiSelect(){return Ml(this.gos)}onRowCtrlSelected(e,t,o){const n=!!e.rowNode.isSelected();e.forEachGui(o,s=>{s.rowComp.toggleCss("ag-row-selected",n);const r=s.element;wc(r,n),r.contains(gt(this.beans))&&t(s)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const n=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(n,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!Pi(e)||!cs(this.gos)}updateRowSelectable(e,t){const o=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,o,t),o}setRowSelectable(e,t,o){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),o)return;if(ci(this.gos)){const s=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:s??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,o=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let n=0;n<e.childrenAfterGroup.length;n++){const s=e.childrenAfterGroup[n];let r=s.isSelected();if(!s.selectable){const i=this.calculateSelectedFromChildren(s);if(i===null)continue;r=i}switch(r){case!0:t=!0;break;case!1:o=!0;break;default:return}}if(!(t&&o))return t?!0:o?!1:e.selectable?e.__selected:null}selectRowNode(e,t,o,n="api"){const s=!e.selectable&&t,r=e.__selected===t;if(s||r)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const i=e.sibling;i&&i.footer&&i.__localEventService&&i.dispatchRowEvent("rowSelected");const l=e.pinnedSibling;return l&&l.rowPinned&&l.__localEventService&&l.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...X0(e,this.gos,"rowSelected"),event:o||null,source:n}),!0}isCellCheckboxSelection(e,t){const o=this.gos.get("rowSelection");if(o&&typeof o!="string"){const n=Un(e)&&tr(o);return e.isColumnFunc(t,n)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,o,n){const{gos:s,selectionCtx:r}=this,i=e.isSelected(),l=ci(s),a=MM(s),c=IM(s),u=this.isMultiSelect(),d=n==="rowClicked";if(d&&!(a||c))return null;if(t&&o&&u){const h=r.getRoot();if(h)if(h.isSelected()){const p=r.isInRange(e)?r.truncate(e):r.extend(e,l);return{deselect:p.discard,select:p.keep,reset:!1}}else{const p=r.extend(e,l);return{select:[],deselect:p.keep,reset:!1}}else return null}else if(t&&u){const h=r.selectAll?this.beans.rowModel.getRow(0):void 0,p=r.getRoot(h),f=r.isInRange(e)?r.truncate(e):r.extend(e,l);return{select:f.keep,deselect:f.discard,reset:r.selectAll||!!(p&&!p.isSelected())}}else if(o){if(d){const h=!i;return h&&!a||!h&&!c?null:(r.setRoot(e),{node:e,newValue:h,clearSelection:!1})}return r.setRoot(e),{node:e,newValue:!i,clearSelection:!u}}else{r.setRoot(e);const h=TM(s),p=Il(s)==="filteredDescendants",f=d&&(!h||!a);if(p&&i===void 0&&vt(s))return{node:e,newValue:!1,clearSelection:!u||f};if(d){const m=i?!h:a;return m===i&&!f||m&&!a||!m&&!c?null:{node:e,newValue:m,clearSelection:!u||f,keepDescendants:e.group&&l}}return{node:e,newValue:!i,clearSelection:!u||f}}}},Bk=class extends $u{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},Os=class extends ts{constructor(e,t="ag-text-field",o="text"){super(e,t,o)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const o=this.eInput;return o.value!==e&&(o.value=ie(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=o=>{Dm(o)&&o.key&&!e.test(o.key)&&o.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:o=>{const n=o.clipboardData?.getData("text");n&&n.split("").some(s=>!e.test(s))&&o.preventDefault()}})}},ca={selector:"AG-INPUT-TEXT-FIELD",component:Os},Nk=class extends ts{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const o=super.setValue(e,t);return this.eInput.value=e,o}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},zk={selector:"AG-INPUT-TEXT-AREA",component:Nk},ju=class extends Os{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const r=parseFloat(e.value),i=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==i&&this.setValue(i)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:o,max:n,step:s}=this.config;typeof t=="number"&&this.setPrecision(t),typeof o=="number"&&this.setMin(o),typeof n=="number"&&this.setMax(n),typeof s=="number"&&this.setStep(s)}onWheel(e){gt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const o=this.precision;if(o==null)return e;if(t){const s=parseFloat(e).toFixed(o);return parseFloat(s).toString()}const n=String(e).split(".");if(n.length>1){if(n[1].length<=o)return e;if(o>0)return`${n[0]}.${n[1].slice(0,o)}`}return n[0]}setMin(e){return this.min===e?this:(this.min=e,Jt(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Jt(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Jt(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(o=>super.setValue(o,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,o){if(ie(o)){let n=this.isScientificNotation(o);if(n&&this.eInput.validity.valid)return e(o);if(!n){o=this.adjustPrecision(o);const s=this.normalizeValue(o);n=o!=s}if(n)return t(o)}return e(o)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},Wk={selector:"AG-INPUT-NUMBER-FIELD",component:ju},_k=class extends Os{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Ms();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){gt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?to(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,Jt(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?to(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,Jt(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Jt(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Yt(this.getValue())??void 0}setDate(e,t){this.setValue(to(e??null,this.includeTime),t)}},zm={selector:"AG-INPUT-DATE-FIELD",component:_k},$k=class extends nt{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case U.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}break;case U.DOWN:case U.UP:e.preventDefault(),this.navigate(t);break;case U.PAGE_DOWN:case U.PAGE_UP:case U.PAGE_HOME:case U.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===U.DOWN;let o;const{itemEls:n,highlightedEl:s}=this;if(!s)o=n[t?0:n.length-1];else{let i=n.indexOf(s)+(t?1:-1);i=Math.min(Math.max(i,0),n.length-1),o=n[i]}this.highlightItem(o)}navigateToPage(e){const{itemEls:t,highlightedEl:o}=this;if(!o||t.length===0)return;const n=t.indexOf(o),s=this.options.length-1,r=t[0].clientHeight,i=Math.floor(this.getGui().clientHeight/r);let l=-1;e===U.PAGE_HOME?l=0:e===U.PAGE_END?l=s:e===U.PAGE_DOWN?l=Math.min(n+i,s):e===U.PAGE_UP&&(l=Math.max(n-i,0)),l!==-1&&this.highlightItem(t[l])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:o}=e,n=o??t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{mn(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();Cs(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,o)=>{XD(t,o+1),ZD(t,e.length)})}renderOption(e,t){const o=Ct({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),n=Ct({tag:"span",children:t});o.appendChild(n),this.unFocusable||(o.tabIndex=-1),this.itemEls.push(o),this.addManagedListeners(o,{mouseover:()=>this.highlightItem(o),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>o,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(o)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const o=this.options.findIndex(n=>n.value===e);if(o!==-1){const n=this.options[o];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Uo(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),wc(e,!0);const t=this.getGui(),{scrollTop:o,clientHeight:n}=t,{offsetTop:s,offsetHeight:r}=e;(s+r>o+n||s<o)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Uo(e)||(e.classList.remove(this.activeClass),wc(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Uk=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",jk={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Kk=class extends Vm{constructor(e){if(super(e,e?.template||jk,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Fe,this.eWrapper=Fe,this.eDisplayField=Fe,this.eIcon=Fe,this.registerCSS(Uk),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:o,variableWidth:n,minPickerWidth:s,maxPickerWidth:r}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,o!=null&&this.setPickerMaxHeight(o),s!=null&&this.setPickerMinWidth(s),r!=null&&this.setPickerMaxWidth(r)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:o,inputWidth:n}=this.config;if(o){const s=po(o,this.beans);s&&this.eIcon.appendChild(s)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Cc(e,!1),this.ariaRole&&Cs(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case U.UP:case U.DOWN:case U.ENTER:case U.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case U.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:o,pickerAriaLabelValue:n,modalPicker:s=!0},maxPickerHeight:r,minPickerWidth:i,maxPickerWidth:l,variableWidth:a,beans:c,eWrapper:u}=this,d={modal:s,eChild:e,closeOnEsc:!0,closedCallback:()=>{const m=Df(c);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(o,n),anchorToElement:u};e.style.position="absolute";const h=c.popupSvc,p=h.addPopup(d);a?(i&&(e.style.minWidth=i),e.style.width=Ru(yl(u)),l&&(e.style.maxWidth=l)):Pl(e,l??yl(u));const f=r??`${Su(h.getPopupParent())}px`;return e.style.setProperty("max-height",f),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:o,gos:n},eWrapper:s,pickerComponent:r}=this,i=n.get("enableRtl")?"right":"left";o.positionPopupByComponent({type:t,eventSource:s,ePopup:r.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Cc(t,e);const o=this.eWrapper.classList;o.toggle("ag-picker-expanded",e),o.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return Pl(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},qk=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",Ku=class extends Kk{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(qk)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Zi(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:o}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),o&&t==null&&(this.eDisplayField.textContent=o),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new $k("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),o=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",o),iM(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:n=>{n?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===U.TAB&&this.hidePicker(),t){case U.ENTER:case U.UP:case U.DOWN:case U.PAGE_UP:case U.PAGE_DOWN:case U.PAGE_HOME:case U.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case U.ESCAPE:super.onKeyDown(e);break;case U.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,o){const{listComponent:n,config:{placeholder:s},eDisplayField:r,tooltipFeature:i}=this;if(this.value===e||!n)return this;if(o||n.setValue(e,!0),n.getValue()===this.getValue())return this;let a=n.getDisplayValue();return a==null&&s&&(a=s),r.textContent=a,i?.setTooltipAndRefresh(a??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},Yk={selector:"AG-SELECT",component:Ku},ir={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Wm=class extends K{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:o,eBottomGuard:n,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:i,focusInnerElement:l,onFocusIn:a,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,isEmpty:p,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=o,this.eBottomGuard=n,this.providedFocusInnerElement=l,this.eFocusableElement=f,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!i,this.providedFocusIn=a,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new Fr(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():sr(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=xt(this.beans),o=sr(t.body,null,!0),n=o.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let s,r;e?(s=0,r=n):(s=n+1,r=o.length);const i=o.slice(s,r),l=this.gos.get("tabIndex");i.sort((a,c)=>{const u=parseInt(a.getAttribute("tabindex")||"0"),d=parseInt(c.getAttribute("tabindex")||"0");return d===l?1:u===l?-1:u===0?1:d===0?-1:u-d}),i[e?i.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const o=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),o&&(o.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=sr(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Ls(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},Qk=class extends K{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:o,eFocusableElement:n}=this,s=[t,o],r={setTabIndex:C=>{s.forEach(w=>C!=null?w.setAttribute("tabindex",C):w.removeAttribute("tabindex"))}};this.addTabGuards(t,o);const{focusTrapActive:i=!1,onFocusIn:l,onFocusOut:a,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:m}=e;this.tabGuardCtrl=this.createManagedBean(new Wm({comp:r,focusTrapActive:i,eTopGuard:t,eBottomGuard:o,eFocusableElement:n,onFocusIn:l,onFocusOut:a,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:m}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=xt(this.beans).createElement("div"),o=e==="top"?ir.TAB_GUARD_TOP:ir.TAB_GUARD_BOTTOM;return t.classList.add(ir.TAB_GUARD,o),Cs(t,"presentation"),t}addTabGuards(e,t){const o=this.eFocusableElement;o.insertAdjacentElement("afterbegin",e),o.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];oo(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,o){xu(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,o)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;mn(e),mn(t),super.destroy()}},Zk=class extends nt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new Qk(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,o){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,o)}},Zn=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new ms,this.preventMouseClick=t;const o=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);e.addEventListener("touchstart",o,{passive:!0}),e.addEventListener("touchmove",n,{passive:!0}),e.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",o,{passive:!0}),e.removeEventListener("touchmove",n,{passive:!0}),e.removeEventListener("touchend",s,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const o=this.touchStart===t;if(this.touching&&o&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!wm(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const o={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(o),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},Xk=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const o=t||this.shouldSkipVerticalScroll();if(o&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<n.left+s,this.tickRight=e.clientX>n.right-s,this.tickUp=e.clientY<n.top+s&&!o,this.tickDown=e.clientY>n.bottom-s&&!o,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},_m=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${vf}/${this.frameworkName}-data-grid`,fM(this.baseDocLink)}setInterval(e,t){return new Ue(o=>{o(window.setInterval(e,t))})}addEventListener(e,t,o,n){let s={};if(typeof n=="object"?s=n:typeof n=="boolean"&&(s={capture:n}),s.passive==null){const r=Bf(t);r!=null&&(s.passive=r)}e.addEventListener(t,o,s)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function Jk(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var eA=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],Wh=Object.fromEntries(eA.map((e,t)=>[e,t]));function tA(e,t){const o=(e.beanName?Wh[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?Wh[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return o-n}function oA(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var nA=class extends K{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,o){this.view=e,this.eGridHostDiv=t,this.eGui=o,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:n,ctrlsSvc:s}=this.beans;n?.registerGridDropTarget(()=>this.eGui,this),Sm(this.gos,t),this.createManagedBean(new Gu(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const r=bn(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),s.register("gridCtrl",this)}isDetailGrid(){return Cm(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const o=e===1?"ew-resize":"ns-resize";t.setCursor(o)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:o,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(o>0){const{visibleCols:s,focusSvc:r}=this.beans,i=s.allCols,l=Je(i);if(r.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const o=this.getFocusableContainers(),{focusSvc:n,visibleCols:s}=this.beans,r=s.allCols;if(e){if(o.length>1)return this.focusContainer(Je(o),e);const i=Je(r);if(n.focusGridView({column:i,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||hs(this.beans)){if(n.focusGridView({column:r[0],backwards:e}))return!0;for(let i=1;i<o.length;i++)if(ys(o[i].getGui(),e))return!0;return!1}return n.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:o,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||o<0||o>=t.length)return;const s=t[o];s.setAllowFocus?.(!0),setTimeout(()=>{s.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!ia(e)||!hs(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const o=gt(this.beans),n=e.findIndex(r=>r.getGui().contains(o)),s=n+(t?-1:1);return{indexWithFocus:n,nextIndex:s}}focusContainer(e,t){e.setAllowFocus?.(!0);const o=ys(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),o}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Oe=(e,t)=>{for(const o of Object.keys(t))t[o]=e;return t},_h={dispatchEvent:"CommunityCore",...Oe("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...Oe("GridState",{getState:0,setState:0}),...Oe("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Oe("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Oe("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Oe("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Oe("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Oe("ValueCache",{expireValueCache:0}),...Oe("CellApi",{getCellValue:0}),...Oe("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Oe("Sort",{onSortChanged:0}),...Oe("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...Oe("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Oe("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Oe("HighlightChanges",{flashCells:0}),...Oe("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...Oe("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Oe("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Oe("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Oe("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Oe("ColumnResize",{setColumnWidths:0}),...Oe("ColumnHover",{isColumnHovered:0}),...Oe("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...Oe("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...Oe("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Oe("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Oe("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...Oe("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Oe("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Oe("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Oe("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Oe("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Oe("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Oe("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Oe("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Oe("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Oe("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Oe("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Oe("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Oe("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Oe("ContextMenu",{showContextMenu:0}),...Oe("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Oe("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Oe("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Oe("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Oe("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Oe("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Oe("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Oe("StatusBar",{getStatusPanel:0})},Wa={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},sA=(e,t)=>e.eventSvc.dispatchEvent(t),$m=class{};Reflect.defineProperty($m,"name",{value:"GridApi"});var rA=class extends K{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new $m,this.fns={...Wa,dispatchEvent:sA},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(_h))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:o,beans:n}=this;o!==Wa&&(o[e]=n?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:o,fns:{[e]:n}}=this;return n?n(o,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:o,preDestroyLink:n}=this;if(!t)ee(26,{fnName:e,preDestroyLink:n});else{const s=_h[e];o.assertModuleRegistered(s,`api.${e}`)&&ee(27,{fnName:e,module:s})}}destroy(){super.destroy(),this.fns=Wa,this.beans=null}};function iA(e){return e.context.getGridId()}function lA(e){e.gridDestroySvc.destroy()}function aA(e){return e.gridDestroySvc.destroyCalled}function cA(e,t){return e.gos.get(t)}function uA(e,t,o){Um(e,{[t]:o})}function Um(e,t){e.gos.updateGridOptions({options:t})}function dA(e,t){const o=t.replace(/Module$/,"");return e.gos.isModuleRegistered(o)}var hA={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},gA=class extends nt{constructor(e,t,o){super(hA),this.rowNode=e,this.column=t,this.eCell=o}postConstruct(){this.getGui().appendChild(po("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:o,eCell:n,gos:s}=this,r=o.getColDef().dndSourceOnRowDrag,i=e.dataTransfer;if(i.setDragImage(n,0,0),r){const l=De(s,{rowNode:t,dragEvent:e});r(l)}else try{const l=JSON.stringify(t.data);i.setData("application/json",l),i.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function pA(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function fA(e,t){const o=e.dragAndDrop?.findExternalZone(t);o&&e.dragAndDrop?.removeDropTarget(o)}function mA(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function CA(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function wA(e,t){const o=e.rowDropHighlightSvc;if(!o)return;const n=t?.row;let s=t?.dropIndicatorPosition;s!=="above"&&s!=="below"&&s!=="inside"&&(s="none");const r=n?.rowIndex;r==null||s==="none"?o.clear():o.set(n,s)}var vA=class extends K{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:o}=this.beans;return o.addDragSource(t),()=>o.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const o=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(o)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},bA={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},SA=class extends nt{constructor(e,t,o,n,s,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=o,this.customGui=n,this.dragStartPixels=s,this.suppressVisibilityChange=r,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:o,gos:n}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(bA),this.getGui().appendChild(po("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const s=n.get("rowDragManaged")?new RA(this,t,o):new yA(this,t,o);this.createManagedBean(s,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const o=this.beans.selectionSvc?.getSelectedNodes()??[];return o.indexOf(e)!==-1?o:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n?.preventDefault()}})[0]);const o=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const n=this.getDragItem(),s=n.rowNodes?.length||1,r=this.getRowDragText(this.column);return r?r(n,s):s===1?this.cellValueFn():`${s} ${o("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},jm=class extends K{constructor(e,t,o){super(),this.parent=e,this.rowNode=t,this.column=o}setDisplayedOrVisible(e,t=!1){const o={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,o);else{let n=!t,s=!1;const{column:r,rowNode:i,parent:l}=this;if(r){const a=r.getColDef().rowDrag;s=typeof a=="function",n=(t?!!a:r.isRowDrag(i))||l.isCustomGui()}s?(l.setDisplayed(!0,o),l.setVisible(n&&!t,o)):(l.setDisplayed(n,o),l.setVisible(!t,o))}}},yA=class extends jm{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},RA=class extends jm{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:o}=this.beans,n=e.rowDragFeature,s=n&&n.shouldPreventRowMove(),r=o.get("suppressRowDrag"),i=t.hasExternalDropZones(),l=s&&!i||r;this.setDisplayedOrVisible(l,this.rowNode.footer)}},pi=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:o,children:n}=e;if(n)for(let s=0;s<n.length;++s)this.depthFirstSearchChangedPath(n[s],t);t(o)}depthFirstSearchEverything(e,t,o){const n=e.childrenAfterGroup;if(n)for(let s=0,r=n.length;s<r;++s){const i=n[s];i.childrenAfterGroup?this.depthFirstSearchEverything(i,t,o):o&&t(i)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,o=!1){this.active&&!o?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,o=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,o++,t=t.parent}return o}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let o=e;for(;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),t.forEach(n=>this.nodeIdsToColumns[o.id][n.getId()]=!0),o=o.parent}linkPathItems(e,t){let o=e;for(let n=0;n<t;n++){const s=this.mapToItems[o.id],r=this.mapToItems[o.parent.id];r.children||(r.children=[]),r.children.push(s),o=o.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const o=this.nodeIdsToColumns[e.id];return t.filter(s=>o[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const o=this.nodeIdsToColumns[e.id];return t.filter(s=>!o[s.getId()])}},xA=class extends K{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:o}=this.beans;vt(t)&&(this.clientSideRowModel=e),o.whenReady(this,n=>{const s=n.gridBodyCtrl;let r=0;const i=()=>s.scrollFeature.getVScrollPosition().top;this.autoScrollService=new Xk({scrollContainer:s.eBodyViewport,scrollAxis:"y",getVerticalPosition:i,setVerticalPosition:l=>s.scrollFeature.setVerticalScrollPosition(l),onScrollCallback:()=>{const l=i();if(r!==l){r=l;const a=this.lastDraggingEvent;a&&this.onDragging(a)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:o}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||o?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((s,r)=>s.rowIndex==null||r.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(r));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:o,gos:n}=this.beans,s=this.isFromThisGrid(e);if(!(n.get("rowDragManaged")&&this.shouldPreventRowMove()))if(n.get("suppressMoveWhenRowDragging")||!s){if(o.isDropZoneWithinThisGrid(e)){const i=this.managedRowsDrop(e,t),l=i?.target,a=this.beans.rowDropHighlightSvc;l&&i.rows.length?a.set(l,i.position):a.clear()}}else{const i=this.managedRowsDrop(e,t);i&&this.dropRows(i)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Je(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:o,rowNodes:n}=e.dragItem,r=n?.length&&(o??n[0]);if(!r)return this.makeGroupThrottleClear(),null;const{beans:i,gos:l,clientSideRowModel:a}=this,c=a.rootNode,u=Ph(i,e).y;let d=a.getRowIndexAtPixel(u),h=a.getRow(d)??null;const p=r!==h;let f=h?(u-h.rowTop-h.rowHeight/2)/h.rowHeight||0:1;const m=this.isFromThisGrid(e),w=Of(l)!=="group"&&m;let v=null;if(w&&h?.footer){v=h.sibling??c;const P=Qr(a,-1,h)??Qr(a,1,h);f=P&&P.rowIndex>h.rowIndex?-.5:.5,h=P??null}let y=f<0,D=!1;if(m&&h){if(p){if(D=n.indexOf(h)>=0,D){const P=PA(a,d<r.rowIndex,n);P?.parent===h.parent&&(h=P,d=h.rowIndex)}}else{if(Math.abs(f)<=.5)return this.makeGroupThrottleClear(),null;D=!0}(D||!w&&Math.abs(d-r.rowIndex)===1)&&(y=d<r.rowIndex)}const A=this.makeGroupThrottleTarget;A!==null&&A!==h&&this.makeGroupThrottleClear(),h?.expanded&&h.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=h),v===null&&w&&(!h||f>=.5&&h.rowIndex===i.pageBounds.getLastRow()?v=c:this.targetShouldBeParent(h,f,D,n)&&(this.makeGroupThrottled&&(v=h),t&&(v===null||!h.expanded)&&(this.makeGroupThrottleTarget=h,this.makeGroupThrottleStart())),v??(v=h?.parent??c));let R=!1;if(v!==null){if(v===h&&v!==c){R=!0;const P=v.expanded?Qr(a,1,h):null;P?.parent===v&&(h=P,R=!1,y=!0)}if(h&&!R){let P=h;for(;P&&P!==c&&P!==v;)h=P,P=P.parent}EA(n,v)&&(v=null)}if(!v&&D&&(w||r===h))return null;const M=R?"inside":y?"above":"below",E={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:m,position:M,source:r,target:h,newParent:v,rows:n};let V=!1;const I=l.get("isRowValidDropPosition");if(I){const P=I(E);P?typeof P=="object"&&(P.rows!==void 0&&(E.rows=P.rows??Tl),P.newParent!==void 0&&(E.newParent=P.newParent),P.target!==void 0&&(E.target=P.target),P.position&&(V=!0,E.position=P.position)):E.rows=Tl}return(!E.newParent||!E.rows.length)&&!V&&(E.position=y?"above":"below"),E}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,o,n){const s=e?.rowIndex;if(o||s===null)return!1;const r=.25;if(t<-.5+r)return!1;if(t<.5-r)return!0;let i,l=s+1;const a=this.clientSideRowModel;do i=a.getRow(l++);while(i&&i.footer);const c=e.childrenAfterGroup;if(i&&i.parent===e&&c?.length){const u=new Set(n);for(const d of c)if(d.rowIndex!==null&&!u.has(d))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){ee(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){ee(56);return}let o={getContainer:e.getContainer};e.fromGrid?o=e:(e.onDragEnter&&(o.onDragEnter=s=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),e.onDragLeave&&(o.onDragLeave=s=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),e.onDragging&&(o.onDragging=s=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),e.onDragStop&&(o.onDragStop=s=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),e.onDragCancel&&(o.onDragCancel=s=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const n={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...o};t.addDropTarget(n),this.addDestroyFunc(()=>t.removeDropTarget(n))}getRowDropZone(e){const t=this.getContainer.bind(this),o=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),s=this.onDragging.bind(this),r=this.onDragStop.bind(this),i=this.onDragCancel.bind(this);let l;return e?l={getContainer:t,onDragEnter:e.onDragEnter?a=>{o(a),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",a))}:o,onDragLeave:e.onDragLeave?a=>{n(a),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",a))}:n,onDragging:e.onDragging?a=>{s(a),e.onDragging(this.draggingToRowDragEvent("rowDragMove",a))}:s,onDragStop:e.onDragStop?a=>{r(a),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",a))}:r,onDragCancel:e.onDragCancel?a=>{i(a),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",a))}:i,fromGrid:!0}:l={getContainer:t,onDragEnter:o,onDragLeave:n,onDragging:s,onDragStop:r,onDragCancel:i,fromGrid:!0},l}draggingToRowDragEvent(e,t){const o=this.beans,{pageBounds:n,rowModel:s,gos:r}=o,i=Ph(this.beans,t).y,l=i>n.getCurrentPagePixelRange().pageLastPixel;let a=-1,c;return l||(a=s.getRowIndexAtPixel(i),c=s.getRow(a)),De(r,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:a,overNode:c,y:i,vDirection:t.vDirection})}dispatchGridEvent(e,t){const o=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(o)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:o}=this.beans;if(o.get("rowDragManaged")&&(o.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const n=this.managedRowsDrop(e,!1);n&&this.dropRows(n),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:o}=this.beans;o.get("rowDragManaged")&&(o.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:o}){const n=gr(this.gos),s=this.clientSideRowModel,r=o.filter(({data:l,rowPinned:a})=>!s.getRowNode(n?.({data:l,level:0,rowPinned:a})??l.id)).map(({data:l})=>l);if(r.length===0)return!1;const i=t?$h(t)+(e==="above"?0:1):void 0;return s.updateRowData({add:r,addIndex:i}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new pi(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:o,newParent:n}){let s=!1;const r=this.clientSideRowModel,i=new Set;for(const u of o){if(u.footer||u.rowTop===null&&u!==r.getRowNode(u.id))continue;if(n&&u.parent!==n){if(FA(u,n))continue;u.treeParent=n,s=!0}const d=Km(u);d&&i.add(d)}if(!s&&i.size===0)return!1;const l=this.beans.focusSvc,a=l.getFocusedCell(),c=a&&$r(this.beans,a);return i.size&&this.reorderLeafChildren(i,...this.getMoveRowsBounds(i,t,e==="above"))&&(s=!0),s?(this.refreshModelAfterDrop(),c?c.focusCell():l.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,o){const n=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let s=$h(t);s<0||s>=n?s=n:o||++s;let r=s,i=Math.min(s,n-1);for(const l of e){const a=l.sourceRowIndex;a<r&&(r=a),a>i&&(i=a)}return[r,s,i]}reorderLeafChildren(e,t,o,n){let s=!1;const r=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!r)return!1;let i=t;for(let a=t;a<o;++a){const c=r[a];e.has(c)||(c.sourceRowIndex!==i&&(c.sourceRowIndex=i,r[i]=c,s=!0),++i)}let l=n;for(let a=n;a>=o;--a){const c=r[a];e.has(c)||(c.sourceRowIndex!==l&&(c.sourceRowIndex=l,r[l]=c,s=!0),--l)}for(const a of e)a.sourceRowIndex!==i&&(a.sourceRowIndex=i,r[i]=a,s=!0),++i;return s}},PA=(e,t,o)=>t?Qr(e,-1,o[0]):Qr(e,1,Je(o)),Qr=(e,t,o)=>{if(o){const n=e.getRowCount();let s=o.rowIndex+t;for(;s>=0&&s<n;){const r=e.getRow(s);if(!r||!r.footer)return r;s+=t}}},FA=(e,t)=>{let o=t;for(;o;){if(o===e)return!0;o=o.parent}return!1},EA=(e,t)=>{for(let o=0,n=e.length;o<n;++o)if(e[o].parent!==t)return!1;return!0},$h=e=>{const t=Km(e);return t!==void 0?t.sourceRowIndex:-1},Km=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},DA=class extends K{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const o=t.createManagedBean(new xA(e)),n=this.beans.dragAndDrop;n.addDropTarget(o),t.addDestroyFunc(()=>n.removeDropTarget(o)),this.rowDragFeature=o}createRowDragComp(e,t,o,n,s,r){return new SA(e,t,o,n,s,r)}createRowDragCompForRow(e,t){if(Nn(this.gos))return;const o=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${o("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,o,n,s,r){const i=this.gos;return i.get("rowDragManaged")&&(!vt(i)||i.get("pagination"))?void 0:this.createRowDragComp(o,e,t,n,s,r)}},MA=class extends K{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const o=e!==this.row,n=e.uiLevel,s=t!==this.position,r=n!==this.uiLevel;(o||s||r)&&(o&&this.clear(),this.uiLevel=n,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},qm={moduleName:"Drag",version:le,beans:[Q0]},IA={moduleName:"DragAndDrop",version:le,dynamicBeans:{dndSourceComp:gA},icons:{rowDrag:"grip"}},Ym={moduleName:"SharedDragAndDrop",version:le,beans:[Y0],dependsOn:[qm],userComponents:{agDragAndDropImage:Ck},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},TA={moduleName:"RowDrag",version:le,beans:[MA,DA],apiFunctions:{addRowDropZone:pA,removeRowDropZone:fA,getRowDropZoneParams:mA,getRowDropPositionIndicator:CA,setRowDropPositionIndicator:wA},dependsOn:[Ym]},kA={moduleName:"HorizontalResize",version:le,beans:[vA],dependsOn:[qm]},AA=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",LA=class extends K{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:o,executeLaterFuncs:n}=this;if(o.length===0&&n.length===0){e(),t();return}const s=r=>{for(;r.length;){const i=r.pop();i&&i()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),s(o)},0),window.setTimeout(()=>{t(),s(n)},200)})}};function OA(e,t,o){e.colMoves?.moveColumnByIndex(t,o,"api")}function GA(e,t,o){e.colMoves?.moveColumns(t,o,"api")}var HA=class extends K{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(o=>{o.isPrimary()&&(o.isAnyFunctionActive()||(o.isAllowValue()?this.columnsToAggregate.push(o):o.isAllowRowGroup()?this.columnsToGroup.push(o):o.isAllowPivot()&&this.columnsToPivot.push(o)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:o,pivotColsSvc:n}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&o?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&n?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function VA(e,t){!t||t.length<=1||t.filter(n=>e.indexOf(n)<0).length>0||t.sort((n,s)=>{const r=e.indexOf(n),i=e.indexOf(s);return r-i})}function BA(e){const t=[...e];return e.forEach(o=>{let n=null,s=o.getParent();for(;s!=null&&s.getDisplayedLeafColumns().length===1;)n=s,s=s.getParent();n!=null&&(!!n.getColGroupDef()?.marryChildren?n.getProvidedColumnGroup().getLeafColumns():n.getLeafColumns()).forEach(l=>{t.includes(l)||t.push(l)})}),t}function NA(e,t,o,n){const s=n.allCols;let r=null,i=null;for(let l=0;l<e.length;l++){const a=e[l],c=o.getProposedColumnOrder(t,a);if(!o.doesOrderPassRules(c))continue;const u=c.filter(h=>s.includes(h));if(i===null)i=u;else if(!As(u,i))break;const d=WA(c);(r===null||d<r.fragCount)&&(r={move:a,fragCount:d})}return r}function Qm(e){const{isFromHeader:t,fromLeft:o,xPosition:n,fromEnter:s,fakeEvent:r,pinned:i,gos:l,colModel:a,colMoves:c,visibleCols:u}=e;let{allMovingColumns:d}=e;t&&(d=BA(d));const h=d.slice();VA(a.getCols(),h);const p=$A({movingCols:h,draggingRight:o,xPosition:n,pinned:i,gos:l,colModel:a,visibleCols:u}),f=zA(h,a);if(p.length===0)return;const m=p[0];if(f!==null&&(t||!s)&&!r&&(!o&&m>=f||o&&m<=f))return;const w=NA(p,h,c,u);if(!w)return;const v=w.move;if(!(v>a.getCols().length-h.length))return{columns:h,toIndex:v}}function Zm(e){const{columns:t,toIndex:o}=Qm(e)||{},{finished:n,colMoves:s}=e;return!t||o==null?null:(s.moveColumns(t,o,"uiColumnMoved",n),n?null:{columns:t,toIndex:o})}function zA(e,t){const o=t.getCols(),n=e.map(a=>o.indexOf(a)).sort((a,c)=>a-c),s=n[0];return Je(n)-s!==n.length-1?null:s}function WA(e){function t(n){const s=[];let r=n.getOriginalParent();for(;r!=null;)s.push(r),r=r.getOriginalParent();return s}let o=0;for(let n=0;n<e.length-1;n++){let s=t(e[n]),r=t(e[n+1]);[s,r]=s.length>r.length?[s,r]:[r,s],s.forEach(i=>{r.indexOf(i)===-1&&o++})}return o}function _A(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function $A(e){const{movingCols:t,draggingRight:o,xPosition:n,pinned:s,gos:r,colModel:i,visibleCols:l}=e;if(r.get("suppressMovableColumns")||t.some(y=>y.getColDef().suppressMovable))return[];const c=_A(l,s),u=i.getCols(),d=c.filter(y=>t.includes(y)),h=c.filter(y=>!t.includes(y)),p=u.filter(y=>!t.includes(y));let f=0,m=n;if(o){let y=0;d.forEach(D=>y+=D.getActualWidth()),m-=y}if(m>0){for(let y=0;y<h.length;y++){const D=h[y];if(m-=D.getActualWidth(),m<0)break;f++}o&&f++}let C;if(f>0){const y=h[f-1];C=p.indexOf(y)+1}else C=p.indexOf(h[0]),C===-1&&(C=0);const w=[C],v=(y,D)=>y-D;if(o){let y=C+1;const D=u.length-1;for(;y<=D;)w.push(y),y++;w.sort(v)}else{let y=C;const D=u.length-1;let A=u[y];for(;y<=D&&c.indexOf(A)<0;)y++,w.push(y),A=u[y];y=C-1;const R=0;for(;y>=R;)w.push(y),y--;w.sort(v).reverse()}return w}function Bc(e){const{pinned:t,fromKeyboard:o,gos:n,ctrlsSvc:s,useHeaderRow:r,skipScrollPadding:i}=e;let l=s.getHeaderRowContainerCtrl(t)?.eViewport,{x:a}=e;return l?(o&&(a-=l.getBoundingClientRect().left),n.get("enableRtl")&&(r&&(l=l.querySelector(".ag-header-row")),a=l.clientWidth-a),t==null&&!i&&(a+=s.get("center").getCenterViewportScrollLeft()),a):0}function _a(e,t){for(const o of e)o.moving=t,o.dispatchColEvent("movingChanged","uiColumnMoved")}var Uh=7,Nc=100,Wi=Nc/2,UA=5,jA=100,KA=class extends K{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ie(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:o}=t||{},n=o?.columns??[];for(const s of n){const r=s.getPinned();if(s.getColDef().lockPinned){if(r==e)return"move";continue}const i=o?.containerType;if(i===e||!e)return"move";if(e&&(!r||i!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,o=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(o,!0,"uiColumnDragged");else{const s=t.visibleState,r=(o||[]).filter(i=>s[i.getId()]&&!i.isVisible());this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(o,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,o=!1,n=!1){const{gos:s,ctrlsSvc:r}=this.beans,i=s.get("suppressMoveWhenColumnDragging");if(n&&!i){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&at(e.hDirection))return;const l=Bc({x:e.x,pinned:this.pinned,gos:s,ctrlsSvc:r});t||this.checkCenterForScrolling(l),i?this.handleColumnDragWhileSuppressingMovement(e,t,o,l,n):this.handleColumnDragWhileAllowingMovement(e,t,o,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,o){if(!e?.length)return;const n=e.filter(s=>!s.getColDef().lockVisible);n.length&&this.beans.colModel.setColsVisible(n,t,o)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:o}=e;this.beans.colMoves.moveColumns(t,o,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,o,n,s){const r=this.getAllMovingColumns(e,!0);if(s){const i=this.isAttemptingToPin(r);i&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:l,xPosition:a}=this.getNormalisedXPositionInfo(r,i)||{};if(l==null||a==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:a,fromEnter:t,fakeEvent:o,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,n)}}handleColumnDragWhileAllowingMovement(e,t,o,n,s){const r=this.getAllMovingColumns(e),i=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,a=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:l,xPosition:n,fromLeft:i,fromEnter:t,fakeEvent:o}),c=Zm({...a,finished:s});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const o=e.dragSource.getDragItem();let n=null;t?(n=o.columnsInSplit,n||(n=o.columns)):n=o.columns;const s=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return n?n.filter(s):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:o,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}=e,{gos:l,colModel:a,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:o,fromLeft:s,xPosition:n,pinned:this.pinned,fromEnter:r,fakeEvent:i,gos:l,colModel:a,colMoves:c,visibleCols:u}}highlightHoveredColumn(e,t){const{gos:o,colModel:n}=this.beans,s=o.get("enableRtl"),r=n.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned);let i=null,l=null,a=null;for(const u of r){if(l=u.getActualWidth(),i=this.getNormalisedColumnLeft(u,0,s),i!=null){const d=i+l;if(i<=t&&d>=t){a=u;break}}i=null,l=null}if(a)e.indexOf(a)!==-1&&(a=null);else{for(let u=r.length-1;u>=0;u--){const d=r[u],h=r[u].getParent();if(!h){a=d;break}const p=h?.getDisplayedLeafColumns();if(p.length){a=Je(p);break}}if(!a)return;i=this.getNormalisedColumnLeft(a,0,s),l=a.getActualWidth()}if(this.lastHighlightedColumn?.column!==a&&this.clearHighlighted(),a==null||i==null||l==null)return;let c;t-i<l/2!==s?c=0:c=1,jh(a,c),this.lastHighlightedColumn={column:a,position:c}}getNormalisedXPositionInfo(e,t){const{gos:o,visibleCols:n}=this.beans,s=o.get("enableRtl"),{firstMovingCol:r,column:i,position:l}=this.getColumnMoveAndTargetInfo(e,t,s);if(!r||!i||l==null)return;const a=n.allCols,c=a.indexOf(r),u=a.indexOf(i),d=l===0!==s,h=c<u||c===u&&!d;let p=0;if(d?h&&(p-=1):h||(p+=1),u+p===c)return;const f=a[u+p];if(!f)return;const m=this.getNormalisedColumnLeft(f,20,s);return{fromLeft:h,xPosition:m}}getColumnMoveAndTargetInfo(e,t,o){const n=this.lastHighlightedColumn||{},{firstMovingCol:s,lastMovingCol:r}=qA(e);if(!s||!r||n.column||!t)return{firstMovingCol:s,...n};const l=this.getPinDirection()==="left";return{firstMovingCol:s,position:l?1:0,column:l!==o?s:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,o){const{gos:n,ctrlsSvc:s}=this.beans,r=e.getLeft();if(r==null)return null;const i=e.getActualWidth();return Bc({x:o?r+i-t:r+t,pinned:e.getPinned(),useHeaderRow:o,skipScrollPadding:!0,gos:n,ctrlsSvc:s})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,o=this.failedMoveAttempts>Uh;return t&&o||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:o,fromEnter:n,fakeEvent:s,fromLeft:r}=e,i=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:o,fromLeft:r,fromEnter:n,fakeEvent:s}),{columns:l,toIndex:a}=Qm(i)||{};l&&a!=null&&(this.lastMovedInfo={columns:l,toIndex:a}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(jh(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),o=t.getCenterViewportScrollLeft(),n=o+t.getCenterWidth();let s,r;this.gos.get("enableRtl")?(s=e<o+Wi,r=e>n-Wi):(r=e<o+Wi,s=e>n-Wi),this.needToMoveRight=s,this.needToMoveLeft=r,r||s?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),jA),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*UA,e>Nc&&(e=Nc);let t=null;const o=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=o.scrollHorizontally(-e):this.needToMoveRight&&(t=o.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:n,dragAndDrop:s,gos:r}=this.beans;if(this.failedMoveAttempts<=Uh+1||!n)return;if(s.getDragAndDropImageComponent()?.setIcon("pinned",!1),!r.get("suppressMoveWhenColumnDragging")){const i=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(i,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,o=!1){const n=(e||[]).filter(i=>!i.getColDef().lockPinned);if(!n.length)return 0;o&&(t=this.getPinDirection());const{pinnedCols:s,dragAndDrop:r}=this.beans;return s?.setColsPinned(n,t,"uiColumnDragged"),o&&r.nudge(),n.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function jh(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function qA(e){const t=e.length;let o,n;for(let s=0;s<t;s++){if(!o){const r=e[s];r.getLeft()!=null&&(o=r)}if(!n){const r=e[t-1-s];r.getLeft()!=null&&(n=r)}if(o&&n)break}return{firstMovingCol:o,lastMovingCol:n}}var YA=class extends K{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,o=this.pinned;e.whenReady(this,n=>{let s;const r=n.gridBodyCtrl.eBodyViewport;switch(o){case"left":s=[[r,n.left.eContainer],[n.bottomLeft.eContainer],[n.topLeft.eContainer]];break;case"right":s=[[r,n.right.eContainer],[n.bottomRight.eContainer],[n.topRight.eContainer]];break;default:s=[[r,n.center.eViewport],[n.bottomCenter.eViewport],[n.topCenter.eViewport]];break}this.eSecondaryContainers=s}),this.moveColumnFeature=this.createManagedBean(new KA(o)),this.bodyDropPivotTarget=this.createManagedBean(new HA(o)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},QA=class extends K{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,o){const n=this.beans.colModel.getCols();if(!n)return;const s=n[e];this.moveColumns([s],t,o)}moveColumns(e,t,o,n=!0){const{colModel:s,colAnimation:r,visibleCols:i,eventSvc:l}=this.beans,a=s.getCols();if(!a)return;if(t>a.length-e.length){ee(30,{toIndex:t});return}r?.start();const c=s.getColsForKeys(e);this.doesMovePassRules(c,t)&&(wh(s.getCols(),c,t),i.refresh(o),l.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:n,source:o})),r?.finish()}doesMovePassRules(e,t){const o=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(o)}doesOrderPassRules(e){const{colModel:t,gos:o}=this.beans;return!(!qf(e,t.getColTree())||!(s=>{const r=c=>c?c==="left"||c===!0?-1:1:0,i=o.get("enableRtl");let l=i?1:-1,a=!0;return s.forEach(c=>{const u=r(c.getColDef().lockPosition);i?u>l&&(a=!1):u<l&&(a=!1),l=u}),a})(e))}getProposedColumnOrder(e,t){const n=this.beans.colModel.getCols().slice();return wh(n,e,t),n}createBodyDropTarget(e,t){return new YA(e,t)}moveHeader(e,t,o,n,s){const{ctrlsSvc:r,gos:i,colModel:l,visibleCols:a,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),d=u.left,h=ft(o),p=h?u.width:o.getActualWidth(),f=e==="left"!==i.get("enableRtl"),m=Bc({x:f?d-20:d+p+20,pinned:n,fromKeyboard:!0,gos:i,ctrlsSvc:r}),C=c.focusedHeader;Zm({allMovingColumns:h?o.getLeafColumns():[o],isFromHeader:!0,fromLeft:e==="right",xPosition:m,pinned:n,fromEnter:!1,fakeEvent:!1,gos:i,colModel:l,colMoves:this,visibleCols:a,finished:!0});let w;if(h){const v=o.getDisplayedLeafColumns();w=f?v[0]:Je(v)}else w=o;if(r.getScrollFeature().ensureColumnVisible(w,"auto"),(!s.isAlive()||i.get("ensureDomOrder"))&&C){let v;if(h){const y=o.getGroupId(),D=o.getLeafColumns();if(!D.length)return;const A=D[0].getParent();if(!A)return;v=ZA(A,y)}else v=o;v&&c.focusHeaderPosition({headerPosition:{...C,column:v}})}}setDragSourceForHeader(e,t,o){const{gos:n,colModel:s,dragAndDrop:r,visibleCols:i}=this.beans;let l=!n.get("suppressDragLeaveHidesColumns");const a=ft(t),c=a?t.getProvidedColumnGroup().getLeafColumns():[t],d={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:a?()=>JA(t,i.allCols):()=>XA(t),dragItemName:o,onDragStarted:()=>{l=!n.get("suppressDragLeaveHidesColumns"),_a(c,!0)},onDragStopped:()=>_a(c,!1),onDragCancelled:()=>_a(c,!1),onGridEnter:h=>{if(l){const{columns:p=[],visibleState:f}=h??{},m=a?w=>!f||f[w.getColId()]:()=>!0,C=p.filter(w=>!w.getColDef().lockVisible&&m(w));s.setColsVisible(C,!0,"uiColumnMoved")}},onGridExit:h=>{if(l){const p=h?.columns?.filter(f=>!f.getColDef().lockVisible)||[];s.setColsVisible(p,!1,"uiColumnMoved")}}};return r.addDragSource(d,!0),d}};function ZA(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function XA(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function JA(e,t){const o=e.getProvidedColumnGroup().getLeafColumns(),n={};o.forEach(l=>n[l.getId()]=l.isVisible());const s=[];t.forEach(l=>{o.indexOf(l)>=0&&(s.push(l),mo(o,l))}),o.forEach(l=>s.push(l));const r=[],i=e.getLeafColumns();for(const l of s)i.indexOf(l)!==-1&&r.push(l);return{columns:s,columnsInSplit:r,visibleState:n,containerType:r[0]?.pinned}}var eL={moduleName:"ColumnMove",version:le,beans:[QA,LA],apiFunctions:{moveColumnByIndex:OA,moveColumns:GA},dependsOn:[Ym],css:[AA]},tL=class extends K{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const o=this.getHeaderCellForColumn(e);if(!o)return-1;const n=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||n.push(o),this.getPreferredWidthForElements(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const o=document.createElement("form");o.style.position="fixed";const n=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,o)),n.appendChild(o);const s=o.offsetWidth;return n.removeChild(o),t=t??this.gos.get("autoSizePadding"),s+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(o=>{const n=o.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";const n=document.createElement("div"),s=n.classList;["ag-header-cell","ag-header-group-cell"].some(l=>o.classList.contains(l))?(s.add("ag-header","ag-header-row"),n.style.position="static"):s.add("ag-row");let i=e.parentElement;for(;i;){if(["ag-header-row","ag-row"].some(a=>i.classList.contains(a))){for(let a=0;a<i.classList.length;a++){const c=i.classList[a];c!="ag-row-position-absolute"&&s.add(c)}break}i=i.parentElement}n.appendChild(o),t.appendChild(n)}},Xm={moduleName:"AutoWidth",version:le,beans:[tL]};function oL(e,t,o=!0,n="api"){e.colResize?.setColumnWidths(t,!1,o,n)}var nL=class extends K{constructor(e,t,o,n){super(),this.comp=e,this.eResize=t,this.pinned=o,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:o}=this.beans,n=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(n),!t.get("suppressAutoSize")&&o&&this.addDestroyFunc(o.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:o,resizeRatios:n,groupAfterColumns:s,groupAfterStartWidth:r,groupAfterRatios:i}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=o,this.resizeRatios=n,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=i,this.toggleColumnResizing(!0)}onResizing(e,t,o="uiColumnResized"){const n=this.normaliseDragChange(t),s=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(s,o,e)}getInitialValues(e){const t=a=>a.reduce((c,u)=>c+u.getActualWidth(),0),o=(a,c)=>a.map(u=>u.getActualWidth()/c),n=this.getColumnsToResize(),s=t(n),r=o(n,s),i={columnsToResize:n,resizeStartWidth:s,resizeRatios:r};let l=null;if(e&&(l=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),l){const a=l.getDisplayedLeafColumns(),c=i.groupAfterColumns=a.filter(d=>d.isResizable()),u=i.groupAfterStartWidth=t(c);i.groupAfterRatios=o(c,u)}else i.groupAfterColumns=void 0,i.groupAfterStartWidth=void 0,i.groupAfterRatios=void 0;return i}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),o=this.getInitialValues();t>o.resizeStartWidth&&this.resizeColumns(o,t,e,!0)}resizeColumnsFromLocalValues(e,t,o=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(n,e,t,o)}resizeColumns(e,t,o,n=!0){const{columnsToResize:s,resizeStartWidth:r,resizeRatios:i,groupAfterColumns:l,groupAfterStartWidth:a,groupAfterRatios:c}=e,u=[];if(u.push({columns:s,ratios:i,width:t}),l){const d=t-r;u.push({columns:l,ratios:c,width:a-d})}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:n,source:o}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},sL=class extends K{constructor(e,t,o,n,s){super(),this.pinned=e,this.column=t,this.eResize=o,this.comp=n,this.ctrl=s}postConstruct(){const e=[];let t,o;const n=()=>{if(ht(this.eResize,t),!t)return;const{horizontalResizeSvc:i,colAutosize:l}=this.beans,a=i.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(a),o&&l&&e.push(l.addColumnAutosize(this.eResize,this.column))},s=()=>{e.forEach(i=>i()),e.length=0},r=()=>{const i=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(i!==t||l!==o)&&(t=i,o=l,s(),n())};r(),this.addDestroyFunc(s),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:o,lastResizeAmount:n,resizeStartWidth:s,beans:r}=this,i=this.normaliseResizeAmount(t),l=s+i,a=[{key:o,newWidth:l}],{pinnedCols:c,ctrlsSvc:u,colResize:d}=r;if(this.column.getPinned()){const h=c?.leftWidth??0,p=c?.rightWidth??0,f=li(u.getGridBodyCtrl().eBodyViewport)-50;if(h+p+(i-n)>f)return}this.lastResizeAmount=i,d?.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const o=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?o&&(t*=-1):n&&(t*=-1),t}},rL=class extends K{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,o,n){const s=[],{colModel:r,gos:i,visibleCols:l}=this.beans;e.forEach(a=>{const c=r.getColDefCol(a.key)||r.getCol(a.key);if(!c)return;if(s.push({width:a.newWidth,ratios:[1],columns:[c]}),i.get("colResizeDefault")==="shift"&&(t=!t),t){const d=l.getColAfter(c);if(!d)return;const h=c.getActualWidth()-a.newWidth,p=d.getActualWidth()+h;s.push({width:p,ratios:[1],columns:[d]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:o,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:o,source:n}=e;if(!(!t||t.every(u=>iL(u)))){if(o){const u=t&&t.length>0?t[0].columns:null;pr(this.eventSvc,u,o,n)}return}const r=[],i=[];t.forEach(u=>{const{width:d,columns:h,ratios:p}=u,f={},m={};h.forEach(v=>i.push(v));let C=!0,w=0;for(;C;){if(w++,w>1e3){et(31);break}C=!1;const v=[];let y=0,D=d;h.forEach((R,M)=>{if(m[R.getId()])D-=f[R.getId()];else{v.push(R);const V=p[M];y+=V}});const A=1/y;v.forEach((R,M)=>{const E=M===v.length-1;let V;E?V=D:(V=Math.round(p[M]*d*A),D-=V);const I=R.getMinWidth(),P=R.getMaxWidth();V<I?(V=I,m[R.getId()]=!0,C=!0):P>0&&V>P&&(V=P,m[R.getId()]=!0,C=!0),f[R.getId()]=V})}h.forEach(v=>{const y=f[v.getId()];v.getActualWidth()!==y&&(v.setActualWidth(y,n),r.push(v))})});const l=r.length>0;let a=[];if(l){const{colFlex:u,visibleCols:d,colViewport:h}=this.beans;a=u?.refreshFlexedColumns({resizingCols:i,skipSetLeft:!0})??[],d.setLeftValues(n),d.updateBodyWidths(),h.checkViewportColumns()}const c=i.concat(a);(l||o)&&pr(this.eventSvc,c,o,n,a)}resizeHeader(e,t,o){if(!e.isResizable())return;const n=e.getActualWidth(),s=e.getMinWidth(),r=e.getMaxWidth(),i=Math.min(Math.max(n+t,s),r);this.setColumnWidths([{key:e,newWidth:i}],o,!0,"uiColumnResized")}createResizeFeature(e,t,o,n,s){return new sL(e,t,o,n,s)}createGroupResizeFeature(e,t,o,n){return new nL(e,t,o,n)}};function iL(e){const{columns:t,width:o}=e;let n=0,s=0,r=!0;t.forEach(a=>{const c=a.getMinWidth();n+=c||0;const u=a.getMaxWidth();u>0?s+=u:r=!1});const i=o>=n,l=!r||o<=s;return i&&l}var lL={moduleName:"ColumnResize",version:le,beans:[rL],apiFunctions:{setColumnWidths:oL},dependsOn:[kA,Xm]},aL=class extends K{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},cL=class extends Wu{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,o,n,s){const{column:r,beans:i}=this,{context:l,colNames:a,colHover:c,rangeSvc:u,colResize:d}=i;this.comp=e,s=Ri(this,l,s),this.setGui(t,s),this.displayName=a.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(s),this.setupExpandable(s),this.setupTooltip(),this.setupAutoHeight({wrapperElement:n,compBean:s}),this.setupUserComp(),this.addHeaderMouseListeners(s),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const h=this.rowCtrl.pinned,p=r.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(s,p,t),u?.createRangeHighlightFeature(s,r,e),s.createManagedBean(new zu(r,t,i)),s.createManagedBean(new aL(e,r)),d?this.resizeFeature=s.createManagedBean(d.createGroupResizeFeature(e,o,h,r)):e.setResizableDisplayed(!1),s.createManagedBean(new Fr(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(s,p),s.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(s),s.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,o=e.getDefinition();return De(t.gos,{colDef:o,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,o=e.get("groupHeaderHeight");o!=null?o===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(o):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const o of t)e.addManagedListeners(o,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,o)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),o=t[0]===e,n=Je(t)===e;if(!o&&!n)return;const s=e.getHighlighted(),r=!!this.rowCtrl.getHeaderCellCtrls().find(a=>a.column.isMoving());let i=!1,l=!1;if(r){const a=this.beans.gos.get("enableRtl"),c=s===1,u=s===0;o&&(a?l=c:i=u),n&&(a?i=u:l=c)}this.comp.toggleCss("ag-header-highlight-before",i),this.comp.toggleCss("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:o}=this;if(!o)return;const n=o.getInitialValues(t);o.resizeColumns(n,n.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:o,enterpriseMenuFactory:n}=this.beans,s=this.column,r=s.getProvidedColumnGroup(),i=De(o,{displayName:this.displayName,columnGroup:s,setExpanded:a=>{e.setColumnGroupOpened(r,a,"gridInitializing")},setTooltip:(a,c)=>{o.assertModuleRegistered("Tooltip",3),this.setupTooltip(a,c)},showColumnMenu:(a,c)=>n?.showMenuAfterButtonClick(r,a,"columnMenu",c),showColumnMenuAfterMouseClick:(a,c)=>n?.showMenuAfterMouseEvent(r,a,"columnMenu",c),eGridHeader:this.eGui}),l=VI(t,i);l&&this.comp.setUserCompDetails(l)}addHeaderMouseListeners(e){const t=s=>this.handleMouseOverChange(s.type==="mouseenter"),o=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=s=>this.handleContextMenuMouseEvent(s,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:o,contextmenu:n})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const o=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:o,expandableChanged:o})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),o=fm(t,this.gos,null,e);e.isPadding()?(o.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&o.push("ag-header-span-height")):(o.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&o.push("ag-header-cell-wrap-text")),o.forEach(n=>this.comp.toggleCss(n,!0))}setupMovingCss(e){const{column:t}=this,n=t.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());n.forEach(r=>{e.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===U.ENTER){const o=this.column,n=!o.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(o.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function uL(e,t,o){e.colGroupSvc?.setColumnGroupOpened(t,o,"api")}function dL(e,t,o){return e.colGroupSvc?.getColumnGroup(t,o)??null}function hL(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function gL(e,t,o){return e.colNames.getDisplayNameForColumnGroup(t,o)||""}function pL(e){return e.colGroupSvc?.getColumnGroupState()??[]}function fL(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function mL(e){e.colGroupSvc?.resetColumnGroupState("api")}function CL(e){return e.visibleCols.treeLeft}function wL(e){return e.visibleCols.treeCenter}function vL(e){return e.visibleCols.treeRight}function bL(e){return e.visibleCols.getAllTrees()}function SL(e,t){for(let o=0;o<t.length;o++){const n=e.indexOf(t[o]);n>=0&&(e[n]=e[e.length-1],e.pop())}}var yL=class extends K{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:o,colModel:n,colGroupSvc:s,colViewport:r,selectionColSvc:i}=this.beans;t||this.buildTrees(n,s),s?.updateOpenClosedVisibility(),this.leftCols=$a(this.treeLeft),this.centerCols=$a(this.treeCenter),this.rightCols=$a(this.treeRight),i?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(n),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),o?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(n,this.leftCols,this.rightCols,e),r.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let o=t.getParent();for(;o;){if(!o.isPadding()){const n=o.getProvidedColumnGroup().getLevel()+1;n>e&&(e=n);break}o=o.getParent()}}return e}updateBodyWidths(){const e=ln(this.centerCols),t=ln(this.leftCols),o=ln(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,o,n){let s,r;this.gos.get("enableRtl")?(s=t?t[0]:null,r=o?Je(o):null):(s=t?Je(t):null,r=o?o[0]:null),e.getCols().forEach(i=>{i.setLastLeftPinned(i===s,n),i.setFirstRightPinned(i===r,n)})}buildTrees(e,t){const o=e.getColsToShow(),n=o.filter(a=>a.getPinned()=="left"),s=o.filter(a=>a.getPinned()=="right"),r=o.filter(a=>a.getPinned()!="left"&&a.getPinned()!="right"),i=new Jf,l=a=>t?t.createColumnGroups(a):a.columns;this.treeLeft=l({columns:n,idCreator:i,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:s,idCreator:i,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:r,idCreator:i,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),o=[],n=[],s=[];for(const r of t){const i=r.getPinned();i?i===!0||i==="left"?o.push(r):s.push(r):n.push(r)}this.ariaOrderColumns=o.concat(n).concat(s)}getAriaColIndex(e){let t;return ft(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{ft(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const n=t.getCols().slice(0),s=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(s){let i=ln(r);r.forEach(l=>{i-=l.getActualWidth(),l.setLeft(i,e)})}else{let i=0;r.forEach(l=>{l.setLeft(i,e),i+=l.getActualWidth()})}SL(n,r)}),n.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:o}}=this;return o.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:o}}=this;return o.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,o,n){const s=[];let r=null;for(let i=0;i<t.length;i++){const l=t[i],a=t.length-i,c=Math.min(l.getColSpan(e),a),u=[l];if(c>1){const h=c-1;for(let p=1;p<=h;p++)u.push(t[i+p]);i+=h}let d;o?(d=!1,u.forEach(h=>{o(h)&&(d=!0)})):d=!0,d&&(s.length===0&&r&&(n&&n(l))&&s.push(r),s.push(l)),r=l}return s}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,o=t.indexOf(e);return o>0?t[o-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};gs(this.treeCenter,!1,e),gs(this.treeLeft,!1,e),gs(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let o=0;o<t.length;o++){const n=this[t[o]];if(n.length)return e?Je(n):n[0]}return null}getColAfter(e){const t=this.allCols,o=t.indexOf(e);return o<t.length-1?t[o+1]:null}getColsLeftWidth(){return ln(this.leftCols)}getDisplayedColumnsRightWidth(){return ln(this.rightCols)}isColAtEdge(e,t){const o=this.allCols;if(!o.length)return!1;const n=t==="first";let s;if(ft(e)){const r=e.getDisplayedLeafColumns();if(!r.length)return!1;s=n?r[0]:Je(r)}else s=e;return(n?o[0]:Je(o))===s}};function gs(e,t,o){if(e)for(let n=0;n<e.length;n++){const s=e[n];if(ft(s)){const r=t?s.getDisplayedChildren():s.getChildren();gs(r,t,o)}o(s)}}function $a(e){const t=[];return gs(e,!0,o=>{zn(o)&&t.push(o)}),t}var RL=class extends K{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return fn(null,t,o=>{Ot(o)&&e.push({groupId:o.getGroupId(),open:o.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const o=[];fn(null,t,n=>{if(Ot(n)){const s=n.getColGroupDef(),r={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};o.push(r)}}),this.setColumnGroupState(o,e)}setColumnGroupState(e,t){const{colModel:o,colAnimation:n,visibleCols:s,eventSvc:r}=this.beans;if(!o.getColTree().length)return;n?.start();const l=[];e.forEach(a=>{const c=a.groupId,u=a.open,d=this.getProvidedColGroup(c);d&&d.isExpanded()!==u&&(d.setExpanded(u),l.push(d))}),s.refresh(t,!0),l.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),n?.finish()}setColumnGroupOpened(e,t,o){let n;Ot(e)?n=e.getId():n=e||"",this.setColumnGroupState([{groupId:n,open:t}],o)}getProvidedColGroup(e){let t=null;return fn(null,this.beans.colModel.getColTree(),o=>{Ot(o)&&o.getId()===e&&(t=o)}),t}getGroupAtDirection(e,t){const o=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),s=t==="After"?Je(n):n[0],r=`getCol${t}`;for(;;){const i=this.beans.visibleCols[r](s);if(!i)return null;const l=this.getColGroupAtLevel(i,o);if(l!==e)return l}}getColGroupAtLevel(e,t){let o=e.getParent(),n,s;for(;n=o.getProvidedColumnGroup().getLevel(),s=o.getPaddingLevel(),!(n+s<=t);)o=o.getParent();return o}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();gs(e,!1,t=>{ft(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(ft(e))return e;const o=this.beans.visibleCols.getAllTrees(),n=typeof t=="number";let s=null;return gs(o,!1,r=>{if(ft(r)){const i=r;let l;n?l=e===i.getGroupId()&&t===i.getPartId():l=e===i.getGroupId(),l&&(s=i)}}),s}createColumnGroups(e){const{columns:t,idCreator:o,pinned:n,oldDisplayedGroups:s,isStandaloneStructure:r}=e,i=this.mapOldGroupsById(s),l=[];let a=t;for(;a.length;){const c=a;a=[];let u=0;const d=h=>{const p=u;u=h;const f=c[p],C=(ft(f)?f.getProvidedColumnGroup():f).getOriginalParent();if(C==null){for(let v=p;v<h;v++)l.push(c[v]);return}const w=this.createColumnGroup(C,o,i,n,r);for(let v=p;v<h;v++)w.addChild(c[v]);a.push(w)};for(let h=1;h<c.length;h++){const p=c[h],m=(ft(p)?p.getProvidedColumnGroup():p).getOriginalParent(),C=c[u],v=(ft(C)?C.getProvidedColumnGroup():C).getOriginalParent();m!==v&&d(h)}u<c.length&&d(c.length)}return r||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,o,n,s,r,i){const l=s.getUniqueKey(t.groupId||null,null),a=Ch(this.beans,t,l),c=new tl(a,l,!1,o);this.createBean(c);const u=this.findExistingGroup(t,r);u&&r.splice(u.idx,1);const d=u?.group;d&&c.setExpanded(d.isExpanded());const h=Uf(this.beans,a.children,o+1,e,n,s,r,i);return c.setChildren(h),c}balanceColumnTree(e,t,o,n){const s=[];for(let r=0;r<e.length;r++){const i=e[r];if(Ot(i)){const l=i,a=this.balanceColumnTree(l.getChildren(),t+1,o,n);l.setChildren(a),s.push(l)}else{let l,a;for(let c=t;c<o;c++){const u=n.getUniqueKey(null,null),d=Ch(this.beans,null,u),h=new tl(d,u,!0,c);this.createBean(h),a&&a.setChildren([h]),a=h,l||(l=a)}if(l&&a)if(s.push(l),e.some(u=>Ot(u))){a.setChildren([i]);continue}else{a.setChildren(e);break}s.push(i)}}return s}findDepth(e){let t=0,o=e;for(;o&&o[0]&&Ot(o[0]);)t++,o=o[0].getChildren();return t}findMaxDepth(e,t){let o=t;for(let n=0;n<e.length;n++){const s=e[n];if(Ot(s)){const r=s,i=this.findMaxDepth(r.getChildren(),t+1);o<i&&(o=i)}}return o}balanceTreeForAutoCols(e,t){const o=[];return e.forEach(n=>{let s=n;for(let r=t-1;r>=0;r--){const i=new tl(null,`FAKE_PATH_${n.getId()}}_${r}`,!0,r);this.createBean(i),i.setChildren([s]),s.originalParent=i,s=i}t===0&&(n.originalParent=null),o.push(s)}),o}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const s=t[n];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:n,group:s}}}createColumnGroup(e,t,o,n,s){const r=e.getGroupId(),i=t.getInstanceIdForKey(r),l=Rm(r,i);let a=o[l];return a&&a.getProvidedColumnGroup()!==e&&(a=null),ie(a)?a.reset():(a=new gi(e,r,i,n),s||this.createBean(a)),a}mapOldGroupsById(e){const t={},o=n=>{n.forEach(s=>{if(ft(s)){const r=s;t[s.getUniqueId()]=r,o(r.getChildren())}})};return e&&o(e),t}setupParentsIntoCols(e,t){e.forEach(o=>{if(o.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),o.parent=t,ft(o)){const n=o;this.setupParentsIntoCols(n.getChildren(),n)}})}},xL={moduleName:"ColumnGroup",version:le,dynamicBeans:{headerGroupCellCtrl:cL},beans:[RL],apiFunctions:{getAllDisplayedColumnGroups:bL,getCenterDisplayedColumnGroups:wL,getColumnGroup:dL,getColumnGroupState:pL,getDisplayNameForColumnGroup:gL,getLeftDisplayedColumnGroups:CL,getProvidedColumnGroup:hL,getRightDisplayedColumnGroups:vL,resetColumnGroupState:mL,setColumnGroupOpened:uL,setColumnGroupState:fL}},PL={tag:"div",cls:"ag-skeleton-container"},FL=class extends nt{constructor(){super(PL)}init(t){const o=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",o),this.addDestroyFunc(()=>ri(t.eParentOfValue)),ri(t.eParentOfValue,o),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const o=t("ariaSkeletonCellLoadingFailed","Row failed to load");hr(this.getGui(),o)}setupLoading(t){const o=Ct({tag:"div",cls:"ag-skeleton-effect"}),n=t.node.rowIndex;if(n!=null){const i=75+25*(n%2===0?Math.sin(n):Math.cos(n));o.style.width=`${i}%`}this.getGui().appendChild(o);const s=this.getLocaleTextFunc(),r=t.deferRender?s("ariaDeferSkeletonCellLoading","Cell is loading"):s("ariaSkeletonCellLoading","Row data is loading");hr(this.getGui(),r)}refresh(t){return!1}},EL={moduleName:"CheckboxCellRenderer",version:le,userComponents:{agCheckboxCellRenderer:Rk}},DL={moduleName:"SkeletonCellRenderer",version:le,userComponents:{agSkeletonCellRenderer:FL}};function ML(e,t){const o=e.colModel.getColDefCol(t);return o?o.getColDef():null}function IL(e){return e.colModel.getColumnDefs()}function TL(e,t,o){return e.colNames.getDisplayNameForColumn(t,o)||""}function kL(e,t){return e.colModel.getColDefCol(t)}function AL(e){return e.colModel.getColDefCols()}function LL(e,t){return Fo(e,t,"api")}function OL(e){return Ll(e)}function GL(e){uI(e,"api")}function HL(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function VL(e){return e.visibleCols.isPinningLeft()}function BL(e){return e.visibleCols.isPinningRight()}function NL(e,t){return e.visibleCols.getColAfter(t)}function zL(e,t){return e.visibleCols.getColBefore(t)}function WL(e,t,o){e.colModel.setColsVisible(t,o,"api")}function _L(e,t,o){e.pinnedCols?.setColsPinned(t,o,"api")}function $L(e){return e.colModel.getCols()}function UL(e){return e.visibleCols.leftCols}function jL(e){return e.visibleCols.centerCols}function KL(e){return e.visibleCols.rightCols}function qL(e){return e.visibleCols.allCols}function YL(e){return e.colViewport.getViewportColumns()}function zc(e,t){if(!e)return;const o=e,n={};return Object.keys(o).forEach(s=>{if(t&&t.indexOf(s)>=0||Xp.has(s))return;const r=o[s];typeof r=="object"&&r!==null&&r.constructor===Object?n[s]=zc(r):n[s]=r}),n}var QL=class extends K{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,o,n){const s=e.slice();t?s.sort((l,a)=>o.indexOf(l)-o.indexOf(a)):o&&s.sort((l,a)=>n.indexOf(l)-n.indexOf(a));const r=this.rowGroupColsSvc?.columns,i=this.pivotColsSvc?.columns;return this.buildColumnDefs(s,r,i)}buildColumnDefs(e,t=[],o=[]){const n=[],s={};return e.forEach(r=>{const i=this.createDefFromColumn(r,t,o);let l=!0,a=i,c=r.getOriginalParent(),u=null;for(;c;){let d=null;if(c.isPadding()){c=c.getOriginalParent();continue}const h=s[c.getGroupId()];if(h){h.children.push(a),l=!1;break}if(d=this.createDefFromGroup(c),d&&(d.children=[a],s[d.groupId]=d,a=d,c=c.getOriginalParent()),c!=null&&u===c){l=!1;break}u=c}l&&n.push(a)}),n}createDefFromGroup(e){const t=zc(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,o){const n=zc(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?o.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},ZL=class extends K{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const o=this.flexViewportWidth;if(!o)return[];const{visibleCols:n}=this.beans,s=n.centerCols;let r=-1;if(e.resizingCols){const f=new Set(e.resizingCols);for(let m=s.length-1;m>=0;m--)if(f.has(s[m])){r=m;break}}let i=!1;const l=s.map((f,m)=>{const C=f.getFlex(),w=C!=null&&C>0&&m>r;return i||(i=w),{col:f,isFlex:w,flex:Math.max(0,C??0),initialSize:f.getActualWidth(),min:f.getMinWidth(),max:f.getMaxWidth(),targetSize:0}});if(!i)return[];let a=l.length,c=l.reduce((f,m)=>f+m.flex,0),u=o;const d=(f,m)=>{f.frozenSize=m,f.col.setActualWidth(m,t),u-=m,c-=f.flex,a-=1},h=f=>f.frozenSize!=null;for(const f of l)f.isFlex||d(f,f.initialSize);for(;a>0;){const f=Math.round(c<1?u*c:u);let m,C=0,w=0;for(const D of l){if(h(D))continue;m=D,w+=f*(D.flex/c);const A=w-C,R=Math.round(A);D.targetSize=R,C+=R}m&&(m.targetSize+=f-C);let v=0;for(const D of l){if(h(D))continue;const A=D.targetSize,R=Math.min(Math.max(A,D.min),D.max);v+=R-A,D.violationType=R===A?void 0:R<A?"max":"min",D.targetSize=R}const y=v===0?"all":v>0?"min":"max";for(const D of l)h(D)||(y==="all"||D.violationType===y)&&d(D,D.targetSize)}e.skipSetLeft||n.setLeftValues(t),e.updateBodyWidths&&n.updateBodyWidths();const p=l.filter(f=>f.isFlex&&!f.violationType).map(f=>f.col);if(e.fireResizedEvent){const f=l.filter(C=>C.initialSize!==C.frozenSize).map(C=>C.col),m=l.filter(C=>C.flex).map(C=>C.col);pr(this.eventSvc,f,!0,t,m)}return p}initCol(e){const{flex:t,initialFlex:o}=e.colDef;t!==void 0?e.flex=t:o!==void 0&&(e.flex=o)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},XL=["dateTimeString","dateString","text","number","boolean","date"],JL=class extends K{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===U.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:o}){return{cellEditorParams:{useFormatter:!0},comparator:(n,s)=>{const r=t.getColDefCol(o),i=r?.getColDef();if(!r||!i)return 0;const l=n==null?"":e({column:r,node:null,value:n}),a=s==null?"":e({column:r,node:null,value:s});return l===a?0:l>a?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},o={},n=u=>d=>{const{column:h,node:p,value:f}=d;let m=h.getColDef().valueFormatter;return m===u.groupSafeValueFormatter&&(m=u.valueFormatter),this.beans.valueSvc.formatValue(h,p,f,m)};for(const u of Object.keys(e)){const d=e[u],h={...d,groupSafeValueFormatter:Yh(d,this.gos)};t[u]=h,o[u]=n(h)}const s=this.gos.get("dataTypeDefinitions")??{},r={};for(const u of Object.keys(s)){const d=s[u],h=this.processDataTypeDefinition(d,s,[u],e);h&&(t[u]=h,d.dataTypeMatcher&&(r[u]=d.dataTypeMatcher),o[u]=n(h))}const{valueParser:i,valueFormatter:l}=e.object,{valueParser:a,valueFormatter:c}=t.object;this.hasObjectValueParser=a!==i,this.hasObjectValueFormatter=c!==l,this.formatValueFuncs=o,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(r,e)}sortKeysInMatchers(e,t){const o={...e};for(const n of XL)delete o[n],o[n]=e[n]??t[n].dataTypeMatcher;return o}processDataTypeDefinition(e,t,o,n){let s;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let i=n[r];const l=t[r];if(i&&l&&(i=l),!qh(e,i,r))return;s=Kh(i,e)}else{if(o.includes(r)){ee(44);return}const i=t[r];if(!qh(e,i,r))return;const l=this.processDataTypeDefinition(i,t,[...o,r],n);if(!l)return;s=Kh(l,e)}return{...s,groupSafeValueFormatter:Yh(s,this.gos)}}updateColDefAndGetColumnType(e,t,o){let{cellDataType:n}=t;const{field:s}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(s,o):!1),!n){e.cellDataType=!1;return}const r=this.dataTypeDefinitions[n];if(!r){ee(47,{cellDataType:n});return}return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r,o),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const o=n=>{t.add(n.key)};e.__addEventListener("columnStateUpdated",o),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",o))}canInferCellDataType(e,t){const{gos:o}=this;if(!vt(o))return!1;const n={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Ua(t,n))return!1;const s=t.type===null?e.type:t.type;if(s){const r=o.get("columnTypes")??{};if(Al(s).some(l=>{const a=r[l.trim()];return a&&Ua(a,n)}))return!1}return!Ua(e,n)}inferCellDataType(e,t){if(!e)return;let o;const n=this.getInitialData();if(n){const r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");o=jr(n,e,r)}else this.initWaitForRowData(t);return o==null?void 0:Object.keys(this.dataTypeMatchers).find(r=>this.dataTypeMatchers[r](o))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:o,eventSvc:n}=this.beans;t&&o&&(o.shouldQueueResizeOperations=!0);const[s]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{const{firstRowData:i}=r;i&&(s?.(),this.isPendingInference=!1,this.processColumnsPendingInference(i,t),this.columnStateUpdatesPendingInference={},t&&o?.processResizeOperations(),n.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const o=[];this.destroyColumnStateUpdateListeners();const n={},s={};for(const r of Object.keys(this.columnStateUpdatesPendingInference)){const i=this.columnStateUpdatesPendingInference[r],l=this.colModel.getCol(r);if(!l)return;const a=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))return;const c=l.getColDef();if(t&&c.type&&c.type!==a.type){const u=tO(l,i);u.rowGroup&&u.rowGroupIndex==null&&(n[r]=u),u.pivot&&u.pivotIndex==null&&(s[r]=u),o.push(u)}}t&&o.push(...this.generateColumnStateForRowGroupAndPivotIndexes(n,s)),o.length&&Fo(this.beans,{state:o},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const o={},{rowGroupColsSvc:n,pivotColsSvc:s}=this.beans;return n?.restoreColumnOrder(o,e),s?.restoreColumnOrder(o,t),Object.values(o)}resetColDefIntoCol(e,t){const o=e.getUserProvidedColDef();if(!o)return!1;const n=Ec(this.beans,o,e.getColId());return e.setColDef(n,o,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const o=this.getDataTypeDefinition(e)?.dataTypeMatcher;return o?o(t):!0}validateColDef(e){const t=o=>ee(48,{property:o});if(e.cellDataType==="object"){const{object:o}=this.dataTypeDefinitions;e.valueFormatter===o.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===o.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:o,beans:n,formatValueFuncs:s}=this,r=o[t];n.colFilter?.setColDefPropsForDataType(e,r,s[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,o,n){const s=this.formatValueFuncs[t],r=this.columnDefinitionPropsPerDataType[o.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:o,colId:n,formatValue:s});Object.assign(e,r)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),o=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:n=>Yt(n.newValue&&String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):to(n.value,o)??"",dataTypeMatcher:n=>n instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:o=>Yt(o)??void 0,dateFormatter:o=>to(o??null,t)??void 0,valueParser:o=>sl(String(o.newValue))?o.newValue:null,valueFormatter:o=>sl(String(o.value))?String(o.value):"",dataTypeMatcher:o=>typeof o=="string"&&sl(o)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:mc(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&uT(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>mc(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function Kh(e,t){const o={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(o.columnTypes=[...Al(e.columnTypes),...Al(t.columnTypes)]),o}function qh(e,t,o){return t?t.baseDataType!==e.baseDataType?(ee(46),!1):!0:(ee(45,{parentCellDataType:o}),!1)}function Yh(e,t){if(e.valueFormatter)return o=>{if(o.node?.group){const n=(o.colDef.pivotValueColumn??o.column).getAggFunc();if(n){if(n==="first"||n==="last")return e.valueFormatter(o);if(e.baseDataType==="number"&&n!=="count"){if(typeof o.value=="number")return e.valueFormatter(o);if(typeof o.value=="object"){if(!o.value)return;if("toNumber"in o.value)return e.valueFormatter({...o,value:o.value.toNumber()});if("value"in o.value)return e.valueFormatter({...o,value:o.value.value})}}return}}else if(t.get("groupHideOpenParents")&&o.column.isRowGroupActive()&&typeof o.value=="string"&&!e.dataTypeMatcher?.(o.value))return;return e.valueFormatter(o)}}function eO(e,t,o,n){if(!t[o])return!1;const s=e[o];return s===null?(t[o]=!1,!1):n===void 0?!!s:s===n}function Ua(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([o,n])=>eO(e,t,o,n))}function tO(e,t){const o=Xf(e);return t.forEach(n=>{delete o[n],n==="rowGroup"?delete o.rowGroupIndex:n==="pivot"&&delete o.pivotIndex}),o}var oO={moduleName:"DataType",version:le,beans:[JL],dependsOn:[EL]},nO={moduleName:"ColumnFlex",version:le,beans:[ZL]},Jm={moduleName:"ColumnApi",version:le,beans:[QL],apiFunctions:{getColumnDef:ML,getDisplayNameForColumn:TL,getColumn:kL,getColumns:AL,applyColumnState:LL,getColumnState:OL,resetColumnState:GL,isPinning:HL,isPinningLeft:VL,isPinningRight:BL,getDisplayedColAfter:NL,getDisplayedColBefore:zL,setColumnsVisible:WL,setColumnsPinned:_L,getAllGridColumns:$L,getDisplayedLeftColumns:UL,getDisplayedCenterColumns:jL,getDisplayedRightColumns:KL,getAllDisplayedColumns:qL,getAllDisplayedVirtualColumns:YL,getColumnDefs:IL}};function sO(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,o=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(o,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}var rO=class extends K{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,o=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:s}=this.beans;return o&&s?s.getHeaderName(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,o){const n=t?.getColGroupDef();return n?this.getHeaderName(n,null,e,t,o):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,o,n,s){const r=e.headerValueGetter;if(r){const i=De(this.gos,{colDef:e,column:t,columnGroup:o,providedColumnGroup:n,location:s});return typeof r=="function"?r(i):typeof r=="string"?this.beans.expressionSvc?.evaluate(r,i)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return sO(e.field)}return""}},iO=class extends K{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,o=!1){const{visibleCols:n}=this,s=n.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!s)){if(this.scrollWidth=e,this.scrollPosition=t,n.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const i=n.bodyWidth;this.viewportLeft=i-t-e,this.viewportRight=i-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(o)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let o;switch(e){case"left":o=this.rowsOfHeadersToRenderLeft[t];break;case"right":o=this.rowsOfHeadersToRenderRight[t];break;default:o=this.rowsOfHeadersToRenderCenter[t];break}return o??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||lO(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,o=t+e.getActualWidth(),n=this.viewportLeft-200,s=this.viewportRight+200,r=t<n&&o<n,i=t>s&&o>s;return!r&&!i}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=r=>{const i=r.getLeft();return ie(i)&&i>this.viewportLeft},o=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:n}=this,s=n.centerCols;return n.getColsForRow(e,s,o,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const o=n=>{const s=new Set,r={};for(const i of n){let l=i.getParent();const a=i.isSpanHeaderHeight();for(;l&&!s.has(l);){if(a&&l.isPadding()){l=l.getParent();continue}const u=l.getProvidedColumnGroup().getLevel();r[u]??(r[u]=[]),r[u].push(l),s.add(l),l=l.getParent()}}return r};this.rowsOfHeadersToRenderLeft=o(e),this.rowsOfHeadersToRenderRight=o(t),this.rowsOfHeadersToRenderCenter=o(this.headerColsWithinViewport)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),o=this.colsWithinViewportHash!==t;return o&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),o}};function lO(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var aO=class extends K{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class o{refresh(){return!1}getGui(){return this.eGui}init(s){const r=t(s),i=typeof r;if(i==="string"||i==="number"||i==="boolean"){this.eGui=yu("<span>"+r+"</span>");return}if(r==null){this.eGui=Ct({tag:"span"});return}this.eGui=r}}return o}},cO={moduleName:"CellRendererFunction",version:le,beans:[aO]},uO=class extends K{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:o,dynamicBeans:n,selectors:s}=e;if(o){const r=(i,l,a,c)=>{this.agGridDefaults[i]=l,(a||c)&&(this.agGridDefaultOverrides[i]={params:a,processParams:c})};for(const i of Object.keys(o)){let l=o[i];if(l0(l)&&(l=l.getComp(this.beans)),typeof l=="object"){const{classImp:a,params:c,processParams:u}=l;r(i,a,c,u)}else r(i,l)}}if(n){this.dynamicBeans??(this.dynamicBeans={});for(const r of Object.keys(n))this.dynamicBeans[r]=n[r]}if(s?.forEach(r=>{this.selectors[r.selector]=r}),t)for(const r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){const o=(l,a,c,u)=>({componentFromFramework:a,component:l,params:c,processParams:u}),{frameworkOverrides:n}=this.beans,s=n.frameworkComponent(t,this.gos.get("components"));if(s!=null)return o(s,!0);const r=this.jsComps[t];if(r){const l=n.isFrameworkComponent(r);return o(r,l)}const i=this.agGridDefaults[t];if(i){const l=this.agGridDefaultOverrides[t];return o(i,!1,l?.params,l?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...o){if(!this.dynamicBeans)throw new Error(_o(279,{name:e}));const n=this.dynamicBeans[e];if(n==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??_o(256));return}return new n(...o)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},dO=23,hO=class extends K{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===dO&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const o=this.readyCallbacks.indexOf(t);o>=0&&this.readyCallbacks.splice(o,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:o}=this.params;return[e,o,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},gO=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',qu=typeof window!="object"||!window?.document?.fonts?.forEach,Cr=(e,t,o,n,s,r)=>{if(qu)return;n&&(e=`@layer ${CSS.escape(n)} { ${e} }`);let i=lr.map.get(t);if(i||(i=[],lr.map.set(t,i)),i.find(u=>u.css===e))return;const l=document.createElement("style");r&&l.setAttribute("nonce",r),l.dataset.agGlobalCss=o,l.textContent=e;const a={css:e,el:l,priority:s};let c;for(const u of i){if(u.priority>s)break;c=u}if(c){c.el.insertAdjacentElement("afterend",l);const u=i.indexOf(c);i.splice(u+1,0,a)}else t.insertBefore(l,t.querySelector(":not(title, meta)")),i.push(a)},eC=(e,t,o)=>{Cr(gO,e,"core",t,0,o),Array.from(t0()).sort((n,s)=>n.moduleName.localeCompare(s.moduleName)).forEach(n=>n.css?.forEach(s=>Cr(s,e,`module-${n.moduleName}`,t,0,o)))},pO=e=>{lr.grids.add(e)},fO=e=>{if(lr.grids.delete(e),lr.grids.size===0){lr.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Qh,lr=(Qh=typeof window=="object"?window:{}).agStyleInjectionState??(Qh.agStyleInjectionState={map:new WeakMap,grids:new Set}),jo=e=>new tC(e),An="$default",mO=0,tC=class{constructor({feature:e,params:t,modeParams:o={},css:n,cssImports:s}){this.feature=e,this.css=n,this.cssImports=s,this.modeParams={[An]:{...o[An]??{},...t??{}},...o}}use(e,t,o){let n=this._inject;if(n==null){let{css:s}=this;if(s){const r=`ag-theme-${this.feature??"part"}-${++mO}`;typeof s=="function"&&(s=s()),s=`:where(.${r}) {
${s}
}
`;for(const i of this.cssImports??[])s=`@import url(${JSON.stringify(i)});
${s}`;n={css:s,class:r}}else n=!1;this._inject=n}return n&&e&&Cr(n.css,e,n.class,t,1,o),n?n.class:!1}},CO=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),oC=e=>`--ag-${CO(e)}`,Ko=e=>`var(${oC(e)})`,wO=(e,t,o)=>Math.max(t,Math.min(o,e)),vO=e=>{const t=new Map;return o=>{const n=o;return t.has(n)||t.set(n,e(o)),t.get(n)}},Lo=e=>({ref:"accentColor",mix:e}),lo=e=>({ref:"foregroundColor",mix:e}),go=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),bO=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Kt={ref:"backgroundColor"},$s={ref:"foregroundColor"},an={ref:"accentColor"},_l={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:lo(.15),chromeBackgroundColor:go(.02),browserColorScheme:"light"},SO={..._l,textColor:$s,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Kt,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:an,rangeSelectionBackgroundColor:Lo(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Lo(.5),rangeHeaderHighlightColor:bO(.08),rowNumbersSelectedColor:Lo(.5),rowHoverColor:Lo(.08),columnHoverColor:Lo(.05),selectedRowBackgroundColor:Lo(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Kt,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Kt,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:lo(.7),focusShadow:{spread:3,color:Lo(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:lo(.1),iconButtonActiveColor:an,iconButtonActiveBackgroundColor:Lo(.28),iconButtonActiveIndicatorColor:an,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:an,toggleButtonOffBackgroundColor:go(.3),toggleButtonSwitchBackgroundColor:Kt,toggleButtonSwitchInset:2,menuBorder:{color:lo(.2)},menuBackgroundColor:go(.03),menuTextColor:go(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:lo(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:an},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:lo(.2)},panelBackgroundColor:Kt,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:lo(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:lo(.13)},selectCellBackgroundColor:lo(.07),selectCellBorder:{color:lo(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Kt,filterPanelApplyButtonBackgroundColor:an,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:$s,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:$s,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:lo(.15),statusBarLabelColor:$s,statusBarLabelFontWeight:500,statusBarValueColor:$s,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},yO=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",nC={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},RO={...nC,cellBatchEditTextColor:"#f3d0b3"},xO=()=>jo({feature:"batchEditStyle",params:nC,css:yO}),PO=xO(),FO=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",EO={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},DO=()=>jo({feature:"buttonStyle",params:{...EO,buttonBackgroundColor:Kt,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:an}},css:FO}),MO=DO(),IO=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",TO=()=>jo({feature:"columnDropStyle",css:IO}),sC=TO(),kO=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],AO=vO(e=>(e=e.toLowerCase(),kO.find(t=>e.endsWith(t.toLowerCase()))??"length")),ua=e=>typeof e=="object"&&e?.ref?Ko(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,Yu=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Ko(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Ko(e.onto):"transparent"}, ${t} ${wO(e.mix*100,0,100)}%)`}return!1},LO=ua,qs=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,o=>o[0]==="-"?o:` ${Ko(o)} `)})`:e&&"ref"in e?Ko(e.ref):!1,OO=ua,Wc=(e,t)=>typeof e=="string"?e:e===!0?Wc({},t):e===!1?t==="columnBorder"?Wc({color:"transparent"},t):"none":e&&"ref"in e?Ko(e.ref):rC(e.style??"solid")+" "+qs(e.width??{ref:"borderWidth"})+" "+Yu(e.color??{ref:"borderColor"}),GO=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Ko(e.ref):[qs(e.offsetX??0),qs(e.offsetY??0),qs(e.radius??0),qs(e.spread??0),Yu(e.color??{ref:"foregroundColor"})].join(" "),rC=ua,iC=e=>typeof e=="string"?e.includes(",")?e:Zh(e):e&&"googleFont"in e?iC(e.googleFont):e&&"ref"in e?Ko(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),Zh(t))).join(", "):!1,Zh=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),HO=ua,lC=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?lC({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Ko(e.ref):!1,VO=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&et(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Ko(e.ref):!1,BO={color:Yu,colorScheme:LO,length:qs,scale:OO,border:Wc,borderStyle:rC,shadow:GO,image:lC,fontFamily:iC,fontWeight:HO,duration:VO},NO=(e,t)=>{const o=AO(e);return BO[o](t,e)},zO=()=>new aC().withPart(MO).withPart(sC).withPart(PO),aC=class cC{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof tC?new cC([...this.parts,t]):(Wr(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(jo({feature:t}))}withParams(t,o=An){return this.withPart(jo({modeParams:{[o]:t}}))}_startUse({styleContainer:t,cssLayer:o,nonce:n,loadThemeGoogleFonts:s}){if(qu)return;_O(),eC(t,o,n);const r=WO(this);if(r.length>0)for(const i of r)s&&UO(i,n);for(const i of this.parts)i.use(t,o,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=Xh(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const o={[An]:{...SO}};for(const n of Xh(this.parts))for(const s of Object.keys(n.modeParams)){const r=n.modeParams[s];if(r){const i=o[s]??(o[s]={}),l=new Set;for(const a of Object.keys(r)){const c=r[a];c!==void 0&&(i[a]=c,l.add(a))}if(s===An)for(const a of Object.keys(o)){const c=o[a];if(a!==An)for(const u of l)delete c[u]}}}this._paramsCache=t=o}return t}_getPerGridCss(t){const o="##SELECTOR##";let n=this._paramsCssCache;if(!n){let s="",r="";const i=this._getModeParams();for(const a of Object.keys(i)){const c=i[a];if(a!==An){const d=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(a):a}"]) & {
`;s+=d,r+=d}for(const u of Object.keys(c).sort()){const d=c[u],h=NO(u,d);if(h===!1)et(107,{key:u,value:d});else{const p=oC(u),f=p.replace("--ag-","--ag-inherited-");s+=`	${p}: var(${f}, ${h});
`,r+=`	${f}: var(${p});
`}}a!==An&&(s+=`}
`,r+=`}
`)}let l=`${o} {
${s}}
`;l+=`:has(> ${o}):not(${o}) {
${r}}
`,this._paramsCssCache=n=l}return n.replaceAll(o,`:where(.${t})`)}},Xh=e=>{const t=new Map;for(const n of e)t.set(n.feature,n);const o=[];for(const n of e)(!n.feature||t.get(n.feature)===n)&&o.push(n);return o},WO=e=>{const t=new Set,o=r=>{if(Array.isArray(r))r.forEach(o);else{const i=r?.googleFont;typeof i=="string"&&t.add(i)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(o),Array.from(t).sort()},Jh=!1,_O=()=>{if(!Jh){Jh=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},$O=new Set,UO=async(e,t)=>{$O.add(e);const o=`@import url('https://${jO}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Cr(o,document.head,`googleFont:${e}`,void 0,0,t)},jO="fonts.googleapis.com",KO='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',qO=()=>jo({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Kt,checkboxUncheckedBorderColor:go(.3),checkboxCheckedBackgroundColor:an,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Kt,checkboxIndeterminateBackgroundColor:go(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Kt,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:KO}),YO=qO(),uC=()=>({..._l,...RO,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:go(.05),rowHoverColor:Lo(.15),selectedRowBackgroundColor:Lo(.2),menuBackgroundColor:go(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:$s,findMatchColor:Kt,findActiveMatchColor:Kt,checkboxUncheckedBorderColor:go(.4),toggleButtonOffBackgroundColor:go(.4),rowBatchEditBackgroundColor:go(.1)}),QO=()=>({...uC(),backgroundColor:"#1f2836"}),ZO=()=>jo({feature:"colorScheme",params:_l,modeParams:{light:_l,dark:uC(),"dark-blue":QO()}}),XO=ZO(),dC={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},hC={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},JO=(e={})=>{let t="";for(const o of[...Object.keys(dC),...Object.keys(hC)]){const n=e1(o,e.strokeWidth);t+=`.ag-icon-${o}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(n)}'); }
`}return t},e1=(e,t=1.5)=>{const o=hC[e];if(o)return o;const n=dC[e];if(!n)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+n+"</svg>"},t1=(e={})=>jo({feature:"iconSet",css:()=>JO(e)}),o1=t1(),n1=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',s1=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",r1={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},i1=()=>jo({feature:"inputStyle",params:{...r1,inputBackgroundColor:Kt,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:an},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:go(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>n1+s1}),l1=i1(),a1='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',c1={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},u1=()=>jo({feature:"tabStyle",params:{...c1,tabBarBorder:!0,tabBarBackgroundColor:lo(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Kt},css:a1}),d1=u1(),h1=()=>zO().withPart(YO).withPart(XO).withPart(o1).withPart(d1).withPart(l1).withPart(sC).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),g1=h1(),p1={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},f1={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},m1={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},eg={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},tg={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},og={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},ja={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},ng={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},C1=0,w1=class extends K{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++C1}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:o}=e;this.eGridDiv=t,this.eStyleContainer=o.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=o.themeCssLayer,this.styleNonce=o.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(eg),this.getSizeEl(tg),this.getSizeEl(og),this.getSizeEl(ja),this.getSizeEl(ng),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>fO(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(ng)}getRowBorderWidth(){return this.getCSSVariablePixelValue(ja)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(eg)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(tg)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(p1)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(f1),o=this.getCSSVariablePixelValue(m1);return e-1+o*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(og)}applyThemeClasses(e){const{gridTheme:t}=this;let o="";if(t)o=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let n=this.eGridDiv;for(;n;){let s=!1;for(const r of Array.from(n.classList))r.startsWith("ag-theme-")&&(s=!0,o=o?`${o} ${r}`:r);s&&this.mutationObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),n=n.parentElement}}for(const n of Array.from(e.classList))n.startsWith("ag-theme-")&&e.classList.remove(n);if(o){const n=e.className;e.className=n+(n?" ":"")+o}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),o=this.gos.get("rowHeight");if(o==null||isNaN(o)||!isFinite(o))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const n=`${o}px`;return t!=n?(e.style.setProperty("--ag-line-height",n),o):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Cr(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const o=this.measureSizeEl(e);return o==="detached"||o==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,o),o)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const o=t.offsetWidth;return o===Ka?"no-styles":(this.sizesMeasured=!0,o)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Ct({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const o=this.getMeasurementContainer();t=Ct({tag:"div"});const{border:n,noWarn:s}=e;n?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${Ka}px)`)):t.style.width=`var(${e.cssName}, ${Ka}px)`,o.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&!s&&ee(9,{variable:e});const i=bn(this.beans,t,()=>{const l=this.measureSizeEl(e);l==="detached"||l==="no-styles"||(this.lastKnownValues.set(e,l),l!==r&&(r=l,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>i()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(ja);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:o,gridTheme:n}=this,s=e.get("theme");let r;if(s==="legacy")r=void 0;else{const i=s??g1;i instanceof aC?r=i:et(240,{theme:i})}if(r!==n){if(r){pO(this),eC(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[l,a]of o)Cr(l,this.eStyleContainer,a,this.cssLayer,0,this.styleNonce);o.length=0}this.gridTheme=r,r?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let i=this.eParamsStyle;if(!i){i=this.eParamsStyle=Ct({tag:"style"});const l=this.gos.get("styleNonce");l&&i.setAttribute("nonce",l),t.appendChild(i)}qu||(i.textContent=r?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&et(s?106:239)}},Ka=15538,v1=class extends K{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new ms}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,o){this.globalSvc.addEventListener(e,t,o)}removeEventListener(e,t,o){this.globalSvc.removeEventListener(e,t,o)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(De(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(De(this.gos,e))}};function gC(e,t,o){const n=e.visibleCols.headerGroupRowCount;if(o>=n)return{column:t,headerRowIndex:o};let s=t.getParent();for(;s&&s.getProvidedColumnGroup().getLevel()>o;)s=s.getParent();const r=t.isSpanHeaderHeight();return!s||r&&s.isPadding()?{column:t,headerRowIndex:n}:{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel()}}var b1=class extends K{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,o=>{this.gridBodyCon=o.gridBodyCtrl});const t=xt(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let o;const{colModel:n,colGroupSvc:s,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(o=n.getCol(e),o||(o=s?.getColumnGroup(e)??null)):o=e,!o)return null;const l=r.getHeaderRowContainerCtrl()?.getAllCtrls(),a=Je(l||[]).type==="filter",c=Vo(this.beans)-1;let u=-1,d=o;for(;d;)u++,d=d.getParent();let h=u;return t&&a&&h===c-1&&h++,h===-1?null:{headerRowIndex:h,column:o}}navigateVertically(e,t){const{focusSvc:o,visibleCols:n}=this.beans,{focusedHeader:s}=o;if(!s)return!1;const{headerRowIndex:r}=s,i=s.column,l=Vo(this.beans),a=this.getHeaderRowType(r),c=n.headerGroupRowCount;let{headerRowIndex:u,column:d,headerRowIndexWithoutSpan:h}=e==="UP"?S1(a,i,r):y1(i,r,c),p=!1;return u<0&&(u=0,d=i,p=!0),u>=l?(u=-1,this.currentHeaderRowWithoutSpan=-1):h!==void 0&&(this.currentHeaderRowWithoutSpan=h),!p&&!d?!1:o.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,o){const{focusSvc:n,gos:s}=this.beans,r={...n.focusedHeader};let i,l;this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==s.get("enableRtl")?(l="Before",i=this.findHeader(r,l)):(l="After",i=this.findHeader(r,l));const a=s.getCallback("tabToNextHeader");if(t&&a){const c=n.focusHeaderPositionFromUserFunc({userFunc:a,headerPosition:i,direction:l});if(c){const{headerRowIndex:u}=n.focusedHeader||{};u!=null&&u!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=u)}return c}return i||!t?n.focusHeaderPosition({headerPosition:i,direction:l,fromTab:t,allowUserOverride:!0,event:o}):this.focusNextHeaderRow(r,l,o)}focusNextHeaderRow(e,t,o){const n=this.beans,s=e.headerRowIndex;let r=null,i;const l=Vo(n),a=this.beans.visibleCols.allCols;if(t==="Before"){if(s<=0)return!1;r=Je(a),i=s-1,this.currentHeaderRowWithoutSpan-=1}else r=a[0],i=s+1,this.currentHeaderRowWithoutSpan<l?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:u}=gC(this.beans,r,i);return u>=l&&(u=-1),n.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:o})}scrollToColumn(e,t="After"){if(e.getPinned())return;let o;if(ft(e)){const n=e.getDisplayedLeafColumns();o=t==="Before"?Je(n):n[0]}else o=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(o)}findHeader(e,t){const{colGroupSvc:o,visibleCols:n}=this.beans;let s=e.column;if(s instanceof gi){const a=s.getDisplayedLeafColumns();s=t==="Before"?a[0]:a[a.length-1]}const r=t==="Before"?n.getColBefore(s):n.getColAfter(s);if(!r)return;const i=n.headerGroupRowCount;if(e.headerRowIndex>=i)return{headerRowIndex:e.headerRowIndex,column:r};const l=o?.getColGroupAtLevel(r,e.headerRowIndex);return l?l.isPadding()&&r.isSpanHeaderHeight()?{headerRowIndex:n.headerGroupRowCount,column:r}:{headerRowIndex:e.headerRowIndex,column:l??r}:{headerRowIndex:r instanceof ks&&r.isSpanHeaderHeight()?n.headerGroupRowCount:e.headerRowIndex,column:r}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function S1(e,t,o){const n=o-1;if(e!=="filter"){const s=t instanceof ks&&t.isSpanHeaderHeight();let r=t.getParent();for(;r&&(r.getProvidedColumnGroup().getLevel()>n||s&&r.isPadding());)r=r.getParent();if(r)return s?{column:r,headerRowIndex:r.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:n}:{column:r,headerRowIndex:n,headerRowIndexWithoutSpan:n}}return{column:t,headerRowIndex:n,headerRowIndexWithoutSpan:n}}function y1(e,t,o){const n=t+1,s={column:e,headerRowIndex:n,headerRowIndexWithoutSpan:n};if(e instanceof gi){if(n>=o)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:o,headerRowIndexWithoutSpan:n};let i=e.getDisplayedChildren()[0];if(i instanceof gi&&i.isPadding()){const a=i.getDisplayedLeafColumns()[0];a.isSpanHeaderHeight()&&(i=a)}s.column=i,i instanceof ks&&i.isSpanHeaderHeight()&&(s.headerRowIndex=o,s.headerRowIndexWithoutSpan=n)}return s}var R1=class extends K{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(I0(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(gt(this.beans),Gm)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=gt(this.beans);return this.isDomDataPresentInHierarchy(e,Nl)?!0:this.isDomDataPresentInHierarchy(e,zl)}isDomDataPresentInHierarchy(e,t){let o=e;for(;o;){if(Ff(this.gos,o,t))return!0;o=o.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:o,column:n}=e,s={rowIndex:t,rowPinned:o,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:o});return r&&(s.isFullWidthCell=r.isFullWidth()),s}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:o,rowPinned:n,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:r=!1,sourceEvent:i}=e,l=this.colModel.getCol(t);if(!l){this.focusedCell=null;return}this.focusedCell={rowIndex:o,rowPinned:gn(n),column:l};const a=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...a,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:s,preventScrollOnBrowserFocus:r,sourceEvent:i}),this.previousCellFocusParams=a}isCellFocused(e){return this.focusedCell==null?!1:cm(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:o,pinned:n}}=e,{column:s,headerRowIndex:r}=this.focusedHeader;return t===s&&o===r&&n==s.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),hs(this.beans))return!1;const{direction:t,fromTab:o,allowUserOverride:n,event:s,fromCell:r,rowWithoutSpanValue:i}=e;let{headerPosition:l}=e;if(r&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(l);if(n){const a=this.focusedHeader,c=Vo(this.beans);if(o){const u=this.gos.getCallback("tabToNextHeader");u&&(l=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:a,headerPosition:l,headerRowCount:c}))}else{const u=this.gos.getCallback("navigateToNextHeader");if(u&&s){const d={key:s.key,previousHeaderPosition:a,nextHeaderPosition:l,headerRowCount:c,event:s};l=u(d)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:s,fromCell:r,rowWithoutSpanValue:i}):!1}focusHeaderPositionFromUserFunc(e){if(hs(this.beans))return!1;const{userFunc:t,headerPosition:o,direction:n,event:s}=e,r=this.focusedHeader,i=Vo(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:r,headerPosition:o,headerRowCount:i});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:n,event:s})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:o,currentPosition:n,headerPosition:s,headerRowCount:r}=e,l=t({backwards:o==="Before",previousHeaderPosition:n,nextHeaderPosition:s,headerRowCount:r});return l===!0?n:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:o,fromCell:n,rowWithoutSpanValue:s,event:r}=e,{column:i,headerRowIndex:l}=t,{filterManager:a,ctrlsSvc:c,headerNavigation:u}=this.beans;if(l===-1)return a?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:i,event:r});u?.scrollToColumn(i,o);const h=c.getHeaderRowContainerCtrl(i.getPinned())?.focusHeader(t.headerRowIndex,i,r)||!1;return u&&h&&(s!=null||n)&&(u.currentHeaderRowWithoutSpan=s??-1),h}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=gC(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=Vo(this.beans)-1,o=Je(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:o},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===gn(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&ys(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:o=!0,event:n}=e;if(this.overlays?.isExclusive())return o&&this.focusOverlay(t);if(ia(this.beans))return t&&!hs(this.beans)?this.focusLastHeader():o&&this.focusOverlay(t)?!0:t?!1:mr(this.beans,t);const s=t?p0(this.beans):g0(this.beans);if(s){const r=e.column??this.focusedHeader?.column,{rowIndex:i,rowPinned:l}=s,a=Cn(this.beans,s);if(!r||!a||i==null)return!1;if(r.isSuppressNavigable(a)){const c=this.gos.get("enableRtl");let u;return!n||n.key===U.TAB?u=c?U.LEFT:U.RIGHT:u=n.key,this.beans.navigation?.navigateToNextCell(null,u,{rowIndex:i,column:r,rowPinned:l||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:i,column:r,rowPinned:l}),t&&this.rowRenderer.getRowByPosition(s)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(s,t)||(this.setFocusedCell({rowIndex:i,column:r,rowPinned:gn(l),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:i,rowPinned:l,column:r})),!0}return!!(o&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const o=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:Vo(this.beans)-1}}):this.focusGridView({column:o})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},x1=class extends K{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),o=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==o)&&(this.horizontalScrollGap=t,this.verticalScrollGap=o,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),o=typeof e=="number"&&e>=0?e:aM();o!=null&&(this.scrollbarWidth=o,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},P1=class extends K{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:o}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),o.destroy(),super.destroy()}},ll=new Set(["gridPreDestroyed","fillStart","pasteStart"]),F1=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],Qu=F1.reduce((e,t)=>(e[t]=LM(t),e),{}),Hr=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),E1={tag:"span",cls:"ag-sort-indicator-container",children:[Hr("Order","order"),Hr("Asc","ascending-icon"),Hr("Desc","descending-icon"),Hr("Mixed","mixed-icon"),Hr("None","none-icon")]},Zu=class extends nt{constructor(e){super(),this.eSortOrder=Fe,this.eSortAsc=Fe,this.eSortDesc=Fe,this.eSortMixed=Fe,this.eSortNone=Fe,e||this.setTemplate(E1)}attachCustomElements(e,t,o,n,s){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=o,this.eSortMixed=n,this.eSortNone=s}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const o=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",o),this.addManagedEventListeners({newColumnsLoaded:o,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,o){if(t==null)return;const n=po(e,this.beans,o);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:o,column:n,gos:s,beans:r}=this,i=r.sortSvc.getDisplaySortForColumn(n);if(e&&ht(e,i==="asc",{skipAriaHidden:!0}),t&&ht(t,i==="desc",{skipAriaHidden:!0}),o){const l=!n.getColDef().unSortIcon&&!s.get("unSortIcon"),a=i==null;ht(o,!l&&a,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:o}=this;this.addInIcon("sortUnSort",e,t);const n=t.getColDef().showRowGroup;Go(o)&&n&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:o}=this;if(e){const n=t.sortSvc.getDisplaySortForColumn(o)==="mixed";ht(e,n,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:o}}=this;if(!e)return;const n=o.getColumnsWithSortingOrdered(),s=o.getDisplaySortIndexForColumn(t)??-1,r=n.some(l=>o.getDisplaySortIndexForColumn(l)??!1),i=s>=0&&r;ht(e,i,{skipAriaHidden:!0}),s>=0?e.textContent=(s+1).toString():oo(e)}},D1={selector:"AG-SORT-INDICATOR",component:Zu},fi=["asc","desc",null],M1=class extends K{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,o){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,o)}progressSortFromEvent(e,t){const n=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,n,"uiColumnSorted")}setSortForColumn(e,t,o,n){t!=="asc"&&t!=="desc"&&(t=null);const{gos:s,showRowGroupCols:r}=this.beans,i=Go(s);let l=[e];if(i&&e.getColDef().showRowGroup){const d=r?.getSourceColumnsForGroupColumn?.(e)?.filter(h=>h.isSortable());d&&(l=[e,...d])}l.forEach(u=>this.setColSort(u,t,n));const a=(o||s.get("alwaysMultiSort"))&&!s.get("suppressMultiSort"),c=[];if(!a){const u=this.clearSortBarTheseColumns(l,n);c.push(...u)}this.updateSortIndex(e),c.push(...l),this.dispatchSortChangedEvents(n,c)}updateSortIndex(e){const{gos:t,colModel:o,showRowGroupCols:n}=this.beans,s=Go(t),r=n?.getShowRowGroupCol(e.getId()),i=s&&r||e,l=this.getColumnsWithSortingOrdered();o.forAllCols(u=>this.setColSortIndex(u,null));const a=l.filter(u=>s&&u.getColDef().showRowGroup?!1:u!==i);(i.getSort()?[...a,i]:a).forEach((u,d)=>this.setColSortIndex(u,d))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const o={type:"sortChanged",source:e};t&&(o.columns=t),this.eventSvc.dispatchEvent(o)}clearSortBarTheseColumns(e,t){const o=[];return this.beans.colModel.forAllCols(n=>{e.includes(n)||(n.getSort()&&o.push(n),this.setColSort(n,void 0,t))}),o}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??fi,o=t.indexOf(e.getSort()),n=o<0,s=o==t.length-1;return n||s?t[0]:t[o+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:o,rowGroupColsSvc:n}=this.beans;let s=[];if(t.forAllCols(c=>{c.getSort()&&s.push(c)}),t.isPivotMode()){const c=Go(e);s=s.filter(u=>{const d=!!u.getAggFunc(),h=!u.isPrimary(),p=c?o?.getShowRowGroupCol(u.getId()):u.getColDef().showRowGroup;return d||h||p})}const r=n?.columns.filter(c=>!!c.getSort())??[],i={};s.forEach((c,u)=>i[c.getId()]=u),s.sort((c,u)=>{const d=c.getSortIndex(),h=u.getSortIndex();if(d!=null&&h!=null)return d-h;if(d==null&&h==null){const p=i[c.getId()],f=i[u.getId()];return p>f?1:-1}else return h==null?-1:1});const l=Go(e)&&!!r.length;l&&(s=[...new Set(s.map(c=>o?.getShowRowGroupCol(c.getId())??c))]);const a=new Map;return s.forEach((c,u)=>a.set(c,u)),l&&r.forEach(c=>{const u=o.getShowRowGroupCol(c.getId());a.set(c,a.get(u))}),a}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Go(this.gos),o=!!e.getColDef().showRowGroup;return t&&o}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=n[0].getSort();return n.every(i=>i.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,o){let n=0;e.addManagedListeners(t,{movingChanged:()=>{n=Date.now()}}),o&&e.addManagedElementListeners(o,{click:r=>{const i=t.isMoving(),a=Date.now()-n<50;i||a||this.progressSortFromEvent(t,r)}});const s=()=>{const r=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",r==="asc"),e.toggleCss("ag-header-cell-sorted-desc",r==="desc"),e.toggleCss("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){const a=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",a)}};e.addManagedEventListeners({sortChanged:s,columnRowGroupChanged:s})}initCol(e){const{sort:t,initialSort:o,sortIndex:n,initialSortIndex:s}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(o==="asc"||o==="desc")&&(e.sort=o),n!==void 0?n!==null&&(e.sortIndex=n):s!==null&&(e.sortIndex=s)}updateColSort(e,t,o){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,o):this.setColSort(e,void 0,o))}setColSort(e,t,o){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",o)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new Zu(e)}getSortIndicatorSelector(){return D1}},ar={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},I1=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),T1={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?ar[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:ar[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?ar[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(o=>t.includes(o))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},k1=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:o})=>o?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,o)=>o.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const o=t.headerValueGetter;return typeof o=="function"||typeof o=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return _o(262);if(t.smallLeft)return _o(263);if(t.smallRight)return _o(264)}return null}},sortingOrder:{validate:t=>{const o=t.sortingOrder;if(Array.isArray(o)&&o.length>0){const n=o.filter(s=>!fi.includes(s));if(n.length>0)return`sortingOrder must be an array with elements from [${fi.map(Fl).join()}], currently it includes [${n.map(Fl).join()}]`}else if(!Array.isArray(o)||o.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${o}`;return null}},type:{validate:t=>{const o=t.type;return o instanceof Array?o.some(s=>typeof s!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof o=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:o})=>o?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:o,cellSelection:n,suppressRowTransform:s,enableCellSpan:r,rowDragEntireRow:i,enableCellTextSelection:l})=>typeof o=="object"&&o?.mode==="singleRow"&&o?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":s?"colDef.spanRows is not supported with suppressRowTransform.":r?i?"colDef.spanRows is not supported with rowDragEntireRow.":l?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),A1={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},L1=()=>Object.keys(A1),O1=()=>({objectName:"colDef",allProperties:L1(),docsUrl:"column-properties/",deprecations:I1(),validations:k1()}),G1=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],H1=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],V1=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],pC=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],B1=["theme","rowSelection"],N1=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],fC=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],z1=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],W1=()=>[...V1,...H1,...G1,...pC,...z1,...fC,...N1,...B1],_1=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Ao(e,t,o){return typeof t=="number"||t==null?t==null||t>=o?null:`${e}: value should be greater than or equal to ${o}`:`${e}: value should be a number`}var $1={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},U1=()=>{const e={autoSizePadding:{validate({autoSizePadding:o}){return Ao("autoSizePadding",o,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:o}){return Ao("cacheBlockSize",o,1)}},cacheOverflowSize:{validate({cacheOverflowSize:o}){return Ao("cacheOverflowSize",o,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:o=>{const n=o.domLayout,s=["autoHeight","normal","print"];return n&&!s.includes(n)?`domLayout must be one of [${s.join()}], currently it's ${n}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:o,pinnedTopRowData:n,pinnedBottomRowData:s}){return o&&(n||s)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:o,isRowPinnable:n,pinnedTopRowData:s,pinnedBottomRowData:r}){return n&&(s||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!o&&n?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:o,isRowPinned:n,pinnedTopRowData:s,pinnedBottomRowData:r}){return n&&(s||r)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!o&&n?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:o})=>{if(o){if(o.smallDown)return _o(262);if(o.smallLeft)return _o(263);if(o.smallRight)return _o(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:o}){return Ao("infiniteInitialRowCount",o,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:o}){return Ao("keepDetailRowsCount",o,1)}},paginationPageSize:{validate({paginationPageSize:o}){return Ao("paginationPageSize",o,1)}},paginationPageSizeSelector:{validate:o=>{const n=o.paginationPageSizeSelector;return typeof n=="boolean"||n==null||n.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:o}){return Ao("rowBuffer",o,0)}},rowClass:{validate:o=>typeof o.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:o}){return o&&typeof o=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':o&&typeof o!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":o&&o.mode!=="multiRow"&&o.mode!=="singleRow"?`Selection mode "${o.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:o=>{const n=o.rowStyle;return n&&typeof n=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:o}){return Ao("serverSideInitialRowCount",o,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:o=>{const n=o.sortingOrder;if(Array.isArray(n)&&n.length>0){const s=n.filter(r=>!fi.includes(r));if(s.length>0)return`sortingOrder must be an array with elements from [${fi.map(Fl).join()}], currently it includes [${s.map(Fl).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},tooltipHideDelay:{validate:o=>o.tooltipHideDelay&&o.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:o=>o.tooltipShowDelay&&o.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:o=>{const n=o.rowModelType??"clientSide";switch(n){case"clientSide":{const{treeDataChildrenField:s,treeDataParentIdField:r,getDataPath:i,getRowId:l}=o;if(!s&&!r&&!i)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(s){if(i)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(r)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(r){if(!l)return"getRowId callback not provided, tree data with parent id cannot be built.";if(i)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const s=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${n} row model.`;return o.isServerSideGroup&&o.getServerSideGroupKey?null:s}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:o}){return Ao("viewportRowModelBufferSize",o,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:o}){return Ao("viewportRowModelPageSize",o,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:o,showOpenedGroup:n}){return o?.field&&n?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":o?.valueGetter&&n?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:o=>{const n=o.renderingMode,s=["default","legacy"];return n&&!s.includes(n)?`renderingMode must be one of [${s.join()}], currently it's ${n}`:null}}},t={};return fC.forEach(o=>{t[o]={expectedType:"boolean"}}),pC.forEach(o=>{t[o]={expectedType:"number"}}),Wt(t,e),t},j1=()=>({objectName:"gridOptions",allProperties:[...W1(),...Object.values(Qu)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:_1(),validations:U1()}),K1=0,q1=0,Y1=class extends K{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=q1++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new ms,this.globalEventHandlerFactory=e=>(t,o)=>{if(!this.isAlive())return;const n=ll.has(t);if(n&&!e||!n&&e||!Q1(t))return;const s=(r,i)=>{const l=Qu[r],a=this.gridOptions[l];typeof a=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>a(i))};if(this.gridReadyFired)s(t,o);else if(t==="gridReady"){s(t,o),this.gridReadyFired=!0;for(const r of this.queueEvents)s(r.eventName,r.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:o})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??ef[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ie(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(o=>e(this.addGridCommonParams(o)))}updateGridOptions({options:e,force:t,source:o="api"}){const n={id:K1++,properties:[]},s=[],{gridOptions:r,validation:i}=this;for(const l of Object.keys(e)){const a=e[l];i?.warnOnInitialPropertyUpdate(o,l);const c=t||typeof a=="object"&&o==="api",u=r[l];if(c||u!==a){r[l]=a;const d={type:l,currentValue:a,previousValue:u,changeSet:n,source:o};s.push(d)}}this.validateGridOptions(this.gridOptions),n.properties=s.map(l=>l.type),s.forEach(l=>{ws(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const o of Object.keys(e)){const n=e[o];if(n==null||n===!1)continue;let s=t[o];typeof s=="function"&&(s=s(e,this.gridOptions,this.beans)),s&&this.assertModuleRegistered(s,o)}}validateGridOptions(e){this.validateOptions(e,$1),this.validation?.processGridOptions(e)}validateColDef(e,t,o){(o||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,T1),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const o=Array.isArray(e)?e.some(n=>this.isModuleRegistered(n)):this.isModuleRegistered(e);return o||et(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),o}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Iu(),rowModelType:this.get("rowModelType"),isUmd:s0()}}isModuleRegistered(e){return Dc(e,this.gridId,this.get("rowModelType"))}};function Q1(e){return!!Qu[e]}function mC(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var Z1=mC(!0),X1=mC(!1),J1=class extends nt{constructor(){super(...arguments),this.eFilter=Fe,this.eFilterButton=Fe,this.eSortIndicator=Fe,this.eMenu=Fe,this.eLabel=Fe,this.eText=Fe,this.eSortOrder=Fe,this.eSortAsc=Fe,this.eSortDesc=Fe,this.eSortMixed=Fe,this.eSortNone=Fe,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const o={...e};Wt(o,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(o)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const o=e.template;return o?o?.trim?o.trim():o:t?Z1:X1}init(e){this.params=e;const{sortSvc:t,touchSvc:o,rowNumbersSvc:n,userCompFactory:s}=this.beans,r=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),o?.setupForHeader(this),this.setMenu(),this.setupSort(),n?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(s,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const o=HI(e,t,t);o&&(this.isLoadingInnerComponent=!0,o.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderComponent=n,this.eText&&this.eText.appendChild(n.getGui())):this.destroyBean(n))}))}setDisplayName(e){const{displayName:t}=e,o=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||o===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=xr(t))}addInIcon(e,t,o){const n=po(e,this.beans,o);n&&t.appendChild(n)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){mn(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:o}=this,n=eo(e);this.addInIcon(n?"menu":"menuAlt",t,o.column),t.classList.toggle("ag-header-menu-icon",!n);const s=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=s,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(s)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:o}=this;t||this.toggleMenuAlwaysShow(!0),o.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:o,beans:n,eMenu:s,eFilterButton:r}=this,i=t.column,l=eo(o);if(e&&!l){if(n.menuSvc?.isFilterMenuInHeaderEnabled(i))return t.showFilter(r??s??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(s??r??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:o}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:n,eSortOrder:s,eSortAsc:r,eSortDesc:i,eSortMixed:l,eSortNone:a}=this;n.attachCustomElements(s,r,i,l,a)}this.eSortIndicator.setupSort(o),this.currentSort&&e.setupHeader(this,o,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const o=()=>{const n=t.column.isFilterActive();ht(e,n,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,o,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,o,n){if(!e)return mn(t),!1;const s=this.params.column;return this.addInIcon(n,t,s),this.addManagedListeners(s,{filterChanged:o}),o(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:o}=this;return e?t??o??this.getGui():o??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},eG={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},tG=class extends nt{constructor(){super(eG),this.agOpened=Fe,this.agClosed=Fe,this.agLabel=Fe,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:o}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),o?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&ee(89)}workOutInnerHeaderGroupComponent(e,t){const o=BI(e,t,t);o&&(this.isLoadingInnerComponent=!0,o.newAgStackInstance().then(n=>{this.isLoadingInnerComponent=!1,n&&(this.isAlive()?(this.innerHeaderGroupComponent=n,this.agLabel.appendChild(n.getGui())):this.destroyBean(n))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:o},beans:n}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const s=a=>{if(pn(a))return;const c=!o.isExpanded();n.colGroupSvc.setColumnGroupOpened(o.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(n,t,s),this.addTouchAndClickListeners(n,e,s);const r=a=>{bs(a)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:s}),this.updateIconVisibility();const i=o.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t,o){e.touchSvc?.setupForHeaderGroupElement(this,t,o),this.addManagedElementListeners(t,{click:o})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:o}}=this;if(o.isExpandable()){const n=o.isExpanded();ht(e,n),ht(t,!n)}else ht(e,!1),ht(t,!1)}addInIcon(e,t){const o=po(e,this.beans,null);o&&t.appendChild(o)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:o}=this;ht(t,!1),ht(o,!1);return}}setupLabel(e){const{displayName:t,columnGroup:o}=e,n=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;ie(t)&&!n&&(this.agLabel.textContent=xr(t)),this.toggleCss("ag-sticky-label",!o.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},oG={moduleName:"ColumnHeaderComp",version:le,userComponents:{agColumnHeader:J1},icons:{menu:"menu",menuAlt:"menu-alt"}},nG={moduleName:"ColumnGroupHeaderComp",version:le,userComponents:{agColumnGroupHeader:tG},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},sG=class extends K{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&ee(92)}createTask(e,t,o,n,s=!1){this.verify();let r=o;n&&this.batchFrameworkComps&&(r="f1");const i={task:e,index:t,createOrder:++this.taskCount,deferred:s};this.addTaskToList(this[r],i),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((o,n)=>o.deferred!==n.deferred?o.deferred?-1:1:o.index!==n.index?t*(n.index-o.index):n.createOrder-o.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:o,f1:n,destroyTasks:s,beans:r}=this,{ctrlsSvc:i,frameworkOverrides:l}=r,a=t.list,c=o.list,u=n.list,d=Date.now();let h=0;const p=e<=0,f=i.getScrollFeature();for(;p||h<e;){if(!f.scrollGridIfNeeded()){let C;if(a.length)this.sortTaskList(t),C=a.pop().task;else if(c.length)this.sortTaskList(o),C=c.pop().task;else if(u.length)l.wrapOutgoing(()=>{for(;(p||h<e)&&!f.scrollGridIfNeeded();){if(u.length)this.sortTaskList(n),C=u.pop().task,C();else break;h=Date.now()-d}}),C=()=>{};else if(s.length)C=s.pop();else break;C()}h=Date.now()-d}a.length||c.length||u.length||s.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);Sn(this.beans,e)}isQueueEmpty(){return!this.ticking}},rG={moduleName:"AnimationFrame",version:le,beans:[sG]},iG=class extends K{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ls())return;const t=(o,n,s)=>{const{rowCtrl:r,cellCtrl:i}=e.getControlsForEventTarget(s?.target??null);i?.column&&i.dispatchCellContextMenuEvent(s??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,s,r,i)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!ls()||Hf("dblclick"))return!1;const n=Date.now(),s=n-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=n,s})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:o,menuSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:s,eMenu:r,eFilterButton:i}=e,l=new Zn(e.getGui(),!0),a=e.shouldSuppressMenuHide(),c=a&&ie(r)&&s.enableMenu,u=c?new Zn(r,!0):l;if(s.enableMenu||n?.isHeaderContextMenuEnabled(s.column)){const d=c?"tap":"longTap",h=p=>s.showColumnMenuAfterMouseClick(p.touchStart);e.addManagedListeners(u,{[d]:h})}if(s.enableSorting){const d=h=>{const p=h.touchStart.target;a&&(r?.contains(p)||i?.contains(p))||o?.progressSort(s.column,!1,"uiColumnSorted")};e.addManagedListeners(l,{tap:d})}if(s.enableFilterButton&&i){const d=new Zn(i,!0);e.addManagedListeners(d,{tap:()=>s.showFilter(i)}),e.addDestroyFunc(()=>d.destroy())}e.addDestroyFunc(()=>l.destroy()),c&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const o=new Zn(t.eGridHeader,!0),n=s=>t.showColumnMenuAfterMouseClick(s.touchStart);e.addManagedListeners(o,{longTap:n}),e.addDestroyFunc(()=>o.destroy())}}setupForHeaderGroupElement(e,t,o){const n=new Zn(t,!0);e.addManagedListeners(n,{tap:o}),e.addDestroyFunc(()=>n.destroy())}mockContextMenu(e,t,o){if(!ls())return;const n=new Zn(t),s=r=>{hi(this.gos,r.touchEvent)&&o(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(n,{longTap:s}),e.addDestroyFunc(()=>n.destroy())}},lG={moduleName:"Touch",version:le,beans:[iG]},aG=class extends K{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,o=!1){return o?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const o=e===U.UP,n=e===U.DOWN,s=e===U.LEFT;let r,i;const{pageBounds:l,gos:a,visibleCols:c,pinnedRowModel:u}=this.beans,{rowPinned:d}=t;if(o||n)d&&u?o?i=0:i=d==="top"?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:i=o?l.getFirstRow():l.getLastRow(),r=t.column;else{const h=a.get("enableRtl");i=t.rowIndex,r=(s!==h?c.allCols:[...c.allCols].reverse()).find(f=>this.isCellGoodToFocusOn({rowIndex:i,rowPinned:null,column:f}))}return r?{rowIndex:i,rowPinned:d,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let o=t,n=!1;for(;!n;){switch(e){case U.UP:o=this.getCellAbove(o);break;case U.DOWN:o=this.getCellBelow(o);break;case U.RIGHT:o=this.gos.get("enableRtl")?this.getCellToLeft(o):this.getCellToRight(o);break;case U.LEFT:o=this.gos.get("enableRtl")?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,ee(8,{key:e});break}o?n=this.isCellGoodToFocusOn(o):n=!0}return o}isCellGoodToFocusOn(e){const t=e.column;let o;const{pinnedRowModel:n,rowModel:s}=this.beans;switch(e.rowPinned){case"top":o=n?.getPinnedTopRow(e.rowIndex);break;case"bottom":o=n?.getPinnedBottomRow(e.rowIndex);break;default:o=s.getRow(e.rowIndex);break}return o?!this.isSuppressNavigable(t,o):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,o=yh(this.beans,t);return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,o=Gl(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:o}=this.beans,n=t.allCols;let s=e.rowIndex,r=e.rowPinned,i=t.getColAfter(e.column);if(!i){i=n[0];const l=yh(this.beans,e);if(at(l)||!l.rowPinned&&!(o?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,r=l?l.rowPinned:null}return{rowIndex:s,column:i,rowPinned:r}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:o,pagination:n}=t,s=o.allCols;let r=e.rowIndex,i=e.rowPinned,l=o.getColBefore(e.column);if(!l){l=Je(s);const a=Gl(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(at(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;r=a?a.rowIndex:null,i=a?a.rowPinned:null}return{rowIndex:r,column:l,rowPinned:i}}isSuppressNavigable(e,t){const{suppressNavigable:o}=e.colDef;if(typeof o=="boolean")return o;if(typeof o=="function"){const n=e.createColumnFunctionCallbackParams(t);return o(n)}return!1}};function cG(e){return e.focusSvc.getFocusedCell()}function uG(e){return e.focusSvc.clearFocusedCell()}function dG(e,t,o,n){e.focusSvc.setFocusedCell({rowIndex:t,column:o,rowPinned:n,forceBrowserFocus:!0})}function hG(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function gG(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function pG(e,t,o=!1){const n=e.headerNavigation?.getHeaderPositionForColumn(t,o);n&&e.focusSvc.focusHeaderPosition({headerPosition:n})}var fG=class extends K{constructor(){super(),this.beanName="navigation",this.onPageDown=gh(this.onPageDown,100),this.onPageUp=gh(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const o=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,i=q0(this.gos,e);let l=!1;switch(o){case U.PAGE_HOME:case U.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(o),l=!0);break;case U.LEFT:case U.RIGHT:case U.UP:case U.DOWN:if(!i)return!1;s&&!n&&!r&&(this.onCtrlUpDownLeftRight(o,i),l=!0);break;case U.PAGE_DOWN:case U.PAGE_UP:!s&&!n&&(l=this.handlePageUpDown(o,i,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,o){return o&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===U.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:o,focusIndex:n,focusColumn:s,isAsync:r,rowPinned:i}){const{scrollFeature:l}=this.gridBodyCon;ie(o)&&!o.isPinned()&&l.ensureColumnVisible(o),ie(e)&&l.ensureIndexVisible(e,t),r||l.ensureIndexVisible(n);const{focusSvc:a,rangeSvc:c}=this.beans;a.setFocusedCell({rowIndex:n,column:s,rowPinned:i,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:n,rowPinned:i,column:s})}onPageDown(e){const t=this.beans,o=qa(t),n=this.getViewportHeight(),{pageBounds:s,rowModel:r,rowAutoHeight:i}=t,l=s.getPixelOffset(),a=o.top+n,c=r.getRowIndexAtPixel(a+l);i?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,o=qa(t),{pageBounds:n,rowModel:s,rowAutoHeight:r}=t,i=n.getPixelOffset(),l=o.top,a=s.getRowIndexAtPixel(l+i);r?.active?this.navigateToNextPageWithAutoHeight(e,a,!0):this.navigateToNextPage(e,a,!0)}navigateToNextPage(e,t,o=!1){const{pageBounds:n,rowModel:s}=this.beans,r=this.getViewportHeight(),i=n.getFirstRow(),l=n.getLastRow(),a=n.getPixelOffset(),c=s.getRow(e.rowIndex),u=o?c?.rowHeight-r-a:r-a,d=c?.rowTop+u;let h=s.getRowIndexAtPixel(d+a);if(h===e.rowIndex){const f=o?-1:1;t=h=e.rowIndex+f}let p;o?(p="bottom",h<i&&(h=i),t<i&&(t=i)):(p="top",h>l&&(h=l),t>l&&(t=l)),this.isRowTallerThanView(s.getRow(h))&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,o=!1){this.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,o);this.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const o=t?-1:1,n=this.getViewportHeight(),{pageBounds:s,rowModel:r}=this.beans,i=s.getLastRow();let l=0,a=e.rowIndex;for(;a>=0&&a<=i;){const c=r.getRow(a);if(c){const u=c.rowHeight??0;if(l+u>n)break;l+=u}a+=o}return Math.max(0,Math.min(a,i))}getViewportHeight(){const e=this.beans,t=qa(e),o=this.beans.scrollVisibleSvc.getScrollbarWidth();let n=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(n-=o),n}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const o=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:n,rowPinned:s}=o,r=o.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r,rowPinned:s})}onHomeOrEndKey(e){const t=e===U.PAGE_HOME,{visibleCols:o,pageBounds:n,rowModel:s}=this.beans,r=o.allCols,i=t?n.getFirstRow():n.getLastRow(),l=s.getRow(i);if(!l)return;const a=(t?r:[...r].reverse()).find(c=>!c.isSuppressNavigable(l));a&&this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:a,focusIndex:i,focusColumn:a})}onTabKeyDown(e,t){const o=t.shiftKey,n=this.tabToNextCellCommon(e,o,t),s=this.beans,{ctrlsSvc:r,pageBounds:i,focusSvc:l,gos:a}=s;if(n!==!1){n?t.preventDefault():n===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(o);return}if(o){const{rowIndex:c,rowPinned:u}=e.getRowPosition();(u?c===0:c===i.getFirstRow())&&(a.get("headerHeight")===0||hs(s)?mr(s,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof rr&&e.focusCell(!0),(!o&&l.focusOverlay(!1)||mr(s,o))&&t.preventDefault()}tabToNextCell(e,t){const o=this.beans,{focusSvc:n,rowRenderer:s}=o,r=n.getFocusedCell();if(!r)return!1;let i=$r(o,r);return!i&&(i=s.getRowByPosition(r),!i||!i.isFullWidth())?!1:!!this.tabToNextCellCommon(i,e,t,"api")}tabToNextCellCommon(e,t,o,n="ui"){const{editSvc:s,focusSvc:r}=this.beans;let i;const l=e instanceof rr?e:e.getAllCellCtrls()?.[0];return s?.isEditing()?i=s?.moveToNextCell(l,t,o,n):i=this.moveToNextCellNotEditing(e,t,o),i===null?i:i||!!r.focusedHeader}moveToNextCellNotEditing(e,t,o){const n=this.beans.visibleCols.allCols;let s;if(e instanceof Wl){if(s={...e.getRowPosition(),column:t?n[0]:Je(n)},this.gos.get("embedFullWidthRows")&&o){const i=e.findFullWidthInfoForEvent(o);i&&(s.column=i.column)}}else s=e.getFocusedCellPosition();const r=this.findNextCellToFocusOn(s,{backwards:t,startEditing:!1});if(r===!1)return null;if(r instanceof rr)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return ie(r)}findNextCellToFocusOn(e,{backwards:t,startEditing:o,skipToNextEditableCell:n}){let s=e;const r=this.beans,{cellNavigation:i,gos:l,focusSvc:a,rowRenderer:c,rangeSvc:u}=r;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=i.getNextTabbedCell(s,t);const d=l.getCallback("tabToNextCell");if(ie(d)){const m=d({backwards:t,editing:o,previousCellPosition:e,nextCellPosition:s||null});if(m===!0)s=e;else{if(m===!1)return!1;s={rowIndex:m.rowIndex,column:m.column,rowPinned:m.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const f=Vo(r);return a.focusHeaderPosition({headerPosition:{headerRowIndex:f+s.rowIndex,column:s.column},fromCell:!0}),null}const h=l.get("editType")==="fullRow";if(o&&(!h||n)&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const p=$r(r,s);if(!p){const f=c.getRowByPosition(s);if(!f||!f.isFullWidth()||o)continue;return{...f.getRowPosition(),column:s?.column}}if(!i.isSuppressNavigable(p.column,p.rowNode))return p.setFocusedCellPosition(s),u?.setRangeToCell(s),p}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:o,rowModel:n}=this.beans;return t==="top"?o?.getPinnedTopRow(e):t==="bottom"?o?.getPinnedBottomRow(e):n.getRow(e)}navigateToNextCell(e,t,o,n){let s=o,r=!1;const i=this.beans,{cellNavigation:l,focusSvc:a,gos:c}=i;for(;s&&(s===o||!this.isValidNavigateCell(s));)c.get("enableRtl")?t===U.LEFT&&(s=this.getLastCellOfColSpan(s)):t===U.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=l.getNextCellToFocus(t,s),r=at(s);if(r&&e&&e.key===U.UP&&(s={rowIndex:-1,rowPinned:null,column:o.column}),n){const d=c.getCallback("navigateToNextCell");if(ie(d)){const p=d({key:t,previousCellPosition:o,nextCellPosition:s||null,event:e});ie(p)?s={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}:s=null}}if(!s)return;if(s.rowIndex<0){const d=Vo(i);a.focusHeaderPosition({headerPosition:{headerRowIndex:d+s.rowIndex,column:o.column},event:e||void 0,fromCell:!0});return}const u=this.getNormalisedPosition(s);u?this.focusPosition(u):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const o=$r(this.beans,e);return o?(e=o.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:o,rowRenderer:n,focusSvc:s,eventSvc:r}=this.beans,i=o.allCols,l=n.getRowByPosition(e);if(!l||!l.isFullWidth())return!1;const a=s.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Je(i):i[0])};this.focusPosition(c);const u=t??(a!=null&&d0(c,a));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:o}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),o?.setRangeToCell(e)}isValidNavigateCell(e){return!!Cn(this.beans,e)}getLastCellOfColSpan(e){const t=$r(this.beans,e);if(!t)return e;const o=t.getColSpanningList();return o.length===1?e:{rowIndex:e.rowIndex,column:Je(o),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Mf(this.gos),o=this.beans.rowModel.getRow(e.rowIndex),n=t&&o?.sticky,{scrollFeature:s}=this.gridBodyCon;!n&&at(e.rowPinned)&&s.ensureIndexVisible(e.rowIndex),e.column.isPinned()||s.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function qa(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var mG={moduleName:"KeyboardNavigation",version:le,beans:[fG,aG,b1],apiFunctions:{getFocusedCell:cG,clearFocusedCell:uG,setFocusedCell:dG,setFocusedHeader:pG,tabToNextCell:hG,tabToPreviousCell:gG}},CG=class extends K{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:o}=this.beans;t?t.calculatePages():e.calculateBounds(0,o.getRowCount()-1)}},wG=class extends K{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,o=e?.rowTop??0,n=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:o,pageLastPixel:n}}calculateBounds(e,t){const{rowModel:o}=this.beans,n=o.getRowBounds(e);n&&(n.rowIndex=e),this.topRowBounds=n;const s=o.getRowBounds(t);s&&(s.rowIndex=t),this.bottomRowBounds=s,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},vG=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",bG=class extends K{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const o of this.elements)o&&(ht(o,t),Wo(o,e))}},SG=class extends K{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:o}=this.beans,n=It(e,"print"),s=n?0:t.getColsLeftWidth(),r=n?0:t.getDisplayedColumnsRightWidth();s!=this.leftWidth&&(this.leftWidth=s,o.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,o.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=li(e);if(t<=50)return;const o=this.getPinnedColumnsOverflowingViewport(t-50),n=this.gos.getCallback("processUnpinnedColumns"),{columns:s,hasLockedPinned:r}=o;let i=s;!i.length&&!r||(n&&(i=n({columns:i,viewportWidth:t})),!(!i||!i.length)&&(i=i.filter(l=>!Hn(l)),this.setColsPinned(i,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new bG(e,t)}setColsPinned(e,t,o){const{colModel:n,colAnimation:s,visibleCols:r,gos:i}=this.beans;if(!n.cols||!e?.length)return;if(It(i,"print")){ee(37);return}s?.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const a=[];e.forEach(c=>{if(!c)return;const u=n.getCol(c);u&&u.getPinned()!==l&&(this.setColPinned(u,l),a.push(u))}),a.length&&(r.refresh(o),Qf(this.eventSvc,a,o)),s?.finish()}initCol(e){const{pinned:t,initialPinned:o}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,o)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const o=e.pinned==="left",n=e.pinned==="right";e.hidden=!0;const s=()=>{const r=o?this.leftWidth:this.rightWidth;if(r==null)return;const i=r==0,l=e.hidden!==i,a=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),d=t.verticalScrollShowing&&(a&&o||!a&&n)?r+c:r;e.comp.setPinnedContainerWidth(`${d}px`),e.comp.setDisplayed(!i),l&&(e.hidden=i,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:s,rightPinnedWidthChanged:s,scrollVisibilityChanged:s,scrollbarWidthChanged:s})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:n,rightWidth:s}=this,r=li(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(n+s+e>r)if(r>n+s)e=r-n-s;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,o=this.leftWidth??0,n=t+o;let s=!1;if(n<e)return{columns:[],hasLockedPinned:s};const{visibleCols:r}=this.beans,i=[...r.leftCols],l=[...r.rightCols];let a=0,c=0;const u=0,d=[];let h=n-u-e;for(;(c<i.length||a<l.length)&&h>0;){if(a<l.length){const p=l[a++];if(p.colDef.lockPinned){s=!0;continue}h-=p.getActualWidth(),d.push(p)}if(c<i.length&&h>0){const p=i[c++];if(p.colDef.lockPinned){s=!0;continue}h-=p.getActualWidth(),d.push(p)}}return{columns:d,hasLockedPinned:s}}},yG={moduleName:"PinnedColumn",version:le,beans:[SG],css:[vG]},RG=class extends K{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Dt(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=xt(e),o=this.descriptionContainer=t.createElement("div");o.classList.add("ag-aria-description-container"),nf(o,"polite"),qD(o,"additions text"),KD(o,!0),e.eGridDiv.appendChild(o)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}â€‹`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(oo(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},xG={moduleName:"Aria",version:le,beans:[RG]};function PG(e){e.overlays?.showLoadingOverlay()}function FG(e){e.overlays?.showNoRowsOverlay()}function EG(e){e.overlays?.hideOverlay()}var DG=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",MG={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},CC=class extends nt{constructor(){super(MG),this.eOverlayWrapper=Fe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(DG)}handleKeyDown(e){if(e.key!==U.TAB||e.defaultPrevented||pn(e))return;const t=this.beans;if(Ls(t,this.eOverlayWrapper,!1,e.shiftKey))return;let n=!1;e.shiftKey?n=t.focusSvc.focusGridView({column:Je(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):n=mr(t,!1),n&&e.preventDefault()}updateLayoutClasses(e,t){const o=this.eOverlayWrapper.classList,{AUTO_HEIGHT:n,NORMAL:s,PRINT:r}=rl;o.toggle(n,t.autoHeight),o.toggle(s,t.normal),o.toggle(r,t.print)}postConstruct(){this.createManagedBean(new Gu(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,o,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),o&&this.isGridFocused()){const s=gt(this.beans);s&&!Df(this.beans)&&(this.elToFocusAfter=s)}e.then(s=>{if(this.activePromise!==e){this.activeOverlay!==s&&(this.destroyBean(s),s=null);return}if(this.activePromise=null,!!s){if(this.activeOverlay!==s&&(this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,n)){const r=s;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:i})=>{r.refresh?.(De(this.gos,{...i??{}}))})}o&&this.isGridFocused()&&ys(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const o=this.updateListenerDestroyFunc;o&&(o(),this.updateListenerDestroyFunc=null),this.destroyBean(e),oo(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=gt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},IG={selector:"AG-OVERLAY-WRAPPER",component:CC},TG=class extends K{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=vt(this.gos),this.isServerSide=!this.isClientSide&&Ts(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ee(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return IG}getOverlayWrapperCompClass(){return CC}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:o,beans:{gos:n,colModel:s,rowModel:r}}=this;let i=this.gos.get("loading");i!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&i===void 0&&!n.get("suppressLoadingOverlay")&&(i=!n.get("columnDefs")||!s.ready||!n.get("rowData")&&t),i?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!n.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!o&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(jI(this.beans.userCompFactory,De(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(KI(this.beans.userCompFactory,De(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,o){const n=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(n,t,this.isExclusive(),o),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},kG={moduleName:"Overlay",version:le,userComponents:{agLoadingOverlay:dk,agNoRowsOverlay:gk},apiFunctions:{showLoadingOverlay:PG,showNoRowsOverlay:FG,hideOverlay:EG},beans:[TG]},AG=class extends K{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=lM(),ws(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;ws(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),o=e/t;return this.maxScrollY*o}},LG=400,OG=class extends K{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},o=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},n=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Nn(this.gos)?o():n()}),Nn(this.gos)&&o()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:s})=>{(!s&&n||s&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:o}=this.beans;if(o&&this.addManagedPropertyListener("showOpenedGroup",()=>{const n=o.getShowRowGroupCols();n.length&&this.refreshCells({columns:n,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=It(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new GG(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),o=this.cachedRowCtrls?.getEntries()??[];t.length>0||o.length>0?this.allRowCtrls=[...e,...t,...o]:this.allRowCtrls=e}isCellBeingRendered(e,t){const o=this.rowCtrlsByRowIndex[e];return!t||!o?!!o:o.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!o.getCellCtrl(t)||!o.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(o=>t.onFlashCells(o,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const o=a=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&a(c)})},n=()=>{o(a=>a.onLeftChanged())},s=()=>{o(a=>a.onWidthChanged())},r=()=>{o(a=>a.onFirstRightPinnedChanged())},i=()=>{o(a=>a.onLastLeftPinnedChanged())},l=()=>{o(a=>a.onColDefChanged())};t.__addEventListener("leftChanged",n),t.__addEventListener("widthChanged",s),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",i),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",n),t.__removeEventListener("widthChanged",s),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",i),t.__removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=It(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(o=>{const n=o.getCellCtrl(e,!0)?.eGui;n&&t.push(n)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,o){const{pinnedRowModel:n,beans:s,printLayout:r}=this,i=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));n?.forEachPinnedRow(t,(a,c)=>{const u=e[c];u&&n.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in i&&o?(e[c]=i[a.id],delete i[a.id]):e[c]=new Wl(a,s,!1,!1,r)});const l=(t==="top"?n?.getPinnedTopRowCount():n?.getPinnedBottomRowCount())??0;e.length=l}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const o=n=>{const s=n[e.rowIndex];s&&s.rowNode===e&&(s.destroyFirstPass(),s.destroySecondPass(),n[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":o(this.topRowCtrls);break;case"bottom":o(this.bottomRowCtrls);break;default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const o=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&er(this.gos),s=o?this.getRowsToRecycle():null;o||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:r,gos:i}=this;if(r){r.checkStickyRows();const l=r.extraTopHeight+r.extraBottomHeight;l&&this.updateContainerHeights(l)}this.recycleRows(s,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(i.get("enableRowPinning")?o:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,o=this.gos.get("suppressScrollOnNewData");t&&!o&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let o=this.pageBounds.getCurrentPageHeight();o===0&&(o=1),t.setModelHeight(o+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(_o(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,o=this.findPositionToFocus(e);if(!o){t.focusHeaderPosition({headerPosition:{headerRowIndex:Vo(this.beans)-1,column:e.column}});return}if(e.rowIndex!==o.rowIndex||e.rowPinned!=o.rowPinned){t.setFocusedCell({...o,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(De(this.gos,{...o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:o}=this.beans;let n=e;for(n.rowPinned==null&&t&&o&&!t.isRowInPage(n.rowIndex)&&(n={rowPinned:null,rowIndex:o.getFirstRow()});n;){if(n.rowPinned==null&&o)if(n.rowIndex<o.getFirstRow()){if(n=Gl(this.beans,{rowPinned:null,rowIndex:0}),!n)return null}else n.rowIndex>o.getLastRow()&&(n={rowPinned:null,rowIndex:o.getLastRow()});const s=this.getRowByPosition(n);if(s?.isAlive())return{...s.getRowPosition(),column:e.column};n=Gl(this.beans,n)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),o=t.length;for(let n=0;n<o;n++){const s=t[n].getAllCellCtrls(),r=s.length;for(let i=0;i<r;i++)e.push(s[i])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),o=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...o,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,o){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,o)}refreshCells({rowNodes:e,columns:t,force:o,suppressFlash:n}={}){const s={force:o,newData:!1,suppressFlash:n};for(const r of this.getCellCtrls(e,t))r.refreshOrDestroyCell(s);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const o of this.getRowCtrls(e)){if(!o.isFullWidth())continue;o.refreshFullWidth()||(t=!0,this.redrawRow(o.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=_c(e),o=this.getAllRowCtrls();return!e||!t?o:o.filter(n=>{const s=n.rowNode;return $c(s,t)})}getCellCtrls(e,t){let o;ie(t)&&(o={},t.forEach(s=>{const r=this.colModel.getCol(s);ie(r)&&(o[r.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(r=>{const i=r.column.getId();o&&!o[i]||n.push(r)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const o of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[o].rowNode.id==null&&e.push(o);this.removeRowCtrls(e);const t={};for(const o of Object.values(this.rowCtrlsByRowIndex)){const n=o.rowNode;t[n.id]=o}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(o=>{const n=this.rowCtrlsByRowIndex[o];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[o]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:o}=this.beans,{afterScroll:n}=e;let s;const r=this.stickyRowFeature;r&&(s=t?.getFocusCellToUseAfterRefresh()||void 0);const i=this.firstRenderedRow,l=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let a=!1;if(r){a=r.checkStickyRows();const u=r.extraTopHeight+r.extraBottomHeight;u&&this.updateContainerHeights(u)}const c=this.firstRenderedRow!==i||this.lastRenderedRow!==l;if(!(n&&!a&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n&&!a),s!=null)){const u=t?.getFocusCellToUseAfterRefresh();s!=null&&u==null&&(o?.flushAllFrames(),this.restoreFocusedCell(s))}}removeRowCompsNotToDraw(e,t){const o={};e.forEach(r=>o[r]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!o[r]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){const t=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)t.push(i);const o=this.beans.pagination,n=this.beans.focusSvc?.getFocusedCell()?.rowIndex;n!=null&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&(!o||o.isRowInPage(n))&&n<this.rowModel.getRowCount()&&t.push(n);const s=i=>{const l=i.rowNode.rowIndex;l==null||l===n||(l<this.firstRenderedRow||l>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(l)};for(const i of Object.values(this.rowCtrlsByRowIndex))s(i);if(e)for(const i of Object.values(e))s(i);t.sort((i,l)=>i-l);const r=[];for(let i=0;i<t.length;i++){const l=t[i],a=this.rowModel.getRow(l);a&&!a.sticky&&r.push(l)}return r}recycleRows(e,t=!1,o=!1){const n=this.calculateIndexesToDraw(e);if((this.printLayout||o)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,o)}),e){const{animationFrameSvc:s}=this.beans;s?.active&&o&&!this.printLayout?s.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),o=e.isPinningRight();(this.pinningLeft!==t||o!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const o=t.rowNode.rowIndex;e.push(o.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=_c(e);return this.getAllRowCtrls().filter(o=>{if(!o.isFullWidth())return!1;const n=o.rowNode;return!(t!=null&&!$c(n,t))})}createOrUpdateRowCtrl(e,t,o,n){let s,r=this.rowCtrlsByRowIndex[e];if(r||(s=this.rowModel.getRow(e),ie(s)&&ie(t)&&t[s.id]&&s.alreadyRendered&&(r=t[s.id],t[s.id]=null)),!r)if(s||(s=this.rowModel.getRow(e)),ie(s))r=this.createRowCon(s,o,n);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const o=[];if(e){for(const n of Object.values(e))if(n){if(this.cachedRowCtrls&&n.isCacheable()){this.cachedRowCtrls.addRow(n);continue}if(n.destroyFirstPass(!t),t){const s=n.instanceId;this.zombieRowCtrls[s]=n,o.push(()=>{n.destroySecondPass(),delete this.zombieRowCtrls[s]})}else n.destroySecondPass()}}t&&(o.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>o.forEach(n=>n()),LG))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=us(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:o}=this;e.updateOffset();let n,s;if(!o.isRowsToRender())n=0,s=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),n=t.getFirstRow(),s=t.getLastRow();else{const u=this.getRowBufferInPixels(),d=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation");let p=!1,f,m;do{const D=t.getPixelOffset(),{pageFirstPixel:A,pageLastPixel:R}=t.getCurrentPagePixelRange(),M=e.divStretchOffset,E=d.getVScrollPosition(),V=E.top,I=E.bottom;h?(f=A+M,m=R+M):(f=Math.max(V+D-u,A)+M,m=Math.min(I+D+u,R)+M),this.firstVisibleVPixel=Math.max(V+D,A)+M,this.lastVisibleVPixel=Math.min(I+D,R)+M,p=this.ensureAllRowsInRangeHaveHeightsCalculated(f,m)}while(p);let C=o.getRowIndexAtPixel(f),w=o.getRowIndexAtPixel(m);const v=t.getFirstRow(),y=t.getLastRow();C<v&&(C=v),w>y&&(w=y),n=C,s=w}const r=It(this.gos,"normal"),i=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);r&&!i&&s-n>l&&(s=n+l);const a=n!==this.firstRenderedRow,c=s!==this.lastRenderedRow;(a||c)&&(this.firstRenderedRow=n,this.lastRenderedRow=s,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:n,lastRow:s}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Sn(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const o=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:s,rowModel:r}=this,i=r.ensureRowHeightsValid(e,t,s.getFirstRow(),s.getLastRow());return(i||n)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),n||i||o?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const n=e.rowNode,s=this.focusSvc.isRowFocused(n.rowIndex,n.rowPinned),r=this.editSvc?.isEditing(e),i=n.detail;return s||r||i?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,o){const n=this.cachedRowCtrls?.getRow(e)??null;if(n)return n;const s=o&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new Wl(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(n=>n.rowNode),t=this.getStickyTopRowCtrls().map(n=>n.rowNode),o=this.getStickyBottomRowCtrls().map(n=>n.rowNode);return[...t,...e,...o]}getRowByPosition(e){let t;const{rowIndex:o}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[o];break;case"bottom":t=this.bottomRowCtrls[o];break;default:t=this.rowCtrlsByRowIndex[o],t||(t=this.getStickyTopRowCtrls().find(n=>n.rowNode.rowIndex===o)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.rowNode.rowIndex===o)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},GG=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,o=this.entriesMap[t];delete this.entriesMap[t],mo(this.entriesList,o)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],mo(this.entriesList,e)}getEntries(){return this.entriesList}};function _c(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(o=>{const n=o.id;switch(o.rowPinned){case"top":t.top[n]=o;break;case"bottom":t.bottom[n]=o;break;default:t.normal[n]=o;break}}),t}function $c(e,t){const o=e.id;switch(e.rowPinned){case"top":return t.top[o]!=null;case"bottom":return t.bottom[o]!=null;default:return t.normal[o]!=null}}var HG=class extends K{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Go(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Go(e))}doFullSort(e,t){const o=e.map((n,s)=>({currentPos:s,rowNode:n}));return o.sort(this.compareRowNodes.bind(this,t)),o.map(n=>n.rowNode)}compareRowNodes(e,t,o){const n=t.rowNode,s=o.rowNode;for(let r=0,i=e.length;r<i;r++){const l=e[r],a=l.sort==="desc",c=this.getValue(n,l.column),u=this.getValue(s,l.column);let d;const h=this.getComparator(l,n);if(h?d=h(c,u,n,s,a):d=WD(c,u,this.isAccentedSort),!isNaN(d)&&d!==0)return l.sort==="asc"?d:d*-1}return t.currentPos-o.currentPos}getComparator(e,t){const o=e.column,n=o.getColDef().comparator;if(n!=null)return n;if(!o.getColDef().showRowGroup)return;const s=!t.group&&o.getColDef().field;if(!s)return;const r=this.beans.colModel.getColDefCol(s);if(r)return r.getColDef().comparator}getValue(e,t){const{valueSvc:o,colModel:n,showRowGroupCols:s,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return o.getValue(t,e,!1);if(e.rowGroupColumn===t){if(Tf(r,n.isPivotActive())){const c=e.allLeafChildren?.[0];return c?o.getValue(t,c,!1):void 0}const a=s?.getShowRowGroupCol(t.getId());return a?e.groupData?.[a.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return o.getValue(t,e,!1)}};function VG(e){e.sortSvc?.onSortChanged("api")}var wC={moduleName:"Sort",version:le,beans:[M1,HG],apiFunctions:{onSortChanged:VG},userComponents:{agSortIndicator:Zu},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},BG=class extends K{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:o}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),o.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),ws(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,or(e.source))}}};function NG(e){e.valueCache?.expire()}function zG(e,t){const{colKey:o,rowNode:n,useFormatter:s}=t,r=e.colModel.getColDefCol(o)??e.colModel.getCol(o);if(at(r))return null;const i=e.valueSvc.getValueForDisplay(r,n,s);return s?i.valueFormatted??xr(i.value):i.value}var WG="paste",_G=class extends K{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;vt(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:o}=this.beans;if(e.source===WG||t.get("suppressChangeDetection"))return;const n=e.node,s=[n],r=this.clientSideRowModel,i=r?.rootNode;if(i&&!n.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),a=new pi(l,i);a.addParentNode(n.parent,[e.column]),r.doAggregate(a),a.forEachChangedNodeDepthFirst(c=>{s.push(c),c.sibling&&s.push(c.sibling)})}o.refreshCells({rowNodes:s})}},$G=class extends K{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);et(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(o){return et(16,{expression:e,params:t,e:o}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const o=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",o);return t[e]=n,n}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},UG=class extends K{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,o){if(this.active){const n=this.cacheVersion;e.__cacheVersion!==n&&(e.__cacheVersion=n,e.__cacheData={}),e.__cacheData[t]=o}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},jG={moduleName:"ValueCache",version:le,beans:[UG],apiFunctions:{expireValueCache:NG}},KG={moduleName:"Expression",version:le,beans:[$G]},qG={moduleName:"ChangeDetection",version:le,beans:[_G]},YG={moduleName:"CellApi",version:le,apiFunctions:{getCellValue:zG}},_i={checkSiblings:!0},QG=class extends K{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Ts(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,o=!1,n=!1,s="ui"){const{showRowGroupColValueSvc:r}=this.beans,i=!e&&t.group,l=e?.colDef.showRowGroup,a=!this.isTreeData||t.footer;if(r&&a&&(i||l)){const m=r.getGroupValue(t,e);if(m==null)return{value:null,valueFormatted:null};if(!o)return{value:m.value,valueFormatted:null};const C=r.formatAndPrefixGroupColValue(m,e,n);return{value:m.value,valueFormatted:C}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!c,d=this.gos.get("groupSuppressBlankHeader")||!t.sibling,h=u&&!d,p=this.getValue(e,t,h,s),f=o&&!(n&&e.colDef.useValueFormatterForExport===!1);return{value:p,valueFormatted:f?this.formatValue(e,t,p):null}}getValue(e,t,o=!1,n="ui"){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),r=s.field,i=e.getColId();let l=t.data;if(this.hasEdit&&n==="ui"){const m=this.editSvc;if(m.isRowEditing(t,_i)&&(l=m.getRowDataValue(t,_i)),m.isEditing()){const C=m.getCellDataValue({rowNode:t,column:e},!0);if(C!==void 0)return C}}let a;const c=s.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const u=typeof c!="string"||!t.group,d=t.groupData&&i in t.groupData,h=!o&&t.aggData&&t.aggData[i]!==void 0,p=this.isSsrm&&o&&!!s.aggFunc,f=this.isSsrm&&t.footer&&t.field&&(s.showRowGroup===!0||s.showRowGroup===t.field);if(this.isTreeData&&h)a=t.aggData[i];else if(this.isTreeData&&s.valueGetter)a=this.executeValueGetter(s.valueGetter,l,e,t);else if(this.isTreeData&&r&&l)a=jr(l,r,e.isFieldContainsDots());else if(d)a=t.groupData[i];else if(h)a=t.aggData[i];else if(s.valueGetter&&!p){if(!u)return a;a=this.executeValueGetter(s.valueGetter,l,e,t)}else if(f)a=jr(l,t.field,e.isFieldContainsDots());else if(r&&l&&!p){if(!u)return a;a=jr(l,r,e.isFieldContainsDots())}if(this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const m=a.substring(1);a=this.executeValueGetter(m,l,e,t)}return a}parseValue(e,t,o,n){const s=e.getColDef(),r=s.valueParser;if(ie(r)){const i=De(this.gos,{node:t,data:t?.data,oldValue:n,newValue:o,colDef:s,column:e});return typeof r=="function"?r(i):this.expressionSvc?.evaluate(r,i)}return o}getDeleteValue(e,t){return ie(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,o,n,s=!0){const{expressionSvc:r}=this.beans;let i=null,l;const a=e.getColDef();if(n?l=n:s&&(l=a.valueFormatter),l){let c=t?t.data:null;if(t){const d={rowNode:t};if(this.hasEdit){const h=this.editSvc;h.isEditing(d,_i)&&(c=h.getRowDataValue(t,_i))}}const u=De(this.gos,{value:o,node:t,data:c,colDef:a,column:e});typeof l=="function"?i=l(u):i=r?r.evaluate(l,u):null}else if(a.refData)return a.refData[o]||"";return i==null&&Array.isArray(o)&&(i=o.join(", ")),i}setValue(e,t,o,n){const s=this.colModel.getColDefCol(t);if(!e||!s)return!1;at(e.data)&&(e.data={});const{field:r,valueSetter:i}=s.getColDef();if(at(r)&&at(i))return ee(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(s,o))return ee(135),!1;const l=De(this.gos,{node:e,data:e.data,oldValue:this.getValue(s,e,void 0,n),newValue:o,colDef:s.getColDef(),column:s});l.newValue=o;let a;if(ie(i)?typeof i=="function"?a=i(l):a=this.expressionSvc?.evaluate(i,l):a=this.setValueUsingField(e.data,r,o,s.isFieldContainsDots()),a===void 0&&(a=!0),!a)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(s,e);return this.dispatchCellValueChangedEvent(e,l,c,n),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,l,c,n),!0}dispatchCellValueChangedEvent(e,t,o,n){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:o,value:o,source:n})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,o,n){if(!t)return!1;let s=!1;if(!n)s=e[t]===o,s||(e[t]=o);else{const r=t.split(".");let i=e;for(;r.length>0&&i;){const l=r.shift();r.length===0?(s=i[l]===o,s||(i[l]=o)):i=i[l]}}return!s}executeValueGetterWithValueCache(e,t,o,n){const s=o.getColId(),r=this.valueCache.getValue(n,s);if(r!==void 0)return r;const i=this.executeValueGetterWithoutValueCache(e,t,o,n);return this.valueCache.setValue(n,s,i),i}executeValueGetterWithoutValueCache(e,t,o,n){const s=De(this.gos,{data:t,node:n,column:o,colDef:o.getColDef(),getValue:this.getValueCallback.bind(this,n)});let r;return typeof e=="function"?r=e(s):r=this.expressionSvc?.evaluate(e,s),r}getValueCallback(e,t){const o=this.colModel.getColDefCol(t);return o?this.getValue(o,e):null}getKeyForNode(e,t){const o=this.getValue(e,t),n=e.getColDef().keyCreator;let s=o;if(n){const r=De(this.gos,{value:o,colDef:e.getColDef(),column:e,node:t,data:t.data});s=n(r)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&ee(121)),s}},ZG={moduleName:"CommunityCore",version:le,beans:[P1,rA,uO,CI,AG,yL,v1,Y1,pI,wG,CG,OG,QG,R1,w1,x1,hO,BG,rO,iO],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:iA,destroy:lA,isDestroyed:aA,getGridOption:cA,setGridOption:uA,updateGridOptions:Um,isModuleRegistered:dA},dependsOn:[oO,eL,lL,wC,oG,xL,nG,kG,qG,rG,mG,yG,xG,lG,cO,nO,KG,DL]};function Uc(e){const{inputValue:t,allSuggestions:o,hideIrrelevant:n,filterByPercentageOfBestMatch:s}=e;let r=(o??[]).map((a,c)=>({value:a,relevance:XG(t,a),idx:c}));if(r.sort((a,c)=>a.relevance-c.relevance),n&&(r=r.filter(a=>a.relevance<Math.max(a.value.length,t.length))),r.length>0&&s&&s>0){const c=r[0].relevance*s;r=r.filter(u=>c-u.relevance<0)}const i=[],l=[];for(const a of r)i.push(a.value),l.push(a.idx);return{values:i,indices:l}}function XG(e,t){e.length<t.length&&([e,t]=[t,e]);let o=[],n=[];const s=e.length,r=t.length;for(let l=0;l<=r;l++)o[l]=l;let i=0;for(let l=1;l<=s;l++){n[0]=l;for(let a=1;a<=r;a++){const c=e[l-1],u=t[a-1];if(c.toLocaleLowerCase()===u.toLocaleLowerCase())++i,c===u&&++i,l>1&&a>1&&e[l-2].toLocaleLowerCase()===t[a-2].toLocaleLowerCase()&&(++i,e[l-2]===t[a-2]&&++i),l<s/2-10&&++i,n[a]=o[a-1];else{const d=n[a-1],h=o[a],p=o[a-1];n[a]=1+Math.min(d,h,p)}}[o,n]=[n,o]}return o[r]/(i+1)}var vC={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Ya=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],JG={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Ya,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Ya,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Ya,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},eH={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function tH(e,t){const o=[];return(Array.isArray(e)?e:[e]).forEach(n=>{const s=JG[n];s?s.forEach(r=>{const i=eH[r];(!i||i===t)&&o.push(r)}):o.push(n)}),o}var bC=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,oH=e=>{const t=e.map(n=>`import { ${Zr(n)} } from '${vC[n]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(n=>n==="IntegratedCharts"||n==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(n=>Zr(n,!0)).join(", ")} ]); 

For more info see: ${Js}/modules/`};function Zr(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function nH(e,t){const o=t.filter(r=>r==="IntegratedCharts"||r==="Sparklines");let n="";return!globalThis?.agCharts&&o.length>0?n=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(r=>vC[r])&&(n=n+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),n}function SC({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var sg=({reasonOrId:e,moduleName:t,gridScoped:o,gridId:n,rowModelType:s,additionalText:r,isUmd:i})=>{const l=tH(t,s),a=typeof e=="string"?e:lH[e];if(i)return nH(a,l);const c=l.filter(h=>h==="IntegratedCharts"||h==="Sparklines"),u=c.length>0?`${c.map(h=>Zr(h)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${a} as ${l.length>1?"one of "+l.map(h=>Zr(h)).join(", "):Zr(l[0])} is not registered${o?" for gridId: "+n:""}. ${u} Check if you have registered the module:
`}
${oH(l)}`+(r?` 

${r}`:"")},rg=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,sH=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,rH={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:o})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",o],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${sH(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:o,pageSizeOptions:n})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${o?"":" the default"} paginationPageSizeSelector=[${n?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:o,jsComps:n})=>{const s=[],r=[...Object.keys(o??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(n??[]).filter(l=>!!n[l])],i=Uc({inputValue:t,allSuggestions:r,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return s.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),i.length>0&&s.push(`         Did you mean: [${i.slice(0,3)}]?
`),s.push("If using a custom component check it has been registered correctly."),s},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Js}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const o=Uc({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,o.length>0?`         Did you mean: [${o.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:o})=>["duplicate group keys for row data, keys should be unique",e,t,...o??[]],187:({rowId:e,firstData:t,secondData:o})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",o],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:sg,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Js}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>rg("IntegratedChartsModule"),258:()=>rg("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:o,gridId:n,rowModelType:s})=>sg({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:ar[t],gridId:n,gridScoped:o,rowModelType:s}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Js}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>bC(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:SC,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler()`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function iH(e,t){const o=rH[e];if(!o)return[`Missing error text for error id ${e}!`];const n=o(t),r=`
See ${Rf(e,t)}`;return Array.isArray(n)?n.concat(r):[n,r]}var lH={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},ig=new WeakMap,lg=new WeakMap,aH=1,cH=class{create(e,t,o,n,s,r){const i=Jp.applyGlobalGridOptions(t),l=i.gridId??String(aH++),a=this.getRegisteredModules(s,l,i.rowModelType),c=this.createBeansList(i.rowModelType,a,l),u=this.createProvidedBeans(e,i,s);if(!c)return;const h={providedBeanInstances:u,beanClasses:c,gridId:l,beanInitComparator:tA,beanDestroyComparator:oA,derivedBeans:[Jk],destroyCallback:()=>{lg.delete(f),ig.delete(e),r?.()}},p=new a0(h);this.registerModuleFeatures(p,a),o(p),p.getBean("syncSvc").start(),n?.(p);const f=p.getBean("gridApi");return ig.set(e,f),lg.set(f,e),f}getRegisteredModules(e,t,o){return di(ZG,void 0,!0),e?.modules?.forEach(n=>di(n,t)),e0(t,ag(o))}registerModuleFeatures(e,t){const o=e.getBean("registry"),n=e.getBean("apiFunctionSvc");t.forEach(s=>{o.registerModule(s);const r=s.apiFunctions;r&&Object.keys(r).forEach(l=>{n?.addFunction(l,r[l])})})}createProvidedBeans(e,t,o){let n=o?o.frameworkOverrides:null;at(n)&&(n=new _m);const s={gridOptions:t,eGridDiv:e,globalListener:o?o.globalListener:null,globalSyncListener:o?o.globalSyncListener:null,frameworkOverrides:n};return o&&o.providedBeanInstances&&Object.assign(s,o.providedBeanInstances),s}createBeansList(e,t,o){const n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},s=ag(e),r=n[s];if(!r){Wr(201,{rowModelType:s},`Unknown rowModelType ${s}.`);return}if(!n0()){Wr(272,void 0,bC());return}if(!e){const l=Object.entries(n).filter(([a,c])=>Dc(c,o,a));if(l.length==1){const[a,c]=l[0];if(a!==s){const u={moduleName:c,rowModelType:a};Wr(275,u,SC(u));return}}}if(!Dc(r,o,s)){Wr(200,{reasonOrId:`rowModelType = '${s}'`,moduleName:r,gridScoped:Iu(),gridId:o,rowModelType:s},`Missing module ${r}Module for rowModelType ${s}.`);return}const i=new Set;return t.forEach(l=>l.beans?.forEach(a=>i.add(a))),Array.from(i)}};function ag(e){return e??"clientSide"}function Zo(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function da(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function yC(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var uH=class extends K{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(n,s,r)=>t({key:n,defaultValue:s,variableValues:r});const o=e.get("localeText");return(n,s,r)=>{let i=o&&o[n];if(i&&r&&r.length){let l=0;for(;!(l>=r.length||i.indexOf("${variable}")===-1);)i=i.replace("${variable}",r[l++])}return i??s}}};function dH(e,t=!1){const o=[],n=[],s=[],r=[],i=[],l=[],a=[],c=[],u=[];let d=0;for(let h=0;h<e.length;h++){const{colId:p,sort:f,sortIndex:m,rowGroup:C,rowGroupIndex:w,aggFunc:v,pivot:y,pivotIndex:D,pinned:A,hide:R,width:M,flex:E}=e[h];u.push(p),f&&(o[m??d++]={colId:p,sort:f}),C&&(n[w??0]=p),typeof v=="string"&&s.push({colId:p,aggFunc:v}),y&&(r[D??0]=p),A&&(A==="right"?l:i).push(p),R&&a.push(p),(E!=null||M)&&c.push({colId:p,flex:E??void 0,width:M})}return{sort:o.length?{sortModel:o}:void 0,rowGroup:n.length?{groupColIds:n}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:i.length||l.length?{leftColIds:i,rightColIds:l}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function hH(e){const t=[];return e.forEach(({groupId:o,open:n})=>{n&&t.push(o)}),t.length?{openColumnGroupIds:t}:void 0}var gH=class{wrap(e,t,o,n){const s=this.createWrapper(e,n);return t?.forEach(r=>{this.createMethod(s,r,!0)}),o?.forEach(r=>{this.createMethod(s,r,!1)}),s}createMethod(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))}createMethodProxy(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&ee(49,{methodName:t}),null)}}},pH={tag:"div",cls:"ag-tooltip"},fH=class extends _u{constructor(){super(pH)}init(e){const{value:t}=e,o=this.getGui();o.textContent=xr(t);const n=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();o.classList.add(`ag-${n}-tooltip`)}},mH=1e3,CH=1e3,cg=100,ug,$i=!1,wH=class extends K{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!ls()&&($i?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},cg):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,o=this.tooltipCtrl.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||o.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||$i)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-ug<mH}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ie(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const o=t.getRowNode?.(),n=De(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:o,data:o?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const s=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);qI(this.userCompFactory,n)?.newAgStackInstance().then(s)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),ug=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const n=t.getGui();this.tooltipComp=t,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&n.classList.add("ag-tooltip-animate"),this.interactionEnabled&&n.classList.add("ag-tooltip-interactive");const s=this.getLocaleTextFunc(),r=this.popupSvc?.addPopup({eChild:n,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(r&&(this.tooltipPopupDestroyFunc=r.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const i=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:i,columnMoved:i})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(n,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(xt(this.beans),{keydown:i=>{n.contains(i?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(n,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:n,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=gt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,o=this.tooltipTrigger===0?CH:0;window.setTimeout(()=>{e(),this.destroyBean(t)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){$i=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},cg)}unlockService(){$i=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function Qa(e){return e.get("tooltipShowMode")==="whenTruncated"}var vH=class extends K{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const o="title",n=this.ctrl.getGui();n&&(e!=null&&(e!=""||t)?n.setAttribute(o,e):n.removeAttribute(o))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new wH(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function bH(e,t){if(typeof e!="number")return"";const o=t(),n=o("thousandSeparator",","),s=o("decimalSeparator",".");return e.toString().replace(".",s).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${n}`)}var SH=class extends K{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},yH=class{constructor(e){const{colModel:t,rowGroupColsSvc:o,colNames:n,valueSvc:s,gos:r,processCellCallback:i,processHeaderCallback:l,processGroupHeaderCallback:a,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=o,this.colNames=n,this.valueSvc=s,this.gos=r,this.processCellCallback=i,this.processHeaderCallback=l,this.processGroupHeaderCallback=a,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,o,n,s){const r=t===0&&kf(this.gos,s,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||s.group)&&(e.isRowGroupDisplayed(s.rowGroupColumn?.getColId()??"")||r))return{value:this.processRowGroupCallback(De(this.gos,{column:e,node:s}))??""};if(this.processCellCallback)return{value:this.processCellCallback(De(this.gos,{accumulatedRowIndex:o,column:e,node:s,value:this.valueSvc.getValueForDisplay(e,s,void 0,void 0).value,type:n,parseValue:h=>this.valueSvc.parseValue(e,s,h,this.valueSvc.getValue(e,s,void 0)),formatValue:h=>this.valueSvc.formatValue(e,s,h)??h}))??""};const i=this.gos.get("treeData"),l=this.valueSvc,a=s.level===-1&&s.footer,c=e.colDef.showRowGroup===!0&&(s.group||i);if(!a&&(r||c)){let h="",p=s;for(;p&&p.level!==-1;){const{value:f,valueFormatted:m}=l.getValueForDisplay(r?void 0:e,p,!0,!0);h=` -> ${m??f??""}${h}`,p=p.parent}return{value:h,valueFormatted:h}}const{value:u,valueFormatted:d}=l.getValueForDisplay(e,s,!0,!0);return{value:u??"",valueFormatted:d}}getHeaderName(e,t){return e?e(De(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function RH(e,t){const o=document.defaultView||window;if(!o){ee(52);return}const n=document.createElement("a"),s=o.URL.createObjectURL(t);n.setAttribute("href",s),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(n),o.setTimeout(()=>{o.URL.revokeObjectURL(s)},0)}var xH={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},jt="clientSide",Bt="serverSide",Ns="infinite",PH={onGroupExpandedOrCollapsed:[jt],refreshClientSideRowModel:[jt],isRowDataEmpty:[jt],forEachLeafNode:[jt],forEachNodeAfterFilter:[jt],forEachNodeAfterFilterAndSort:[jt],resetRowHeights:[jt],applyTransaction:[jt],applyTransactionAsync:[jt],flushAsyncTransactions:[jt],getBestCostNodeSelection:[jt],getServerSideSelectionState:[Bt],setServerSideSelectionState:[Bt],applyServerSideTransaction:[Bt],applyServerSideTransactionAsync:[Bt],applyServerSideRowData:[Bt],retryServerSideLoads:[Bt],flushServerSideAsyncTransactions:[Bt],refreshServerSide:[Bt],getServerSideGroupLevelState:[Bt],refreshInfiniteCache:[Ns],purgeInfiniteCache:[Ns],getInfiniteRowCount:[Ns],isLastRowIndexKnown:[Ns,Bt],expandAll:[jt,Bt],collapseAll:[jt,Bt],onRowHeightChanged:[jt,Bt],setRowCount:[Ns,Bt],getCacheBlockState:[Ns,Bt]},FH={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function EH(e,t,o){const n=FH[e];if(n){const{version:r,new:i,old:l,message:a}=n,c=l??e;return(...u)=>{const d=i?`Please use ${i} instead. `:"";return qr(`Since ${r} api.${c} is deprecated. ${d}${a??""}`),t.apply(t,u)}}const s=PH[e];return s?(...r)=>{const i=o.rowModel.getType();if(!s.includes(i)){Xs(`api.${e} can only be called when gridOptions.rowModelType is ${s.join(" or ")}`);return}return t.apply(t,r)}:t}var DH={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},MH={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},IH={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},TH=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),kH=class extends K{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,pM(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&xH[t]&&ee(22,{key:t})}processGridOptions(e){this.processOptions(e,j1())}validateApiFunction(e,t){return EH(e,t,this.beans)}missingUserComponent(e,t,o,n){const s=ar[t];s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):ee(101,{propertyName:e,componentName:t,agGridDefaults:o,jsComps:n})}missingDynamicBean(e){const t=DH[e];return t?_o(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){LH.has(e)&&ee(10,{eventType:e})}validateIcon(e){if(TH.has(e)&&ee(43,{iconName:e}),MH[e])return;const t=IH[e];if(t){et(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Iu(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}ee(134,{iconName:e})}isProvidedUserComp(e){return!!ar[e]}validateColDef(e){this.processOptions(e,O1())}processOptions(e,t){const{validations:o,deprecations:n,allProperties:s,propertyExceptions:r,objectName:i,docsUrl:l}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...r??[],...Object.keys(n)],s,i,l);const a=new Set;Object.keys(e).forEach(u=>{const d=n[u];if(d){const{message:v,version:y}=d;a.add(`As of v${y}, ${String(u)} is deprecated. ${v??""}`)}const h=e[u];if(h==null||h===!1)return;const p=o[u];if(!p)return;const{dependencies:f,validate:m,supportedRowModels:C,expectedType:w}=p;if(w){const v=typeof h;if(v!==w){a.add(`${String(u)} should be of type '${w}' but received '${v}' (${h}).`);return}}if(C){const v=this.gridOptions.rowModelType??"clientSide";if(!C.includes(v)){a.add(`${String(u)} is not supported with the '${v}' row model. It is only valid with: ${C.join(", ")}.`);return}}if(f){const v=this.checkForRequiredDependencies(u,f,e);if(v){a.add(v);return}}if(m){const v=m(e,this.gridOptions,this.beans);if(v){a.add(v);return}}}),a.size>0&&a.forEach(u=>{qr(u)})}checkForRequiredDependencies(e,t,o){const s=Object.entries(t).filter(([r,i])=>{const l=o[r];return!i.required.includes(l)});return s.length===0?null:s.map(([r,i])=>`'${String(e)}' requires '${r}' to be one of [${i.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${i.reason??""}`).join(`
           `)}checkProperties(e,t,o,n,s){const r=["__ob__","__v_skip","__metadata__"],i=AH(Object.getOwnPropertyNames(e),[...r,...t,...o],o),l=Object.keys(i);for(const a of l){const c=i[a];let u=`invalid ${n} property '${a}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;o.includes("context")&&(u+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),qr(u)}if(l.length>0&&s){const a=this.beans.frameworkOverrides.getDocLink(s);qr(`to see all the valid ${n} properties please check: ${a}`)}}getConsoleMessage(e,t){return iH(e,t)}};function AH(e,t,o){const n={},s=e.filter(r=>!t.some(i=>i===r));return s.length>0&&s.forEach(r=>n[r]=Uc({inputValue:r,allSuggestions:o}).values),n}var LH=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),OH={moduleName:"Validation",version:le,beans:[kH]};function RC(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var GH=class extends K{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const o=(n,s)=>{n.hasChildren()&&e&&!s?n.childrenAfterFilter=n.childrenAfterGroup.filter(r=>{const i=r.childrenAfterFilter&&r.childrenAfterFilter.length>0,l=r.data&&this.filterManager.doesRowPassFilter({rowNode:r});return i||l}):n.childrenAfterFilter=n.childrenAfterGroup,RC(n)};if(this.doingTreeDataFiltering()){const n=(r,i)=>{if(r.childrenAfterGroup)for(let l=0;l<r.childrenAfterGroup.length;l++){const a=r.childrenAfterGroup[l],c=i||this.filterManager.doesRowPassFilter({rowNode:a});a.childrenAfterGroup?n(r.childrenAfterGroup[l],c):o(a,c)}o(r,i)},s=r=>n(r,!1);t.executeFromRootNode(s)}else{const n=s=>o(s,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},HH=class extends Wu{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,o,n,s){this.comp=e;const r=Ri(this,this.beans.context,s);this.eButtonShowMainFilter=o,this.eFloatingFilterBody=n,this.setGui(t,r),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r);const i=()=>this.onColDefChanged(r);r.addManagedListeners(this.column,{colDefChanged:i}),r.addManagedEventListeners({filterSwitched:({column:l})=>{l===this.column&&i()}}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,o=e.colDef;return De(t.gos,{colDef:o,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,o=!!e.floatingFilter;this.active=t&&o}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=po("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Fr(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();hr(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(gt(t)===this.eGui)return;const s=Ls(t,this.eGui,null,e.shiftKey);if(s){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let o=this.column;do if(o=e?t.getColBefore(o):t.getColAfter(o),!o)break;while(!o.getColDef().filter||!o.getColDef().floatingFilter);return o}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case U.UP:case U.DOWN:case U.LEFT:case U.RIGHT:if(t)return;bs(e);case U.ENTER:t&&ys(this.eGui)&&e.preventDefault();break;case U.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const o=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&as(e.relatedTarget,"ag-floating-filter");if(o&&n&&e.target===this.eGui){const s=this.lastFocusEvent,r=!!(s&&s.key===U.TAB);if(s&&r){const i=s.shiftKey;ys(this.eGui,i)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new zu(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!eo(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:o,gos:n}=this,s=r=>{if(r?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const i=this.comp.getFloatingFilterComp();i&&i.then(l=>{if(l){if(n.get("enableFilterHandlers")){const u=r;let d="filter";u?.afterFloatingFilter?d="ui":u?.afterDataChange?d="dataChanged":r?.source==="api"&&(d="api"),this.updateFloatingFilterParams(this.userCompDetails,d);return}const a=t?.getCurrentFloatingFilterParentModel(o),c=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;l.onParentModelChanged(a,c)}})};[this.destroySyncListener]=e.addManagedListeners(o,{filterChanged:s}),t?.isFilterActive(o)&&s(null)}setupWidth(e){const t=()=>{const o=`${this.column.getActualWidth()}px`;this.comp.setWidth(o)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const o=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.beans.colFilter,s=this.active?n?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!s?this.updateCompDetails(e,s,o):r.then(i=>{!i||n?.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(e,s,o):this.updateFloatingFilterParams(s,"colDef")})}updateCompDetails(e,t,o){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),o&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let o=e.params;this.comp.getFloatingFilterComp()?.then(n=>{typeof n?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(o={...o,model:yt(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),n.refresh(o))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function VH(e,t){const o=e.colModel.getCol(t);if(!o){et(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:o,positionBy:"auto"})}function BH(e){e.menuSvc?.hidePopupMenu()}var NH={moduleName:"SharedMenu",version:le,beans:[ck],apiFunctions:{showColumnMenu:VH,hidePopupMenu:BH}},Ui=0,zH=200,WH=class extends K{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:o,column:n,node:s,event:r}=e,i=t.getBoundingClientRect(),l=this.getParentRect();this.setAlignedTo(t,o);let a=!1;const c=()=>{const u=this.keepXYWithinBounds(o,i.top-l.top,0),d=o.clientWidth>0?o.clientWidth:200;a||(o.style.minWidth=`${d}px`,a=!0);const p=l.right-l.left-d;let f;return this.gos.get("enableRtl")?(f=C(),f<0&&(f=m(),this.setAlignedStyles(o,"left")),f>p&&(f=0,this.setAlignedStyles(o,"right"))):(f=m(),f>p&&(f=C(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),{x:f,y:u};function m(){return i.right-l.left-2}function C(){return i.left-l.left-d}};this.positionPopup({ePopup:o,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",o,t,r instanceof MouseEvent?r:void 0,n,s)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:o,nudgeY:n,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:o,nudgeY:n,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:o,nudgeY:n,keepWithinBounds:s,eventSource:r,alignSide:i="left",position:l="over",column:a,rowNode:c,type:u}=e,d=r.getBoundingClientRect(),h=this.getParentRect();this.setAlignedTo(r,t);const p=()=>{let f=d.left-h.left;i==="right"&&(f-=t.offsetWidth-d.width);let m;return l==="over"?(m=d.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)==="under"?m=d.top-h.top+d.height:m=d.top-t.offsetHeight-(n||0)*2-h.top),{x:f,y:m}};this.positionPopup({ePopup:t,nudgeX:o,nudgeY:n,keepWithinBounds:s,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(u,t,r,null,a,c)})}shouldRenderUnderOrAbove(e,t,o,n){const s=o.bottom-t.bottom,r=t.top-o.top,i=e.offsetHeight+n;return s>i?"under":r>i||r>s?"above":"under"}setAlignedStyles(e,t){const o=this.getPopupIndex(e);if(o===-1)return;const n=this.popupList[o],{alignedToElement:s}=n;!s||(["right","left","over","above","under"].forEach(i=>{s.classList.remove(`ag-has-popup-positioned-${i}`),e.classList.remove(`ag-popup-positioned-${i}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const o=this.getPopupIndex(t);if(o!==-1){const n=this.popupList[o];n.alignedToElement=e}}callPostProcessPopup(e,t,o,n,s,r){const i=this.gos.getCallback("postProcessPopup");i&&i({column:s,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:o,nudgeX:n,nudgeY:s,skipObserver:r,updatePosition:i}=e,l={width:0,height:0},a=(c=!1)=>{let{x:u,y:d}=i();c&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,n&&(u+=n),s&&(d+=s),o&&(u=this.keepXYWithinBounds(t,u,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${u}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback())};if(a(),!r){const c=bn(this.beans,t,()=>a(!0));setTimeout(()=>c(),zH)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=xt(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),pf(t)}keepXYWithinBounds(e,t,o){const n=o===0,s=n?"clientHeight":"clientWidth",r=n?"top":"left",i=n?"height":"width",l=n?"scrollTop":"scrollLeft",a=xt(this.beans),c=a.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),h=u.getBoundingClientRect(),p=a.documentElement.getBoundingClientRect(),f=u===a.body,m=Math.ceil(d[i]);let w=f?(n?gf:yl)(c)+c[l]:u[s];f&&(w-=Math.abs(p[r]-h[r]));const v=w-m;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=xt(this.beans),{eChild:o,ariaLabel:n,ariaOwns:s,alwaysOnTop:r,positionCallback:i,anchorToElement:l}=e;if(!t)return ee(122),{hideFunc:()=>{}};const a=this.getPopupIndex(o);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(o);const c=this.createPopupWrapper(o,!!r,n,s),u=this.addEventListenersToPopup({...e,wrapperEl:c});return i&&i(),this.addPopupToPopupList(o,c,u,l),{hideFunc:u}}initialisePopupPosition(e){const o=this.getPopupParent().getBoundingClientRect();ie(e.style.top)||(e.style.top=`${o.top*-1}px`),ie(e.style.left)||(e.style.left=`${o.left*-1}px`)}createPopupWrapper(e,t,o,n){const s=this.getPopupParent(),{environment:r,gos:i}=this.beans,l=Ct({tag:"div"});return r.applyThemeClasses(l),l.classList.add("ag-popup"),e.classList.add(i.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Cs(e,"dialog"),o?hr(e,o):n&&(e.id||(e.id=`popup-component-${Ui}`),uh(n,e.id)),l.appendChild(e),s.appendChild(l),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),l}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const o of this.popupList)t.applyThemeClasses(o.wrapper)}}addEventListenersToPopup(e){const t=this.beans,o=xt(t),n=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:i,afterGuiAttached:l,closeOnEsc:a,modal:c,ariaOwns:u}=e;let d=!1;const h=C=>{if(!s.contains(gt(t)))return;C.key===U.ESCAPE&&!pn(C)&&m({keyboardEvent:C})},p=C=>m({mouseEvent:C}),f=C=>m({touchEvent:C}),m=(C={})=>{const{mouseEvent:w,touchEvent:v,keyboardEvent:y,forceHide:D}=C;!D&&(this.isEventFromCurrentPopup({mouseEvent:w,touchEvent:v},r)||d)||(d=!0,n.removeChild(s),o.removeEventListener("keydown",h),o.removeEventListener("mousedown",p),o.removeEventListener("touchstart",f),o.removeEventListener("contextmenu",p),this.eventSvc.removeEventListener("dragStarted",p),i&&i(w||v||y),this.removePopupFromPopupList(r,u))};return l&&l({hidePopup:m}),window.setTimeout(()=>{a&&o.addEventListener("keydown",h),c&&(o.addEventListener("mousedown",p),this.eventSvc.addEventListener("dragStarted",p),o.addEventListener("touchstart",f),o.addEventListener("contextmenu",p))},0),m}addPopupToPopupList(e,t,o,n){this.popupList.push({element:e,wrapper:t,hideFunc:o,instanceId:Ui,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n),Ui=Ui+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const o=this.getPopupIndex(e);if(o===-1)return;const n=this.popupList[o];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(r=>r&&r()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=s,n.isAnchored=!0,s}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&uh(t,null),this.popupList=this.popupList.filter(o=>o.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),o=t.getBoundingClientRect(),{element:n,ePopup:s}=e,r=n.getBoundingClientRect(),i=d=>parseInt(d.substring(0,d.length-1),10),l=(d,h)=>{const p=o[d]-r[d],f=i(s.style[d]);return{initialDiff:p,lastDiff:p,initial:f,last:f,direction:h}},a=l("top",0),c=l("left",1),u=this.beans.frameworkOverrides;return new Ue(d=>{u.wrapIncoming(()=>{u.setInterval(()=>{const h=t.getBoundingClientRect(),p=n.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}const m=(C,w)=>{const v=i(s.style[w]);C.last!==v&&(C.initial=v,C.last=v);const y=h[w]-p[w];if(y!=C.lastDiff){const D=this.keepXYWithinBounds(s,C.initial+C.initialDiff-y,C.direction);s.style[w]=`${D}px`,C.last=D}C.lastDiff=y};m(a,"top"),m(c,"left")},200).then(h=>{d(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:o,touchEvent:n}=e,s=o||n;if(!s)return!1;const r=this.getPopupIndex(t);if(r===-1)return!1;for(let i=r;i<this.popupList.length;i++){const l=this.popupList[i];if(BM(l.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=xt(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const o=this.getWrapper(e);o&&(o.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(o))}bringPopupToFront(e){const t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=o.length,s=this.getWrapper(e);if(!s||n<=1||!t.contains(e))return;const r=[],i=[];for(const h of o)h!==s&&(h.classList.contains("ag-always-on-top")?i.push(h):r.push(h));const l=[],a=i.length,d=s.classList.contains("ag-always-on-top")||!a?[...r,...i,s]:[...r,s,...i];for(let h=0;h<=n;h++){const p=d[h];if(o[h]===d[h]||p===s)continue;p.querySelectorAll("div").forEach(m=>{m.scrollTop!==0&&l.push([m,m.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",p):d[h-1].insertAdjacentElement("afterend",p)}for(;l.length;){const h=l.pop();h[0].scrollTop=h[1]}}},ha={moduleName:"Popup",version:le,beans:[WH]},_H=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function $H(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function UH(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function jH(e,t){const o=e.colModel.getColDefCol(t);if(o)return e.colFilter?.destroyFilter(o,"api")}function KH(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function qH(e){return e.filterManager?.getFilterModel()??{}}function YH(e,t,o){const{gos:n,colModel:s,colFilter:r}=e;o&&!n.get("enableFilterHandlers")&&(ee(288),o=!1);const i=s.getColDefCol(t);return i?r?.getModelForColumn(i,o)??null:null}function QH(e,t,o){return e.filterManager?.setColumnFilterModel(t,o)??Promise.resolve()}function ZH(e,t){const o=e.colModel.getCol(t);if(!o){et(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:o,containerType:"columnFilter",positionBy:"auto"})}function XH(e){e.menuSvc?.hideFilterMenu()}function JH(e,t){const o=e.colModel.getCol(t);if(!o){et(12,{colKey:t});return}return e.colFilter?.getHandler(o,!0)}function eV(e,t){const{colModel:o,colFilter:n,gos:s}=e;if(!s.get("enableFilterHandlers")){ee(287);return}const{colId:r,action:i}=t;if(r){const l=o.getColById(r);l&&n?.updateModel(l,i)}else n?.updateAllModels(i)}var tV={filterHandler:()=>({doesFilterPass:()=>!0})},oV=class extends K{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...xm},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:o,dataTypeSvc:n,filterManager:s}=this.beans;if(n?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const r=[],i=this.getModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((a,c)=>{const u=e[c];r.push(this.setModelOnFilterWrapper(a,u)),l.delete(c)}),l.forEach(a=>{const c=o.getColDefCol(a)||o.getCol(a);if(!c){ee(62,{colId:a});return}if(!c.isFilterAllowed()){ee(63,{colId:a});return}const u=this.getOrCreateFilterWrapper(c,!0);if(!u){ee(64,{colId:a});return}r.push(this.setModelOnFilterWrapper(u,e[a],!0))})}else this.model={},this.allColumnFilters.forEach(l=>{r.push(this.setModelOnFilterWrapper(l,null))});Ue.all(r).then(()=>{const l=this.getModel(!0),a=[];this.allColumnFilters.forEach((c,u)=>{const d=i?i[u]:null,h=l?l[u]:null;si(d,h)||a.push(c.column)}),a.length>0&&s?.onFilterChanged({columns:a,source:t})})}getModel(e){const t={},{allColumnFilters:o,initialModel:n,beans:{colModel:s}}=this;if(o.forEach((r,i)=>{const l=this.getModelFromFilterWrapper(r);ie(l)&&(t[i]=l)}),!e)for(const r of Object.keys(n)){const i=n[r];ie(i)&&!o.has(r)&&s.getCol(r)?.isFilterAllowed()&&(t[r]=i)}return t}setState(e,t,o="api"){if(this.state.clear(),t)for(const n of Object.keys(t)){const s=t[n];this.state.set(n,{model:yt(this.model,n),state:s})}this.setModel(e,o)}getState(){const e=this.state;if(!e.size)return;const t={};let o=!1;return e.forEach((n,s)=>{const r=n.state;r!=null&&(o=!0,t[s]=r)}),o?t:void 0}getModelFromFilterWrapper(e){const o=e.column.getColId();if(e.isHandler)return yt(this.model,o);const n=e.filter;return n?typeof n.getModel!="function"?(ee(66),null):n.getModel():yt(this.initialModel,o)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(ee(67),!1):!1,{colModel:t,gos:o}=this.beans,n=!!Pc(o),s=c=>{if(!c.isPrimary())return!0;const d=!t.isPivotActive();return!c.isValueActive()||!d?!1:t.isPivotMode()?!0:n},r=[],i=[],l=(c,u,d)=>{u&&(s(c)?r.push(d):i.push(d))},a=[];return this.allColumnFilters.forEach(c=>{const u=c.column,d=u.getColId();if(c.isHandler)a.push(Ue.resolve().then(()=>{l(u,this.isHandlerActive(u),{colId:d,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const h=Fn(c);h&&a.push(h.then(p=>{l(u,e(p),{colId:d,isHandler:!1,comp:p})}))}}),Ue.all(a).then(()=>{this.activeAggregateFilters=r,this.activeColumnFilters=i})}updateFilterFlagInColumns(e,t){const o=[];return this.allColumnFilters.forEach(n=>{const s=n.column;if(n.isHandler)o.push(Ue.resolve().then(()=>{this.setColFilterActive(s,this.isHandlerActive(s),e,t)}));else{const r=Fn(n);r&&o.push(r.then(i=>{this.setColFilterActive(s,i.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Ue.all(o)}doFiltersPass(e,t,o){const{data:n,aggData:s}=e,r=o?this.activeAggregateFilters:this.activeColumnFilters,i=o?s:n,l=this.model;for(let a=0;a<r.length;a++){const c=r[a],{colId:u,isHandler:d}=c;if(u!==t)if(d){const{handler:h,handlerParams:p}=c;if(!h.doesFilterPass({node:e,data:i,model:yt(l,u),handlerParams:p}))return!1}else{const h=c.comp;if(typeof h.doesFilterPass!="function"){et(91);continue}if(!h.doesFilterPass({node:e,data:i}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:o}=this.beans,n=()=>{this.isAlive()&&o?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(n,0):n()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:o}=e,n=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",o).then(()=>{this.allColumnFilters.forEach(s=>{const{column:r,isHandler:i}=s;n!==r.getColId()&&(i&&s.handler.onAnyFilterChanged?.(),Fn(s,i)?.then(l=>{typeof l?.onAnyFilterChanged=="function"&&l.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(o=>{const n=o.isHandler;n&&o.handler.onNewRowsLoaded?.();const s=Fn(o,n);s&&t.push(s.then(r=>{r.onNewRowsLoaded?.()}))}),Ue.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:o,colModel:n}=this.beans;return(s,r)=>{const i=r?n.getCol(r):e;return i?o.getValue(i,s,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const o=t?.filter;return o?o.isFilterActive():yt(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=ie(yt(this.model,e.getColId()));if(t)return t;const o=this.beans.groupFilter;return o?.isGroupFilter(e)?o.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Fn(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const o=Fn(t);return o?o.then(n=>({comp:n,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const o=this.getOrCreateFilterWrapper(e,t);return o?.isHandler?o.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let o=this.cachedFilter(e);return!o&&t&&(o=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,o)),o}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return kM(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":fT(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,o,n,s,r){const i=()=>{const c=this.createFilterCompParams(e,s,r),u=n(c,s);return $I(this.beans.userCompFactory,t,u,o)},l=i();return l?{compDetails:l,createFilterUi:c=>(c?i():l).newAgStackInstance()}:null}createFilterInstance(e,t,o,n){const s=this.beans.selectableFilter;s?.isSelectable(t)&&(t=s.getFilterDef(e,t));const{handler:r,handlerParams:i,handlerGenerator:l}=this.createHandler(e,t,o)??{},a=this.createFilterComp(e,t,o,n,!!r,"init");if(!a)return{compDetails:null,createFilterUi:null,handler:r,handlerGenerator:l,handlerParams:i};const{compDetails:c,createFilterUi:u}=a;return this.isGlobalButtons&&(c.params?.buttons?.length||ee(281,{colId:e.getColId()})),{compDetails:c,handler:r,handlerGenerator:l,handlerParams:i,createFilterUi:u}}createBaseFilterParams(e,t){const{filterManager:o,rowModel:n}=this.beans;return De(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:s=>o?.doesRowPassOtherFilters(e.getColId(),s)??!0,rowModel:n})}createFilterCompParams(e,t,o,n){const s=this.filterChangedCallbackFactory(e),r=this.createBaseFilterParams(e,n);if(r.filterChangedCallback=s,r.filterModifiedCallback=n?()=>{}:i=>this.filterModified(e,i),t){const i=r,l=e.getColId(),a=yt(this.model,l);i.model=a,i.state=this.state.get(l)??{model:a},i.onModelChange=(c,u)=>{this.updateStoredModel(l,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{s({...u,source:"columnFilter"})})},i.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},i.onAction=(c,u,d)=>{this.updateModel(e,c,u),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:d})},i.getHandler=()=>this.getHandler(e,!0),i.onUiChange=c=>this.filterUiChanged(e,c),i.source=o}return r}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,o){const n=t(),s={created:!0,create:t,filterParams:e.params,compDetails:e,promise:n};return n.then(o),s}createFilterWrapper(e){const{compDetails:t,handler:o,handlerGenerator:n,handlerParams:s,createFilterUi:r}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),l=>l),i=e.getColId();if(o)return delete this.initialModel[i],o.init?.({...s,source:"init",model:yt(this.model,i)}),{column:e,isHandler:!0,handler:o,handlerGenerator:n,handlerParams:s,filterUi:this.createFilterUiForHandler(t,r)};if(r){const l={column:e,filterUi:null,isHandler:!1};return l.filterUi=this.createFilterUiLegacy(t,r,a=>{l.filter=a??void 0}),l}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:o,frameworkOverrides:n,registry:s}=this.beans;let r;const i=d=>{const h=d.filter;if(em(h)){const p=h.handler;return p||(r=h.doesFilterPass,r?()=>({doesFilterPass:r}):void 0)}return typeof h=="string"?h:void 0},l=o.get("enableFilterHandlers")?i(e):void 0,a=d=>()=>this.createBean(s.createDynamicBean(d,!0));let c,u;if(typeof l=="string"){const d=o.get("filterHandlers")?.[l];d!=null?c=d:tT.has(l)&&(c=a(l),u=l)}else c=l;if(!c){let d;const{compName:h,jsComp:p,fwComp:f}=nm(n,e);h?d=h:p==null&&f==null&&e.filter===!0&&(d=t),u=this.handlerMap[d],u&&(c=a(u))}if(c)return{filterHandler:c,handlerNameOrCallback:r??u}}createHandler(e,t,o){let n=this.createHandlerFunc(t,o);if(!n){const c=this.gos;if(!c.get("enableFilterHandlers"))return;vt(c)&&ee(277,{colId:e.getColId()}),n=tV}const s=ka(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:r,filterHandler:i}=n,{handler:l,handlerParams:a}=this.createHandlerFromFunc(e,i,s);return{handler:l,handlerParams:a,handlerGenerator:r??i}}createHandlerFromFunc(e,t,o){const n=e.getColDef(),s=t(De(this.gos,{column:e,colDef:n})),r=this.createHandlerParams(e,o);return{handler:s,handlerParams:r}}createHandlerParams(e,t){const o=e.getColDef(),n=e.getColId(),s=this.filterChangedCallbackFactory(e);return De(this.gos,{colDef:o,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:r=>this.beans.filterManager?.doesRowPassOtherFilters(n,r)??!0,onModelChange:(r,i)=>{this.updateStoredModel(n,r),this.refreshHandlerAndUi(e,r,"handler").then(()=>{s({...i,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:o,groupFilter:n}=this.beans;this.allColumnFilters.forEach((r,i)=>{let l;r.column.isPrimary()?l=t.getColDefCol(i):l=t.getCol(i),!(l&&l===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(i))});const s=n&&e.every(r=>n.isGroupFilter(r));e.length>0&&!s&&o?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const o=this.beans.groupFilter;return o?.isGroupFilter(e)?o.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:o,frameworkOverrides:n,selectableFilter:s}=this.beans,r=h=>{const p=this.getOrCreateFilterUi(e);p?.then(f=>{h(ui(f))})},i=e.getColDef(),l=s?.isSelectable(i)?s.getFilterDef(e,i):i,a=ST(n,l,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),u=ka(o,l,this.createFilterCompParams(e,c,"init",!0)),d=De(this.gos,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t});if(c){const h=d,p=e.getColId(),f=this.filterChangedCallbackFactory(e);h.onUiChange=m=>this.floatingFilterUiChanged(e,m),h.model=yt(this.model,p),h.onModelChange=(m,C)=>{this.updateStoredModel(p,m),this.refreshHandlerAndUi(e,m,"floating",!0).then(()=>{f({...C,source:"columnFilter"})})},h.getHandler=()=>this.getHandler(e,!0),h.source="init"}return YI(o,i,d,a)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,o,n){if(e.isHandler){const s=t.getColId();delete this.initialModel[s],this.state.delete(s);const r=e.filterUi,i=this.createFilterUiForHandler(o,n);e.filterUi=i,r?.created&&r.promise.then(l=>{this.destroyBean(l),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const o=e.getColId(),n=this.allColumnFilters.get(o);this.disposeColumnListener(o),delete this.initialModel[o],n&&this.disposeFilterWrapper(n,t).then(s=>{s&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let o=!1;const{column:n,isHandler:s,filterUi:r}=e,i=n.getColId();s&&(o=this.isHandlerActive(n),this.destroyBean(e.handler),delete this.model[i],this.state.delete(i));const l=()=>{this.setColFilterActive(n,!1,"filterDestroyed"),this.allColumnFilters.delete(i),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:n})};if(r){if(r.created)return r.promise.then(a=>(o=s?o:!!a?.isFilterActive(),this.destroyBean(a),l(),o));l()}return Ue.resolve(o)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const o=this.allColumnFilters.get(e);if(!o)return;const n=this.beans,s=o.column,r=s.getColDef(),i=s.isFilterAllowed(),l=this.getDefaultFilter(s),a=n.selectableFilter,c=a?.isSelectable(r)?a.getFilterDef(s,r):r,u=i?this.createHandlerFunc(c,this.getDefaultFilter(s)):void 0,d=!!u,h=o.isHandler;if(h!=d){this.destroyFilter(s,"paramsUpdated");return}const{compDetails:p,createFilterUi:f}=(i?this.createFilterComp(s,c,l,C=>C,d,"colDef"):null)??{compDetails:null,createFilterUi:null},m=p?.params??ka(n.userCompFactory,c,this.createFilterCompParams(s,d,"colDef"));if(h){const C=u?.handlerNameOrCallback??u?.filterHandler,w=yt(this.model,e);if(o.handlerGenerator!=C){const v=o.handler,{handler:y,handlerParams:D}=this.createHandlerFromFunc(s,u.filterHandler,m);o.handler=y,o.handlerParams=D,o.handlerGenerator=C,delete this.model[e],y.init?.({...D,source:"init",model:null}),this.destroyBean(v),w!=null&&this.beans.filterManager?.onFilterChanged({columns:[s],source:t})}else{const v=this.createHandlerParams(s,p?.params);o.handlerParams=v,o.handler.refresh?.({...v,source:"colDef",model:w})}}if(this.areFilterCompsDifferent(o.filterUi?.compDetails??null,p)||!o.filterUi||!p){this.destroyFilterUi(o,s,p,f);return}o.filterUi.filterParams=m,Fn(o,h)?.then(C=>{(C?.refresh?C.refresh(m):!0)===!1?this.destroyFilterUi(o,s,p,f):this.dispatchLocalEvent({type:"filterParamsChanged",column:s,params:m})})}refreshHandlerAndUi(e,t,o,n){const s=this.cachedFilter(e);if(!s)return n&&this.getOrCreateFilterWrapper(e,!0),Ue.resolve();if(!s.isHandler)return Ue.resolve();const{filterUi:r,handler:i,handlerParams:l}=s;return oT(()=>{if(r){const{created:a,filterParams:c}=r;if(a)return r.promise.then(u=>u?{filter:u,filterParams:c}:void 0);r.refreshed=!0}return Ue.resolve(void 0)},i,l,t,this.state.get(e.getColId())??{model:t},o)}setColumnFilterWrapper(e,t){const o=e.getColId();this.allColumnFilters.set(o,t),this.allColumnListeners.set(o,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(o)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:o}=e,{componentClass:n}=t;return!(o===n||o?.render&&n?.render&&o.render===n.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const o=this.getOrCreateFilterUi(t);return o?new Promise(n=>{o.then(s=>{n(ui(s))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:o})=>{this.setModelForColumn(e,t).then(()=>o())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:n,model:s}=this,r=e.getColId(),i=n.get(r);return i?i.model??null:yt(s,r)}const o=this.cachedFilter(e);return o?this.getModelFromFilterWrapper(o):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let o=()=>{};const n=new Promise(s=>{o=s});return this.columnModelUpdates.push({key:e,model:t,resolve:o}),n}return new Promise(o=>{this.setModelForColumnLegacy(e,t).then(n=>o(n))})}getStateForColumn(e){return this.state.get(e)??{model:yt(this.model,e)}}setModelForColumnLegacy(e,t){const o=this.beans.colModel.getColDefCol(e),n=o?this.getOrCreateFilterWrapper(o,!0):null;return n?this.setModelOnFilterWrapper(n,t):Ue.resolve()}setColDefPropsForDataType(e,t,o){const n=e.filter,s=n===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):n;if(typeof s!="string")return;let r,i;const l=this.beans,{filterParams:a,filterValueGetter:c}=e;s==="agMultiColumnFilter"?{filterParams:r,filterValueGetter:i}=l.multiFilter?.getParamsForDataType(a,c,t,o)??{}:{filterParams:r,filterValueGetter:i}=hT(s,a,c,t,o,l,this.getLocaleTextFunc()),e.filterParams=r,i&&(e.filterValueGetter=i)}setColFilterActive(e,t,o,n){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",o)),e.dispatchColEvent("filterChanged",o,n)}setModelOnFilterWrapper(e,t,o){return new Ue(n=>{if(e.isHandler){const r=e.column,i=r.getColId(),l=this.model[i];if(this.updateStoredModel(i,t),o&&t===l){n();return}this.refreshHandlerAndUi(r,t,"api").then(()=>n());return}const s=Fn(e);if(s){s.then(r=>{if(typeof r?.setModel!="function"){ee(65),n();return}(r.setModel(t)||Ue.resolve()).then(()=>n())});return}n()})}updateStoredModel(e,t){ie(t)?this.model[e]=t:delete this.model[e];const o=this.state.get(e),n={model:t,state:o?.state};this.state.set(e,n)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(o=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:o,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,o){const n=e.getColId(),s=()=>this.cachedFilter(e)?.filterUi;Fh(t,s,()=>yt(this.model,n),()=>this.state.get(n),r=>this.updateState(e,r),r=>s()?.filterParams?.onModelChange(r,o))}updateAllModels(e,t){const o=[];this.allColumnFilters.forEach((n,s)=>{const r=this.beans.colModel.getColDefCol(s);r&&Fh(e,()=>n.filterUi,()=>yt(this.model,s),()=>this.state.get(s),i=>this.updateState(r,i),i=>{this.updateStoredModel(s,i),this.dispatchLocalEvent({type:"filterAction",column:r,action:e}),o.push(this.refreshHandlerAndUi(r,i,"ui"))})}),o.length&&Ue.all(o).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();Fm(()=>this.cachedFilter(e)?.filterUi,()=>yt(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:o}=this;for(const s of o)if(s.source==="COLUMN_MENU")return!1;let n=!1;for(const s of e.keys()){const r=e.get(s);if(r.valid===!1)return!1;(r.model??null)!==yt(t,s)&&(n=!0)}return n}hasUnappliedModel(e){const{model:t,state:o}=this;return(o.get(e)?.model??null)!==yt(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const o=this.beans.filterPanelSvc;return o?.isActive?!!o.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function nV(e){return!!e.filterManager?.isAnyFilterPresent()}function sV(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var rV=class extends K{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:n})=>this.onAdvFilterEnabledChanged(n),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:o}=this;this.alwaysPassFilter=o.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=o.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,o="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,o)}setFilterModel(e,t="api",o){if(this.isAdvFilterEnabled()){o||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){Pc(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:o,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Ue.resolve()).then(()=>{const s={source:t,type:"filterChanged",columns:n};o&&Wt(s,o),this.eventSvc.dispatchEvent(s),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!Pc(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){ee(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},iV=class extends K{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,o,n){e&&!e.isColumn||this.showPopup(e,s=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:o,mouseEvent:t,ePopup:s})},o,t.target,eo(this.gos),n)}showMenuAfterButtonClick(e,t,o,n){if(e&&!e.isColumn)return;let s=-1,r="left";const i=eo(this.gos);!i&&this.gos.get("enableRtl")&&(s=1,r="right");const l=i?void 0:4*s,a=i?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:o,eventSource:t,ePopup:c,nudgeX:l,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},o,t,i,n)}showPopup(e,t,o,n,s,r){const i=e?this.createBean(new aT(e,"COLUMN_MENU")):void 0;if(this.activeMenu=i,!i?.hasFilter()||!e){et(57);return}const l=Ct({tag:"div",cls:`ag-menu${s?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(l,{keydown:m=>this.trapFocusWithin(m,l)}),l.appendChild(i?.getGui());let a;const c=()=>i?.afterGuiDetached(),u=AM(this.gos)?n??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,d=m=>{Lh(e,!1,"contextMenu");const C=m instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),C&&n&&Uo(n)&&Cm(n)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,o,e),r?.()},h=this.getLocaleTextFunc(),p=s&&o!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),f=this.popupSvc?.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(l),anchorToElement:u,ariaLabel:p});f&&(this.hidePopup=a=f.hideFunc),i.afterInit().then(()=>{t(l),i.afterGuiAttached({container:o,hidePopup:a})}),Lh(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,o,e)}trapFocusWithin(e,t){e.key!==U.TAB||e.defaultPrevented||Ls(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),ys(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,o){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:o??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},lV=class extends K{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,o){if(!t)return;const n=e.getColDef(),{selectableFilter:s,valueSvc:r}=this.beans,i=o??s?.getFilterValueGetter(e.getColId())??n.filterValueGetter;return i?this.executeFilterValueGetter(i,t.data,e,t,n):r.getValue(e,t)}executeFilterValueGetter(e,t,o,n,s){const{expressionSvc:r,valueSvc:i}=this.beans,l=De(this.gos,{data:t,node:n,column:o,colDef:s,getValue:i.getValueCallback.bind(i,n)});return typeof e=="function"?e(l):r?.evaluate(e,l)}},aV={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},cV=class extends nt{constructor(){super(aV,[ca]),this.eFloatingFilterText=Fe}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const o=e,n=o.getHandler();if(n.getModelAsString){const s=n.getModelAsString(o.model);this.eFloatingFilterText.setValue(s)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const o=t.getModelAsString(e);this.eFloatingFilterText.setValue(o)}})}refresh(e){this.init(e)}},Xu=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const o=e.filterOptions??t;this.filterOptions!==o&&(this.filterOptions=o,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const o=[["displayKey"],["displayName"],["predicate","test"]],n=s=>s.some(r=>t[r]!=null)?!0:(ee(72,{keys:s}),!1);if(!o.every(n)){this.filterOptions=e.filter(s=>s===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const o=t[0];if(typeof o=="string")return o;if(o.displayKey)return o.displayKey;ee(73)}else ee(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Xr(e,t,o){return o==null?e.splice(t):e.splice(t,o)}function $l(e){return e==null||typeof e=="string"&&e.trim().length===0}function uV(e){return e==="AND"||e==="OR"?e:"AND"}function dV(e,t,o){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(s=>s==null))return n(t,o)}function hV(e,t){let o=e.length;return o>t&&(e.splice(t),ee(78),o=t),o}function mi(e,t){const o=t.getCustomOption(e);if(o){const{numberOfInputs:s}=o;return s??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var Ju=class extends vT{constructor(e,t,o){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=o,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new Xu;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=uV(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,o)=>{const n=o===0?e:this.optionsFactory.defaultOption;t.setValue(n,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const o=!e.operator,n=!t.operator;if(!o&&n||o&&!n)return!1;let r;if(o){const i=e,l=t;r=this.areSimpleModelsEqual(i,l)}else{const i=e,l=t;r=i.operator===l.operator&&As(i.conditions,l.conditions,(a,c)=>this.areSimpleModelsEqual(a,c))}return r}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Ue.resolve();if(e.operator){const n=e;let s=n.conditions;s==null&&(s=[],ee(77));const r=hV(s,this.maxNumConditions),i=this.getNumConditions();if(r<i)this.removeConditionsAndOperators(r);else if(r>i)for(let a=i;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const l=n.operator==="OR";this.eJoinAnds.forEach(a=>a.setValue(!l,!0)),this.eJoinOrs.forEach(a=>a.setValue(l,!0)),s.forEach((a,c)=>{this.eTypes[c].setValue(a.type,!0),this.setConditionIntoUi(a,c)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Ue.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(ee(79),t=1),this.maxNumConditions=t;let o=e.numAlwaysVisibleConditions??1;o<1&&(ee(80),o=1),o>t&&(ee(81),o=t),this.numAlwaysVisibleConditions=o}createOption(){const e=this.getGui(),t=this.createManagedBean(new Ku);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const o=this.createEValue();this.eConditionBodies.push(o),e.appendChild(o),this.putOptionsIntoDropdown(t),this.resetType(t);const n=this.getNumConditions()-1;this.forEachPositionInput(n,s=>this.resetInput(s)),this.addChangedListeners(t,n)}createJoinOperatorPanel(){const e=Ct({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),o=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const n=this.eJoinPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,s),this.resetJoinOperatorOr(o,n,s),this.isReadOnly()||(t.onValueChange(this.listener),o.onValueChange(this.listener))}createJoinOperator(e,t,o){const n=this.createManagedBean(new Bk);e.push(n);const s="ag-filter-condition-operator";return n.addCss(s),n.addCss(`${s}-${o}`),t.appendChild(n.getGui()),n}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(o=>{e.addOption(o)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,o=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:o?this.getLocaleTextFunc()(o.displayKey,o.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?e=o:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const o=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<o){this.removeConditionsAndOperators(o+1);const n=e+1,s=o-n;s>0&&this.removeConditionsAndOperators(n,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,s)=>{const r=this.isConditionDisabled(s,e);n.setDisabled(r||this.filterListOptions.length<=1),s===1&&(ii(this.eJoinPanels[0],r),this.eJoinAnds[0].setDisabled(r),this.eJoinOrs[0].setDisabled(r))}),this.eConditionBodies.forEach((n,s)=>{ht(n,this.isConditionBodyVisible(s))});const o=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(n=>{n.setValue(!o,!0)}),this.eJoinOrs.forEach(n=>{n.setValue(o,!0)}),this.forEachInput((n,s,r,i)=>{this.setElementDisplayed(n,s<i),this.setElementDisabled(n,this.isConditionDisabled(r,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:o,eConditionBodies:n,eJoinPanels:s,eJoinAnds:r,eJoinOrs:i}=this;this.removeComponents(o,e,t),this.removeElements(n,e,t),this.removeEValues(e,t);const l=Math.max(e-1,0);this.removeElements(s,l,t),this.removeComponents(r,l,t),this.removeComponents(i,l,t)}removeElements(e,t,o){Xr(e,t,o).forEach(s=>mn(s))}removeComponents(e,t,o){Xr(e,t,o).forEach(s=>{mn(s.getGui()),this.destroyBean(s)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const o=this.getInputs(0)[0];o instanceof ts&&this.isConditionBodyVisible(0)?t=o.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,o=-1,n=!1;const s=this.getJoinOperator();for(let i=this.getNumConditions()-1;i>=0;i--)if(this.isConditionUiComplete(i))t===-1&&(t=i,o=i);else{const l=i>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(i-1),a=i<t;(l||a)&&(this.removeConditionsAndOperators(i,1),n=!0,a&&o--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(o,s),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let o=this.translate(e);if(typeof this.filterPlaceholder=="function"){const n=this.eTypes[t].getValue(),s=this.translate(n);o=this.filterPlaceholder({filterOptionKey:n,filterOption:s,placeholder:o})}else typeof this.filterPlaceholder=="string"&&(o=this.filterPlaceholder);return o}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,o,n,s)=>{if(!(t instanceof ts))return;const r=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",i=o===0&&s>1?e("ariaFilterFromValue","Filter from value"):o===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(i)})}setElementValue(e,t,o){e instanceof ts&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof nt&&ht(e.getGui(),t)}setElementDisabled(e,t){e instanceof nt&&ii(e.getGui(),t)}attachElementOnChange(e,t){e instanceof ts&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,o)=>{this.forEachPositionTypeInput(o,t,e)})}forEachPositionInput(e,t){const o=this.getConditionType(e);this.forEachPositionTypeInput(e,o,t)}forEachPositionTypeInput(e,t,o){const n=mi(t,this.optionsFactory),s=this.getInputs(e);for(let r=0;r<s.length;r++){const i=s[r];i!=null&&o(i,r,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return mi(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(o=>o==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,o)=>this.resetJoinOperatorAnd(t,o,this.joinOperatorId+o)),this.eJoinOrs.forEach((t,o)=>this.resetJoinOperatorOr(t,o,this.joinOperatorId+o)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const o=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(o).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,o){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),o)}resetJoinOperatorOr(e,t,o){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),o)}resetJoinOperator(e,t,o,n,s){this.updateJoinOperatorDisabled(e.setValue(o,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${s}`).setLabel(n),t)}updateJoinOperatorsDisabled(){const e=(t,o)=>this.updateJoinOperatorDisabled(t,o);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const o=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((n,s,r)=>{r===t&&this.setElementValue(n,o[s]!=null?o[s]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,o,n)=>{this.setElementValue(t,o===0&&n===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,o=>{this.attachElementOnChange(o,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},xC=class{constructor(e,t,o,n,s,r){this.alive=!0,this.context=e,this.eParent=s;const i=UI(t,o,n);i&&i.newAgStackInstance().then(l=>{if(!this.alive){e.destroyBean(l);return}if(this.dateComp=l,!l)return;s.appendChild(l.getGui()),l?.afterGuiAttached?.();const{tempValue:a,disabled:c}=this;a&&l.setDate(a),c!=null&&l.setDisabled?.(c),r?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){ht(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},ed=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function PC(e,t){const{dateFrom:o,dateTo:n,type:s}=e||{};return[o&&Yt(o)||null,n&&Yt(n)||null].slice(0,mi(s,t))}var dg=1e3,hg=1/0,gV=class extends Ju{constructor(){super("dateFilter",PC,ed),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=dg,this.maxValidYear=hg,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(a,c)=>{const u=e[a];if(u!=null)if(isNaN(u))ee(82,{param:a});else return u==null?c:Number(u);return c},o=t("minValidYear",dg),n=t("maxValidYear",hg);this.minValidYear=o,this.maxValidYear=n,o>n&&ee(83);const{minValidDate:s,maxValidDate:r}=e,i=s instanceof Date?s:Yt(s);this.minValidDate=i;const l=r instanceof Date?r:Yt(r);this.maxValidDate=l,i&&l&&i>l&&ee(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:o,gos:n},params:s}=this,r=new xC(o,t,s.colDef,De(n,{onDateChanged:()=>this.onUiChanged(),filterParams:s,location:"filter"}),e);return this.addDestroyFunc(()=>r.destroy()),r}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=Ct({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,o,n){const s=Ct({tag:"div",cls:`ag-filter-${n} ag-filter-date-${n}`});t.push(s),e.appendChild(s),o.push(this.createDateCompWrapper(s))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Xr(this.eConditionPanelsFrom,e,t),Xr(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,o){Xr(e,t,o).forEach(s=>s.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:o,minValidYear:n,maxValidYear:s}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<n)return!1;if(o){if(e>o)return!1}else if(e.getUTCFullYear()>s)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((o,n,s,r)=>{s!==e||!t||n>=r||(t=t&&this.isValidDateValue(o.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),o={},n=this.getValues(e);return n.length>0&&(o.dateFrom=to(n[0])),n.length>1&&(o.dateTo=to(n[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...o}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),o=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(o)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:o}=this;return e>=t.length?[null,null]:[t[e],o[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(o,n,s,r)=>{n<r&&t.push(o.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},FC=class extends K{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,o=new Xu;this.optionsFactory=o,o.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(o,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,o=this.optionsFactory;o.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:o,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:o}=t,n=[];if(o){const i=t;n.push(...i.conditions??[])}else n.push(t);const s=o&&o==="OR"?"some":"every",r=this.params.getValue(e.node);return n[s](i=>this.individualConditionPasses(e,i,r))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:o,maxNumConditions:n}}=e;if(t==null)return;let r=bT(t)?t.conditions:[t];const i=o?.map(u=>typeof u=="string"?u:u.displayKey)??this.defaultOptions;if(!(!r||r.every(u=>i.find(d=>d===u.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let a=!1;const c=this.filterType;if((r&&!r.every(u=>u.filterType===c)||t.filterType!==c)&&(r=r.map(u=>({...u,filterType:c})),a=!0),typeof n=="number"&&r&&r.length>n&&(r=r.slice(0,n),a=!0),a){const u=r.length>1?{...t,filterType:c,conditions:r}:{...r[0],filterType:c};this.params={...e,model:u},e.onModelChange(u);return}}individualConditionPasses(e,t,o){const n=this.optionsFactory,s=this.mapValuesFromModel(t,n),r=n.getCustomOption(t.type),i=dV(r,s,o);return i??(o==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(s,o,t,e))}},EC=class extends FC{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:o,includeBlanksInGreaterThan:n,includeBlanksInLessThan:s,includeBlanksInRange:r}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(o)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(n)return!0;break;case"lessThan":case"lessThanOrEqual":if(s)return!0;break;case"inRange":if(r)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,o){const n=o.type;if(!this.isValid(t))return n==="notEqual"||n==="notBlank";const s=this.comparator(),r=e[0]!=null?s(e[0],t):0;switch(n){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const i=s(e[1],t);return this.params.filterParams.inRangeInclusive?r>=0&&i<=0:r>0&&i<0}case"blank":return $l(t);case"notBlank":return!$l(t);default:return ee(76,{filterModelType:n}),!0}}},DC={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},pV={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},td=class extends K{constructor(e,t,o){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=o}getModelAsString(e,t){const o=this.getLocaleTextFunc(),n=t==="filterToolPanel";if(!e)return n?Ln(this,"filterSummaryInactive"):null;if(e.operator!=null){const r=e,l=(r.conditions??[]).map(c=>this.getModelAsString(c,t)),a=r.operator==="AND"?"andCondition":"orCondition";return l.join(` ${Ln(this,a)} `)}else{if(e.type==="blank"||e.type==="notBlank")return n?Ln(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):o(e.type,e.type);{const r=e,i=this.optionsFactory.getCustomOption(r.type),{displayKey:l,displayName:a,numberOfInputs:c}=i||{};return l&&a&&c===0?o(l,a):this.conditionToString(r,n,r.type==="inRange"||c===2,l,a)}}}updateParams(e){const{optionsFactory:t,filterParams:o}=e;this.optionsFactory=t,this.filterParams=o}conditionForToolPanel(e,t,o,n,s,r){let i;const l=this.getTypeKey(e);return l&&(i=Ln(this,l)),s&&r&&(i=this.getLocaleTextFunc()(s,r)),i!=null?t?`${i} ${Ln(this,"filterSummaryInRangeValues",[o(),n()])}`:`${i} ${o()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},MC=class extends td{constructor(e,t){super(e,t,o=>{const{dataTypeSvc:n,valueSvc:s}=this.beans,r=t.column,l=n?.getDateFormatterFunction(r)?.(o??void 0);return s.formatValue(r,null,l)}),this.filterTypeKeys=DC}conditionToString(e,t,o,n,s){const{type:r}=e,i=Yt(e.dateFrom),l=Yt(e.dateTo),a=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):h=>Ac(h,a),u=()=>i!==null?c(i):"null",d=()=>l!==null?c(l):"null";if(t){const h=this.conditionForToolPanel(r,o,u,d,n,s);if(h!=null)return h}return o?`${u()}-${d()}`:i!=null?c(i):`${r}`}};function fV(e,t){const o=t;return o<e?-1:o>e?1:0}var mV=class extends EC{constructor(){super(PC,ed),this.filterType="date",this.FilterModelFormatterClass=MC}comparator(){return this.params.filterParams.comparator??fV}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},IC=class extends nt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let o;t?o=e.conditions[0]:o=e,this.lastType=o.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const o=e;return this.isTypeEditable(o.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const o=e;this.onModelUpdated(o.model)}}setParams(e){const t=new Xu;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const o=this.optionsFactory.defaultOption;t||(this.lastType=o),this.readOnly=!!e.filterParams.readOnly;const n=this.isTypeEditable(o);this.setEditable(n)}refresh(e){this.params=e;const t=e,o=this.reactive;if((!o||t.source==="colDef")&&this.updateParams(e),o){const{source:n,model:s}=t;if(n==="dataChanged"||n==="ui")return;this.onModelUpdated(s)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},CV={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},wV=class extends IC{constructor(){super(CV,[ca]),this.eReadOnlyText=Fe,this.eDateWrapper=Fe,this.FilterModelFormatterClass=MC,this.filterType="date",this.defaultOptions=ed}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const o=e?Yt(e.dateFrom):null;this.dateComp.setDate(o),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){ht(this.eDateWrapper,e),ht(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const o=t.model,n=to(e),s=n==null?null:{...o??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:n};t.onModelChange(s,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=Lu(e,this.defaultDebounceMs);return De(this.gos,{onDateChanged:Dt(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:o,params:n}=this;this.dateComp=new xC(e,t,n.column.getColDef(),this.getDateComponentParams(),o,s=>{s.setInputAriaLabel(this.getAriaLabel(n))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},vV={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},bV=class extends nt{constructor(){super(vV,[ca]),this.eDateInput=Fe,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),o=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=o&&Ms();const{minValidYear:n,maxValidYear:s,minValidDate:r,maxValidDate:i,buttons:l,includeTime:a,colDef:c}=e.filterParams||{},u=this.beans.dataTypeSvc,d=a??u?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(o?d?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",r&&n&&ee(85),i&&s&&ee(86),r&&i){const[h,p]=[r,i].map(f=>f instanceof Date?f:Yt(f));h&&p&&h.getTime()>p.getTime()&&ee(87)}r?r instanceof Date?t.min=Ac(r):t.min=r:n&&(t.min=`${n}-01-01`),i?i instanceof Date?t.max=Ac(i):t.max=i:s&&(t.max=`${s}-12-31`),this.isApply=e.location==="floatingFilter"&&!!l?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Yt(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,o=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(to(e,o))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},od=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function jc(e){const{allowedCharPattern:t}=e??{};return t??null}function Kc(e){return e==null||isNaN(e)?null:e}function TC(e,t){const{filter:o,filterTo:n,type:s}=e||{};return[Kc(o),Kc(n)].slice(0,mi(s,t))}var SV=class extends Ju{constructor(){super("numberFilter",TC,od),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,o){const{numberFormatter:n}=this.params,s=!o&&n?n(t??null):t;super.setElementValue(e,s)}createEValue(){const e=jc(this.params),t=Ct({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,o,n){const s=this.createManagedBean(n?new Os({allowedCharPattern:n}):new ju);s.addCss(`ag-filter-${o}`),s.addCss("ag-filter-filter"),t.push(s),e.appendChild(s.getGui())}removeEValues(e,t){const o=n=>this.removeComponents(n,e,t);o(this.eValuesFrom),o(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(o,n,s,r)=>{n<r&&t.push(Kc(this.stringToFloat(o.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=gn(e);t!=null&&t.trim()===""&&(t=null);const o=this.params.numberParser;return o?o(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),o={filterType:this.filterType,type:t},n=this.getValues(e);return n.length>0&&(o.filter=n[0]),n.length>1&&(o.filterTo=n[1]),o}getInputs(e){const{eValuesFrom:t,eValuesTo:o}=this;return e>=t.length?[null,null]:[t[e],o[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},kC=class extends td{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=DC}conditionToString(e,t,o,n,s){const{filter:r,filterTo:i,type:l}=e,a=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(l,o,()=>a(r),()=>a(i),n,s);if(c!=null)return c}return o?`${a(r)}-${a(i)}`:r!=null?a(r):`${l}`}},yV=class extends EC{constructor(){super(TC,od),this.filterType="number",this.FilterModelFormatterClass=kC}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},AC=class extends K{constructor(e){super(),this.params=e,this.eInput=Fe,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new Os(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const o=n=>this.onValueChanged(n);this.addManagedListeners(t,{input:o,keydown:o})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:o}=this;o.setInputAriaLabel(e),t!==void 0&&o.setAutoComplete(t)}};function LC(e){const t=e?.trim();return t===""?e:t}function OC(e,t){const{filter:o,filterTo:n,type:s}=e||{};return[o||null,n||null].slice(0,mi(s,t))}var RV={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},GC=class extends IC{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Fe,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(RV)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:o,defaultDebounceMs:n,readOnly:s}=this;if(o.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=la(e.filterParams),!s){const r=Lu(e.filterParams,n),i=Dt(this,this.syncUpWithParentFilter.bind(this),r);o.setValueChangedListener(i)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,o=t.getValue();oo(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(o,!0)}syncUpWithParentFilter(e){const t=e.key===U.ENTER,o=this.reactive;if(o&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:n,params:s,lastType:r}=this;let i=n.getValue();if(s.filterParams.trimInput&&(i=LC(i),n.setValue(i,!0)),o){const l=s,a=l.model,c=this.convertValue(i),u=c==null?null:{...a??{filterType:this.filterType,type:r??this.optionsFactory.defaultOption},filter:c};l.onModelChange(u,{afterFloatingFilter:!0})}else s.parentFilterInstance(l=>{l?.onFloatingFilterChanged(r||null,i||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},xV=class extends K{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new ju),this.eTextInput=this.createManagedBean(new Os),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),o=this.eTextInput.getGui();e.appendChild(t),e.appendChild(o),this.setupListeners(t,n=>this.onValueChanged(n)),this.setupListeners(o,n=>this.onValueChanged(n))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},PV=class extends GC{constructor(){super(...arguments),this.FilterModelFormatterClass=kC,this.filterType="number",this.defaultOptions=od}updateParams(e){jc(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=jc(e.filterParams),this.allowedCharPattern?this.createManagedBean(new AC({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new xV)}convertValue(e){return e?Number(e):null}},nd=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],FV=class extends Ju{constructor(){super("textFilter",OC,nd),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),o={filterType:this.filterType,type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(o.filter=n[0]),n.length>1&&(o.filterTo=n[1]),o}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:o}=this;return e>=t.length?[null,null]:[t[e],o[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const o=[];return this.forEachPositionInput(e,(n,s,r,i)=>{if(s<i){let l=gn(n.getValue());t&&this.params.trimInput&&(l=LC(l)??null,n.setValue(l,!0)),o.push(l)}}),o}createEValue(){const e=Ct({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:o}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,o,"to"),e}createFromToElement(e,t,o){const n=this.createManagedBean(new Os);n.addCss(`ag-filter-${o}`),n.addCss("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeEValues(e,t){const o=r=>this.removeComponents(r,e,t),{eValuesFrom:n,eValuesTo:s}=this;o(n),o(s)}},HC=class extends td{constructor(){super(...arguments),this.filterTypeKeys=pV}conditionToString(e,t,o,n,s){const{filter:r,filterTo:i,type:l}=e;if(t){const a=u=>()=>Ln(this,"filterSummaryTextQuote",[u]),c=this.conditionForToolPanel(l,o,a(r),a(i),n,s);if(c!=null)return c}return o?`${r}-${i}`:r!=null?`${r}`:`${l}`}},EV=({filterOption:e,value:t,filterText:o})=>{if(o==null)return!1;switch(e){case"contains":return t.indexOf(o)>=0;case"notContains":return t.indexOf(o)<0;case"equals":return t===o;case"notEqual":return t!=o;case"startsWith":return t.indexOf(o)===0;case"endsWith":{const n=t.lastIndexOf(o);return n>=0&&n===t.length-o.length}default:return!1}},DV=e=>e,MV=e=>e==null?null:e.toString().toLowerCase(),IV=class extends FC{constructor(){super(OC,nd),this.filterType="text",this.FilterModelFormatterClass=HC}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??EV,this.formatter=t.textFormatter??(t.caseSensitive?DV:MV)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,o,n){const s=e.map(h=>this.formatter(h))||[],r=this.formatter(t),{api:i,colDef:l,column:a,context:c,filterParams:{textFormatter:u}}=this.params;if(o.type==="blank")return $l(t);if(o.type==="notBlank")return!$l(t);const d={api:i,colDef:l,column:a,context:c,node:n.node,data:n.data,filterOption:o.type,value:r,textFormatter:u};return s.some(h=>this.matcher({...d,filterText:h}))}},TV=class extends GC{constructor(){super(...arguments),this.FilterModelFormatterClass=HC,this.filterType="text",this.defaultOptions=nd}createFloatingFilterInputService(){return this.createManagedBean(new AC)}};function kV(e){return!!e.quickFilter?.isFilterPresent()}function AV(e){return e.quickFilter?.getText()}function LV(e){e.quickFilter?.resetCache()}var OV=class extends K{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",o=>this.setFilter(o.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:o,pivotResultCols:n}=this.beans,s=t.isPivotMode(),r=e?.getColumns(),i=t.getColDefCols();let l=(s&&!o.get("applyQuickFilterBeforePivotOrAgg")?n?.getPivotResultCols()?.list:i)??[];r&&(l=l.concat(r)),this.colsToUse=o.get("includeHiddenColumnsInQuickFilter")?l:l.filter(a=>a.isVisible()||a.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(o=>t?this.doesRowPassCache(e,o):this.doesRowPassNoCache(e,o))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ie(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){ee(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),o=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,o&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(o=>{const n=this.getTextForColumn(o,e);return ie(n)&&n.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let o;e?(this.checkGenerateAggText(t),o=t.quickFilterAggregateText):o=this.getAggText(t);const{quickFilterParts:n,matcher:s}=this;return s(n,o)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let o=this.beans.filterValueSvc.getValue(e,t);const n=e.getColDef();if(n.getQuickFilterText){const s=De(this.gos,{value:o,node:t,data:t.data,column:e,colDef:n});o=n.getQuickFilterText(s)}return ie(o)?o.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(o=>{const n=this.getTextForColumn(o,e);ie(n)&&t.push(n)}),t.join(`
`)}},GV={moduleName:"ClientSideRowModelFilter",version:le,rowModels:["clientSide"],beans:[GH]},sd={moduleName:"FilterCore",version:le,beans:[rV],apiFunctions:{isAnyFilterPresent:nV,onFilterChanged:sV},css:[_H],dependsOn:[GV]},VC={moduleName:"FilterValue",version:le,beans:[lV]},ga={moduleName:"ColumnFilter",version:le,beans:[oV,iV],dynamicBeans:{headerFilterCellCtrl:HH},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:$H,getColumnFilterInstance:UH,destroyFilter:jH,setFilterModel:KH,getFilterModel:qH,getColumnFilterModel:YH,setColumnFilterModel:QH,showColumnFilter:ZH,hideColumnFilter:XH,getColumnFilterHandler:JH,doFilterAction:eV},dependsOn:[sd,ha,VC,NH]},HV={moduleName:"CustomFilter",version:le,userComponents:{agReadOnlyFloatingFilter:cV},dependsOn:[ga]},VV={moduleName:"TextFilter",version:le,dependsOn:[ga],userComponents:{agTextColumnFilter:{classImp:FV,params:{useForm:!0}},agTextColumnFloatingFilter:TV},dynamicBeans:{agTextColumnFilterHandler:IV}},BV={moduleName:"NumberFilter",version:le,dependsOn:[ga],userComponents:{agNumberColumnFilter:{classImp:SV,params:{useForm:!0}},agNumberColumnFloatingFilter:PV},dynamicBeans:{agNumberColumnFilterHandler:yV}},NV={moduleName:"DateFilter",version:le,dependsOn:[ga],userComponents:{agDateColumnFilter:{classImp:gV,params:{useForm:!0}},agDateInput:bV,agDateColumnFloatingFilter:wV},dynamicBeans:{agDateColumnFilterHandler:mV}},zV={moduleName:"QuickFilterCore",version:le,rowModels:["clientSide"],beans:[OV],dependsOn:[sd,VC]},WV={moduleName:"QuickFilter",version:le,apiFunctions:{isQuickFilterPresent:kV,getQuickFilter:AV,resetQuickFilter:LV},dependsOn:[zV]},_V={moduleName:"ExternalFilter",version:le,dependsOn:[sd]},$V=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",Za=(e,t,o)=>{const{editModelSvc:n}=e,s=n?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,r=n?.getRowValidationModel().getRowValidation(t)?.errorMessages,i=s||r;return i&&i.length?i.join(o("tooltipValidationErrorSeparator",". ")):void 0},UV=class extends K{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,o,n){e&&t.destroyBean(e);const s=Qa(this.gos),{column:r,eGui:i}=t,l=r.getColDef();!n&&s&&!l.headerComponent&&(n=Zi(()=>i.querySelector(".ag-header-cell-text")));const a={getColumn:()=>r,getColDef:()=>r.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>o??r.getColDef().headerTooltip,shouldDisplayTooltip:n};let c=this.createTooltipFeature(a);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,o,n){e&&t.destroyBean(e);const s=Qa(this.gos),{column:r,eGui:i}=t,l=r.getColGroupDef();!n&&s&&!l?.headerGroupComponent&&(n=Zi(()=>i.querySelector(".ag-header-group-text")));const a={getColumn:()=>r,getGui:()=>i,getLocation:()=>"headerGroup",getTooltipValue:()=>o??(l&&l.headerTooltip),shouldDisplayTooltip:n};l&&(a.getColDef=()=>l);const c=this.createTooltipFeature(a);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,o){const{beans:n}=this,{gos:s,editSvc:r}=n,{column:i,rowNode:l}=e;let a="cell";const c=()=>{const p=!!!r?.isEditing(e)&&Za(n,e,this.getLocaleTextFunc());if(p)return a="cellEditor",p;a="cell";const f=i.getColDef(),m=l.data;if(f.tooltipField&&ie(m))return jr(m,f.tooltipField,i.isTooltipFieldContainsDots());const C=f.tooltipValueGetter;return C?C(De(s,{location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:l,data:l.data,value:e.value,valueFormatted:e.valueFormatted})):null},u=Qa(s);o||(u&&!e.isCellRenderer()?o=()=>{const h=!!r?.isEditing(e);if(!h&&Za(n,e,this.getLocaleTextFunc()))return!0;if(!i.isTooltipEnabled())return!1;const m=Zi(()=>{const C=e.eGui;return C.children.length===0?C:C.querySelector(".ag-cell-value")});return!h&&m()}:o=()=>!r?.isEditing(e));const d={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>l,getGui:()=>e.eGui,getLocation:()=>a,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:o};return this.createTooltipFeature(d,n)}setupFullWidthRowTooltip(e,t,o,n){const s={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>o,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:n},r=this.beans,i=r.context;e&&t.destroyBean(e,i);const l=this.createTooltipFeature(s,r);if(l)return t.createBean(l,i)}setupCellEditorTooltip(e,t){const{beans:o}=this,{context:n}=o,s=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!s)return;const r={getGui:()=>s,getTooltipValue:()=>Za(o,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:l}=o,a=l?.getRowValidationModel()?.getRowValidationMap(),c=l?.getCellValidationModel()?.getCellValidationMap(),u=!!a&&a.size>0,d=!!c&&c.size>0;return u||d}},i=this.createTooltipFeature(r,o);if(i)return e.createBean(i,n)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ie(t.tooltipField)||ie(t.tooltipValueGetter)||ie(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},BC={moduleName:"Tooltip",version:le,beans:[UV],dynamicBeans:{tooltipFeature:vH},userComponents:{agTooltipComponent:fH},dependsOn:[ha],css:[$V]},Us=class{constructor(e){this.cellValueChanges=e}},Xa=class extends Us{constructor(e,t,o,n){super(e),this.initialRange=t,this.finalRange=o,this.ranges=n}},jV=10,gg=class{constructor(e){this.actionStack=[],this.maxStackSize=e||jV,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},KV=class extends K{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},o=this.activeCellEdit!==null&&cm(this.activeCellEdit,t),n=this.activeRowEdit!==null&&h0(this.activeRowEdit,t);if(!(o||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:r,rowIndex:i,column:l,oldValue:a,value:c}=e,u={rowPinned:r,rowIndex:i,columnId:l.getColId(),newValue:c,oldValue:a};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const o=e.get("undoRedoCellEditingLimit");if(o<=0)return;this.undoStack=new gg(o),this.redoStack=new gg(o),this.addListeners();const n=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:s=>{s.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:n,newColumnsLoaded:n,columnGroupOpened:n,columnRowGroupChanged:n,columnMoved:n,columnPinned:n,columnVisible:n,rowDragEnd:n}),t.whenReady(this,s=>{this.gridBodyCtrl=s.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:o,redoStack:n}=this;t.dispatchEvent({type:"undoStarted",source:e});const s=this.undoRedo(o,n,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:s})}redo(e){const{eventSvc:t,undoStack:o,redoStack:n}=this;t.dispatchEvent({type:"redoStarted",source:e});const s=this.undoRedo(n,o,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:s})}undoRedo(e,t,o,n,s){if(!e)return!1;const r=e.pop();return!r||!r.cellValueChanges?!1:(this.processAction(r,i=>i[n],s),r instanceof Xa?this.processRange(r.ranges||[r[o]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,o){e.cellValueChanges.forEach(n=>{const{rowIndex:s,rowPinned:r,columnId:i}=n,l={rowIndex:s,rowPinned:r},a=Cn(this.beans,l);a.displayed&&a.setDataValue(i,t(n),o)})}processRange(e){let t;const o=this.beans.rangeSvc;o.removeAllCellRanges(!0),e.forEach((n,s)=>{if(!n)return;const r=n.startRow,i=n.endRow;s===e.length-1&&(t={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:i.rowIndex,rowEndPinned:i.rowPinned,columnStart:n.startColumn,columns:n.columns};o.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:o,rowPinned:n}=t,s={rowIndex:o,rowPinned:n},r=Cn(this.beans,s),i={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(i)}setLastFocusedCell(e){const{rowIndex:t,columnId:o,rowPinned:n}=e,{colModel:s,focusSvc:r,rangeSvc:i}=this.beans,l=s.getCol(o);if(!l)return;const{scrollFeature:a}=this.gridBodyCtrl;a.ensureIndexVisible(t),a.ensureColumnVisible(l);const c={rowIndex:t,column:l,rowPinned:n};r.setFocusedCell({...c,forceBrowserFocus:!0}),i?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Us(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const o=new Us(this.cellValueChanges);this.pushActionsToUndoStack(o)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Us(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Xa(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:o}=this.beans;t&&Nn(o)?e=new Xa(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Us(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const o=new Us(t??[]);this.pushActionsToUndoStack(o),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},qV=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",YV={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},QV=class extends aa{constructor(){super(YV,[Uu]),this.eEditor=Fe}initialiseEditor(e){const t=e.value??void 0,o=this.eEditor;o.setValue(t),o.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(o,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),o=sa(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${n} (${o})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,o=this.getValue();return t?t({value:o,internalErrors:null,cellEditorParams:e}):null}},pa=class extends aa{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Fe}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:o}=this,{cellStartedEdit:n,eventKey:s,suppressPreventDefault:r}=e;o.getInputElement().setAttribute("title",""),t.init(o,e);let i,l=!0;n?(this.focusAfterAttached=!0,s===U.BACKSPACE||s===U.DELETE?i="":s&&s.length===1?r?l=!1:i=s:(i=t.getStartValue(),s!==U.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,i=t.getStartValue()),l&&i!=null&&o.setStartValue(i),this.addGuiEventListener("keydown",a=>{const{key:c}=a;(c===U.PAGE_UP||c===U.PAGE_DOWN)&&a.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Ms()||t.getFocusableElement().focus();const o=t.getInputElement();this.highlightAllOnFocus?o.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},ZV={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},XV=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return ZV}getAgComponents(){return[zm]}init(e,t){this.eEditor=e,this.params=t;const{min:o,max:n,step:s,colDef:r}=t;o!=null&&e.setMin(o),n!=null&&e.setMax(n),s!=null&&e.setStep(s),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(r.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:o}=this,{min:n,max:s,getValidationErrors:r}=o;let i=[];const l=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(n){const a=n instanceof Date?n:new Date(n);if(t<a){const c=a.toLocaleDateString();i.push(l("minDateValidation",`Date must be after ${c}`,[c]))}}if(s){const a=s instanceof Date?s:new Date(s);if(t>a){const c=a.toLocaleDateString();i.push(l("maxDateValidation",`Date must be before ${c}`,[c]))}}}return i.length||(i=null),r?r({value:t,cellEditorParams:o,internalErrors:i}):i}getValue(){const{eEditor:e,params:t}=this,o=e.getDate();return!ie(o)&&!ie(t.value)?t.value:o??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return to(e,this.includeTime??!1)}},JV=class extends pa{constructor(){super(new XV(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},eB={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},tB=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return eB}getAgComponents(){return[zm]}init(e,t){this.eEditor=e,this.params=t;const{min:o,max:n,step:s,colDef:r}=t;o!=null&&e.setMin(o),n!=null&&e.setMax(n),s!=null&&e.setStep(s),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(r.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,o=e.getInputElement().value,n=this.formatDate(this.parseDate(o??void 0)),{min:s,max:r,getValidationErrors:i}=t;let l=[];if(n){const a=new Date(n),c=this.getLocaleTextFunc();if(s){const u=new Date(s);if(a<u){const d=u.toLocaleDateString();l.push(c("minDateValidation",`Date must be after ${d}`,[d]))}}if(r){const u=new Date(r);if(a>u){const d=u.toLocaleDateString();l.push(c("maxDateValidation",`Date must be before ${d}`,[d]))}}}return l.length||(l=null),i?i({value:this.getValue(),cellEditorParams:t,internalErrors:l}):l}getValue(){const{params:e,eEditor:t}=this,o=this.formatDate(t.getDate());return!ie(o)&&!ie(e.value)?e.value:e.parseValue(o??"")}getStartValue(){return to(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Yt(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):to(e??null,this.includeTime??!1)??void 0}},oB=class extends pa{constructor(){super(new tB(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},nB={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},sB=class extends aa{constructor(){super(nB,[zk]),this.eEditor=Fe}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:o,eventKey:n,value:s,maxLength:r,cols:i,rows:l}=e;this.focusAfterAttached=o,t.getInputElement().setAttribute("title",""),t.setMaxLength(r||200).setCols(i||60).setRows(l||10);let a;o?(this.focusAfterAttached=!0,n===U.BACKSPACE||n===U.DELETE?a="":n&&n.length===1?a=n:(a=s.toString(),n!==U.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,a=s.toString()),a!=null&&t.setValue(a,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===U.LEFT||t===U.UP||t===U.RIGHT||t===U.DOWN||e.shiftKey&&t===U.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:o}=this,n=this.getLocaleTextFunc();e.setInputAriaLabel(n("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),o&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:o}=t,n=e.getValue();return!ie(n)&&!ie(o)?o:t.parseValue(n)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:o}=e,n=this.getLocaleTextFunc(),s=this.getValue();let r=[];return typeof s=="string"&&t!=null&&s.length>t&&r.push(n("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),r.length||(r=null),o?o({value:s,internalErrors:r,cellEditorParams:e}):r}},rB={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},iB=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return rB}getAgComponents(){return[Wk]}init(e,t){this.eEditor=e,this.params=t;const{max:o,min:n,precision:s,step:r}=t;o!=null&&e.setMax(o),n!=null&&e.setMin(n),s!=null&&e.setPrecision(s),r!=null&&e.setStep(r);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:o,getValidationErrors:n}=e,r=this.eEditor.getInputElement().valueAsNumber,i=this.getLocaleTextFunc();let l=[];return typeof r=="number"&&(t!=null&&r<t&&l.push(i("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),o!=null&&r>o&&l.push(i("maxValueValidation",`Must be less than or equal to ${o}.`,[String(o)]))),l.length||(l=null),n?n({value:r,cellEditorParams:e,internalErrors:l}):l}preventStepping(e){(e.key===U.UP||e.key===U.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,o=e.getValue();if(!ie(o)&&!ie(t.value))return t.value;let n=t.parseValue(o);if(n==null)return n;if(typeof n=="string"){if(n==="")return null;n=Number(n)}return isNaN(n)?null:n}getStartValue(){return this.params.value}setCaret(){Ms()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},lB=class extends pa{constructor(){super(new iB(()=>this.getLocaleTextFunc()))}},aB={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},cB=class extends aa{constructor(){super(aB,[Yk]),this.eEditor=Fe,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:o,gos:n}=this,{values:s,value:r,eventKey:i}=e;if(at(s)){ee(58);return}this.startedByEnter=i!=null?i===U.ENTER:!1;let l=!1;s.forEach(d=>{const h={value:d},p=o.formatValue(e.column,null,d),f=p!=null;h.text=f?p:d,t.addOption(h),l=l||r===d}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:a,valueListMaxWidth:c,valueListMaxHeight:u}=e;a!=null&&t.setPickerGap(a),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:o}=e,n=this.getValue();let s=[];if(t&&!t.includes(n)){const r=this.getLocaleTextFunc();s.push(r("invalidSelectionValidation","Invalid selection."))}else s=null;return o?o({value:n,internalErrors:s,cellEditorParams:e}):s}},uB={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},dB=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return uB}getAgComponents(){return[ca]}init(e,t){this.eEditor=e,this.params=t;const o=t.maxLength;o!=null&&e.setMaxLength(o)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:o}=e,n=this.getValue(),s=this.getLocaleTextFunc();let r=[];return t!=null&&typeof n=="string"&&n.length>t&&r.push(s("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),r.length||(r=null),o?o({value:n,cellEditorParams:e,internalErrors:r}):r}getValue(){const{eEditor:e,params:t}=this,o=e.getValue();return!ie(o)&&!ie(t.value)?t.value:t.parseValue(o)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),o=ie(t)&&t.length||0;o&&e.getInputElement().setSelectionRange(o,o)}},pg=class extends pa{constructor(){super(new dB(()=>this.getLocaleTextFunc()))}};function hB(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function gB(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function NC(e,t,o="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,o),"ensureVisible")}function zC(e,t,o){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,o),"ensureVisible")}function pB(e,t,o=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,o),"ensureVisible")}function fB(e){e.undoRedo?.undo("api")}function mB(e){e.undoRedo?.redo("api")}function CB(e){const t=e.editModelSvc?.getEditMap(),o=[];return t?.forEach((n,s)=>{const{rowIndex:r,rowPinned:i}=s;n.forEach((l,a)=>{const{editorValue:c,pendingValue:u,sourceValue:d,state:h}=l,p=Vn(l);let f=c??u;f===Co&&(f=void 0);const m={newValue:f,oldValue:d,state:h,column:a,colId:a.getColId(),colKey:a.getColId(),rowIndex:r,rowPinned:i};(h==="editing"||h==="changed"&&p)&&o.push(m)})}),o}function wB(e,t=!1){const{editSvc:o}=e;o?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(n=>{n.state==="editing"&&o.revertSingleCellEdit(n)}):es(e,!0),nr(e)):o?.stopEditing(void 0,{cancel:t,source:"api"})}function vB(e,t){const o=lt(e,t);return e.editSvc?.isEditing(o)??!1}function bB(e,t){const{key:o,colKey:n,rowIndex:s,rowPinned:r}=t,{editSvc:i,colModel:l}=e,a=l.getCol(n);if(!a){ee(12,{colKey:n});return}const u=Cn(e,{rowIndex:s,rowPinned:r||null});if(!u){ee(290,{rowIndex:s,rowPinned:r});return}if(!a.isCellEditable(u))return;r==null&&zC(e,s),NC(e,n),i?.startEditing({rowNode:u,column:a},{event:o?new KeyboardEvent("keydown",{key:o}):void 0,source:"api"})}function SB(e){return e.editSvc?.validateEdit()||null}function yB(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function RB(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var xB={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},PB=class extends _u{constructor(e){super(xB),this.params=e}postConstruct(){vs(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,o=n=>{Gc(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:o})}},Ul=(e,t=!1)=>{if(e!==void 0)return Vn(e)||t&&e.state==="editing"};function WC(e,t,o=!1){return Ul(e.editModelSvc?.getEdit(t),o)}function _C(e,t){const{editModelSvc:o}=e,{column:n,rowNode:s}=t;if(e.gos.get("groupTotalRow")&&!s?.footer)return!1;for(const r of s?.allLeafChildren??[])if(Ul(o?.getEdit({rowNode:r,column:n}))||Ul(o?.getEdit({rowNode:r.pinnedSibling,column:n})))return!0}function $C(e,{rowNode:t,column:o}){if(t=t.pinnedSibling,!!t)return Ul(e.editModelSvc?.getEdit({rowNode:t,column:o}))}var FB=class extends K{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:o}=this;if(t?.isBatchEditing()&&t.isEditing()){const s=WC(o,e)||_C(o,e)||$C(o,e);this.applyBatchingStyle(s)}else this.applyBatchingStyle(!1);const n=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",n)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},EB=class extends K{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:o}=this;let n=e.rowNode,s=t?.getEditRow(n);const r=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:n});if(!s&&n.pinnedSibling&&(n=n.pinnedSibling,s=t?.getEditRow(n)),s){const i=Array.from(s.keys()).some(l=>{const a={rowNode:n,column:l};return WC(o,a,!0)||_C(o,a)||$C(o,a)});this.applyStyle(r,i);return}this.applyStyle(r)}applyStyle(e=!1,t=!1){const o=this.editSvc?.isBatchEditing()??!1,n=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:s})=>{s.toggleCss("ag-row-editing",n&&t),s.toggleCss("ag-row-batch-edit",n&&t&&o),s.toggleCss("ag-row-inline-editing",t),s.toggleCss("ag-row-not-inline-editing",!t),s.toggleCss("ag-row-editing-invalid",n&&t&&e)})}},DB=({rowModel:e,pinnedRowModel:t,editModelSvc:o},n)=>{const s=new Set;return e.forEachNode(r=>n.has(r)&&s.add(r)),t?.forEachPinnedRow("top",r=>n.has(r)&&s.add(r)),t?.forEachPinnedRow("bottom",r=>n.has(r)&&s.add(r)),n.forEach(r=>{s.has(r)||o.removeEdits({rowNode:r})}),s},MB=({editModelSvc:e},t,o)=>{t.forEach(n=>e?.getEditRow(n)?.forEach((s,r)=>!o.has(r)&&e.removeEdits({rowNode:n,column:r})))},IB=e=>()=>{const t=new Set(e.colModel.getCols()),o=e.editModelSvc.getEditMap(!0),n=new Set(o.keys());MB(e,DB(e,n),t)},TB=new Set(["undo","redo"]),UC={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},kB=new Set(Object.keys(UC)),AB=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),ji={cancel:!0,source:"api"},LB={cancel:!1,source:"api"},zs={checkSiblings:!0},Vr={force:!0,suppressFlash:!0},OB=class extends K{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:n})=>{this.stopEditing(void 0,ji),this.createStrategy(n)});const t=IB(e),o=()=>{const n=this.model.getCellValidationModel().getCellValidationMap().size>0,s=this.model.getRowValidationModel().getRowValidationMap().size>0;return n||s?this.stopEditing(void 0,ji):this.isEditing()&&(this.isBatchEditing()?nr(e,this.model.getEditPositions()):this.stopEditing(void 0,LB)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:o,filterChanged:o,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,ji)):(this.stopEditing(void 0,ji),this.batch=!1)}createStrategy(e){const{beans:t,gos:o,strategy:n}=this,s=e??o.get("editType")??"singleCell";if(n){if(n.beanName===s)return n;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(s,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,o,n="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,o,n)??null}shouldStopEditing(e,t,o="ui"){return this.strategy?.shouldStop(e,t,o)??null}shouldCancelEditing(e,t,o="ui"){return this.strategy?.shouldCancel(e,t,o)??null}validateEdit(){return R0(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??zs)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:o=!0,event:n=null,source:s="ui",ignoreEventKey:r=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const i=lt(this.beans,e);if(i&&!i.comp){i.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const l=this.shouldStartEditing?.(e,n,o,s);if(l===!1&&s!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,s)&&this.stopEditing(void 0,{source:s}),l&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,n,s,r)}stopEditing(e,t){const{event:o,cancel:n,source:s="ui",suppressNavigateAfterEdit:r}=t||{},{beans:i,model:l}=this;if(kB.has(s))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:UC[s]});if(!(this.isEditing(e)||this.isBatchEditing()&&l.hasEdits(e,zs))||!this.strategy)return!1;const c=lt(i,e);c&&(c.onEditorAttachedFuncs=[]);let u=l.getEditMap(!0),d=!1;const h=!n&&!!this.shouldStopEditing(e,o,s),p=n&&!!this.shouldCancelEditing(e,o,s);if(h||p){es(i,!0);const f=l.getEditMap();this.processEdits(f,n),this.strategy?.stop(n,o),this.bulkRefresh(void 0,u),u=f,d||(d=h)}else if(o instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const f=o.key,m=f===U.ENTER,C=f===U.ESCAPE,w=f===U.TAB;(m||w||C)&&(m||w?es(i,!0):C&&this.revertSingleCellEdit(c),this.isBatchEditing()?this.strategy?.cleanupEditors():nr(i,l.getEditPositions(),{event:o}),o.preventDefault(),this.bulkRefresh(e,u,{suppressFlash:!0}),u=l.getEditMap())}else es(i,!0),u=l.getEditMap();return d&&e&&this.model.removeEdits(e),!r&&c&&this.navigateAfterEdit(o instanceof KeyboardEvent&&o.shiftKey,c.cellPosition),Ic(i),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),p&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(u.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),d&&h&&this.dispatchBatchEvent("batchEditingStopped",u)),d}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?U.UP:U.DOWN;this.beans.navigation?.navigateToNextCell(null,n,t,!1)}}processEdits(e,t=!1){const o=Array.from(e.keys()),{beans:n}=this,s=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,r=[];for(const i of o){const l=e.get(i);for(const a of l.keys()){const c=l.get(a),u={rowNode:i,column:a},d=lt(n,u),h=Vn(c),p=d?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!p&&h&&!s&&(this.setNodeDataValue(i,a,c.pendingValue)||r.push(u)),d?.refreshCell(Vr)}}r.forEach(i=>{this.model.clearEditValue(i)})}setNodeDataValue(e,t,o,n){const{beans:s}=this,r=lt(s,{rowNode:e,column:t});r&&(r.suppressRefreshCell=!0);const i=e.setDataValue(t,o,"commit");return r&&(r.suppressRefreshCell=!1),n&&r?.refreshCell(Vr),i}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(Vr)}dispatchEditValuesChanged({rowNode:e,column:t},o={}){if(!e||!t||!o)return;const{pendingValue:n,sourceValue:s}=o,{rowIndex:r,rowPinned:i,data:l}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:r,rowPinned:i,column:t,source:"api",data:l,newValue:n,oldValue:s,value:n,colDef:t.getColDef()})}bulkRefresh(e={},t,o={}){const{beans:n,gos:s}=this,{editModelSvc:r,rowModel:i}=n;vt(s)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),o):t&&r?.getEditMap(!1)?.forEach((l,a)=>{for(const c of l.keys())this.refCell({rowNode:a,column:c},l.get(c),o)}))}refCell({rowNode:e,column:t},o,n={}){const{beans:s,gos:r}=this,i=new Set([e]),l=new Set,a=e.pinnedSibling;a&&i.add(a);const c=e.sibling;c&&l.add(c);let u=e.parent;for(;u;)u.sibling?.footer&&r.get("groupTotalRow")||!u.parent&&u.sibling&&r.get("grandTotalRow")?l.add(u.sibling):l.add(u),u=u.parent;i.forEach(d=>this.dispatchEditValuesChanged({rowNode:d,column:t},o)),i.forEach(d=>lt(s,{rowNode:d,column:t})?.refreshCell(n)),l.forEach(d=>lt(s,{rowNode:d,column:t})?.refreshCell(n))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:o}=e;if(o.group){if(this.gos.get("treeData")){if(!o.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,o=!0){if(this.hasValidationErrors(e)){const n=lt(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),o&&(!n?.hasBrowserFocus()&&n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(n&&this.revertSingleCellEdit(n),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const o=lt(this.beans,e);o?.comp?.getCellEditor()&&(nr(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),fr(this.beans,e,{silent:!0}),Ss(this.beans),o?.refreshCell(Vr),o.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(o?.focusCell(),o?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){Ss(this.beans);const t=lt(this.beans,e);t&&(t.refreshCell(Vr),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let o=!1;return e?.rowNode?(o||(o=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(o||(o=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(o||(o=this.model.getCellValidationModel().getCellValidationMap().size>0),o||(o=this.model.getRowValidationModel().getRowValidationMap().size>0)),o}moveToNextCell(e,t,o,n="ui"){let s;const r=this.isEditing(),i=r&&this.checkNavWithValidation(void 0,o)==="block-stop";return e instanceof rr&&r&&(s=this.strategy?.moveToNextEditingCell(e,t,o,n,i)),s===null||(s=s||!!this.beans.focusSvc.focusedHeader,s===!1&&!i&&this.stopEditing()),s}getCellDataValue({rowNode:e,column:t},o=!0){if(!e||!t)return;let n=this.model.getEdit({rowNode:e,column:t});const s=e.pinnedSibling;if(s){const i=this.model.getEdit({rowNode:s,column:t});i&&(n=i)}const r=o?n?.editorValue??n?.pendingValue:n?.pendingValue;return r===Co||!n?this.valueSvc.getValue(t,e,!0,"api"):r}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){C0(this,this.beans,e)}createPopupEditorWrapper(e){return new PB(e)}setDataValue(e,t,o){if((!this.isEditing()||o==="commit")&&!AB.has(o))return;const{beans:n}=this;this.strategy??(this.strategy=this.createStrategy());const s=this.isBatchEditing()?"ui":"api";if(!o||TB.has(o))return nl(n,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const r=this.model.getEdit(e);if(r){if(r.pendingValue===t)return!1;if(r.sourceValue!==t)return nl(n,e,!0,t),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0;if(r.sourceValue===t)return n.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...r,pendingValue:t}),!0}return nl(n,e,!0,t),this.stopEditing(e,{source:s,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){b0(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,zs))return;const{rowNode:n,column:s}=e,{compDetails:r,valueToDisplay:i}=t;if(r){const{params:a}=r;return a.data=this.model.getEditRowDataValue(n,zs),{compDetails:r}}const l=this.model.getEditRow(e.rowNode,zs);if(i!==void 0&&l?.has(s))return{valueToDisplay:this.valueSvc.getValue(s,n)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,o,n){this.strategy?.dispatchCellEvent(e,t,o,n)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return De(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},o){if(!o||o.length===0)return;const{beans:n,rangeSvc:s,valueSvc:r}=this;es(n,!0);const i=this.model.getEditMap(!0),l=i.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),o.forEach(c=>{if(s?.forEachRowInRange(c,u=>{const d=Cn(n,u);if(d===void 0)return;const h=i.get(d)??new Map;for(const p of c.columns)if(p&&this.isCellEditable({rowNode:d,column:p},"api")){const f=r.getValue(p,d,!0,"api");let m=r.parseValue(p,d??null,l,f);Number.isNaN(m)&&(m=null),h.set(p,{editorValue:void 0,pendingValue:m,sourceValue:f,state:"changed"})}h.size>0&&i.set(d,h)}),this.setEditMap(i),this.batch){this.cleanupEditors(),Ic(n),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(i)})}),this.bulkRefresh();const a=lt(n,{rowNode:e,column:t});a&&a.focusCell(!0)}createCellStyleFeature(e,t){return new FB(e,t)}createRowStyleFeature(e,t){return new EB(e,t)}setEditingCells(e,t){const{beans:o}=this,{colModel:n,valueSvc:s}=o,r=new Map;e.forEach(({colId:i,column:l,colKey:a,rowIndex:c,rowPinned:u,newValue:d,state:h})=>{const p=i?n.getCol(i):a?n.getCol(a):l;if(!p)return;const f=Cn(o,{rowIndex:c,rowPinned:u});if(!f)return;const m=s.getValue(p,f,!0,"api");if(!Vn({pendingValue:d,sourceValue:m})&&h!=="editing")return;let C=r.get(f);C||(C=new Map,r.set(f,C)),d===void 0&&(d=Co),C.set(p,{editorValue:void 0,pendingValue:d,sourceValue:m,state:h??"changed"})}),this.setEditMap(r,t)}onCellFocused(e){const t=lt(this.beans,e);if(!t||!this.isEditing(t,zs))return;const o=this.model.getEdit(t);if(!o||!Vn(o))return;const s=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(s,"pendingChange")}allowedFocusTargetOnValidation(e){return lt(this.beans,e)}},jC=class extends K{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const o=e.previousParams,{editSvc:n,beans:s}=this,r=e.type==="cellFocused"?e.sourceEvent:null;o&&(t=lt(s,o));const{gos:i,editModelSvc:l}=s,a=e.type==="cellFocusCleared";if(n.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:u,rowPinned:d}=e,h={column:c,rowNode:Cn(s,{rowIndex:u,rowPinned:d})},p=i.get("invalidEditValueMode")==="block";if(p)return;const f=!p,m=!!l?.getCellValidationModel().hasCellValidation(h),C=f&&m;(o||a?n.stopEditing(void 0,{cancel:C,source:a&&f?"api":void 0,event:r}):!0)||(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},o="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const o=this.model.getEditPositions(),n={all:[],pass:[],fail:[]};if(o.forEach(r=>{if(n.all.push(r),(this.model.getCellValidationModel().getCellValidation(r)?.errorMessages?.length??0)>0){n.fail.push(r);return}n.pass.push(r)}),e)return o.forEach(r=>{Hl(this.beans,r),this.model.stop(r)}),!0;const s=this.processValidationResults(n);return s.destroy.length>0&&s.destroy.forEach(r=>{Hl(this.beans,r,{event:t}),this.model.stop(r)}),s.keep.length>0&&s.keep.forEach(r=>{const i=lt(this.beans,r);this.editSvc?.cellEditingInvalidCommitBlocks()||i&&this.editSvc.revertSingleCellEdit(i)}),!0}cleanupEditors({rowNode:e}={},t){es(this.beans,!1);const o=this.model.getEditPositions(),n=[];e?o.forEach(s=>{!e||s.rowNode===e||n.push(s)}):o.forEach(s=>{n.push(s)}),nr(this.beans,n),Ic(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,o=t?.getCellEditor();if(o?.focusIn)o.focusIn();else{const n=this.beans.gos.get("editType")==="fullRow";e.focusCell(n),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,o,n,s=!1){const r=n instanceof KeyboardEvent&&!s&&n.key||void 0;v0(this.beans,e,t,r,n,o)}dispatchCellEvent(e,t,o,n){const s=lt(this.beans,e);s&&this.eventSvc.dispatchEvent({...s.createEvent(t??null,o),...n})}dispatchRowEvent(e,t){const o=Tu(this.beans,e);o&&this.eventSvc.dispatchEvent(o.createRowEvent(t))}shouldStart({column:e},t,o,n="ui"){if(t instanceof KeyboardEvent&&(t.key===U.TAB||t.key===U.ENTER||t.key===U.F2||t.key===U.BACKSPACE&&o))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const r=e?.getColDef(),i=this.deriveClickCount(r),l=t?.type;return l==="click"&&t?.detail===1&&i===1||l==="dblclick"&&t?.detail===2&&i===2?!0:n==="api"?o??!1:!1}shouldStop(e,t,o="ui"){const n=this.editSvc.isBatchEditing();return n&&o==="api"?!0:n&&o==="ui"?!1:o==="api"?!0:t instanceof KeyboardEvent&&!n?t.key===U.ENTER:null}shouldCancel(e,t,o="ui"){const n=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!n&&t.key===U.ESCAPE||n&&o==="api"||o==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const o=[];if(e.forEach((n,s)=>{n.forEach((r,i)=>{r.state==="editing"&&o.push({...r,rowNode:s,column:i})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),o.length>0){const n=o.at(-1),s=n.pendingValue===Co?void 0:n.pendingValue;this.start(n,new KeyboardEvent("keydown",{key:s}),"api");const r=lt(this.beans,n);r&&this.setFocusInOnEditor(r)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},GB=class extends jC{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const o=super.isCellEditable(e,t);return o===!0||t==="ui"?o:this.beans.colModel.getCols().some(s=>super.isCellEditable({rowNode:e.rowNode,column:s},t))}shouldStop(e,t,o="ui"){const{rowNode:n}=e||{};if(!Tu(this.beans,{rowNode:this.rowNode}))return!0;const r=super.shouldStop({rowNode:this.rowNode},t,o);return r!==null?r:this.rowNode?n!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,o="ui",n){const{rowNode:s}=e;this.rowNode!==s&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:s},"rowEditingStarted"),this.startedRows.push(s);const r=this.beans.visibleCols.allCols,i=[];r.forEach(l=>{if(!l.isCellEditable(s))return;const a={rowNode:s,column:l};i.push(a),this.model.hasEdits(a)||this.model.start(a)}),this.rowNode=s,this.setupEditors(i,e,!0,t,n)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:o}=this;if(o&&!this.model.hasRowEdits(o))return!1;const n=[];return e||this.model.getEditMap().forEach((s,r)=>{if(!(!s||s.size===0)){for(const i of s.values())if(Vn(i)){n.push(r);break}}}),Ss(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:o})==="block-stop"?!1:(super.stop(e,t),n.forEach(s=>this.dispatchRowEvent({rowNode:s},"rowValueChanged")),this.cleanupEditors({rowNode:o},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,o=e.previousParams;if(o?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const n=lt(this.beans,o);this.gos.get("invalidEditValueMode")==="block"&&n&&(this.model.getCellValidationModel().getCellValidation(n)||this.model.getRowValidationModel().getRowValidation(n))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(o=>this.dispatchRowEvent({rowNode:o},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,o,n="ui",s=!1){const r=e.cellPosition;let i;this.model.suspend(!0);try{i=this.beans.navigation?.findNextCellToFocusOn(r,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(i===!1)return null;if(i==null)return!1;const l=i.cellPosition,a=e.isCellEditable(),c=i.isCellEditable(),u=l&&r.rowIndex===l.rowIndex&&r.rowPinned===l.rowPinned;a&&this.setFocusOutOnEditor(e),this.restoreEditors();const d=this.gos.get("suppressStartEditOnTab");return c&&!s?d?i.focusCell(!0,o):(i.comp?.getCellEditor()||fr(this.beans,i,{event:o,cellStartedEdit:!0}),this.setFocusInOnEditor(i),i.focusCell(!1,o)):(c&&s&&this.setFocusInOnEditor(i),i.focusCell(!0,o)),!u&&!s&&(this.cleanupEditors(i,!0),d?i.focusCell(!0,o):this.editSvc.startEditing(i,{startedEdit:!0,event:o,source:n,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:o},n)=>{if(o!=="editing")return;const s=lt(this.beans,{rowNode:t,column:n});s&&!s.comp?.getCellEditor()&&fr(this.beans,s,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},HB=class extends jC{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,o="ui"){const n=super.shouldStop(e,t,o);if(n!==null)return n;const{rowNode:s,column:r}=e||{};return(!this.rowNode||!this.column)&&s&&r?null:this.rowNode!==s||this.column!==r}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,o="ui",n){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,n)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:o}=this.beans,{rowIndex:n,column:s,rowPinned:r}=e,i=Cn(this.beans,{rowIndex:n,rowPinned:r}),l=Mc(s),a=t.getCol(l),c=e.previousParams;if(c){const u=Mc(c.column);if(c?.rowIndex===n&&u===l&&c?.rowPinned===r)return}o?.isEditing({rowNode:i,column:a},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,o,n="ui",s=!1){const r=e.cellPosition;let i;const l=this.beans.gos.get("editType")==="fullRow";l&&this.model.suspend(!0),s||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:o}));try{i=this.beans.navigation?.findNextCellToFocusOn(r,{backwards:t,startEditing:!0})}finally{l&&this.model.suspend(!1)}if(i===!1)return null;if(i==null)return!1;const a=i.cellPosition,c=e.isCellEditable(),u=i.isCellEditable(),d=a&&r.rowIndex===a.rowIndex&&r.rowPinned===a.rowPinned;c&&!s&&this.setFocusOutOnEditor(e);const h=this.gos.get("suppressStartEditOnTab");return!d&&!s&&(super.cleanupEditors(i,!0),h?i.focusCell(!0,o):this.editSvc.startEditing(i,{startedEdit:!0,event:o,source:n,ignoreEventKey:!0})),u&&!s?(i.focusCell(!1,o),h?i.focusCell(!0,o):i.comp?.getCellEditor()||(fr(this.beans,i,{event:o,cellStartedEdit:!0}),this.setFocusInOnEditor(i))):(u&&s&&this.setFocusInOnEditor(i),i.focusCell(!0,o)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},jn={moduleName:"EditCore",version:le,beans:[c0,OB],apiFunctions:{getEditingCells:CB,getCellEditorInstances:w0,startEditingCell:bB,stopEditing:wB,isEditing:vB,validateEdit:SB},dynamicBeans:{singleCell:HB,fullRow:GB},dependsOn:[ha,BC],css:[qV]},VB={moduleName:"UndoRedoEdit",version:le,beans:[KV],apiFunctions:{undoCellEditing:fB,redoCellEditing:mB,getCurrentUndoSize:yB,getCurrentRedoSize:RB},dependsOn:[jn]},BB={moduleName:"TextEditor",version:le,userComponents:{agCellEditor:pg,agTextCellEditor:pg},dependsOn:[jn]},NB={moduleName:"NumberEditor",version:le,userComponents:{agNumberCellEditor:{classImp:lB}},dependsOn:[jn]},zB={moduleName:"DateEditor",version:le,userComponents:{agDateCellEditor:JV,agDateStringCellEditor:oB},dependsOn:[jn]},WB={moduleName:"CheckboxEditor",version:le,userComponents:{agCheckboxCellEditor:QV},dependsOn:[jn]},_B={moduleName:"SelectEditor",version:le,userComponents:{agSelectCellEditor:cB},dependsOn:[jn]},$B={moduleName:"LargeTextEditor",version:le,userComponents:{agLargeTextCellEditor:sB},dependsOn:[jn]},UB={moduleName:"CustomEditor",version:le,dependsOn:[jn]},jB=class extends K{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,or(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),XM(e))}createColumns(e,t){const o=()=>{kl(this.beans,this.columns?.tree),this.columns=null},n=e.treeDepth,r=(this.columns?.treeDepth??-1)==n,i=this.generateSelectionCols();if(ZM(i,this.columns?.list??[])&&r)return;o();const{colGroupSvc:a}=this.beans,c=a?.findDepth(e.tree)??0,u=a?.balanceTreeForAutoCols(i,c)??[];this.columns={list:i,tree:u,treeDepth:c,map:{}},t(h=>{if(!h)return null;const p=h.filter(f=>!Un(f));return[...i,...p]})}updateColumns(e){const t=or(e.source);this.columns?.list.forEach(o=>{const n=this.createSelectionColDef(e.currentValue);o.setColDef(n,null,t),Fo(this.beans,{state:[{...n,colId:o.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>$f(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,o=e.get("rowSelection");if(typeof o!="object"||!cs(e))return!1;const n=(t.autoColSvc?.getColumns()?.length??0)>0;if(o.checkboxLocation==="autoGroupColumn"&&n)return!1;const s=!!tr(o),r=Xi(o);return s||r}createSelectionColDef(e){const{gos:t}=this.beans,o=e??t.get("selectionColumnDef"),n=t.get("enableRtl"),{rowSpan:s,spanRows:r,...i}=o??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:n?"right":"left",comparator(l,a,c,u){const d=c.isSelected(),h=u.isSelected();return d===h?0:d?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...i,colId:zf,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const o=new ks(e,null,t,!1);return this.createBean(o),[o]}onSelectionOptionsChanged(e,t,o){const n=t&&typeof t!="string"?tr(t):void 0,s=e&&typeof e!="string"?tr(e):void 0,r=n!==s,i=t&&typeof t!="string"?Xi(t):void 0,l=e&&typeof e!="string"?Xi(e):void 0,a=i!==l,c=El(e),u=El(t);(r||a||c!==u)&&this.beans.colModel.refreshAll(o)}destroy(){kl(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,o){if(!this.columns?.list.length)return;const n=e.length+t.length+o.length;if(n===0)return;const s=this.columns.list[0];if(!s.isVisible())return;const r=()=>{let a;switch(s.pinned){case"left":case!0:a=e;break;case"right":a=o;break;default:a=t}a&&mo(a,s)};(this.beans.rowNumbersSvc?.getColumn(Wf)?2:1)===n&&r()}};function KB(e,t){if(!t.nodes.every(i=>i.rowPinned&&!Pi(i)?(ee(59),!1):i.id===void 0?(ee(60),!1):!0))return;const{nodes:n,source:s,newValue:r}=t;e.selectionSvc?.setNodesSelected({nodes:n,source:s??"api",newValue:r})}function qB(e,t,o="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:o,selectAll:t})}function YB(e,t,o="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:o,selectAll:t})}function QB(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function ZB(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function XB(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function JB(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function eN(e){return e.selectionSvc?.getSelectedNodes()??[]}function tN(e){return e.selectionSvc?.getSelectedRows()??[]}var oN=class extends Vk{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Dl(e),this.groupSelectsDescendants=ci(e),this.groupSelectsFiltered=Il(e)==="filteredDescendants",this.masterSelectsDetail=mh(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=ci(e),o=Dl(e),n=Il(e)==="filteredDescendants";this.masterSelectsDetail=mh(e)==="detail",(t!==this.groupSelectsDescendants||n!==this.groupSelectsFiltered||o!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=n,this.mode=o)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,o){if(this.isRowSelectionBlocked(t))return 0;const n=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,o);return n==null?0:(this.selectionCtx.selectAll=!1,"select"in n?(n.reset?this.resetNodes():this.selectRange(n.deselect,!1,o),this.selectRange(n.select,!0,o)):this.setNodesSelected({nodes:[n.node],newValue:n.newValue,clearSelection:n.clearSelection,keepDescendants:n.keepDescendants,event:e,source:o}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:o,nodes:n,event:s,source:r,keepDescendants:i=!1}){if(!cs(this.gos)&&e)return ee(132),0;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return ee(130),0;let l=0;for(let a=0;a<n.length;a++){const c=n[a],u=Ws(c),d=this.groupSelectsFiltered&&u.group;if(u.rowPinned&&!Pi(u)){ee(59);continue}if(u.id===void 0){ee(60);continue}d||this.selectRowNode(u,e,s,r)&&(this.detailSelection.delete(u.id),l++),this.groupSelectsDescendants&&u.childrenAfterGroup?.length&&(l+=this.selectChildren(u,e,r))}return o||(n.length===1&&r==="api"&&this.selectionCtx.setRoot(Ws(n[0])),e&&(t||!this.isMultiSelect())&&(l+=this.clearOtherNodes(Ws(n[0]),i,r)),l>0&&(this.updateGroupsFromChildrenSelections(r),this.dispatchSelectionChanged(r))),l}selectRange(e,t,o){let n=0;return e.forEach(s=>{const r=Ws(s);if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,o)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o)),n}selectChildren(e,t,o){const n=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return n?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:o,nodes:n}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((o,n)=>{e(o)&&t.set(n,o)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:o,rowModel:n}=this.beans;if(!vt(o))return!1;const s=n.rootNode;if(!s)return!1;t||(t=new pi(!0,s),t.active=!1);let r=!1;return t.forEachChangedNodeDepthFirst(i=>{if(i!==s){const l=this.calculateSelectedFromChildren(i);r=this.selectRowNode(i,l===null?!1:l,void 0,e)||r}}),r}clearOtherNodes(e,t,o){const n=new Map;let s=0;return this.selectedNodes.forEach(r=>{const i=r.id==e.id;if((t?!sN(e,r):!0)&&!i){const a=this.selectedNodes.get(r.id);s+=this.setNodesSelected({nodes:[a],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:o}),this.groupSelectsDescendants&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{const i=this.calculateSelectedFromChildren(r);this.selectRowNode(r,i===null?!1:i,void 0,o)}),s}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Rs(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!vt(e))return;const o=t.getTopLevelNodes();if(o===null)return;const n=[];function s(r){for(let i=0,l=r.length;i<l;i++){const a=r[i];a.isSelected()?n.push(a):a.group&&a.childrenAfterGroup&&s(a.childrenAfterGroup)}}return s(o),n}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const o=vt(this.gos);let n=!1;const s=r=>{const i=this.selectRowNode(Ws(r),!1,void 0,e);n||(n=i)};if(t==="currentPage"||t==="filtered"){if(!o){et(102);return}this.getNodesToSelect(t).forEach(s)}else this.selectedNodes.forEach(s),this.reset(e);if(this.selectionCtx.selectAll=!1,o&&this.groupSelectsDescendants){const r=this.updateGroupsFromChildrenSelections(e);n||(n=r)}n&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,o=0;return this.getNodesToSelect(e).forEach(n=>{this.groupSelectsDescendants&&n.group||(n.isSelected()?t++:n.selectable&&o++)}),{selectedCount:t,notSelectedCount:o}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:o}=this.getSelectedCounts(e);return KC(t,o)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],o=s=>t.push(s);if(e==="currentPage")return this.forEachNodeOnPage(s=>{if(!s.group){o(s);return}if(!s.expanded&&!s.footer){const r=i=>{o(i),i.childrenAfterFilter?.forEach(r)};r(s);return}this.groupSelectsDescendants||o(s)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(o),t):(n.forEachNode(o),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:o}=this.beans,n=t.getFirstRow(),s=t.getLastRow();for(let r=n;r<=s;r++){const i=o.getRow(r);i&&e(i)}}selectAllRowNodes(e){const{gos:t,selectionCtx:o}=this;if(!cs(t)){ee(132);return}if(DM(t)&&!Ml(t)){ee(130);return}if(!this.canSelectAll())return;const{source:n,selectAll:s}=e;let r=!1;if(this.getNodesToSelect(s).forEach(i=>{const l=this.selectRowNode(Ws(i),!0,void 0,n);r||(r=l)}),o.selectAll=!0,vt(t)&&this.groupSelectsDescendants){const i=this.updateGroupsFromChildrenSelections(n);r||(r=i)}r&&this.dispatchSelectionChanged(n)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,o){if(e||(e=[]),!Array.isArray(e)){et(103);return}const n=new Set(e),s=[];this.beans.rowModel.forEachNode(r=>{n.has(r.id)&&s.push(r)}),o&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:s,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!vt(e)}updateSelectable(e){const{gos:t,rowModel:o}=this.beans;if(!cs(t))return;const n="selectableChanged",s=e!==void 0,r=vt(t)&&this.groupSelectsDescendants,i=[],l=a=>{if(s&&!a.group)return;if(r&&a.group){const u=a.childrenAfterGroup?.some(d=>d.selectable)??!1;this.setRowSelectable(a,u,!0);return}!this.updateRowSelectable(a,!0)&&a.isSelected()&&i.push(a)};if(r){if(e===void 0){const a=o.rootNode;e=a?new pi(!1,a):void 0}e?.forEachChangedNodeDepthFirst(l,!s,!s)}else o.forEachNode(l);i.length&&this.setNodesSelected({nodes:i,newValue:!1,source:n}),!s&&r&&this.updateGroupsFromChildrenSelections?.(n)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const o=e.detailNode?.detailGridInfo?.api;if(!o)return;const n=nN(o);if(e.isSelected()!==n&&this.selectRowNode(e,n,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!n){const r=this.detailSelection.get(e.id)??new Set;for(const i of o.getSelectedNodes())r.add(i.id);this.detailSelection.set(e.id,r)}}setDetailSelectionState(e,t,o){if(this.masterSelectsDetail){if(!Ml(t)){ee(269);return}switch(e.isSelected()){case!0:{o.selectAll();break}case!1:{o.deselectAll();break}case void 0:{const n=this.detailSelection.get(e.id);if(n){const s=[];for(const r of n){const i=o.getRowNode(r);i&&s.push(i)}o.setNodesSelected({nodes:s,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Ws(e){return Pi(e)?e.pinnedSibling:e.footer?e.sibling:e}function nN(e){let t=0,o=0;return e.forEachNode(n=>{n.isSelected()?t++:n.selectable&&o++}),KC(t,o)}function KC(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function sN(e,t){let o=t.parent;for(;o;){if(o===e)return!0;o=o.parent}return!1}var rN={moduleName:"SharedRowSelection",version:le,beans:[jB],apiFunctions:{setNodesSelected:KB,selectAll:qB,deselectAll:YB,selectAllFiltered:QB,deselectAllFiltered:ZB,selectAllOnCurrentPage:XB,deselectAllOnCurrentPage:JB,getSelectedNodes:eN,getSelectedRows:tN}},iN={moduleName:"RowSelection",version:le,rowModels:["clientSide","infinite","viewport"],beans:[oN],dependsOn:[rN]};function lN(e){e.expansionSvc?.expandAll(!0)}function aN(e){e.expansionSvc?.expandAll(!1)}function cN(e){const t=Zo(e),o=yC(e);t?t.onRowHeightChanged():o&&o.onRowHeightChanged()}function uN(e,t,o){const n=yC(e);if(n){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){et(238);return}n.setRowCount(t,o);return}et(28);return}const s=da(e);if(s){s.setRowCount(t,o);return}}function dN(e){return Ts(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function hN(e){return e.rowModel.isLastRowIndexKnown()}var gN={moduleName:"CsrmSsrmSharedApi",version:le,apiFunctions:{expandAll:lN,collapseAll:aN,onRowHeightChanged:cN}},pN={moduleName:"SsrmInfiniteSharedApi",version:le,apiFunctions:{setRowCount:uN,getCacheBlockState:dN,isLastRowIndexKnown:hN}},fN=class extends K{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(n=>{if(!n){et(18),t||et(20);return}if(this.isGridApi(n))return n;const s=n;return"current"in s?s.current?.api:(s.api||et(19),s.api)}).filter(n=>!!n&&!n.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const o=[];return e.columns?e.columns.forEach(n=>{o.push(t(n))}):e.column&&o.push(t(e.column)),o}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ee(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(o=>{let n=null;o&&(n=t.getProvidedColGroup(o.getGroupId())),!(o&&!n)&&t.setColumnGroupOpened(n,o.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let o=null;const n=this.beans,{colResize:s,ctrlsSvc:r,colModel:i}=n;if(t&&(o=i.getColDefCol(t.getColId())),t&&!o)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const d=e.api.getColumnState().map(h=>({colId:h.colId}));Fo(n,{state:d,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const d=e.api.getColumnState().map(h=>({colId:h.colId,hide:h.hide}));Fo(n,{state:d},"alignedGridChanged")}break;case"columnPinned":{const d=e.api.getColumnState().map(h=>({colId:h.colId,pinned:h.pinned}));Fo(n,{state:d},"alignedGridChanged")}break;case"columnResized":{const u=e,d={};l.forEach(h=>{d[h.getId()]={key:h.getColId(),newWidth:h.getActualWidth()}}),u.flexColumns?.forEach(h=>{d[h.getId()]&&delete d[h.getId()]}),s?.setColumnWidths(Object.values(d),!1,u.finished,"alignedGridChanged");break}}const c=r.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",c)})}},mN={moduleName:"AlignedGrids",version:le,beans:[fN],dependsOn:[Jm]},CN=class extends Ak{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},Ja=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function wN(e){if(at(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let o=0;o<t.length;o++){const n=t[o],s=o===0,r=o===e.childrenAfterSort.length-1;n.setFirstChild(s),n.lastChild!==r&&(n.lastChild=r,n.dispatchRowEvent("lastChildChanged")),n.childIndex!==o&&(n.childIndex=o,n.dispatchRowEvent("childIndexChanged"))}}function qC(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),wN(e)}var vN=class extends K{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,o=t.sortSvc.getSortOptions(),n=ie(o)&&o.length>0,s=n&&!!e.changedRowNodes&&this.gos.get("deltaSort"),r=o.some(({column:i})=>Go(t.gos)?i.isPrimary()&&i.isRowGroupActive():!!i.getColDef().showRowGroup);this.sort(t,o,n,s,e.changedRowNodes,e.changedPath,r)}sort(e,t,o,n,s,r,i){const{gos:l,colModel:a,rowGroupColsSvc:c,rowNodeSorter:u,rowRenderer:d,showRowGroupCols:h}=e,p=l.get("groupMaintainOrder"),f=a.getCols().some(y=>y.isRowGroupActive()),m=a.isPivotMode(),C=l.getCallback("postSortRows");let w=!1;const v=y=>{const D=m&&y.leafGroup,A=p&&f&&!y.leafGroup&&!i;let R;if(A){const E=c?.columns?.[y.level+1]?.getSort()===null,V=y.childrenAfterAggFilter.slice(0);if(y.childrenAfterSort&&!E){const I={};y.childrenAfterSort.forEach((P,L)=>{I[P.id]=L}),V.sort((P,L)=>(I[P.id]??0)-(I[L.id]??0))}R=V}else!o||D?R=y.childrenAfterAggFilter.slice(0):n&&s?R=bN(u,y,s,r,t):R=u.doFullSort(y.childrenAfterAggFilter,t);if(w||(w=y.childrenAfterSort?.[0]!==R[0]),y.childrenAfterSort=R,qC(y),C){const M={nodes:y.childrenAfterSort};C(M)}};if(r?.forEachChangedNodeDepthFirst(v),w&&this.gos.get("groupHideOpenParents")){const y=h?.getShowRowGroupCols();y?.length&&d.refreshCells({columns:y,force:!0})}}};function bN(e,t,o,n,s){const r=t.childrenAfterAggFilter,i=t.childrenAfterSort;if(!i)return e.doFullSort(r,s);const l=new Set,a=[],{updates:c,adds:u}=o;for(let h=0,p=r.length;h<p;++h){const f=r[h];c.has(f)||u.has(f)||n&&!n.canSkip(f)?a.push({currentPos:a.length,rowNode:f}):l.add(f.id)}const d=i.filter(h=>l.has(h.id)).map((h,p)=>({currentPos:p,rowNode:h}));return a.sort((h,p)=>e.compareRowNodes(s,h,p)),SN(e,s,a,d)}function SN(e,t,o,n){const s=[];let r=0,i=0;const l=o.length,a=n.length;for(;r<l&&i<a;){const c=o[r],u=n[i],d=e.compareRowNodes(t,c,u);let h;d<0?(h=c,++r):(h=u,++i),s.push(h.rowNode)}for(;r<l;)s.push(o[r++].rowNode);for(;i<a;)s.push(n[i++].rowNode);return s}var yN=class extends K{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Dt(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(n=>!!n);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Rs(this.beans);const o=this.getNewNodeManager();this.nodeManager=o,o.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return Of(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const o=t.changeSet?.properties;o&&this.onPropChange(o)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,o,n){let s,r=!1;do{s=!1;const i=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),a=Math.max(i,o),c=Math.min(l,n);for(let u=a;u<=c;u++){const d=this.getRow(u);if(d.rowHeightEstimated){const h=Bn(this.beans,d);d.setRowHeight(h.height),s=!0,r=!0}}s&&this.setRowTopAndRowIndex()}while(s);return r}onPropChange(e){if(!this.rootNode)return;const t=this.gos,o=new Set(e),n={step:"nothing",changedProps:o},s=o.has("rowData"),r=this.nodeManager,i=this.getNewNodeManager(),l=r!==i||s&&o.has("treeData")&&t.get("treeData")||o.has("treeDataChildrenField")&&t.get("treeData");let a;if((l||s)&&(a=t.get("rowData"),a!=null&&!Array.isArray(a)&&(a=null,ee(1))),l&&(s||(a=r?.extractRowData()??a),r!==i&&(r?.deactivate(),this.nodeManager=i),i.activate(this.rootNode)),a)if(!l&&!this.isEmpty()&&a.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))n.keepRenderedRows=!0,n.animate=!this.gos.get("suppressAnimationFrame"),n.changedRowNodes=new Ja,i.setImmutableRowData(n,a);else{n.rowDataUpdated=!0,n.newData=!0;const{selectionSvc:u,pinnedRowModel:d}=this.beans;u?.reset("rowDataChanged"),d?.isManual()&&d.reset(),this.rowNodesCountReady=!0,i.setNewRowData(a)}if(n.rowDataUpdated)n.step="group";else if(n.step==="nothing"){for(const{refreshProps:c,step:u}of this.orderedStages)if(e.some(d=>c.has(d))){n.step=u;break}}n.step!=="nothing"&&this.refreshModel(n)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,o=e.environment.getDefaultRowHeight();let n=0;const s=new Set,r=It(this.gos,"normal");for(let i=0,l=t.length;i<l;++i){const a=t[i];if(a.id!=null&&s.add(a.id),a.rowHeight==null){const c=Bn(e,a,r,o);a.setRowHeight(c.height,c.estimated)}a.setRowTop(n),a.setRowIndex(i),n+=a.rowHeight}return s}clearRowTopAndRowIndex(e,t){const o=e.active,n=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},s=r=>{if(r!==null&&(n(r),n(r.detailNode),n(r.sibling),r.hasChildren()&&r.childrenAfterGroup)){const i=r.level==-1;o&&!i&&!r.expanded||r.childrenAfterGroup.forEach(s)}};s(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const o=e.childrenAfterSort,n=e.sibling&&e.sibling.displayed?1:0;return(o?o.length:0)+n}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:o}=this;if(!t||!o.length||o[0]===t)return e;const{childrenAfterSort:s}=t,r=l=>{let a=s[l];if(this.gos.get("groupHideOpenParents"))for(;a.expanded&&a.childrenAfterSort&&a.childrenAfterSort.length>0;)a=a.childrenAfterSort[0];return a.rowIndex},{footerSvc:i}=this.beans;return i?i.getTopDisplayIndex(o,e,s,r):r(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:o}=this;if(!t||!o.length||o[0]===t)return e;let s=this.getRow(e);for(s.footer&&(s=s.sibling);s.parent&&s.parent!==t;)s=s.parent;const r=t.childrenAfterSort?.findIndex(i=>i===s);return r===-1?e:r??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=er(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=er(this.gos),n=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=er(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new pi(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:o,rowDataUpdated:n}=e;return!(!t||o||!n||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let o=!!e.rowDataUpdated;const n=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&o));if(this.started&&o&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=o),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=o=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),o&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||o)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(n);case"pivot":this.doPivot(n);case"aggregate":this.doAggregate(n);case"filter_aggregates":this.doFilterAggregates(n);case"sort":this.doSort(e.changedRowNodes,n);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,s),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let o=!1,n=!1;const s=[],r=ci(this.gos);return this.forEachNodeAfterFilterAndSort(i=>{if(n)return;if(o&&(i===t||i===e)&&(n=!0,i.group&&r)){s.push(...i.allLeafChildren);return}if(!o){if(i!==t&&i!==e)return;o=!0}if(!i.group||!r){s.push(i);return}}),s}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let o=0,n=t.length-1;if(e<=0)return 0;if(Je(t).rowTop<=e)return t.length-1;let r=-1,i=-1;for(;;){const l=Math.floor((o+n)/2),a=t[l];if(this.isRowInPixel(a,e)||(a.rowTop<e?o=l+1:a.rowTop>e&&(n=l-1),r===o&&i===n))return l;r=o,i=n}}isRowInPixel(e,t){const o=e.rowTop,n=e.rowTop+e.rowHeight;return o<=t&&n>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,o)=>e(t,o))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,o=>o.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,o=>o.childrenAfterSort)}forEachPivotNode(e,t=!1,o=!1){const{colModel:n,rowGroupColsSvc:s}=this.beans;if(!n.isPivotMode())return;if(!s?.columns.length){e(this.rootNode,0);return}const r=o?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,i=>i.leafGroup?null:i[r])}depthFirstSearchRowNodes(e,t=!1,o=r=>r.childrenAfterGroup,n=this.rootNode,s=0){let r=s;if(!n)return r;const i=n===this.rootNode;i||e(n,r++);const{footerSvc:l}=this.beans;if(n.hasChildren()&&!n.footer){const a=o(n);if(a){r=l?.addTotalRows(r,n,e,t,i,"top")??r;for(const c of a)r=this.depthFirstSearchRowNodes(e,t,o,c,r);return l?.addTotalRows(r,n,e,t,i,"bottom")??r}}return r}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(o=>{o.childrenAfterSort=o.childrenAfterAggFilter.slice(0),qC(o)})}doRowGrouping(e){const t=this.rootNode,o=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(o!==void 0)return o;const n=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,n&&(n.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,RC(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(kc)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const o=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],o=new Ja;let n=!1;this.rowDataTransactionBatch?.forEach(s=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:r,rowsInserted:i}=this.nodeManager.updateRowData(s.rowDataTransaction,o);i&&(n=!0),t.push(r),s.callback&&e.push(s.callback.bind(null,r))}),this.commitTransactions(n,o),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new Ja,{rowNodeTransaction:o,rowsInserted:n}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(n,t),o}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let o;if(e)o=e.execute({rowNode:t});else{o=t?.childrenAfterSort??[];for(const n of o)n.setUiLevel(0)}this.rowsToDisplay=o}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const o=t.detailNode;o&&o.setRowHeight(o.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=Tl,this.rowsToDisplay=Tl}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function RN(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function xN(e,t){const o=Zo(e);o&&((!t||t==="everything")&&(t="group"),o.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function PN(e){return Zo(e)?.isEmpty()??!0}function FN(e,t){Zo(e)?.forEachLeafNode(t)}function EN(e,t){Zo(e)?.forEachNodeAfterFilter(t)}function DN(e,t){Zo(e)?.forEachNodeAfterFilterAndSort(t)}function MN(e){if(e.rowAutoHeight?.active){ee(3);return}Zo(e)?.resetRowHeights()}function IN(e,t){return e.frameworkOverrides.wrapIncoming(()=>Zo(e)?.updateRowData(t))}function TN(e,t,o){e.frameworkOverrides.wrapIncoming(()=>Zo(e)?.batchUpdateRowData(t,o))}function kN(e){e.frameworkOverrides.wrapIncoming(()=>Zo(e)?.flushAsyncTransactions())}function AN(e){return e.selectionSvc?.getBestCostNodeSelection()}var LN={moduleName:"ClientSideRowModel",version:le,rowModels:["clientSide"],beans:[CN,yN,vN],dependsOn:[wC]},ON={moduleName:"ClientSideRowModelApi",version:le,apiFunctions:{onGroupExpandedOrCollapsed:RN,refreshClientSideRowModel:xN,isRowDataEmpty:PN,forEachLeafNode:FN,forEachNodeAfterFilter:EN,forEachNodeAfterFilterAndSort:DN,resetRowHeights:MN,applyTransaction:IN,applyTransactionAsync:TN,flushAsyncTransactions:kN,getBestCostNodeSelection:AN},dependsOn:[gN]},GN=class extends K{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:o,columnKeys:n,skipRowGroups:s,exportRowNumbers:r}=t,i=this.getColumnsToExport({allColumns:o,skipRowGroups:s,columnKeys:n,exportRowNumbers:r});return[this.prepareSession(i),this.prependContent(t),this.exportColumnGroups(t,i),this.exportHeaders(t,i),this.processPinnedTopRows(t,i),this.processRows(t,i),this.processPinnedBottomRows(t,i),this.appendContent(t)].reduce((l,a)=>a(l),e).parse()}processRow(e,t,o,n){const s=t.shouldRowBeSkipped||(()=>!1),i=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!i,a=this.colModel.isPivotMode()?n.leafGroup:!n.group,c=!!n.footer,u=n.allChildrenCount===1&&n.childrenAfterGroup?.length===1&&FM(this.gos,n);if(!a&&!c&&(t.skipRowGroups||u||l)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.stub||n.level===-1&&!a&&!c||s(De(this.gos,{node:n})))return;const p=e.onNewBodyRow(n);if(o.forEach((f,m)=>{p.onColumn(f,m,n)}),t.getCustomContentBelowRow){const f=t.getCustomContentBelowRow(De(this.gos,{node:n}));f&&e.addCustomContent(f)}}appendContent(e){return t=>{const o=e.appendContent;return o&&t.addCustomContent(o),t}}prependContent(e){return t=>{const o=e.prependContent;return o&&t.addCustomContent(o),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return o=>{if(!e.skipColumnGroupHeaders){const n=new Jf,{colGroupSvc:s}=this.beans,r=s?s.createColumnGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(r,o,e.processGroupHeaderCallback)}return o}}exportHeaders(e,t){return o=>{if(!e.skipColumnHeaders){const n=o.onNewHeaderRow();t.forEach((s,r)=>{n.onColumn(s,r,void 0)})}return o}}processPinnedTopRows(e,t){return o=>{const n=this.processRow.bind(this,o,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,r)=>s.rowIndex-r.rowIndex).map(s=>this.pinnedRowModel?.getPinnedTopRow(s.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",n),o}}processRows(e,t){return o=>{const n=this.rowModel,s=vt(this.gos),r=Ts(this.gos),i=!s&&e.onlySelected,l=this.processRow.bind(this,o,e,t),{exportedRows:a="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>n.getRow(c.rowIndex)).forEach(l),o;if(this.colModel.isPivotMode())return s?n.forEachPivotNode(l,!0,a==="filteredAndSorted"):r?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l),o;if(e.onlySelectedAllPages||i){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(l)}else a==="all"?n.forEachNode(l):s||r?n.forEachNodeAfterFilterAndSort(l,!0):n.forEachNode(l);return o}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:o}=this.beans;if(!t||!o)return;const n=t.getSortOptions(),s=(r,i)=>r.rowIndex!=null&&i.rowIndex!=null?r.rowIndex-i.rowIndex:r.level===i.level?r.parent?.id===i.parent?.id?o.compareRowNodes(n,{rowNode:r,currentPos:r.rowIndex??-1},{rowNode:i,currentPos:i.rowIndex??-1}):s(r.parent,i.parent):r.level>i.level?s(r.parent,i):s(r,i.parent);e.sort(s)}processPinnedBottomRows(e,t){return o=>{const n=this.processRow.bind(this,o,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,r)=>s.rowIndex-r.rowIndex).map(s=>this.pinnedRowModel?.getPinnedBottomRow(s.rowIndex)).forEach(n):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",n),o}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:o=!1,exportRowNumbers:n=!1,columnKeys:s}=e,{colModel:r,gos:i,visibleCols:l}=this,a=r.isPivotMode(),c=h=>Un(h)?!1:!Hn(h)||n;if(s&&s.length)return r.getColsForKeys(s).filter(c);const u=i.get("treeData");let d=[];return t&&!a?d=r.getCols():d=l.allCols,d=d.filter(h=>c(h)&&(o&&!u?!Du(h):!0)),d}recursivelyAddHeaderGroups(e,t,o){const n=[];e.forEach(s=>{const r=s;r.getChildren&&r.getChildren().forEach(i=>n.push(i))}),e.length>0&&ft(e[0])&&this.doAddHeaderHeader(t,e,o),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,o)}doAddHeaderHeader(e,t,o){const n=e.onNewHeaderGroupingRow();let s=0;t.forEach(r=>{const i=r;let l;o?l=o(De(this.gos,{columnGroup:i})):l=this.beans.colNames.getDisplayNameForColumnGroup(i,"header");const a=i.getLeafColumns().reduce((c,u,d,h)=>{let p=Je(c);return u.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[d],c.push(p)):p&&p[1]==null&&(p[1]=d-1),d===h.length-1&&p&&p[1]==null&&(p[1]=d),c},[]);n.onColumn(i,l||"",s++,i.getLeafColumns().length-1,a)})}},HN={moduleName:"SharedExport",version:le,beans:[GN]},fg=`\r
`,VN=class extends yH{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:o}=e;this.suppressQuotes=t,this.columnSeparator=o}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,fg),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((o,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(o.data.value||""),o.mergeAcross&&this.appendEmptyCells(o.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,o,n){o!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,o){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",o);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ee(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=fg),this.isFirstLine=!1}},BN=class extends SH{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ee(51);return}const t=this.getMergedParams(e),o=this.getData(t),n=new Blob(["\uFEFF",o],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(De(this.gos,{})):t.fileName;RH(this.getFileName(s),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const o=t?Object.assign({},e):this.getMergedParams(e);return this.getData(o)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:o,rowGroupColsSvc:n,valueSvc:s,gos:r}=this,{processCellCallback:i,processHeaderCallback:l,processGroupHeaderCallback:a,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:d}=e;return new VN({colModel:t,colNames:o,valueSvc:s,gos:r,processCellCallback:i||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:a||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||",",rowGroupColsSvc:n})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function NN(e,t){return e.csvCreator?.getDataAsCsv(t)}function zN(e,t){e.csvCreator?.exportDataAsCsv(t)}var WN={moduleName:"CsvExport",version:le,beans:[BN],apiFunctions:{getDataAsCsv:NN,exportDataAsCsv:zN},dependsOn:[HN]},_N=class extends K{constructor(e,t,o){super(),this.id=e,this.parentCache=t,this.params=o,this.state="needsLoading",this.version=0,this.startRow=e*o.blockSize,this.endRow=this.startRow+o.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,o){this.successCommon(e,{rowData:t,rowCount:o})}isRequestMostRecentAndLive(e){const t=e===this.version,o=this.isAlive();return t&&o}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:o,beans:n,rowNodes:s}=this;for(let r=0;r<e;r++){const i=o+r,l=new Rs(n);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(i),l.setRowTop(t*i),s.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:o,state:n}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:o,pageStatus:n}}}setDataAndId(e,t,o){ie(t)?e.setDataAndId(t,o.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(at(this.params.datasource.getRows)){ee(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:o,params:{sortModel:n,filterModel:s},gos:r}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,o),failCallback:this.pageLoadFailed.bind(this,o),sortModel:n,filterModel:s,context:De(r,{}).context}}forEachNode(e,t,o){this.rowNodes.forEach((n,s)=>{this.startRow+s<o&&e(n,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const o=e-this.startRow;return this.rowNodes[o]}processServerResult(e){const{rowNodes:t,beans:o}=this;t.forEach((s,r)=>{const i=e.rowData?e.rowData[r]:void 0;!s.id&&s.alreadyRendered&&i&&(t[r]=new Rs(o),t[r].setRowIndex(s.rowIndex),t[r].setRowTop(s.rowTop),t[r].setRowHeight(s.rowHeight),s.clearRowTopAndRowIndex()),this.setDataAndId(t[r],i,this.startRow+r)});const n=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,n)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},$N=2,UN=class extends K{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const o=Math.floor(e/this.params.blockSize);let n=this.blocks[o];if(!n){if(t)return;n=this.createBlock(o)}return n.getRow(e)}createBlock(e){const t=this.params,o=this.createBean(new _N(e,this,t));return this.blocks[o.id]=o,this.blockCount++,this.purgeBlocksIfNeeded(o),t.rowNodeBlockLoader.addBlock(o),o}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(ws(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(i=>i!=e),o=(i,l)=>l.lastAccessed-i.lastAccessed;t.sort(o);const n=this.params.maxBlocksInCache>0,s=n?this.params.maxBlocksInCache-1:null,r=$N-1;t.forEach((i,l)=>{const a=i.state==="needsLoading"&&l>=r,c=n?l>=s:!1;if(a||c){if(this.isBlockCurrentlyDisplayed(i)||this.isBlockFocused(i))return;this.removeBlockFromCache(i)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:o,endRow:n}=e;return t.rowIndex>=o&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:o}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,o-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:o,overflowSize:n}=this.params,r=(e.id+1)*o+n;this.rowCount<r&&(this.rowCount=r)}}setRowCount(e,t){this.rowCount=e,ie(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(o=>o.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(o,n)=>o.id-n.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const o=[];let n=-1,s=!1;const r={value:0};let i=!1;return this.getBlocksInOrder().forEach(a=>{if(!i){if(s&&n+1!==a.id){i=!0;return}n=a.id,a.forEachNode(c=>{const u=c===e||c===t;(s||u)&&o.push(c),u&&(s=!s)},r,this.rowCount)}}),i||s?[]:o}},jN=class extends K{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=us(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=us(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!si(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;gr(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:o,rowNodeBlockLoader:n,eventSvc:s,gos:r}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:o?.getSortModel()??[],rowNodeBlockLoader:n,initialRowCount:r.get("infiniteInitialRowCount"),maxBlocksInCache:r.get("maxBlocksInCache"),rowHeight:us(e),overflowSize:r.get("cacheOverflowSize"),blockSize:r.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new UN(this.cacheParams)),s.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(o=>{o.id===e&&(t=o)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return t>o?o:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function KN(e){da(e)?.refreshCache()}function qN(e){da(e)?.purgeCache()}function YN(e){return da(e)?.getRowCount()}var QN=class extends K{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=EM(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Dt(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){mo(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){ws(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(o=>o.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(o=>o.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:o,state:n}=t.getBlockStateJson();e[o]=n}),e}printCacheStatus(){ws(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},ZN={moduleName:"InfiniteRowModelCore",version:le,rowModels:["infinite"],beans:[jN,QN]},XN={moduleName:"InfiniteRowModel",version:le,apiFunctions:{refreshInfiniteCache:KN,purgeInfiniteCache:qN,getInfiniteRowCount:YN},dependsOn:[ZN,pN]},JN="â†‘",ez="â†“",tz={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},oz=class extends nt{constructor(){super(tz),this.eValue=Fe,this.eDelta=Fe,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const o=Math.abs(t),n=e.formatValue(o),s=ie(n)?n:o,r=t>=0,i=this.eDelta;r?i.textContent=JN+s:i.textContent=ez+s,i.classList.toggle("ag-value-change-delta-up",r),i.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),oo(this.eDelta)}refresh(e,t=!1){const{value:o,valueFormatted:n}=e,{eValue:s,lastValue:r,beans:i}=this;if(o===r||(ie(n)?s.textContent=n:ie(o)?s.textContent=o:oo(s),i.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const l=o&&typeof o=="object"&&"toNumber"in o?o.toNumber():o,a=r&&typeof r=="object"&&"toNumber"in r?r.toNumber():r;if(l===a)return!1;if(typeof l=="number"&&typeof a=="number"){const c=l-a;this.showDelta(e,c)}return r&&s.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=o,!0}},nz=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",sz={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},rz=class extends nt{constructor(){super(sz),this.eCurrent=Fe,this.refreshCount=0,this.registerCSS(nz)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:o}=this,n=Ct({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=n,n.textContent=o.textContent,this.getGui().insertBefore(n,o),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let o=e.value;if(at(o)&&(o=""),o===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=o;const n=this.eCurrent;return ie(e.valueFormatted)?n.textContent=e.valueFormatted:ie(e.value)?n.textContent=o:oo(n),!0}},iz=class extends K{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,o=this.beans.gos.get("cellFlashDuration"),n=this.beans.gos.get("cellFadeDuration")){const s=this.animations[t];s.delete(e);const r=Date.now(),i=r+o,l=r+o+n,a={phase:"flash",flashEndTime:i,fadeEndTime:l};s.set(e,a);const c=`ag-cell-${t}`,u=`${c}-animation`,{comp:d,eGui:{style:h}}=e;d.toggleCss(c,!0),d.toggleCss(u,!1),h.removeProperty("transition"),h.removeProperty("transition-delay"),this.nextAnimationTime&&i+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),o)}),this.nextAnimationTime=i)}advanceAnimations(){const e=Date.now();let t=null;for(const o of Object.keys(this.animations)){const n=this.animations[o],s=`ag-cell-${o}`,r=`${s}-animation`;for(const[i,l]of n){if(!i.isAlive()||!i.comp){n.delete(i);continue}const{phase:a,flashEndTime:c,fadeEndTime:u}=l,d=a==="flash"?c:u;if(!(e+15>=d)){t=Math.min(d,t??1/0);continue}const{comp:p,eGui:{style:f}}=i;switch(a){case"flash":p.toggleCss(s,!1),p.toggleCss(r,!0),f.transition=`background-color ${u-c}ms`,f.transitionDelay=`${c-e}ms`,t=Math.min(u,t??1/0),l.phase="fade";break;case"fade":p.toggleCss(s,!1),p.toggleCss(r,!1),f.removeProperty("transition"),f.removeProperty("transition-delay"),n.delete(i);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const o=u0(e.cellPosition);t.cells[o]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function lz(e,t={}){const{cellFlashSvc:o}=e;o&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(n=>o.flashCell(n,t))})}var az={moduleName:"HighlightChanges",version:le,beans:[iz],userComponents:{agAnimateShowChangeCellRenderer:oz,agAnimateSlideCellRenderer:rz},apiFunctions:{flashCells:lz}};function cz(e){return e.stateSvc?.getState()??{}}function uz(e,t,o){return e.stateSvc?.setState(t,o)}function mg(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=dz(e)}return e.version=le,e}function dz(e){return e.cellSelection=hz(e,"rangeSelection"),e}function hz(e,t){if(e&&typeof e=="object")return e[t]}var gz=class extends K{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Dt(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Dt(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Dt(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=vt(this.gos);const e=mg(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const o=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>o(()=>this.setupStateOnGridReady(e)));const[n,s,r]=this.addManagedEventListeners({newColumnsLoaded:({source:i})=>{i==="gridInitializing"&&(n(),o(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{s?.(),o(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{r?.(),o(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const o=mg(e);delete o.partialColumnState,this.cachedState=o,this.startSuppressEvents();const n="api",s=t?new Set(t):void 0;this.setGridReadyState(o,n,s),this.setColumnsInitialisedState(o,n,!1,s),this.setRowCountState(o,n,s),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(o,n,s),this.stopSuppressEvents(n)})}setGridReadyState(e,t,o){t==="api"&&!o?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,o,n){this.setColumnState(e,t,o,n),this.setColumnGroupState(e,t,n),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const o=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:o("aggregation"),columnMoved:o("columnOrder"),columnPinned:o("columnPinning"),columnResized:o("columnSizing"),columnVisible:o("columnVisibility"),columnPivotChanged:o("pivot"),columnPivotModeChanged:o("pivot"),columnRowGroupChanged:o("rowGroup"),sortChanged:o("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,o){const{filter:n,rowGroupExpansion:s,rowSelection:r,pagination:i}=e,l=(c,u)=>!o?.has(c)&&(u||t==="api");l("filter",n)&&this.setFilterState(n),l("rowGroupExpansion",s)&&this.setRowGroupExpansionState(s,t),l("rowSelection",r)&&this.setRowSelectionState(r,t),l("pagination",i)&&this.setPaginationState(i,t);const a=this.updateCachedState.bind(this);a("filter",this.getFilterState()),a("rowGroupExpansion",this.getRowGroupExpansionState()),a("rowSelection",this.getRowSelectionState()),a("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),o=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},n=()=>t("filter",this.getFilterState()),{gos:s,colFilter:r}=this.beans;this.addManagedEventListeners({filterChanged:n,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{(s.get("groupDefaultExpanded")!==0||s.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:i=>{(i.newPage||i.newPageSize)&&t("pagination",this.getPaginationState())}}),r&&this.addManagedListeners(r,{filterStateChanged:n})}setFirstDataRenderedState(e,t,o){const{scroll:n,cellSelection:s,focusedCell:r,columnOrder:i,rowPinning:l}=e,a=(d,h)=>!o?.has(d)&&(h||t==="api");a("focusedCell",r)&&this.setFocusedCellState(r),a("cellSelection",s)&&this.setCellSelectionState(s),a("scroll",n)&&this.setScrollState(n),a("rowPinning",l)&&this.setRowPinningState(l),this.setColumnPivotState(!!i?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const u=this.getRangeSelectionState();c("rangeSelection",u),c("cellSelection",u),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){const n=this.getRangeSelectionState();t("rangeSelection",n),t("cellSelection",n)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return dH(Ll(e),e.colModel.isPivotMode())}setColumnState(e,t,o,n){const{sort:s,rowGroup:r,aggregation:i,pivot:l,columnPinning:a,columnVisibility:c,columnSizing:u,columnOrder:d}=e,h=(I,P)=>!n?.has(I)&&(P||t==="api"),p={},f=I=>{let P=p[I];return P||(P={colId:I},p[I]=P,P)},m={},C=h("sort",s);C&&s?.sortModel.forEach(({colId:I,sort:P},L)=>{const T=f(I);T.sort=P,T.sortIndex=L}),(C||!o)&&(m.sort=null,m.sortIndex=null);const w=h("rowGroup",r);w&&r?.groupColIds.forEach((I,P)=>{const L=f(I);L.rowGroup=!0,L.rowGroupIndex=P}),(w||!o)&&(m.rowGroup=null,m.rowGroupIndex=null);const v=h("aggregation",i);v&&i?.aggregationModel.forEach(({colId:I,aggFunc:P})=>{f(I).aggFunc=P}),(v||!o)&&(m.aggFunc=null);const y=h("pivot",l);y&&(l?.pivotColIds.forEach((I,P)=>{const L=f(I);L.pivot=!0,L.pivotIndex=P}),this.gos.updateGridOptions({options:{pivotMode:!!l?.pivotMode},source:t})),(y||!o)&&(m.pivot=null,m.pivotIndex=null);const D=h("columnPinning",a);D&&(a?.leftColIds.forEach(I=>{f(I).pinned="left"}),a?.rightColIds.forEach(I=>{f(I).pinned="right"})),(D||!o)&&(m.pinned=null);const A=h("columnVisibility",c);A&&c?.hiddenColIds.forEach(I=>{f(I).hide=!0}),(A||!o)&&(m.hide=null);const R=h("columnSizing",u);R&&u?.columnSizingModel.forEach(({colId:I,flex:P,width:L})=>{const T=f(I);T.flex=P??null,T.width=L}),(R||!o)&&(m.flex=null);const M=d?.orderedColIds,E=!!M?.length&&!n?.has("columnOrder"),V=E?M.map(I=>f(I)):Object.values(p);V.length&&(this.columnStates=V,Fo(this.beans,{state:V,applyOrder:E,defaultState:m},t))}setColumnPivotState(e,t){const o=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const s=this.beans,{pivotResultCols:r,colGroupSvc:i}=s;if(r?.isPivotResultColsPresent()){if(o){const l=[];for(const a of o)r.getPivotResultCol(a.colId)&&l.push(a);Fo(s,{state:l,applyOrder:e},t)}n&&i?.setColumnGroupState(n,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return hH(t)}setColumnGroupState(e,t,o){const n=this.beans.colGroupSvc;if(!n||o?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const s=new Set(e.columnGroup?.openColumnGroupIds),i=n.getColumnGroupState().map(({groupId:l})=>{const a=s.has(l);return a&&s.delete(l),{groupId:l,open:a}});s.forEach(l=>{i.push({groupId:l,open:!0})}),i.length&&(this.columnGroupStates=i),n.setColumnGroupState(i,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const o=e?.getFilterState(),n=e?.getAdvFilterModel()??void 0;return t||n||o?{filterModel:t,columnFilterState:o,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:o,columnFilterState:n,advancedFilterModel:s}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(o!==void 0||n!==void 0)&&t?.setFilterState(o??null,n??null,"columnFilter"),s!==void 0&&t?.setAdvFilterModel(s??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:o,type:n,startRow:s,endRow:r,columns:i,startColumn:l}=t;return{id:o,type:n,startRow:s,endRow:r,colIds:i.map(a=>a.getColId()),startColId:l.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:o,colModel:n,visibleCols:s}=this.beans;if(!Nn(t)||!o)return;const r=[];e?.cellRanges.forEach(i=>{const l=[];if(i.colIds.forEach(c=>{const u=n.getCol(c);u&&l.push(u)}),!l.length)return;let a=n.getCol(i.startColId);if(!a){const c=s.allCols,u=new Set(l);a=c.find(d=>u.has(d))}r.push({...i,columns:l,startColumn:a})}),o.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:o}=e?.getVScrollPosition()??{top:0};return o||t?{top:o,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:o}=e??{top:0,left:0},{frameworkOverrides:n,rowRenderer:s,animationFrameSvc:r,ctrlsSvc:i}=this.beans;n.wrapIncoming(()=>{i.get("center").setCenterViewportScrollLeft(o),i.getScrollFeature()?.setVerticalScrollPosition(t),s.redraw({afterScroll:!0}),r?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:o,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:o,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:o}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:n,rowIndex:s,rowPinned:r}=e;t.setFocusedCell({column:o.getCol(n),rowIndex:s,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const o=e.getCurrentPage(),n=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!o&&!n))return{page:o,pageSize:n}}setPaginationState(e,t){const{pagination:o,gos:n}=this.beans;if(!o)return;const{pageSize:s,page:r}=e??{page:0,pageSize:n.get("paginationPageSize")},i=t==="gridInitializing";s&&!n.get("paginationAutoPageSize")&&o.setPageSize(s,i?"initialState":"pageSizeSelector"),typeof r=="number"&&(i?o.setPage(r):o.goToPage(r))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const o=[];return t.forEachNode(({expanded:n,id:s})=>{n&&s&&o.push(s)}),o.length?{expandedRowGroupIds:o}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const o=this.beans.expansionSvc;if(!o)return;const n=e?.expandedRowGroupIds??[];let s;if(t==="api"){const r=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(r?.length){const i=new Set(r);for(const l of n)i.delete(l);s=Array.from(i)}}o.expandRows(n,s)}updateColumnState(e){const t=this.getColumnState();let o=!1;const n=this.cachedState;for(const s of Object.keys(t)){const r=t[s];si(r,n[s])||(o=!0)}this.cachedState={...n,...t},o&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const o=this.cachedState[e];this.setCachedStateValue(e,t),si(t,o)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},pz={moduleName:"GridState",version:le,beans:[gz],apiFunctions:{getState:cz,setState:uz}};function fz(e){return e.rowModel.isLastRowIndexKnown()}function mz(e){return e.pagination?.getPageSize()??100}function Cz(e){return e.pagination?.getCurrentPage()??0}function wz(e){return e.pagination?.getTotalPages()??1}function vz(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function bz(e){e.pagination?.goToNextPage()}function Sz(e){e.pagination?.goToPreviousPage()}function yz(e){e.pagination?.goToFirstPage()}function Rz(e){e.pagination?.goToLastPage()}function xz(e,t){e.pagination?.goToPage(t)}var Pz=class extends K{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,o=()=>{const n=Math.max(us(t),1),s=Math.floor(e/n);t.pagination.setPageSize(s,"autoCalculated")};this.isBodyRendered?Dt(this,o,50)():(o(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Br="paginationPageSizeSelector",Fz={tag:"span",cls:"ag-paging-page-size"},Ez=class extends nt{constructor(){super(Fz),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Br,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){oo(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Br)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),o=!t||!e.includes(t);if(o){const s=this.gos.exists("paginationPageSize"),r=this.gos.get(Br)!==!0;ee(94,{pageSizeSet:s,pageSizesSet:r,pageSizeOptions:e,paginationPageSizeOption:t}),r||ee(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Br}),e.unshift("")}const n=String(o?"":t);this.selectPageSizeComp?(As(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=o}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const o=this.getLocaleTextFunc(),n=o("pageSizeSelectorLabel","Page Size:"),s=o("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Ku).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(s).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Br);return!Array.isArray(t)||!t?.length?e:[...t].sort((o,n)=>o-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},Dz={selector:"AG-PAGE-SIZE-SELECTOR",component:Ez},Mz=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",Iz=class extends Zk{constructor(){super(),this.btFirst=Fe,this.btPrevious=Fe,this.btNext=Fe,this.btLast=Fe,this.lbRecordCount=Fe,this.lbFirstRowOnPage=Fe,this.lbLastRowOnPage=Fe,this.lbCurrent=Fe,this.lbTotal=Fe,this.pageSizeComp=Fe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(Mz)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[Dz]);const{btFirst:t,btPrevious:o,btNext:n,btLast:s}=this;this.activateTabIndex([t,o,n,s]),t.insertAdjacentElement("afterbegin",po(e?"last":"first",this.beans)),o.insertAdjacentElement("afterbegin",po(e?"next":"previous",this.beans)),n.insertAdjacentElement("afterbegin",po(e?"previous":"next",this.beans)),s.insertAdjacentElement("afterbegin",po(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(r):A0(this.beans,r),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:o}=e;this.addManagedListeners(t,{click:o,keydown:n=>{(n.key===U.ENTER||n.key===U.SPACE)&&(n.preventDefault(),o())}})}),k0(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):bH(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),o=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),s=e===o-1;this.nextButtonDisabled=s||n,this.lastButtonDisabled=!t||n||e===o-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){QD(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),o=this.pagination.getMasterRowCount(),n=e?o:null,s=this.pagination.getCurrentPage(),r=this.pagination.getPageSize();let i,l;this.isZeroPagesToDisplay()?i=l=0:(i=r*s+1,l=i+r-1,e&&l>n&&(l=n));const a=i+r-1,c=!e&&o<a,u=this.formatNumber(i);this.lbFirstRowOnPage.textContent=u;let d;const h=this.getLocaleTextFunc();c?d=h("pageLastRowUnknown","?"):d=this.formatNumber(l),this.lbLastRowOnPage.textContent=d;const f=t>0?s+1:0,m=this.formatNumber(f);this.lbCurrent.textContent=m;let C,w;if(e)C=this.formatNumber(t),w=this.formatNumber(n);else{const v=h("more","more");C=v,w=v}this.lbTotal.textContent=C,this.lbRecordCount.textContent=w,this.announceAriaStatus(u,d,w,m,C)}announceAriaStatus(e,t,o,n,s){const r=this.getLocaleTextFunc(),i=r("page","Page"),l=r("to","to"),a=r("of","of"),c=`${e} ${l} ${t} ${a} ${o}`,u=`${i} ${n} ${a} ${s}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,"paginationPage"))}},Tz={selector:"AG-PAGINATION",component:Iz},kz=class extends K{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return Tz}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:o}=this.beans;o?.isEditing()&&(o.isBatchEditing()?o.cleanupEditors():o.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ie(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ie(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ie(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ie(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const o=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}o!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const o=this.pageSize,n=t-1;this.totalPages=Math.floor(n/o)+1,this.adjustCurrentPageIfInvalid();const s=this.currentPage,r=o*s;let i=o*(s+1)-1;if(i>n&&(i=n),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(r),i===n)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:o}=this,n=e-1;this.totalPages=Math.floor(n/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*o,this.bottomDisplayedRowIndex=t*(o+1)-1,this.bottomDisplayedRowIndex>n&&(this.bottomDisplayedRowIndex=n)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:o=!1,newPageSize:n=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:o,newPageSize:n,keepRenderedRows:t})}},Az={moduleName:"Pagination",version:le,beans:[kz,Pz],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:fz,paginationGetPageSize:mz,paginationGetCurrentPage:Cz,paginationGetTotalPages:wz,paginationGetRowCount:vz,paginationGoToNextPage:bz,paginationGoToPreviousPage:Sz,paginationGoToFirstPage:yz,paginationGoToLastPage:Rz,paginationGoToPage:xz},dependsOn:[ha]};function Lz(e,t={}){const o=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(o))}function YC(e,t,o,n,s){t&&(n&&t.parent&&t.parent.level!==-1&&YC(e,t.parent,o,n,s),t.setExpanded(o,void 0,s))}function Oz(e,t){return e.rowModel.getRowNode(t)}function Gz(e,t,o,n){e.rowRenderer.addRenderedRowListener(t,o,n)}function Hz(e){return e.rowRenderer.getRenderedNodes()}function Vz(e,t,o){e.rowModel.forEachNode(t,o)}function Bz(e){return e.rowRenderer.firstRenderedRow}function Nz(e){return e.rowRenderer.lastRenderedRow}function zz(e,t){return e.rowModel.getRow(t)}function Wz(e){return e.rowModel.getRowCount()}var _z={moduleName:"RowApi",version:le,apiFunctions:{redrawRows:Lz,setRowNodeExpanded:YC,getRowNode:Oz,addRenderedRowListener:Gz,getRenderedNodes:Hz,forEachNode:Vz,getFirstDisplayedRowIndex:Bz,getLastDisplayedRowIndex:Nz,getDisplayedRowAtIndex:zz,getDisplayedRowCount:Wz}},$z={moduleName:"ScrollApi",version:le,apiFunctions:{getVerticalPixelRange:hB,getHorizontalPixelRange:gB,ensureColumnVisible:NC,ensureIndexVisible:zC,ensureNodeVisible:pB}};function Uz(e,t,o){if(!t)return;const n=e.ctrlsSvc.getGridBodyCtrl().eGridBody,s=`aria-${t}`;o===null?n.removeAttribute(s):n.setAttribute(s,o)}function jz(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Kz(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function qz(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function Yz(e){e.animationFrameSvc?.flushAllFrames()}function Qz(e){return{rowHeight:us(e),headerHeight:Ei(e)}}function Zz(e,t={}){const o=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>{const i=r.getCellRenderer();i!=null&&o.push(ui(i))}),t.columns?.length)return o;const n=[],s=_c(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(r=>{if(s&&!$c(r.rowNode,s)||!r.isFullWidth())return;const i=r.getFullWidthCellRenderers();for(let l=0;l<i.length;l++){const a=i[l];a!=null&&n.push(ui(a))}}),[...n,...o]}var Xz={moduleName:"RenderApi",version:le,apiFunctions:{setGridAriaProperty:Uz,refreshCells:jz,refreshHeader:Kz,isAnimationFrameQueueEmpty:qz,flushAllAnimationFrames:Yz,getSizesForCurrentTheme:Qz,getCellRendererInstances:Zz}};function Jz(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function QC({colAutosize:e,visibleCols:t},o,n){Array.isArray(o)?e?.autoSizeCols({colKeys:o,skipHeader:n,source:"api"}):e?.autoSizeCols({colKeys:o.colIds??t.allCols,skipHeader:o.skipHeader,defaultMaxWidth:o.defaultMaxWidth,defaultMinWidth:o.defaultMinWidth,columnLimits:o.columnLimits,source:"api"})}function e2(e,t){t&&typeof t=="object"?QC(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var t2=class extends K{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:o,skipHeaderGroups:n,stopAtGroup:s,defaultMaxWidth:r,defaultMinWidth:i,columnLimits:l=[],source:a="api"}=e,{animationFrameSvc:c,renderStatus:u,colModel:d,autoWidthCalc:h,visibleCols:p}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&u&&!u.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const f=[];let m=-1;const C=Object.fromEntries(l.map(({colId:y,maxWidth:D,minWidth:A})=>[y,{maxWidth:D,minWidth:A}])),w=o??this.gos.get("skipHeaderOnAutoSize"),v=n??w;for(;m!==0;){m=0;const y=[];t.forEach(D=>{if(!D||QM(D))return;const A=d.getCol(D);if(!A||f.indexOf(A)>=0)return;const R=h.getPreferredWidthForColumn(A,w);if(R>0){const M=C[A.colId]??{};M.minWidth??(M.minWidth=i),M.maxWidth??(M.maxWidth=r);const E=o2(A,R,M);A.setActualWidth(E,a),f.push(A),m++}y.push(A)}),y.length&&p.refresh(a)}v||this.autoSizeColumnGroupsByColumns(t,a,s),pr(this.eventSvc,f,!0,"autosizeColumns")}autoSizeColumn(e,t,o){e&&this.autoSizeCols({colKeys:[e],skipHeader:o,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,o){const{colModel:n,ctrlsSvc:s}=this.beans,r=new Set;n.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=o;)u.isPadding()||r.add(u),u=u.getParent()});let l;const a=[];for(const c of r){for(const u of s.getHeaderRowContainerCtrls())if(l=u.getHeaderCtrlForColumn(c),l)break;l&&l.resizeLeafColumnsToFit(t)}return a}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const o=this.gos.get("skipHeaderOnAutoSize"),n=()=>{this.autoSizeColumn(t,"uiColumnResized",o)};e.addEventListener("dblclick",n);const s=new Zn(e);return s.addEventListener("doubleTap",n),()=>{e.removeEventListener("dblclick",n),s.removeEventListener("doubleTap",n),s.destroy()}}addColumnGroupResize(e,t,o){const n=this.gos.get("skipHeaderOnAutoSize"),s=()=>{const r=[];t.getDisplayedLeafColumns().forEach(l=>{l.getColDef().suppressAutoSize||r.push(l.getColId())}),r.length>0&&this.autoSizeCols({colKeys:r,skipHeader:n,stopAtGroup:t,source:"uiColumnResized"}),o()};return e.addEventListener("dblclick",s),()=>e.removeEventListener("dblclick",s)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:o,scrollVisibleSvc:n}=this.beans,s=o.getGridBodyCtrl(),i=s.isVerticalScrollShowing()?n.getScrollbarWidth():0,a=li(s.eGridBody)-i;if(a>0){this.sizeColumnsToFit(a,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):ee(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",o,n){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,o,n));return}const s={};n&&n?.columnLimits?.forEach(({key:p,...f})=>{s[typeof p=="string"?p:p.getColId()]=f});const r=this.beans.visibleCols.allCols;if(e<=0||!r.length||e===ln(r)&&r.every(f=>{if(f.colDef.suppressSizeToFit)return!0;const m=s?.[f.getId()],C=m?.minWidth??n?.defaultMinWidth,w=m?.maxWidth??n?.defaultMaxWidth,v=f.getActualWidth();return(C==null||v>=C)&&(w==null||v<=w)}))return;const l=[],a=[];r.forEach(p=>{p.getColDef().suppressSizeToFit===!0?a.push(p):l.push(p)});const c=l.slice(0);let u=!1;const d=p=>{mo(l,p),a.push(p)};for(l.forEach(p=>{p.resetActualWidth(t);const f=s?.[p.getId()],m=f?.minWidth??n?.defaultMinWidth,C=f?.maxWidth??n?.defaultMaxWidth,w=p.getActualWidth();typeof m=="number"&&w<m?p.setActualWidth(m,t,!0):typeof C=="number"&&w>C&&p.setActualWidth(C,t,!0)});!u;){u=!0;const p=e-ln(a);if(p<=0)l.forEach(f=>{const m=s?.[f.getId()]?.minWidth??n?.defaultMinWidth;if(typeof m=="number"){f.setActualWidth(m,t,!0);return}f.setActualWidth(f.minWidth,t)});else{const f=p/ln(l);let m=p;for(let C=l.length-1;C>=0;C--){const w=l[C],v=s?.[w.getId()],y=v?.minWidth??n?.defaultMinWidth,D=v?.maxWidth??n?.defaultMaxWidth,A=w.getMinWidth(),R=w.getMaxWidth(),M=typeof y=="number"&&y>A?y:A,E=typeof D=="number"&&D<R?D:R;let V=Math.round(w.getActualWidth()*f);V<M?(V=M,d(w),u=!1):V>E?(V=E,d(w),u=!1):C===0&&(V=m),w.setActualWidth(V,t,!0),m-=V}}}c.forEach(p=>{p.fireColumnWidthChangedEvent(t)});const h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!o&&pr(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:o,defaultMinWidth:n,defaultMaxWidth:s}=e,r=o?.map(({colId:i,minWidth:l,maxWidth:a})=>({key:i,minWidth:l,maxWidth:a}));this.sizeColumnsToFitGridBody({defaultMinWidth:n,defaultMaxWidth:s,columnLimits:r})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:o,defaultMaxWidth:n,defaultMinWidth:s,columnLimits:r}=e;setTimeout(()=>{const i={skipHeader:o,source:"autosizeColumns",defaultMaxWidth:n,defaultMinWidth:s,columnLimits:r};t?this.autoSizeCols({colKeys:t,...i}):this.autoSizeAllColumns(i)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function o2(e,t,o={}){const n=o.minWidth??e.getMinWidth();t<n&&(t=n);const s=o.maxWidth??e.getMaxWidth();return t>s&&(t=s),t}var n2={moduleName:"ColumnAutoSize",version:le,beans:[t2],apiFunctions:{sizeColumnsToFit:Jz,autoSizeColumns:QC,autoSizeAllColumns:e2},dependsOn:[Xm]},s2=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function r2(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function i2(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function l2(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function a2(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function c2(e,t,o){return e.pinnedRowModel?.forEachPinnedRow(t,o)}var u2={moduleName:"PinnedRow",version:le,beans:[Tk],css:[s2],apiFunctions:{getPinnedTopRowCount:r2,getPinnedBottomRowCount:i2,getPinnedTopRow:l2,getPinnedBottomRow:a2,forEachPinnedRow:c2},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},d2=class extends rr{constructor(e,t,o){super(e.col,e.firstNode,o,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,o,n,s,r,i){this.eWrapper=o,super.setComp(e,t,o,n,s,r,i),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&rf(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){eM(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(ia(t)){this.focusedCellPosition=void 0;return}const o=this.isCellFocused();o||(this.focusedCellPosition=void 0),e&&o&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},h2=class extends Wl{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new d2(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},g2=class extends K{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,o=`${e}Ctrls`,n=this[o],s=n.size,r=this.getAllRelevantRowControls(e),i=new Map;let l=!1;for(const c of r)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(u,d)=>{if(i.has(d.firstNode))return;const h=n.get(d.firstNode);if(h){i.set(d.firstNode,h),n.delete(d.firstNode);return}l=!0;const p=new h2(d.firstNode,this.beans,!1,!1,!1);i.set(d.firstNode,p)});this[o]=i;const a=i.size===s;if(!(!l&&a)){for(const c of n.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,o=t?.getCellSpanByPosition(e);if(!o)return;const n=`${ZC(e.rowPinned)}Ctrls`,s=this[n].get(o.firstNode);if(s)return s.getAllCellCtrls().find(r=>r.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const o of this[t].values())o.destroyFirstPass(!0),o.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},ZC=e=>e??"center",p2=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(o=>{o!==this.lastNode&&(t+=o.rowHeight)}),e-t}},f2=class extends K{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:o,pinnedRowModel:n,rowModel:s,valueSvc:r,pagination:i}}=this,{colDef:l}=t,a=this[`${e}ValueNodeMap`],c=new Map,u=o.getCallback("isFullWidthRow"),d=l.equals,h=l.spanRows,p=typeof h=="function";let f=null,m=null,C;const w=(y,D)=>{f=y,m=null,C=D},v=y=>{const D=!y.isExpandable()&&!y.group&&!y.detail&&(u?!u({rowNode:y}):!0);if(y.rowIndex==null||!D){w(null,null);return}if(f==null||y.level!==f.level||y.footer||m&&y.rowIndex-1!==m?.getLastNode().rowIndex){w(y,r.getValue(t,y));return}const A=r.getValue(t,y);if(p){const R=De(o,{valueA:C,nodeA:f,valueB:A,nodeB:y,column:t,colDef:l});if(!h(R)){w(y,A);return}}else if(d?!d(C,A):C!==A){w(y,A);return}if(!m){const R=a?.get(f);R?.firstNode===f?(R.reset(),m=R):m=new p2(t,f),c.set(f,m)}m.addSpannedNode(y),c.set(y,m)};switch(e){case"center":s.forEachDisplayedNode?.(y=>{(!i||i.isRowInPage(y.rowIndex))&&v(y)});break;case"top":n?.forEachPinnedRow("top",v);break;case"bottom":n?.forEachPinnedRow("bottom",v);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${ZC(e.rowPinned)}ValueNodeMap`].get(e)}},m2=class extends K{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Dt(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Dt(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const o=this.createManagedBean(new f2(e));this.spanningColumns.set(e,o),o.buildCache("top"),o.buildCache("bottom"),o.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const o=this.spanningColumns.get(e);return o?o.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:o}=this.beans,n=e.column,s=e.rowIndex,r=this.spanningColumns.get(n);if(!r)return;let i;switch(e.rowPinned){case"top":i=t?.getPinnedTopRow(s);break;case"bottom":i=t?.getPinnedBottomRow(s);break;default:i=o.getRow(s)}if(i)return r.getCellSpan(i)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const o=this.spanningColumns.get(e);if(o)return o.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[o,n]of this.spanningColumns)if(n.isCellSpanning(e)){const s=n.getCellSpan(e);t(o,s)}}destroy(){super.destroy(),this.spanningColumns.clear()}},C2={moduleName:"CellSpan",version:le,beans:[m2,g2]},w2=class extends K{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,o=e.colDef,n=o.cellClassRules,s=this.getCellClassParams(e,o);Vu(this.beans.expressionSvc,n===this.cellClassRules?void 0:this.cellClassRules,n,s,r=>t.toggleCss(r,!0),r=>t.toggleCss(r,!1)),this.cellClassRules=n}applyUserStyles(){const e=this.column,t=e.colDef,o=t.cellStyle;if(!o)return;let n;if(typeof o=="function"){const s=this.getCellClassParams(e,t);n=o(s)}else n=o;n&&this.cellComp.setUserStyles(n)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,o=e.colDef,n=this.getCellClassParams(e,o);this.staticClasses.forEach(r=>t.toggleCss(r,!1));const s=this.beans.cellStyles.getStaticCellClasses(o,n);this.staticClasses=s,s.forEach(r=>t.toggleCss(r,!0))}getCellClassParams(e,t){const{value:o,rowNode:n}=this.cellCtrl;return De(this.beans.gos,{value:o,data:n.data,node:n,colDef:t,column:e,rowIndex:n.rowIndex})}},v2=class extends K{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,o,n){Vu(this.beans.expressionSvc,void 0,e.cellClassRules,t,o,n),this.processStaticCellClasses(e,t,o)}getStaticCellClasses(e,t){const{cellClass:o}=e;if(!o)return[];let n;return typeof o=="function"?n=o(t):n=o,typeof n=="string"&&(n=[n]),n||[]}createCellCustomStyleFeature(e,t){return new w2(e,t)}processStaticCellClasses(e,t,o){this.getStaticCellClasses(e,t).forEach(s=>{o(s)})}},b2={moduleName:"CellStyle",version:le,beans:[v2]},S2={moduleName:"RowStyle",version:le,beans:[xT]};function y2(e,t){return!!e.colHover?.isHovered(t)}var R2=class extends K{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=o=>{const{beans:n,gos:s,element:r,columns:i}=this,l=n.colHover;o??!!s.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(r,{mouseover:l.setMouseOver.bind(l,i),mouseout:l.clearMouseOver.bind(l)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},x2="ag-column-hover",P2=class extends K{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,o){const n=()=>{const s=this.isHovered(o);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:n}),n()}onCellColumnHover(e,t){if(!t)return;const o=this.isHovered(e);t.toggleCss(x2,o)}addHeaderFilterColumnHoverListener(e,t,o,n){this.createHoverFeature(e,[o],n);const s=()=>{const r=this.isHovered(o);t.toggleCss("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:s}),s()}createHoverFeature(e,t,o){e.createManagedBean(new R2(t,o))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},F2={moduleName:"ColumnHover",version:le,beans:[P2],apiFunctions:{isColumnHovered:y2}},E2=class extends K{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const o=this.wrapSvc?.wrap(e,t)??t,n=!ll.has(e),s=n?this.asyncListeners:this.syncListeners;s.has(e)||s.set(e,new Set),s.get(e).add(o),this.eventSvc.addEventListener(e,o,n)}removeEventListener(e,t){const o=this.wrapSvc?.unwrap(e,t)??t,s=!!this.asyncListeners.get(e)?.delete(o);s||this.syncListeners.get(e)?.delete(o),this.eventSvc.removeEventListener(e,o,s)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,o=(r,i)=>{ll.has(r)&&t(r,i)},n=(r,i)=>{ll.has(r)||t(r,i)};this.globalListenerPairs.set(e,{syncListener:o,asyncListener:n});const s=this.eventSvc;s.addGlobalListener(o,!1),s.addGlobalListener(n,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:o,globalListenerPairs:n}=this,s=o?.unwrapGlobal(e)??e;if(n.has(s)){const{syncListener:i,asyncListener:l}=n.get(s);t.removeGlobalListener(i,!1),t.removeGlobalListener(l,!0),n.delete(e)}else this.syncGlobalListeners.delete(s),t.removeGlobalListener(s,!1)}destroyEventListeners(e,t){e.forEach((o,n)=>{o.forEach(s=>this.eventSvc.removeEventListener(n,s,t)),o.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(o=>this.eventSvc.removeGlobalListener(o,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:o,asyncListener:n})=>{t.removeGlobalListener(o,!1),t.removeGlobalListener(n,!0)}),e.clear()}};function D2(e,t,o){e.apiEventSvc?.addEventListener(t,o)}function M2(e,t,o){e.apiEventSvc?.removeEventListener(t,o)}function I2(e,t){e.apiEventSvc?.addGlobalListener(t)}function T2(e,t){e.apiEventSvc?.removeGlobalListener(t)}var k2={moduleName:"EventApi",version:le,apiFunctions:{addEventListener:D2,addGlobalListener:I2,removeEventListener:M2,removeGlobalListener:T2},beans:[E2]},A2={moduleName:"Locale",version:le,beans:[uH]},L2=class extends K{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Dt(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:o,pinnedRowModel:n}=this.beans,s=e.autoHeightCols;let r=!1;const i=l=>{const a=l.__autoHeights;let c=Bn(this.beans,l).height;for(const u of s){let d=a?.[u.getColId()];const h=o?.getCellSpan(u,l);if(h){if(h.getLastNode()!==l)continue;if(d=o?.getCellSpan(u,l)?.getLastNodeAutoHeight(),!d)return}if(d==null){if(this.colSpanSkipCell(u,l))continue;return}c=Math.max(d,c)}c!==l.rowHeight&&(l.setRowHeight(c),r=!0)};n?.forEachPinnedRow?.("top",i),n?.forEachPinnedRow?.("bottom",i),t.forEachDisplayedNode?.(i),r&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,o){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[o.getId()];return}const n=e.__autoHeights[o.getId()];e.__autoHeights[o.getId()]=t,n!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:o,colViewport:n,visibleCols:s}=this.beans;if(!o.colSpanActive)return!1;let r=[];switch(e.getPinned()){case"left":r=s.getLeftColsForRow(t);break;case"right":r=s.getRightColsForRow(t);break;case null:r=n.getColsWithinViewport(t);break}return!r.includes(e)}setupCellAutoHeight(e,t,o){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const n=t.parentElement,{rowNode:s,column:r}=e,i=this.beans,l=u=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!o.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:p,borderTopWidth:f}=Is(n),m=d+h+p+f,w=t.offsetHeight+m;if(u<5){const v=xt(i),y=!v||!v.contains(t),D=w==0;if(y||D){window.setTimeout(()=>l(u+1),0);return}}this.setRowAutoHeight(s,w,r)},a=()=>l(0);a();const c=bn(i,t,a);return o.addDestroyFunc(()=>{c(),this.setRowAutoHeight(s,void 0,r)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:o}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(o).filter(s=>s.isAutoHeight())),t.length!==0){if(!o.__autoHeights)return!1;for(const n of t){const s=o.__autoHeights[n.getColId()];if(!s||o.rowHeight<s)return!1}}return!0}},O2={moduleName:"RowAutoHeight",version:le,beans:[L2]},G2={moduleName:"AllCommunity",version:le,dependsOn:[LN,WN,XN,OH,BB,NB,zB,WB,_B,$B,UB,VB,VV,BV,NV,HV,WV,_V,pz,mN,Az,Jm,_z,$z,Xz,n2,TA,u2,iN,jG,b2,F2,S2,k2,YG,az,BC,A2,O2,IA,ON,C2]},Gt=se.createContext({}),XC=se.createContext("default"),Di=(e,t,o,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const r=e.newAgStackInstance();let i,l,a=!1;return r.then(c=>{if(a){t.destroyBean(c);return}i=c,l=i.getGui(),o.appendChild(l),Cg(n,i)}),()=>{a=!0,i&&(l?.parentElement?.removeChild(l),t.destroyBean(i),n&&Cg(n,void 0))}},Cg=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const o=e;o.current=t}},ho=(...e)=>e.filter(o=>o!=null&&o!=="").join(" "),fo=class JC{constructor(...t){this.classesMap={},t.forEach(o=>{this.classesMap[o]=!0})}setClass(t,o){if(!!this.classesMap[t]==o)return this;const s=new JC;return s.classesMap={...this.classesMap},s.classesMap[t]=o,s}toString(){return Object.keys(this.classesMap).filter(o=>this.classesMap[o]).join(" ")}},Er=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,o=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===o()},qc=se.version?.split(".")[0],ew=qc==="16"||qc==="17";function H2(){return qc==="19"}var al=!1;function V2(e){return al||setTimeout(()=>al=!1,0),al=!0,e()}var Ci=(e,t)=>{!ew&&e&&!al?Pw.flushSync(t):t()},B2=e=>{ew?e():se.startTransition(e)};function N2(e,t,o){return se.useSyncExternalStore?se.useSyncExternalStore(e,t):o}function jl(e,t,o){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(o||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],s=[],r=new Map,i=new Map;for(let l=0;l<t.length;l++){const a=t[l];i.set(a.instanceId,a)}for(let l=0;l<e.length;l++){const a=e[l];r.set(a.instanceId,a),i.has(a.instanceId)&&n.push(a)}for(let l=0;l<t.length;l++){const a=t[l],c=a.instanceId;r.has(c)||s.push(a)}return n.length===e.length&&s.length===0?e:n.length===0&&s.length===t.length?t:n.length===0?s:s.length===0?n:[...n,...s]}var tw=g.forwardRef((e,t)=>{const{registry:o,context:n}=g.useContext(Gt),s=g.useRef(null),r=g.useRef(null),i=g.useRef(null),l=g.useRef(null),a=g.useRef(null),c=g.useRef(),[u,d]=g.useState(),[h,p]=g.useState(),[f,m]=g.useState(),[C,w]=g.useState(()=>new fo),[v,y]=g.useState(()=>new fo("ag-hidden")),[D,A]=g.useState(()=>new fo("ag-hidden")),[R,M]=g.useState(()=>new fo("ag-invisible"));g.useImperativeHandle(t,()=>({refresh(){return!1}})),g.useLayoutEffect(()=>Di(u,n,r.current),[u]);const E=g.useCallback(H=>{if(s.current=H,!H){c.current=n.destroyBean(c.current);return}const k={setInnerRenderer:(B,W)=>{d(B),m(W)},setChildCount:B=>p(B),toggleCss:(B,W)=>w(z=>z.setClass(B,W)),setContractedDisplayed:B=>A(W=>W.setClass("ag-hidden",!B)),setExpandedDisplayed:B=>y(W=>W.setClass("ag-hidden",!B)),setCheckboxVisible:B=>M(W=>W.setClass("ag-invisible",!B)),setCheckboxSpacing:B=>M(W=>W.setClass("ag-group-checkbox-spacing",B))},G=o.createDynamicBean("groupCellRendererCtrl",!0);G&&(c.current=n.createBean(G),c.current.init(k,H,i.current,l.current,a.current,tw,e))},[]),V=g.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),I=g.useMemo(()=>`ag-group-expanded ${v.toString()}`,[v]),P=g.useMemo(()=>`ag-group-contracted ${D.toString()}`,[D]),L=g.useMemo(()=>`ag-group-checkbox ${R.toString()}`,[R]),T=u?.componentFromFramework,F=T?u.componentClass:void 0,x=u==null&&f!=null,O=xr(f);return se.createElement("span",{className:V,ref:E,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},se.createElement("span",{className:I,ref:l}),se.createElement("span",{className:P,ref:a}),se.createElement("span",{className:L,ref:i}),se.createElement("span",{className:"ag-group-value",ref:r},x?O:T?se.createElement(F,{...u.params}):null),se.createElement("span",{className:"ag-group-child-count"},h))}),wg=tw,rd=g.createContext({setMethods:()=>{}}),z2=e=>{const{initialProps:t,addUpdateCallback:o,CustomComponentClass:n,setMethods:s}=e,[{key:r,...i},l]=g.useState(t);return g.useEffect(()=>{o(a=>l(a))},[]),se.createElement(rd.Provider,{value:{setMethods:s}},se.createElement(n,{key:r,...i}))},W2=g.memo(z2),_2=0;function vg(){return`agPortalKey_${++_2}`}var ow=class{constructor(e,t,o,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=o,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=vg(),this.portalKey=vg(),this.instanceCreated=this.isStatelessComponent()?Ue.resolve(!1):new Ue(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),o=document.createElement(t||"div");return o.classList.add("ag-react-container"),e.reactContainer=o,o}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const o=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!o){setTimeout(()=>this.callMethod(e,t));return}const n=o[e];if(n)return n.apply(o,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Ue(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Kl.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return g.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const o=this[`${e}Component`];if(!this.suppressFallbackMethods&&o)return o.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function fa(e,t,o){e.forEach(n=>{const s=t[n];s&&(o[n]=s)})}var no=class extends ow{constructor(){super(...arguments),this.awaitUpdateCallback=new Ue(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=W2}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:o=>this.setMethods(o),addUpdateCallback:o=>{this.updateCallback=()=>(o(this.getProps()),new Ue(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,fa(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Ue(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},$2=class extends no{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},U2=class extends no{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},j2=class extends no{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:o,shake:n}=this;return e.label=t,e.icon=o,e.shake=n,e}},K2=class extends no{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Ue(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Ue(o=>{this.resolveFilterPassCallback=o});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},q2=class extends no{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Ue(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function nw(e,t){e.parentFilterInstance(o=>{(o.setModel(t)||Ue.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Y2=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=o=>this.updateModel(o)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){fa(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),nw(this.floatingFilterParams,e)}},Q2=class extends no{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),nw(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Z2=class extends no{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},X2=class extends no{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},J2=class extends no{refresh(e){this.sourceParams=e,this.refreshProps()}},eW=class extends no{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},tW=class extends no{refresh(e){this.sourceParams=e,this.refreshProps()}},oW=class extends no{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},nW=class extends no{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function id(){ee(231)}var sW=1e3,rW=class{constructor(e,t,o){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=o||sW}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,o){this.portals=[...this.portals,e],this.waitForInstance(t,o),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,o=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-o>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Ci(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,o)})}}},iW=({ctrl:e})=>{const t=e.isAlive(),{context:o}=g.useContext(Gt),n=t?e.column.getColId():void 0,[s,r]=g.useState(),[i,l]=g.useState(),a=g.useRef(),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(),p=g.useRef();t&&!p.current&&(p.current=new xi(()=>c.current));const f=g.useCallback(v=>{if(c.current=v,a.current=v?o.createBean(new Pr):o.destroyBean(a.current),!v||!e.isAlive())return;const y=()=>{const A=e.getSelectAllGui();A&&(u.current?.insertAdjacentElement("afterend",A),a.current.addDestroyFunc(()=>A.remove()))},D={setWidth:A=>{c.current&&(c.current.style.width=A)},toggleCss:(A,R)=>p.current.toggleCss(A,R),setUserStyles:A=>l(A),setAriaSort:A=>{c.current&&(A?nM(c.current,A):sM(c.current))},setUserCompDetails:A=>r(A),getUserCompInstance:()=>h.current||void 0,refreshSelectAllGui:y,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(D,v,u.current,d.current,a.current),y()},[]);g.useLayoutEffect(()=>Di(s,o,d.current,h),[s]),g.useEffect(()=>{e.setDragSource(c.current)},[s]);const m=g.useMemo(()=>!!(s?.componentFromFramework&&Er(s.componentClass)),[s]),C=s?.componentFromFramework,w=s?.componentClass;return se.createElement("div",{ref:f,style:i,className:"ag-header-cell","col-id":n,role:"columnheader"},se.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),se.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},C?m?se.createElement(w,{...s.params}):se.createElement(w,{...s.params,ref:h}):null))},lW=g.memo(iW),aW=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){fa(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},cW=({ctrl:e})=>{const{context:t,gos:o}=g.useContext(Gt),[n,s]=g.useState(),[r,i]=g.useState(()=>new fo("ag-header-cell","ag-floating-filter")),[l,a]=g.useState(()=>new fo),[c,u]=g.useState(()=>new fo("ag-floating-filter-button","ag-hidden")),[d,h]=g.useState("false"),[p,f]=g.useState(),[,m]=g.useState(1),C=g.useRef(),w=g.useRef(null),v=g.useRef(null),y=g.useRef(null),D=g.useRef(null),A=g.useRef(),R=g.useRef(),M=B=>{B!=null&&A.current&&A.current(B)},E=g.useCallback(B=>{if(w.current=B,C.current=B?t.createBean(new Pr):t.destroyBean(C.current),!B)return;R.current=new Ue(z=>{A.current=z});const W={toggleCss:(z,j)=>i(q=>q.setClass(z,j)),setUserStyles:z=>s(z),addOrRemoveBodyCssClass:(z,j)=>a(q=>q.setClass(z,j)),setButtonWrapperDisplayed:z=>{u(j=>j.setClass("ag-hidden",!z)),h(z?"false":"true")},setWidth:z=>{w.current&&(w.current.style.width=z)},setCompDetails:z=>f(z),getFloatingFilterComp:()=>R.current?R.current:null,setMenuIcon:z=>D.current?.appendChild(z)};e.setComp(W,B,D.current,v.current,C.current)},[]);g.useLayoutEffect(()=>Di(p,t,v.current,M),[p]);const V=g.useMemo(()=>r.toString(),[r]),I=g.useMemo(()=>l.toString(),[l]),P=g.useMemo(()=>c.toString(),[c]),L=g.useMemo(()=>!!(p&&p.componentFromFramework&&Er(p.componentClass)),[p]),T=g.useMemo(()=>o.get("reactiveCustomComponents"),[]),F=g.useMemo(()=>o.get("enableFilterHandlers"),[]),[x,O]=g.useState();g.useEffect(()=>{if(p?.componentFromFramework)if(T){const B=F?aW:Y2,W=new B(p.params,()=>m(z=>z+1));M(W),O(W)}else id()},[p]);const H=x?.getProps(),k=p?.componentFromFramework,G=p?.componentClass;return se.createElement("div",{ref:E,style:n,className:V,role:"gridcell"},se.createElement("div",{ref:v,className:I,role:"presentation"},k?T?H&&se.createElement(rd.Provider,{value:{setMethods:B=>x.setMethods(B)}},se.createElement(G,{...H})):se.createElement(G,{...p.params,ref:L?()=>{}:M}):null),se.createElement("div",{ref:y,"aria-hidden":d,className:P,role:"presentation"},se.createElement("button",{ref:D,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},uW=g.memo(cW),dW=({ctrl:e})=>{const{context:t}=g.useContext(Gt),[o,n]=g.useState(),[s,r]=g.useState(()=>new fo),[i,l]=g.useState(()=>new fo),[a,c]=g.useState("false"),[u,d]=g.useState(),[h,p]=g.useState(),f=g.useMemo(()=>e.column.getUniqueId(),[]),m=g.useRef(),C=g.useRef(null),w=g.useRef(null),v=g.useRef(null),y=g.useRef(),D=g.useCallback(I=>{if(C.current=I,m.current=I?t.createBean(new Pr):t.destroyBean(m.current),!I)return;const P={setWidth:L=>{C.current&&(C.current.style.width=L)},toggleCss:(L,T)=>r(F=>F.setClass(L,T)),setUserStyles:L=>n(L),setHeaderWrapperHidden:L=>{const T=v.current;T&&(L?T.style.setProperty("display","none"):T.style.removeProperty("display"))},setHeaderWrapperMaxHeight:L=>{const T=v.current;T&&(L!=null?T.style.setProperty("max-height",`${L}px`):T.style.removeProperty("max-height"),T.classList.toggle("ag-header-cell-comp-wrapper-limited-height",L!=null))},setUserCompDetails:L=>p(L),setResizableDisplayed:L=>{l(T=>T.setClass("ag-hidden",!L)),c(L?"false":"true")},setAriaExpanded:L=>d(L),getUserCompInstance:()=>y.current||void 0};e.setComp(P,I,w.current,v.current,m.current)},[]);g.useLayoutEffect(()=>Di(h,t,v.current),[h]),g.useEffect(()=>{C.current&&e.setDragSource(C.current)},[h]);const A=g.useMemo(()=>!!(h?.componentFromFramework&&Er(h.componentClass)),[h]),R=g.useMemo(()=>"ag-header-group-cell "+s.toString(),[s]),M=g.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),E=h?.componentFromFramework,V=h?.componentClass;return se.createElement("div",{ref:D,style:o,className:R,"col-id":f,role:"columnheader","aria-expanded":u},se.createElement("div",{ref:v,className:"ag-header-cell-comp-wrapper",role:"presentation"},E?A?se.createElement(V,{...h.params}):se.createElement(V,{...h.params,ref:y}):null),se.createElement("div",{ref:w,"aria-hidden":a,className:M}))},hW=g.memo(dW),gW=({ctrl:e})=>{const{context:t}=g.useContext(Gt),{topOffset:o,rowHeight:n}=g.useMemo(()=>e.getTopAndHeight(),[]),[s,r]=g.useState(e.getAriaRowIndex()),i=e.headerRowClass,[l,a]=g.useState(()=>n+"px"),[c,u]=g.useState(()=>o+"px"),d=g.useRef([]),[h,p]=g.useState(()=>e.getUpdatedHeaderCtrls()),f=g.useRef(),m=g.useRef(null),C=g.useCallback(y=>{if(m.current=y,f.current=y?t.createBean(new Pr):t.destroyBean(f.current),!y)return;const D={setHeight:A=>a(A),setTop:A=>u(A),setHeaderCtrls:(A,R,M)=>{const E=d.current,V=jl(E,A,R);V!==E&&(d.current=V,Ci(M,()=>p(V)))},setWidth:A=>{m.current&&(m.current.style.width=A)},setRowIndex:A=>{r(A)}};e.setComp(D,f.current,!1)},[]),w=g.useMemo(()=>({height:l,top:c}),[l,c]),v=g.useCallback(y=>{switch(e.type){case"group":return se.createElement(hW,{ctrl:y,key:y.instanceId});case"filter":return se.createElement(uW,{ctrl:y,key:y.instanceId});default:return se.createElement(lW,{ctrl:y,key:y.instanceId})}},[]);return se.createElement("div",{ref:C,className:i,role:"row",style:w,"aria-rowindex":s},h.map(v))},pW=g.memo(gW),fW=({pinned:e})=>{const[t,o]=g.useState(!0),[n,s]=g.useState([]),{context:r}=g.useContext(Gt),i=g.useRef(null),l=g.useRef(null),a=g.useRef(),c=e==="left",u=e==="right",d=!c&&!u,h=g.useCallback(m=>{if(i.current=m,a.current=m?r.createBean(new ak(e)):r.destroyBean(a.current),!m)return;const C={setDisplayed:o,setCtrls:w=>s(w),setCenterWidth:w=>{l.current&&(l.current.style.width=w)},setViewportScrollLeft:w=>{i.current&&(i.current.scrollLeft=w)},setPinnedContainerWidth:w=>{i.current&&(i.current.style.width=w,i.current.style.minWidth=w,i.current.style.maxWidth=w)}};a.current.setComp(C,i.current)},[]),p=t?"":"ag-hidden",f=()=>n.map(m=>se.createElement(pW,{ctrl:m,key:m.instanceId}));return c?se.createElement("div",{ref:h,className:"ag-pinned-left-header "+p,"aria-hidden":!t,role:"rowgroup"},f()):u?se.createElement("div",{ref:h,className:"ag-pinned-right-header "+p,"aria-hidden":!t,role:"rowgroup"},f()):d?se.createElement("div",{ref:h,className:"ag-header-viewport "+p,role:"presentation",tabIndex:-1},se.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},f())):null},ec=g.memo(fW),mW=()=>{const[e,t]=g.useState(()=>new fo),[o,n]=g.useState(),{context:s}=g.useContext(Gt),r=g.useRef(null),i=g.useRef(),l=g.useCallback(u=>{if(r.current=u,i.current=u?s.createBean(new sk):s.destroyBean(i.current),!u)return;const d={toggleCss:(h,p)=>t(f=>f.setClass(h,p)),setHeightAndMinHeight:h=>n(h)};i.current.setComp(d,u,u)},[]),a=g.useMemo(()=>"ag-header "+e.toString(),[e]),c=g.useMemo(()=>({height:o,minHeight:o}),[o]);return se.createElement("div",{ref:l,className:a,style:c,role:"presentation"},se.createElement(ec,{pinned:"left"}),se.createElement(ec,{pinned:null}),se.createElement(ec,{pinned:"right"}))},CW=g.memo(mW),wW=(e,t)=>{g.useEffect(()=>{const o=t.current;if(o){const n=o.parentElement;if(n){const s=document.createComment(e);return n.insertBefore(s,o),()=>{n.removeChild(s)}}}},[e])},Xn=wW,vW=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Ue(o=>{this.resolveInstanceCreated=o}),this.onValueChange=o=>this.updateValue(o),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){fa(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},bW=e=>{const t=g.useRef(e),o=g.useRef(),n=g.useRef(!1),s=g.useRef(!1),[,r]=g.useState(0);n.current&&(s.current=!0),g.useEffect(()=>(n.current||(o.current=t.current(),n.current=!0),r(i=>i+1),()=>{s.current&&o.current?.()}),[])},SW=e=>{const[t,o]=g.useState(),n=g.useContext(Gt),{context:s,popupSvc:r,gos:i,editSvc:l}=n,{editDetails:a,cellCtrl:c,eParentCell:u}=e;return bW(()=>{const{compDetails:d}=a,h=i.get("stopEditingWhenCellsLoseFocus"),p=s.createBean(l.createPopupEditorWrapper(d.params)),f=p.getGui();if(e.jsChildComp){const A=e.jsChildComp.getGui();A&&f.appendChild(A)}const{column:m,rowNode:C}=c,w={column:m,rowNode:C,type:"popupCellEditor",eventSource:u,ePopup:f,position:a.popupPosition,keepWithinBounds:!0},v=r?.positionPopupByComponent.bind(r,w),y=r?.addPopup({modal:h,eChild:f,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:v,ariaOwns:u}),D=y?y.hideFunc:void 0;return o(p),e.jsChildComp?.afterGuiAttached?.(),()=>{D?.(),s.destroyBean(p)}}),g.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(gt(n))&&u.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Kl.createPortal(e.wrappedContent,t.getGui()):null},bg=g.memo(SW),yW=(e,t,o)=>{const{compProxy:n}=e;o(n);const s=n.getProps(),r=Er(t);return se.createElement(rd.Provider,{value:{setMethods:i=>n.setMethods(i)}},r?se.createElement(t,{...s}):se.createElement(t,{...s,ref:i=>n.setRef(i)}))},Sg=(e,t,o)=>e.compProxy?yW(e,t,o):se.createElement(t,{...e.compDetails.params,ref:o}),RW=(e,t,o,n,s)=>{const r=e.compDetails,i=r.componentClass,l=r.componentFromFramework&&!e.popup,a=r.componentFromFramework&&e.popup,c=!r.componentFromFramework&&e.popup;return l?Sg(e,i,t):a?se.createElement(bg,{editDetails:e,cellCtrl:n,eParentCell:o,wrappedContent:Sg(e,i,t)}):c&&s?se.createElement(bg,{editDetails:e,cellCtrl:n,eParentCell:o,jsChildComp:s}):null},xW=(e,t,o,n,s,r)=>{const{context:i}=g.useContext(Gt),l=g.useCallback(()=>{const a=s.current;if(!a)return;const c=a.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),i.destroyBean(a),s.current=void 0},[]);g.useEffect(()=>{const a=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,u=t&&o==null;if(!(a&&c&&!u)){l();return}const h=e.compDetails;if(s.current){const f=s.current,C=f.refresh!=null&&e.force==!1?f.refresh(h.params):!1;if(C===!0||C===void 0)return;l()}h.newAgStackInstance().then(f=>{if(!f)return;const m=f.getGui();if(!m)return;(t?o:r.current).appendChild(m),s.current=f})},[e,t,n]),g.useEffect(()=>l,[])},sw=xW,PW=({cellCtrl:e,parent:t})=>{const o=g.useRef(),n=g.useMemo(()=>{const{loadingComp:s}=e.getDeferLoadingCellRenderer();return s?{value:void 0,compDetails:s,force:!1}:void 0},[e]);if(sw(n,!1,void 0,1,o,t),n?.compDetails?.componentFromFramework){const s=n.compDetails.componentClass;return se.createElement(s,{...n.compDetails.params})}return se.createElement(se.Fragment,null)},FW=({cellCtrl:e,printLayout:t,editingCell:o})=>{const n=g.useContext(Gt),{context:s}=n,{column:{colIdSanitised:r},instanceId:i}=e,l=g.useRef(),[a,c]=g.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,d]=g.useState(),[h,p]=g.useState(1),[f,m]=g.useState(),[C,w]=g.useState(!1),[v,y]=g.useState(!1),[D,A]=g.useState(!1),[R,M]=g.useState(),E=g.useMemo(()=>e.isForceWrapper(),[e]),V=g.useMemo(()=>e.getCellAriaRole(),[e]),I=g.useRef(null),P=g.useRef(null),L=g.useRef(null),T=g.useRef(),F=g.useRef(),x=g.useRef(),O=g.useRef([]),H=g.useRef(),[k,G]=g.useState(0),B=g.useCallback(te=>{H.current=te,G(J=>J+1)},[]),W=a!=null&&(C||D||v)&&(u==null||!!u.popup),z=E||W,j=g.useCallback(te=>{if(F.current=te,te){const J=te.isCancelBeforeStart&&te.isCancelBeforeStart();setTimeout(()=>{J?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(te))})}},[e]),q=g.useRef();q.current||(q.current=new xi(()=>I.current)),sw(a,z,H.current,k,T,I);const X=g.useRef();g.useLayoutEffect(()=>{const te=X.current,J=a;if(X.current=a,te==null||te.compDetails==null||J==null||J.compDetails==null)return;const Y=te.compDetails,ue=J.compDetails;if(Y.componentClass!=ue.componentClass||L.current?.refresh==null)return;L.current.refresh(ue.params)!=!0&&p(Se=>Se+1)},[a]),g.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const J=u.compDetails,Y=u.popup===!0,ue=J.newAgStackInstance();return ue.then(Z=>{if(!Z)return;const Se=Z.getGui();j(Z),Y||((E?x:I).current?.appendChild(Se),Z.afterGuiAttached&&Z.afterGuiAttached()),M(Z)}),()=>{ue.then(Z=>{const Se=Z.getGui();e.disableEditorTooltipFeature(),s.destroyBean(Z),j(void 0),M(void 0),Se?.parentElement?.removeChild(Se)})}},[u]);const me=g.useCallback(te=>{if(x.current=te,!te){O.current.forEach(Y=>Y()),O.current=[];return}const J=Y=>{if(Y){const ue=Y.getGui();te.insertAdjacentElement("afterbegin",ue),O.current.push(()=>{s.destroyBean(Y),mn(ue)})}return Y};if(C){const Y=e.createSelectionCheckbox();J(Y)}D&&J(e.createDndSource()),v&&J(e.createRowDragComp())},[e,s,D,v,C]),ge=g.useCallback(()=>{const te=!e.isCellSpanning()||P.current,J=I.current;if(l.current=J?s.createBean(new Pr):s.destroyBean(l.current),!J||!te||!e)return;const Y={toggleCss:(Z,Se)=>q.current.toggleCss(Z,Se),setUserStyles:Z=>m(Z),getFocusableElement:()=>I.current,setIncludeSelection:Z=>w(Z),setIncludeRowDrag:Z=>y(Z),setIncludeDndSource:Z=>A(Z),getCellEditor:()=>F.current||null,getCellRenderer:()=>L.current??T.current,getParentOfValue:()=>H.current??x.current??I.current,setRenderDetails:(Z,Se,Pe)=>{const Ve=()=>{c(de=>de?.compDetails!==Z||de?.value!==Se||de?.force!==Pe?{value:Se,compDetails:Z,force:Pe}:de)};if(Z?.params?.deferRender&&!e.rowNode.group){const{loadingComp:de,onReady:oe}=e.getDeferLoadingCellRenderer();if(de){c({value:void 0,compDetails:de,force:!1}),oe.then(()=>B2(Ve));return}}Ve()},setEditDetails:(Z,Se,Pe,Ve)=>{if(Z){let de;Z.componentFromFramework&&(Ve?de=new vW(Z.params,()=>p(oe=>oe+1)):id()),d({compDetails:Z,popup:Se,popupPosition:Pe,compProxy:de}),Se||c(void 0)}else e.hasBrowserFocus()&&Y.getFocusableElement().focus({preventScroll:!0}),d(oe=>{oe?.compProxy&&(F.current=void 0)})},refreshEditStyles:(Z,Se)=>{if(!I.current)return;const{current:Pe}=q;Pe.toggleCss("ag-cell-value",!z),Pe.toggleCss("ag-cell-inline-editing",!!Z&&!Se),Pe.toggleCss("ag-cell-popup-editing",!!Z&&!!Se),Pe.toggleCss("ag-cell-not-inline-editing",!Z||!!Se)}},ue=x.current||void 0;e.setComp(Y,J,P.current??void 0,ue,t,o,l.current)},[]),Ce=g.useCallback(te=>{I.current=te,ge()},[]),re=g.useCallback(te=>{P.current=te,ge()},[]),we=g.useMemo(()=>!!(a?.compDetails?.componentFromFramework&&Er(a.compDetails.componentClass)),[a]);g.useLayoutEffect(()=>{if(!I.current)return;const{current:te}=q;te.toggleCss("ag-cell-value",!z),te.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),te.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),te.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup)});const pe=()=>{const{compDetails:te,value:J}=a;if(!te)return J?.toString?.()??J;if(te.componentFromFramework){const Y=te.componentClass;return se.createElement(g.Suspense,{fallback:se.createElement(PW,{cellCtrl:e,parent:I})},we?se.createElement(Y,{...te.params,key:h}):se.createElement(Y,{...te.params,key:h,ref:L}))}},be=()=>{const te=()=>a==null?null:z?se.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:B},pe()):pe(),J=Y=>RW(Y,j,I.current,e,R);return u!=null?u.popup?se.createElement(se.Fragment,null,te(),J(u)):J(u):te()},ne=()=>se.createElement("div",{ref:Ce,style:f,role:V,"col-id":r},z?se.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:me},be()):be());return e.isCellSpanning()?se.createElement("div",{ref:re,className:"ag-spanned-cell-wrapper",role:"presentation"},ne()):ne()},EW=g.memo(FW),DW=({rowCtrl:e,containerType:t})=>{const{context:o,gos:n,editSvc:s}=g.useContext(Gt),r=g.useContext(XC)==="default",i=g.useRef(),l=g.useRef(e.getDomOrder()),a=e.isFullWidth(),c=e.rowNode.displayed,[u,d]=g.useState(()=>c?e.rowNode.getRowIndexString():null),[h,p]=g.useState(()=>e.rowId),[f,m]=g.useState(()=>e.businessKey),[C,w]=g.useState(()=>e.rowStyles),v=g.useRef(null),[y,D]=g.useState(()=>null),[A,R]=g.useState(),[M,E]=g.useState(()=>c?e.getInitialRowTop(t):void 0),[V,I]=g.useState(()=>c?e.getInitialTransform(t):void 0),P=g.useRef(null),L=g.useRef(),T=g.useRef(!1),[F,x]=g.useState(0);g.useEffect(()=>{if(T.current||!A||F>10)return;const re=P.current?.firstChild;re?(e.setupDetailRowAutoHeight(re),T.current=!0):x(we=>we+1)},[A,F]);const O=g.useRef();O.current||(O.current=new xi(()=>P.current));const H=g.useRef(()=>{}),k=g.useCallback(re=>(H.current=re,()=>{H.current=()=>{}}),[]),G=N2(k,()=>v.current,[]),B=r?G:y,W=g.useCallback(re=>{if(P.current=re,i.current=re?o.createBean(new Pr):o.destroyBean(i.current),!re){e.unsetComp(t);return}if(!e.isAlive())return;const we={setTop:E,setTransform:I,toggleCss:(pe,be)=>O.current.toggleCss(pe,be),setDomOrder:pe=>l.current=pe,setRowIndex:d,setRowId:p,setRowBusinessKey:m,setUserStyles:w,setCellCtrls:(pe,be)=>{const ne=v.current,te=jl(ne,pe,l.current);te!==ne&&(v.current=te,r?H.current():Ci(be,()=>D(te)))},showFullWidth:pe=>R(pe),getFullWidthCellRenderer:()=>L.current,refreshFullWidth:pe=>me.current?(R(be=>({...be,params:pe()})),!0):!L.current||!L.current.refresh?!1:L.current.refresh(pe())};e.setComp(we,re,t,i.current)},[]);g.useLayoutEffect(()=>Di(A,o,P.current,L),[A]);const z=g.useMemo(()=>{const re={top:M,transform:V};return Object.assign(re,C),re},[M,V,C]),j=a&&A?.componentFromFramework,q=!a&&B!=null,X=g.useMemo(()=>!!(A?.componentFromFramework&&Er(A.componentClass)),[A]),me=g.useRef(!1);g.useEffect(()=>{me.current=X&&!!A&&!!n.get("reactiveCustomComponents")},[X,A]);const ge=()=>B?.map(re=>se.createElement(EW,{cellCtrl:re,editingCell:s?.isEditing(re,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:re.instanceId})),Ce=()=>{const re=A.componentClass;return X?se.createElement(re,{...A.params}):se.createElement(re,{...A.params,ref:L})};return se.createElement("div",{ref:W,role:"row",style:z,"row-index":u,"row-id":h,"row-business-key":f},q?ge():j?Ce():null)},yg=g.memo(DW),MW=({name:e})=>{const{context:t,gos:o}=g.useContext(Gt),n=g.useMemo(()=>Fi(e),[e]),s=g.useRef(null),r=g.useRef(null),i=g.useRef(null),l=g.useRef([]),a=g.useRef([]),[c,u]=g.useState(()=>[]),d=!!o.get("enableCellSpan")&&!!n.getSpannedRowCtrls,h=g.useRef([]),p=g.useRef([]),[f,m]=g.useState(()=>[]),C=g.useRef(!1),w=g.useRef(),v=g.useMemo(()=>ho("ag-viewport",Im(e)),[e]),y=g.useMemo(()=>ho(il(e)),[e]),D=g.useMemo(()=>ho("ag-spanning-container",GT(e)),[e]),A=n.type==="center"||d,R=A?s:r;Xn(" AG Row Container "+e+" ",R);const M=g.useCallback(()=>{const x=!A||s.current!=null,O=r.current!=null,H=!d||i.current!=null;return x&&O&&H},[]),E=g.useCallback(()=>s.current==null&&r.current==null&&i.current==null,[]),V=g.useCallback(()=>{if(E()&&(w.current=t.destroyBean(w.current)),M()){const x=k=>{const G=jl(a.current,l.current,C.current);G!==a.current&&(a.current=G,Ci(k,()=>u(G)))},O=k=>{const G=jl(p.current,h.current,C.current);G!==p.current&&(p.current=G,Ci(k,()=>m(G)))},H={setHorizontalScroll:k=>{s.current&&(s.current.scrollLeft=k)},setViewportHeight:k=>{s.current&&(s.current.style.height=k)},setRowCtrls:({rowCtrls:k,useFlushSync:G})=>{const B=!!G&&l.current.length>0&&k.length>0;l.current=k,x(B)},setSpannedRowCtrls:(k,G)=>{const B=!!G&&h.current.length>0&&k.length>0;h.current=k,O(B)},setDomOrder:k=>{C.current!=k&&(C.current=k,x(!1))},setContainerWidth:k=>{r.current&&(r.current.style.width=k)},setOffsetTop:k=>{r.current&&(r.current.style.transform=`translateY(${k})`)}};w.current=t.createBean(new jT(e)),w.current.setComp(H,r.current,i.current??void 0,s.current)}},[M,E]),I=g.useCallback(x=>{r.current=x,V()},[V]),P=g.useCallback(x=>{i.current=x,V()},[V]),L=g.useCallback(x=>{s.current=x,V()},[V]),T=()=>se.createElement("div",{className:y,ref:I,role:"rowgroup"},c.map(x=>se.createElement(yg,{rowCtrl:x,containerType:n.type,key:x.instanceId})));if(!A)return T();const F=()=>se.createElement("div",{className:D,ref:P,role:"rowgroup"},f.map(x=>se.createElement(yg,{rowCtrl:x,containerType:n.type,key:x.instanceId})));return se.createElement("div",{className:v,ref:L,role:"presentation"},T(),d?F():null)},IW=g.memo(MW),TW=()=>{const e=g.useContext(Gt),{context:t,overlays:o}=e,[n,s]=g.useState(""),[r,i]=g.useState(0),[l,a]=g.useState(0),[c,u]=g.useState("0px"),[d,h]=g.useState("0px"),[p,f]=g.useState("100%"),[m,C]=g.useState("0px"),[w,v]=g.useState("0px"),[y,D]=g.useState("100%"),[A,R]=g.useState(!0),[M,E]=g.useState(!0),[V,I]=g.useState(null),[P,L]=g.useState(""),[T,F]=g.useState(null),[x,O]=g.useState("ag-layout-normal"),H=g.useRef();H.current||(H.current=new xi(()=>k.current));const k=g.useRef(null),G=g.useRef(null),B=g.useRef(null),W=g.useRef(null),z=g.useRef(null),j=g.useRef(null),q=g.useRef(null),X=g.useRef([]),me=g.useRef([]);Xn(" AG Grid Body ",k),Xn(" AG Pinned Top ",G),Xn(" AG Sticky Top ",B),Xn(" AG Middle ",j),Xn(" AG Pinned Bottom ",q);const ge=g.useCallback(Ve=>{if(k.current=Ve,!Ve){X.current=t.destroyBeans(X.current),me.current.forEach(ke=>ke()),me.current=[];return}if(!t)return;const de=(ke,Ie)=>{ke.appendChild(Ie),me.current.push(()=>ke.removeChild(Ie))},oe=ke=>{const Ie=t.createBean(new ke);return X.current.push(Ie),Ie},ce=(ke,Ie,Ye)=>{de(ke,document.createComment(Ye)),de(ke,oe(Ie).getGui())};ce(Ve,XT," AG Fake Horizontal Scroll ");const ve=o?.getOverlayWrapperCompClass();ve&&ce(Ve,ve," AG Overlay Wrapper "),z.current&&ce(z.current,ek," AG Fake Vertical Scroll ");const Le={setRowAnimationCssOnBodyViewport:s,setColumnCount:ke=>{k.current&&tM(k.current,ke)},setRowCount:ke=>{k.current&&JD(k.current,ke)},setTopHeight:i,setBottomHeight:a,setStickyTopHeight:u,setStickyTopTop:h,setStickyTopWidth:f,setTopInvisible:R,setBottomInvisible:E,setColumnMovingCss:(ke,Ie)=>H.current.toggleCss(ke,Ie),updateLayoutClasses:O,setAlwaysVerticalScrollClass:I,setPinnedTopBottomOverflowY:L,setCellSelectableCss:(ke,Ie)=>F(Ie?ke:null),setBodyViewportWidth:ke=>{j.current&&(j.current.style.width=ke)},registerBodyViewportResizeListener:ke=>{if(j.current){const Ie=bn(e,j.current,ke);me.current.push(()=>Ie())}},setStickyBottomHeight:C,setStickyBottomBottom:v,setStickyBottomWidth:D,setGridRootRole:ke=>Ve.setAttribute("role",ke)},je=t.createBean(new QT);X.current.push(je),je.setComp(Le,Ve,j.current,G.current,q.current,B.current,W.current)},[]),Ce=g.useMemo(()=>ho("ag-root","ag-unselectable",x),[x]),re=g.useMemo(()=>ho("ag-body-viewport",n,x,V,T),[n,x,V,T]),we=g.useMemo(()=>ho("ag-body",x),[x]),pe=g.useMemo(()=>ho("ag-floating-top",A?"ag-invisible":null,T),[T,A]),be=g.useMemo(()=>ho("ag-sticky-top",T),[T]),ne=g.useMemo(()=>ho("ag-sticky-bottom",m==="0px"?"ag-invisible":null,T),[T,m]),te=g.useMemo(()=>ho("ag-floating-bottom",M?"ag-invisible":null,T),[T,M]),J=g.useMemo(()=>({height:r,minHeight:r,overflowY:P}),[r,P]),Y=g.useMemo(()=>({height:c,top:d,width:p}),[c,d,p]),ue=g.useMemo(()=>({height:m,bottom:w,width:y}),[m,w,y]),Z=g.useMemo(()=>({height:l,minHeight:l,overflowY:P}),[l,P]),Se=Ve=>se.createElement(IW,{name:Ve,key:`${Ve}-container`}),Pe=({section:Ve,children:de,className:oe,style:ce})=>se.createElement("div",{ref:Ve,className:oe,role:"presentation",style:ce},de.map(Se));return se.createElement("div",{ref:ge,className:Ce},se.createElement(CW,null),Pe({section:G,className:pe,style:J,children:["topLeft","topCenter","topRight","topFullWidth"]}),se.createElement("div",{className:we,ref:z,role:"presentation"},Pe({section:j,className:re,children:["left","center","right","fullWidth"]})),Pe({section:B,className:be,style:Y,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Pe({section:W,className:ne,style:ue,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Pe({section:q,className:te,style:Z,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},kW=g.memo(TW),AW=(e,t)=>{const{children:o,eFocusableElement:n,onTabKeyDown:s,gridCtrl:r,forceFocusOutWhenTabGuardsAreEmpty:i,isEmpty:l}=e,{context:a}=g.useContext(Gt),c=g.useRef(null),u=g.useRef(null),d=g.useRef(),h=w=>{const v=w==null?void 0:parseInt(w,10).toString();[c,u].forEach(y=>{v===void 0?y.current?.removeAttribute("tabindex"):y.current?.setAttribute("tabindex",v)})};g.useImperativeHandle(t,()=>({forceFocusOutOfContainer(w){d.current?.forceFocusOutOfContainer(w)}}));const p=g.useCallback(()=>{const w=c.current,v=u.current;if(!w&&!v){d.current=a.destroyBean(d.current);return}if(w&&v){const y={setTabIndex:h};d.current=a.createBean(new Wm({comp:y,eTopGuard:w,eBottomGuard:v,eFocusableElement:n,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:i,focusInnerElement:D=>r.focusInnerElement(D),isEmpty:l}))}},[]),f=g.useCallback(w=>{c.current=w,p()},[p]),m=g.useCallback(w=>{u.current=w,p()},[p]),C=w=>{const v=w==="top"?ir.TAB_GUARD_TOP:ir.TAB_GUARD_BOTTOM;return se.createElement("div",{className:`${ir.TAB_GUARD} ${v}`,role:"presentation",ref:w==="top"?f:m})};return se.createElement(se.Fragment,null,C("top"),o,C("bottom"))},LW=g.forwardRef(AW),OW=g.memo(LW),GW=({context:e})=>{const[t,o]=g.useState(""),[n,s]=g.useState(""),[r,i]=g.useState(null),[l,a]=g.useState(null),[c,u]=g.useState(!1),[d,h]=g.useState(),p=g.useRef(),f=g.useRef(null),m=g.useRef(),[C,w]=g.useState(null),v=g.useRef(()=>{}),y=g.useRef(),D=g.useRef([]),A=g.useCallback(()=>{},[]),R=g.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Xn(" AG Grid ",f);const M=g.useCallback(T=>{if(f.current=T,p.current=T?e.createBean(new nA):e.destroyBean(p.current),!T||e.isDestroyed())return;const F=p.current;v.current=F.focusInnerElement.bind(F);const x={destroyGridUi:()=>{},setRtlClass:o,forceFocusOutOfContainer:O=>{if(!O&&y.current?.isDisplayed()){y.current.forceFocusOutOfContainer(O);return}m.current?.forceFocusOutOfContainer(O)},updateLayoutClasses:s,getFocusableContainers:()=>{const O=[],H=f.current?.querySelector(".ag-root");return H&&O.push({getGui:()=>H}),D.current.forEach(k=>{k.isDisplayed()&&O.push(k)}),O},setCursor:i,setUserSelect:a};F.setComp(x,T,T),u(!0)},[]);g.useEffect(()=>{const T=p.current,F=f.current;if(!d||!R||!T||!C||!F||e.isDestroyed())return;const x=[],{watermarkSelector:O,paginationSelector:H,sideBarSelector:k,statusBarSelector:G,gridHeaderDropZonesSelector:B}=T.getOptionalSelectors(),W=[];if(B){const j=e.createBean(new B.component),q=j.getGui();F.insertAdjacentElement("afterbegin",q),W.push(q),x.push(j)}if(k){const j=e.createBean(new k.component),q=j.getGui(),X=C.querySelector(".ag-tab-guard-bottom");X&&(X.insertAdjacentElement("beforebegin",q),W.push(q)),x.push(j),D.current.push(j)}const z=j=>{const q=e.createBean(new j),X=q.getGui();return F.insertAdjacentElement("beforeend",X),W.push(X),x.push(q),q};if(G&&z(G.component),H){const j=z(H.component);y.current=j,D.current.push(j)}return O&&z(O.component),()=>{e.destroyBeans(x),W.forEach(j=>{j.parentElement?.removeChild(j)})}},[d,C,R]);const E=g.useMemo(()=>ho("ag-root-wrapper",t,n),[t,n]),V=g.useMemo(()=>ho("ag-root-wrapper-body","ag-focus-managed",n),[n]),I=g.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:r??""}),[l,r]),P=g.useCallback(T=>{m.current=T,h(T!==null)},[]),L=g.useCallback(()=>!p.current?.isFocusable(),[]);return se.createElement("div",{ref:M,className:E,style:I,role:"presentation"},se.createElement("div",{className:V,ref:w,role:"presentation"},c&&C&&R&&se.createElement(Gt.Provider,{value:R},se.createElement(OW,{ref:P,eFocusableElement:C,onTabKeyDown:A,gridCtrl:p.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:L},se.createElement(kW,null)))))},HW=g.memo(GW),VW=class extends K{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},rw={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},BW={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...rw},iw=new Set(Object.keys(BW)),NW=new Set(Object.keys(rw)),lw=e=>{const t=g.useRef(),o=g.useRef(null),n=g.useRef(null),s=g.useRef([]),r=g.useRef([]),i=g.useRef(e),l=g.useRef(),a=g.useRef(),c=g.useRef(!1),[u,d]=g.useState(void 0),[,h]=g.useState(0),p=g.useCallback(w=>{if(o.current=w,!w){s.current.forEach(P=>P()),s.current.length=0;return}const v=e.modules||[];n.current||(n.current=new rW(()=>h(P=>P+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),s.current.push(()=>{n.current?.destroy(),n.current=null}));const y=OM(e.gridOptions,e,Object.keys(e).filter(P=>!iw.has(P))),D=()=>{if(c.current){const P=()=>l.current?.shouldQueueUpdates()?void 0:r.current.shift();let L=P();for(;L;)L(),L=P()}},A=new $W(D);l.current=A;const R=new VW,M={providedBeanInstances:{frameworkCompWrapper:new WW(n.current,y),renderStatus:R},modules:v,frameworkOverrides:A,setThemeOnGridDiv:!0},E=P=>{d(P),P.createBean(R),s.current.push(()=>{P.destroy()}),P.getBean("ctrlsSvc").whenReady({addDestroyFunc:L=>{s.current.push(L)}},()=>{if(P.isDestroyed())return;const L=t.current;L&&e.passGridApi?.(L)})},V=P=>{P.getBean("ctrlsSvc").whenReady({addDestroyFunc:L=>{s.current.push(L)}},()=>{r.current.forEach(L=>L()),r.current.length=0,c.current=!0})},I=new cH;y.gridId??(y.gridId=a.current),t.current=I.create(w,y,E,V,M),s.current.push(()=>{t.current=void 0}),t.current&&(a.current=t.current.getGridId())},[]),f=g.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),m=g.useCallback(w=>{c.current&&!l.current?.shouldQueueUpdates()?w():r.current.push(w)},[]);g.useEffect(()=>{const w=zW(i.current,e);i.current=e,m(()=>{t.current&&GM(w,t.current)})},[e]);const C=!se.useSyncExternalStore||Ji(e,"renderingMode")==="legacy"?"legacy":"default";return se.createElement("div",{style:f,className:e.className,ref:p},se.createElement(XC.Provider,{value:C},u&&!u.isDestroyed()?se.createElement(HW,{context:u}):null,n.current?.getPortals()??null))};function zW(e,t){const o={};return Object.keys(t).forEach(n=>{if(iw.has(n)){NW.has(n)&&ee(274,{prop:n});return}const s=t[n];e[n]!==s&&(o[n]=s)}),o}var WW=class extends gH{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const o=this.gridOptions;if(Ji(o,"reactiveCustomComponents")){const i=(l=>{switch(l){case"filter":return Ji(o,"enableFilterHandlers")?q2:K2;case"floatingFilterComponent":return Ji(o,"enableFilterHandlers")?Z2:Q2;case"dateComponent":return U2;case"dragAndDropImageComponent":return j2;case"loadingOverlayComponent":return J2;case"noRowsOverlayComponent":return tW;case"statusPanel":return oW;case"toolPanel":return nW;case"menuItem":return eW;case"cellRenderer":return $2;case"innerHeaderComponent":return X2}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":id();break}const s=!t.cellRenderer&&t.name!=="toolPanel";return new ow(e,this.parent,t,s)}},_W=g.forwardRef((e,t)=>{const o=g.useContext(Gt),{registry:n,context:s,gos:r,rowModel:i}=o,[l,a]=g.useState(()=>new fo),[c,u]=g.useState(()=>new fo),[d,h]=g.useState(),[p,f]=g.useState(),m=g.useRef(),C=g.useRef(null),w=g.useRef(),v=g.useMemo(()=>o0(e.api.getGridId(),d?.rowModelType??"clientSide"),[e]),y=g.useMemo(()=>l.toString()+" ag-details-row",[l]),D=g.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&g.useImperativeHandle(t,()=>({refresh(){return m.current?.refresh()??!1}})),e.template&&ee(230);const A=g.useCallback(M=>{if(C.current=M,!M){m.current=s.destroyBean(m.current),w.current?.();return}const E={toggleCss:(I,P)=>a(L=>L.setClass(I,P)),toggleDetailGridCss:(I,P)=>u(L=>L.setClass(I,P)),setDetailGrid:I=>h(I),setRowData:I=>f(I),getGui:()=>C.current},V=n.createDynamicBean("detailCellRendererCtrl",!0);if(V&&(s.createBean(V),V.init(E,e),m.current=V,r.get("detailRowAutoHeight"))){const I=()=>{if(C.current==null)return;const P=C.current.clientHeight;P!=null&&P>0&&setTimeout(()=>{e.node.setRowHeight(P),(vt(r)||Ts(r))&&i.onRowHeightChanged()},0)};w.current=bn(o,M,I),I()}},[]),R=g.useCallback(M=>{m.current?.registerDetailWithMaster(M)},[]);return se.createElement("div",{className:y,ref:A},d&&se.createElement(lw,{className:D,...d,modules:v,rowData:p,passGridApi:R}))}),$W=class extends _m{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:wg,agGroupRowRenderer:wg,agDetailCellRenderer:_W},this.wrapIncoming=(t,o)=>o==="ensureVisible"?V2(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return H2()}},UW=class extends g.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return se.createElement(lw,{...this.props,passGridApi:this.setGridApi})}};r0.registerModules([G2]);const jW=()=>{const e=g.useRef(),[t,o]=g.useState([]),[n,s]=g.useState([]);g.useEffect(()=>{s([{field:"make",headerName:"ë©”ì´ì»¤",floatingFilter:!0,filter:!0},{field:"model",headerName:"ëª¨ë¸"},{field:"price",headerName:"ê°€ê²©",filter:!1,editable:!1},{field:"electric",headerName:"ì „ê¸°ì°¨ì—¬ë¶€"}])},[]);const r=async()=>{o([{make:"Tesla",model:"Model Y",price:64950,electric:!0},{make:"Ford",model:"F-Series",price:33850,electric:!1},{make:"Toyota",model:"Corolla",price:29600,electric:!1}])},i=g.useCallback(f=>{console.log("cellClicked",f)},[]),l={editable:!0,sortable:!0,filter:!0,resizable:!0,width:150,flex:1},a={type:"fitGridWidth",defaultMinWidth:150},c={toolPanels:["filters","columns"],defaultToolPanel:""},u={statusPanels:[{statusPanel:"agTotalAndFilteredRowCountComponent"}]},d=f=>{f.preventDefault();const m=[{number:1}];e.current.api.applyTransaction({add:m,addIndex:2})},h=f=>{f.preventDefault();const m=[];e.current.api.forEachNode((C,w)=>{if(console.log("rowNode",C.data,w),w===2){const v=C.data;v.make="Ford_update",m.push(v)}}),e.current.api.applyTransaction({update:m})},p=f=>{f.preventDefault();const m=e.current.api.getSelectedRows();console.log("selectedRows",m),e.current.api.applyTransaction({remove:m})};return b.jsxs("div",{children:[b.jsx(rn,{title:"AG Grid",titleTypographyProps:{variant:"h6"}}),b.jsx("div",{className:"ag-theme-alpine",style:{width:"100%",height:500},children:b.jsx(UW,{ref:e,rowData:t,columnDefs:n,defaultColDef:l,sideBar:c,statusBar:u,animateRows:!0,rowSelection:"multiple",rowHeight:45,autoSizeStrategy:a,onGridReady:r,onCellClicked:i})}),b.jsx(Ig,{onNew:d,onInsert:h,onDelete:p})]})};Ww();const tc=[["ìˆœë²ˆ","ì´ë¦„","ìƒë…„ì›”ì¼","ëª¨ìž„","ë§Œë‚¨ íšŸìˆ˜"],["1","James","1999-08-30","ì•Œê³ ë¦¬ì¦˜",2],["2","Emily","2000-12-24","í”„ë¡ íŠ¸ì—”ë“œ",5],["3","Amber","1988-06-14","ì•Œê³ ë¦¬ì¦˜",3],["4","Lisa","1994-07-03","ë¼ì§€íŒŒí‹°",13]],KW=()=>{const e=g.useRef(null),t=()=>{console.log("afterChangesObserved !!")},o=(s,r)=>{console.log("afterChange.change=",s,", source=",r),console.log("afterChange.change.length=",s?.length),s!==null&&(console.log("afterChange.change=",s[s.length-1],"cells",s[s.length-1][3]),console.log("afterChange.org=",tc),console.log("afterChange.org=",tc[s[s.length-1][0]][s[s.length-1][1]]))},n=()=>{console.log("save !!")};return b.jsxs(b.Fragment,{children:[b.jsx(rn,{title:"Handsontable"}),b.jsx(gd,{themeName:"ht-theme-main-dark-auto",data:[["","Tesla","Volvo","Toyota","Ford"],["2019",10,11,12,13],["2020",20,11,14,13],["2021",30,15,12,13]],rowHeaders:!0,colHeaders:!0,height:"auto",width:"auto",autoWrapRow:!0,autoWrapCol:!0,licenseKey:"non-commercial-and-evaluation"}),b.jsx("br",{}),b.jsx(gd,{ref:e,data:tc,themeName:"ht-theme-main-dark-auto",autoWrapRow:!0,height:"auto",width:"auto",contextMenu:!0,observeChanges:!0,afterChange:o,afterChangesObserved:t,licenseKey:"non-commercial-and-evaluation",columns:s=>({readOnly:s===0}),cells:(s,r)=>s===0||r===0?{readOnly:!0}:{}}),b.jsx(Ig,{onSave:n})]})},m_=()=>b.jsxs(bo,{container:!0,spacing:6,children:[b.jsx(bo,{item:!0,xs:12,children:b.jsx(KW,{})}),b.jsx(bo,{item:!0,xs:12,children:b.jsx(jW,{})}),b.jsxs(bo,{item:!0,xs:12,children:[b.jsx(Jn,{variant:"h5",children:b.jsx(Fw,{href:"https://mui.com/components/tables/",target:"_blank",children:"MUI Tables"})}),b.jsx(Jn,{variant:"body2",children:"Tables display sets of data. They can be fully customized"})]}),b.jsxs(bo,{item:!0,xs:12,children:[b.jsx(Ew,{color:"inherit",to:"https://mui.com/x/react-data-grid/recipes-editing/",target:"_blank",children:"https://mui.com/x/react-data-grid/recipes-editing/"}),b.jsxs(Yn,{children:[b.jsx(rn,{title:"Editing Table",titleTypographyProps:{variant:"h6"}}),b.jsx(BD,{})]})]}),b.jsx(bo,{item:!0,xs:12,children:b.jsxs(Yn,{children:[b.jsx(rn,{title:"Basic Table",titleTypographyProps:{variant:"h6"}}),b.jsx(fb,{})]})}),b.jsx(bo,{item:!0,xs:12,children:b.jsxs(Yn,{children:[b.jsx(rn,{title:"Dense Table",titleTypographyProps:{variant:"h6"}}),b.jsx(Cb,{})]})}),b.jsx(bo,{item:!0,xs:12,children:b.jsxs(Yn,{children:[b.jsx(rn,{title:"Sticky Header",titleTypographyProps:{variant:"h6"}}),b.jsx(Db,{})]})}),b.jsx(bo,{item:!0,xs:12,children:b.jsxs(Yn,{children:[b.jsx(rn,{title:"Collapsible Table",titleTypographyProps:{variant:"h6"}}),b.jsx(Eb,{})]})}),b.jsx(bo,{item:!0,xs:12,children:b.jsxs(Yn,{children:[b.jsx(rn,{title:"Spanning Table",titleTypographyProps:{variant:"h6"}}),b.jsx(Sb,{})]})}),b.jsx(bo,{item:!0,xs:12,children:b.jsxs(Yn,{children:[b.jsx(rn,{title:"Customized Table",titleTypographyProps:{variant:"h6"}}),b.jsx(xb,{})]})})]});export{m_ as default};
