import{y as k,p as m,i as b,z as x,A as B,E as y,G as f,j as t,v as p,D as j}from"./index-0sGTqdPp.js";import{H as g}from"./HtmlText-XZKzqMQN.js";import{G as c}from"./Grid-BCJWqmT2.js";const v=()=>{const l=k(),{user:e}=m(),r=b({queryKey:["bibleBookmarks",e?.uid],queryFn:()=>n(),enabled:!!e?.uid});async function n(){if(!e?.uid)return null;const s=x(B,`bible_mark/${e.uid}`),o=await y(s);if(o.exists()){const a=o.val();return a?Object.values(a).filter(d=>d.bookmark==="Y"):[]}else return[]}return{query:r,setBibleBookmark:s=>{if(e==null){console.error("사용자 정보가 없어 북마크를 설정할 수 없습니다.");return}console.log("setBibleBookmark.item=",s);let o="N";(s.bookmark===void 0||s.bookmark==="N")&&(o="Y");const a={...s,bookmark:o},u=`bible_mark/${e.uid}/${s.id}`;console.log("setBibleBookmark.locate=",u),f(u,o==="N"?null:a),console.log("setBibleBookmark.updatedItem=",o,a),l.invalidateQueries({queryKey:["bibleBookmarks",e.uid]})}}},_=()=>{const{query:l}=v(),e=l.data;return e?t.jsxs(t.Fragment,{children:[e.map((r,n)=>{const i=r.id.split("_"),s=`${i[0]}_${i[1]}_${i[2]}`;return t.jsxs(c,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:`id_${n+1}`,children:[t.jsx(c,{item:!0,xs:1,md:1,children:t.jsx(p,{to:`/bible/${s}`,state:{cd4:r.cd4},children:r.nm})}),t.jsxs(c,{item:!0,xs:4,sm:6,md:9,lg:11,children:[t.jsx(g,{show:!0,text:r.ko}),t.jsx("div",{className:"text-sm text-red-600 dark:text-gray-700",children:r.en})]})]},n)}),t.jsx(j,{})]}):null};export{_ as B,v as u};
