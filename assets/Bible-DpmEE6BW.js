const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BibleMain-Dchiz4Xx.js","assets/index-DDAs7UEO.js","assets/index-D7F8dZBq.css","assets/BibleBookmarkText-CHCpsPAY.js","assets/useQuery-ClZsZ3_p.js","assets/useBaseQuery-Bpdg9vMX.js"])))=>i.map(i=>d[i]);
import{a as ee,g as re,r as c,u as oe,l as ne,aH as te,aI as F,_ as L,b as h,j as e,s as S,c as C,e as I,d as ae,aJ as se,aK as ie,M as le,q as ce,aL as de,J as q,K as N,A as pe,Q as U,i as g,aM as G,aN as he,aO as ue,aP as xe,V as P,aQ as me,aR as ge,ai as fe,aS as je,aT as W,aU as v,aV as _,aW as be,aX as ye,aY as ve,aZ as we,a_ as R,a$ as ke,t as De,b0 as Me,b1 as Ce,b2 as Pe,v as Ie,ag as Te,aj as Be,b3 as Ae,ak as A,o as Re,Z as Se,al as Oe}from"./index-DDAs7UEO.js";import{T as ze,C as Ee,E as He,a as Le}from"./TreeView-CMsCNBQA.js";import{u as Ne}from"./useQuery-ClZsZ3_p.js";import{b as We}from"./bibleJson-DmvV-gyR.js";import{H as _e}from"./HeaderSearchInput-C6ihI8dX.js";import"./Collapse-iCFs2HfH.js";import"./useBaseQuery-Bpdg9vMX.js";function $e(r){return ee("MuiDrawer",r)}re("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Fe=["BackdropProps"],qe=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Y=(r,o)=>{const{ownerState:n}=r;return[o.root,(n.variant==="permanent"||n.variant==="persistent")&&o.docked,o.modal]},Ue=r=>{const{classes:o,anchor:n,variant:t}=r,s={root:["root"],docked:[(t==="permanent"||t==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${I(n)}`,t!=="temporary"&&`paperAnchorDocked${I(n)}`]};return ae(s,$e,o)},Ge=S(le,{name:"MuiDrawer",slot:"Root",overridesResolver:Y})(({theme:r})=>({zIndex:(r.vars||r).zIndex.drawer})),$=S("div",{shouldForwardProp:ie,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Y})({flex:"0 0 auto"}),Ye=S(se,{name:"MuiDrawer",slot:"Paper",overridesResolver:(r,o)=>{const{ownerState:n}=r;return[o.paper,o[`paperAnchor${I(n.anchor)}`],n.variant!=="temporary"&&o[`paperAnchorDocked${I(n.anchor)}`]]}})(({theme:r,ownerState:o})=>h({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(r.vars||r).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},o.anchor==="left"&&{left:0},o.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},o.anchor==="right"&&{right:0},o.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},o.anchor==="left"&&o.variant!=="temporary"&&{borderRight:`1px solid ${(r.vars||r).palette.divider}`},o.anchor==="top"&&o.variant!=="temporary"&&{borderBottom:`1px solid ${(r.vars||r).palette.divider}`},o.anchor==="right"&&o.variant!=="temporary"&&{borderLeft:`1px solid ${(r.vars||r).palette.divider}`},o.anchor==="bottom"&&o.variant!=="temporary"&&{borderTop:`1px solid ${(r.vars||r).palette.divider}`})),V={left:"right",right:"left",top:"down",bottom:"up"};function Ve(r){return["left","right"].indexOf(r)!==-1}function Je({direction:r},o){return r==="rtl"&&Ve(o)?V[o]:o}const Ke=c.forwardRef(function(o,n){const t=oe({props:o,name:"MuiDrawer"}),s=ne(),i=te(),a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:d,children:f,className:p,elevation:x=16,hideBackdrop:w=!1,ModalProps:{BackdropProps:j}={},onClose:O,open:b=!1,PaperProps:T={},SlideProps:B,TransitionComponent:m=F,transitionDuration:k=a,variant:D="temporary"}=t,Z=L(t.ModalProps,Fe),M=L(t,qe),z=c.useRef(!1);c.useEffect(()=>{z.current=!0},[]);const X=Je({direction:i?"rtl":"ltr"},l),y=h({},t,{anchor:l,elevation:x,open:b,variant:D},M),u=Ue(y),E=e.jsx(Ye,h({elevation:D==="temporary"?x:0,square:!0},T,{className:C(u.paper,T.className),ownerState:y,children:f}));if(D==="permanent")return e.jsx($,h({className:C(u.root,u.docked,p),ownerState:y,ref:n},M,{children:E}));const H=e.jsx(m,h({in:b,direction:V[X],timeout:k,appear:z.current},B,{children:E}));return D==="persistent"?e.jsx($,h({className:C(u.root,u.docked,p),ownerState:y,ref:n},M,{children:H})):e.jsx(Ge,h({BackdropProps:h({},d,j,{transitionDuration:k}),className:C(u.root,u.modal,p),open:b,ownerState:y,onClose:O,hideBackdrop:w,ref:n},M,Z,{children:H}))}),Qe=()=>{const{user:r,handleGoogleLogin:o,handleGoogleLogout:n}=ce();return r?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",margin:8},children:e.jsxs(de,{type:"button",onClick:n,children:[e.jsx("img",{height:"30px",src:r.photoURL}),e.jsxs(q,{noWrap:!0,component:"div",children:["  ",r.displayName]})]})}),e.jsx(N,{sx:{m:0}})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",margin:8},children:e.jsx(pe,{type:"button",size:"small",variant:"outlined",color:"success",onClick:o,children:"로그인"})}),e.jsx(N,{})]})};function Ze(r){const{settings:o}=U(),[n,t]=c.useState([]),s=(a,l)=>{r.onDetail(a,l)},i=(a,l)=>{t(l)};return e.jsx(g,{sx:{minHeight:180,flexGrow:1,display:"flex",flexDirection:"column",height:r.maxHeight,overflow:"hidden"},children:e.jsx(ze,{"aria-label":"icon expansion",defaultCollapseIcon:e.jsx(He,{}),defaultExpandIcon:e.jsx(Ee,{}),selected:o.bibleId,expanded:n,onNodeToggle:i,sx:{flexGrow:1,overflowY:"auto"},children:r.data&&r.data.map((a,l)=>e.jsx(J,{onDetail:s,item:a,parentIndex:l+1},a.key))})})}const J=r=>{const{key:o,nm:n}=r.item,t=new Array;return Object.values(r.item).map(s=>{s.key===void 0||s.nm===void 0||t.push(s)}),e.jsx(Le,{onClick:()=>r.onDetail(o,r.item),nodeId:o+"",label:n,children:t.map((s,i)=>s.key===void 0||s.nm===void 0?e.jsx("div",{},i):e.jsx(J,{onDetail:r.onDetail,item:s},s.key))},o)},Xe=()=>{const r=Ne({queryKey:["treeBibleData"],queryFn:()=>o()});async function o(){const n=new Array,t=We;for(let i in t){const a=t[i];a.key=i+"",n.push(a)}const s={key:"3",nm:"찬송가"};return n.push(s),n.push({key:"prayer",nm:"주기도문"}),n.push({key:"apostles",nm:"사도신경"}),n.push({key:"search",nm:"검색"}),n}return r};function K(r){const{children:o,window:n}=r,t=we({target:n?n():void 0});return e.jsx(F,{appear:!1,direction:"down",in:!t,children:o})}K.propTypes={children:R.element.isRequired,window:R.func};const Q=r=>{const{settings:o,saveSettings:n}=U(),{showTopMemu:t}=G(),s=()=>{r.onShowTree()},[i,a]=c.useState(null),[l,d]=c.useState(null),f=!!i,p=!!l,x=m=>{a(m.currentTarget)},w=()=>{d(null)},j=()=>{a(null),w()},b=e.jsxs(W,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:j,children:[e.jsx(v,{onClick:j,children:"Profile"}),e.jsx(v,{onClick:j,children:"My account"})]}),B=e.jsxs(W,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:w,children:[e.jsxs(v,{children:[e.jsx(P,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:e.jsx(_,{badgeContent:4,color:"error",children:e.jsx(be,{})})}),e.jsx("p",{children:"Messages"})]}),e.jsxs(v,{children:[e.jsx(P,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:e.jsx(_,{badgeContent:17,color:"error",children:e.jsx(ye,{})})}),e.jsx("p",{children:"Notifications"})]}),e.jsxs(v,{onClick:x,children:[e.jsx(P,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:e.jsx(ve,{})}),e.jsx("p",{children:"Profile"})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(he,{}),e.jsx(K,{...r,children:e.jsx(ue,{open:r.open,width:r.width,children:e.jsxs(xe,{children:[e.jsx(P,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:s,children:e.jsx(me,{})}),e.jsx(_e,{}),e.jsx(q,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"},ml:"5px",pl:"10px"},children:r.title}),e.jsxs(g,{sx:{display:"flex",position:"fixed",alignItems:"center",right:2},children:[t&&ge.map((m,k)=>e.jsx(fe,{sx:{minWidth:"20px",mr:2},to:m.url,children:m.title},k)),e.jsx(je,{settings:o,saveSettings:n})]})]})})}),B,b]})};Q.propTypes={window:R.func};const er=()=>{const r=new ke;let o=r.get("open");o||(o="Y");const[n,t]=c.useState(o==="Y");return[n,i=>{t(i),r.set("open",i?"Y":"N",{path:"/"})}]},rr=r=>{const{title:o,children:n,drawerWidth:t,sideContents:s}=r,[i,a]=er(),{sideStyle:l,width:d}=G(),f=c.useRef(),p=()=>{a(!i)};return c.useEffect(()=>{const x=document.querySelector("title");x.innerHTML=`${De.templateName} :: ${o}`},[o]),e.jsxs(g,{sx:{display:"flex"},children:[e.jsx(Q,{onShowTree:p,title:o,width:l==="persistent"?t:0,open:i}),e.jsx(Ke,{sx:{width:t,"& .MuiDrawer-paper":{width:t,boxSizing:"border-box"}},variant:l,anchor:"left",open:i,onClose:p,ModalProps:{keepMounted:!0},children:s}),e.jsxs(Me,{ref:f,open:i,marginleft:l==="persistent"?t:0,maxwidth:i&&l==="persistent"?d-t-16:d,children:[e.jsx(Ce,{}),e.jsxs(g,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[n,e.jsx(Pe,{}),l==="temporary"?e.jsx("br",{}):""]})]})]})},or=200,nr=c.lazy(async()=>await Oe(()=>import("./BibleMain-Dchiz4Xx.js"),__vite__mapDeps([0,1,2,3,4,5]))),hr=()=>{const r=Ie(),{data:o}=Xe(),n=a=>{r(a==="1"?"/bible/old":a==="2"?"/bible/new":a==="3"?"/bible/song":a==="prayer"?"/bible/prayer":a==="apostles"?"/bible/apostles":a==="search"?"/bible/search":`/bible/${a}`)},{height:t}=Te(),s=e.jsxs(g,{sx:{minHeight:110,flexGrow:1,minWidth:100,maxHeight:t-200},children:[e.jsx(Qe,{}),e.jsx(g,{sx:{minHeight:110,flexGrow:1,minWidth:100,maxHeight:t-220,height:t-220},children:e.jsx(Ze,{data:o,onDetail:n,maxHeight:t-70})})]}),i=[...Ae];return e.jsxs(rr,{title:"바이블",drawerWidth:or,sideContents:s,children:[e.jsx(c.Suspense,{fallback:e.jsx(Re,{}),children:e.jsxs(Be,{children:[i.map((a,l)=>{if(a.path==="/old"||a.path==="/new"||a.path==="/search"||a.path==="/prayer"){const d=c.cloneElement(a.element,{data:o,onDetail:n});return e.jsx(A,{path:a.path,element:d},l)}else return e.jsx(A,{path:a.path,element:a.element},l)}),e.jsx(A,{path:"*",element:e.jsx(nr,{data:o,onDetail:n})})]})}),e.jsx(Se,{})]})};export{hr as default};
