import{r as x,a2 as de,a6 as fe,j as e,Z as C,b7 as y,bT as M,aJ as b,cf as he,u as pe,l as $,b0 as me,c as xe,cg as ge,v as ve,w as H,k as je,d as ye,ch as Me,ci as be}from"./index-B5nT--g1.js";import{r as E}from"./createSvgIcon-DZPPBzfa.js";import{I as j}from"./IconButton-BdLUpEDQ.js";import{S as Ee}from"./MainLayout-Cr-IbFbV.js";import{g as Ce,b as F}from"./Menu-DkYVsrMC.js";import{M as O}from"./MenuItem-TvFuN44U.js";import{T as we,B as Y}from"./Toolbar-BOpwUoZA.js";import{u as Re}from"./useTheme-D1XSnGu8.js";import{T as Se,g as X,r as _e}from"./utils-DxSd3qJb.js";import{d as ke,a as ee}from"./ownerWindow-DvT1GKkC.js";const Ie=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Te(n,t,a){const i=t.getBoundingClientRect(),o=a&&a.getBoundingClientRect(),h=ee(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const s=h.getComputedStyle(t);c=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}let p=0,u=0;if(c&&c!=="none"&&typeof c=="string"){const s=c.split("(")[1].split(")")[0].split(",");p=parseInt(s[4],10),u=parseInt(s[5],10)}return n==="left"?o?`translateX(${o.right+p-i.left}px)`:`translateX(${h.innerWidth+p-i.left}px)`:n==="right"?o?`translateX(-${i.right-o.left-p}px)`:`translateX(-${i.left+i.width-p}px)`:n==="up"?o?`translateY(${o.bottom+u-i.top}px)`:`translateY(${h.innerHeight+u-i.top}px)`:o?`translateY(-${i.top-o.top+i.height-u}px)`:`translateY(-${i.top+i.height-u}px)`}function Oe(n){return typeof n=="function"?n():n}function z(n,t,a){const i=Oe(a),o=Te(n,t,i);o&&(t.style.webkitTransform=o,t.style.transform=o)}const ze=x.forwardRef(function(t,a){const i=Re(),o={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},h={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:c,appear:p=!0,children:u,container:s,direction:d="down",easing:q=o,in:g,onEnter:D,onEntered:P,onEntering:W,onExit:T,onExited:m,onExiting:B,style:A,timeout:L=h,TransitionComponent:te=Se}=t,ne=de(t,Ie),f=x.useRef(null),re=fe(Ce(u),f,a),v=r=>l=>{r&&(l===void 0?r(f.current):r(f.current,l))},ie=v((r,l)=>{z(d,r,s),_e(r),D&&D(r,l)}),ae=v((r,l)=>{const V=X({timeout:L,style:A,easing:q},{mode:"enter"});r.style.webkitTransition=i.transitions.create("-webkit-transform",C({},V)),r.style.transition=i.transitions.create("transform",C({},V)),r.style.webkitTransform="none",r.style.transform="none",W&&W(r,l)}),oe=v(P),se=v(B),le=v(r=>{const l=X({timeout:L,style:A,easing:q},{mode:"exit"});r.style.webkitTransition=i.transitions.create("-webkit-transform",l),r.style.transition=i.transitions.create("transform",l),z(d,r,s),T&&T(r)}),ce=v(r=>{r.style.webkitTransition="",r.style.transition="",m&&m(r)}),ue=r=>{c&&c(f.current,r)},N=x.useCallback(()=>{f.current&&z(d,f.current,s)},[d,s]);return x.useEffect(()=>{if(g||d==="down"||d==="right")return;const r=ke(()=>{f.current&&z(d,f.current,s)}),l=ee(f.current);return l.addEventListener("resize",r),()=>{r.clear(),l.removeEventListener("resize",r)}},[d,g,s]),x.useEffect(()=>{g||N()},[g,N]),e.jsx(te,C({nodeRef:f,onEnter:ie,onEntered:oe,onEntering:ae,onExit:le,onExited:ce,onExiting:se,addEndListener:ue,appear:p,in:g,timeout:L},ne,{children:(r,l)=>x.cloneElement(u,C({ref:re,style:C({visibility:r==="exited"&&!g?"hidden":void 0},A,u.props.style)},l))}))});var w={},J;function qe(){if(J)return w;J=1;var n=y();Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var t=n(E()),a=M();return w.default=(0,t.default)((0,a.jsx)("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkModeOutlined"),w}var De=qe();const Pe=b(De);var R={},U;function We(){if(U)return R;U=1;var n=y();Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var t=n(E()),a=M();return R.default=(0,t.default)((0,a.jsx)("path",{d:"m6.76 4.84-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495 1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115 1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6m0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4m-1 4h2v2.95h-2zm-7.45-.96 1.41 1.41 1.79-1.8-1.41-1.41z"}),"WbSunnyOutlined"),R}var Be=We();const Ae=b(Be),Le=()=>{const{theme:n,toggleTheme:t,settings:a,saveSettings:i}=he(),o=pe(),h=()=>{o("/tw/search",{state:{s:""}})},c=n==="dark"?e.jsx(Pe,{}):e.jsx(Ae,{});return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0px"},children:[e.jsx(j,{onClick:()=>h(),sx:{borderRadius:"50%",width:44,height:44,minWidth:40,padding:1},children:e.jsx($.div,{initial:{opacity:0,rotate:0,scale:.5},animate:{opacity:1,rotate:0,scale:1},transition:{duration:.5,ease:[0,.91,.2,1.31],scale:{type:"spring",damping:2,stiffness:100,restDelta:.001}},whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(me,{className:"size-8 fill-gray-500 dark:fill-gray-400"})})}),e.jsx(j,{color:"inherit","aria-haspopup":"true",onClick:t,sx:{borderRadius:"50%",width:40,height:40,minWidth:40,padding:0,display:"none"},children:e.jsx($.div,{initial:{opacity:0,rotate:0,scale:.5},animate:{opacity:1,rotate:180,scale:1},transition:{duration:.5,ease:[0,.91,.8,1.11],scale:{type:"spring",damping:2,stiffness:100,restDelta:.001}},whileHover:{scale:1.05},whileTap:{scale:.9},style:{display:"flex",alignItems:"center",alignContent:"center",justifyContent:"center"},children:c})})]})};var S={},Z;function Ne(){if(Z)return S;Z=1;var n=y();Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var t=n(E()),a=M();return S.default=(0,t.default)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail"),S}var Ve=Ne();const $e=b(Ve);var _={},G;function He(){if(G)return _;G=1;var n=y();Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var t=n(E()),a=M();return _.default=(0,t.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),_}var Fe=He();const Ye=b(Fe);var k={},K;function Xe(){if(K)return k;K=1;var n=y();Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var t=n(E()),a=M();return k.default=(0,t.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),k}var Je=Xe();const Ue=b(Je);var I={},Q;function Ze(){if(Q)return I;Q=1;var n=y();Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var t=n(E()),a=M();return I.default=(0,t.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),I}var Ge=Ze();const Ke=b(Ge);function Qe(n){const{children:t,enable:a}=n,i=be({target:window});return e.jsx(ze,{appear:!1,direction:"down",in:!i&&a,children:t})}function ut(n){const{user:t}=xe(),[a,i]=x.useState(null),[o,h]=x.useState(null),c=!!a,p=!!o,u=m=>{i(m.currentTarget)},s=()=>{h(null)},d=()=>{i(null),s()},g=e.jsx(F,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:d,children:ge.map((m,B)=>[t&&t.uid===ve||m.base?[e.jsx(O,{onClick:d,children:e.jsx(H,{color:"inherit",variant:"body",to:m.url,sx:{pl:3,pr:3,flexShrink:0},children:m.title})},m.title+B)]:""])}),P=e.jsxs(F,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:s,children:[e.jsxs(O,{children:[e.jsx(j,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:e.jsx(Y,{badgeContent:4,color:"error",children:e.jsx($e,{})})}),e.jsx("p",{children:"Messages"})]}),e.jsxs(O,{children:[e.jsx(j,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:e.jsx(Y,{badgeContent:17,color:"error",children:e.jsx(Ke,{})})}),e.jsx("p",{children:"Notifications"})]}),e.jsxs(O,{onClick:u,children:[e.jsx(j,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:e.jsx(Ue,{})}),e.jsx("p",{children:"Profile"})]})]}),T=je().pathname!=="/"?e.jsx(H,{to:"/",children:n.title}):n.title;return e.jsx(e.Fragment,{children:e.jsx(x.Fragment,{children:e.jsxs(e.Fragment,{children:[e.jsx(Qe,{...n,children:e.jsx(Ee,{children:e.jsxs(we,{sx:{display:"flex",borderBottom:1,borderColor:"divider"},children:[e.jsx(j,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:u,children:e.jsx(Ye,{})}),e.jsx(ye,{component:"div",variant:"h5",sx:{position:"absolute",left:"50%",transform:"translate(-50%, 0%)"},children:T}),e.jsxs("div",{style:{display:"flex",flexDirection:"row",position:"fixed",left:"100%",right:"50",transform:"translate(-100%, 0%)"},children:[e.jsx(Me,{nameYN:!1}),e.jsx(Le,{})]})]})})}),P,g]})})})}export{ut as B};
