import{j as s,cE as c,cx as o,cF as d,H as x,a0 as u,cG as m,m as l,o as g,a as h,r as j,L as t,az as y}from"./index-0G1Hsxji.js";const f=({query:n,s:e,index:i})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:n.data.map((a,r)=>(a.key=r,s.jsx(S,{post:a,s:e,index:r},a.key)))});function S({post:n,s:e}){const i=n.g==="h"?null:s.jsx("span",{className:"menu-item-icon-size menu-item-icon-active",children:s.jsx(c,{})});return s.jsx(o,{to:`/tail/detail/${n.url?n.url:n.id}?s=${e}&g=${n.g?n.g:"m"}`,state:{s:e},className:"no-underline",children:s.jsx(d,{title:n.title,icon:i,children:s.jsx("div",{className:"max-h-[140px] overflow-hidden mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:s.jsx(x,{show:!0,text:n.memo})})})},n.key)}const T=({uid:n,state:e})=>{console.log("TailSearch.state:",e);const i=u({queryKey:["blogMainSearch",e&&e?.s?e.s:""],queryFn:()=>m(e?.s,n===l?l:"")});return s.jsx(f,{query:i,index:"1",s:e&&e?.s?e.s:"",sx:{mt:2}})};function k(){const e=g().state,{user:i}=h();return console.log("TailSearch.state:",e),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",justifyContent:"center"},children:[s.jsx(j.Suspense,{fallback:s.jsx(t,{}),children:i===null?s.jsx(t,{}):s.jsx(T,{index:"1",uid:i?.uid,state:e})}),s.jsx(y,{})]})}export{k as default};
