const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MemoMain-B73YF0VQ.js","assets/index-CzXCIlHy.js","assets/index-DT-2tnZZ.css","assets/TailButton-B_dISJpn.js"])))=>i.map(i=>d[i]);
import{f as xe,c as Ui,r as No,p as qo,v as jo,i as Lo,d as Po,a as Ro,b as $i,n as Do,s as Io,u as zi,e as Ki,g as ee,w as Co,m as Se,M as Gi,h as $n,k as Mo,l as Wi,o as Vi,q as Yi,t as Cn,j as $,B as he,x as Bo,T as Ee,y as Zi,z as Ue,A as Fo,C as zn,D as $e,E as Ho,F as Uo,G as $o,H as ze,I as Ke,J as Oe,K as zo,L as Ko,N as Go,O as ge,P as Xi,Q as Qi,R as ce,S as Ji,U as Wo,V as eo,W as Vo,X as Ce,Y as to,Z as Mn,_ as no,$ as Le,a0 as Kn,a1 as He,a2 as Yo,a3 as Zo,a4 as Xo,a5 as ro,a6 as io,a7 as Qo,a8 as Pe,a9 as Jo,aa as ea,ab as ta,ac as na,ad as Qe,ae as Je,af as oo,ag as ra,ah as ia,ai as oa,aj as aa,ak as Re,al as la,am as ua,an as sa,ao as De,ap as fa,aq as ca,ar as da,as as ha,at as va}from"./index-CzXCIlHy.js";import{T as pa,C as ya,E as ga,a as ma,t as Ie}from"./TreeView-CqI8UXHC.js";import{T as Gn}from"./TailButton-B_dISJpn.js";import{I as ba,T as _a}from"./TextField-Wfr94SDx.js";import{T as Oa}from"./TailLayout-D1gdMUsy.js";import{F as xa}from"./Favorite-DApZVigh.js";import{D as ao,S as Ea,a as wa}from"./SinySelect-DsRY-IPD.js";import{u as Aa,a as Ta}from"./index.esm-8zpwlOwE.js";import{D as ka}from"./datetime-BDx6lZXm.js";import{C as Sa}from"./Checkbox-B_SJI6UX.js";import{T as Na}from"./TextArea-oQDMrKjX.js";function lo(p,x){let v;const n=()=>{const{currentTime:o}=x,y=(o===null?0:o.value)/100;v!==y&&p(y),v=y};return xe.update(n,!0),()=>Ui(n)}const Me=new WeakMap;let _e;function qa(p,x){if(x){const{inlineSize:v,blockSize:n}=x[0];return{width:v,height:n}}else return p instanceof SVGElement&&"getBBox"in p?p.getBBox():{width:p.offsetWidth,height:p.offsetHeight}}function ja({target:p,contentRect:x,borderBoxSize:v}){var n;(n=Me.get(p))===null||n===void 0||n.forEach(o=>{o({target:p,contentSize:x,get size(){return qa(p,v)}})})}function La(p){p.forEach(ja)}function Pa(){typeof ResizeObserver>"u"||(_e=new ResizeObserver(La))}function Ra(p,x){_e||Pa();const v=No(p);return v.forEach(n=>{let o=Me.get(n);o||(o=new Set,Me.set(n,o)),o.add(x),_e?.observe(n)}),()=>{v.forEach(n=>{const o=Me.get(n);o?.delete(x),o?.size||_e?.unobserve(n)})}}const Be=new Set;let je;function Da(){je=()=>{const p={width:window.innerWidth,height:window.innerHeight},x={target:window,size:p,contentSize:p};Be.forEach(v=>v(x))},window.addEventListener("resize",je)}function Ia(p){return Be.add(p),je||Da(),()=>{Be.delete(p),!Be.size&&je&&(je=void 0)}}function Ca(p,x){return typeof p=="function"?Ia(p):Ra(p,x)}const Ma=50,Wn=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Ba=()=>({time:0,x:Wn(),y:Wn()}),Fa={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Vn(p,x,v,n){const o=v[x],{length:_,position:y}=Fa[x],b=o.current,g=v.time;o.current=p[`scroll${y}`],o.scrollLength=p[`scroll${_}`]-p[`client${_}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=qo(0,o.scrollLength,o.current);const m=n-g;o.velocity=m>Ma?0:jo(o.current-b,m)}function Ha(p,x,v){Vn(p,"x",x,v),Vn(p,"y",x,v),x.time=v}function Ua(p,x){const v={x:0,y:0};let n=p;for(;n&&n!==x;)if(n instanceof HTMLElement)v.x+=n.offsetLeft,v.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const o=n.getBoundingClientRect();n=n.parentElement;const _=n.getBoundingClientRect();v.x+=o.left-_.left,v.y+=o.top-_.top}else if(n instanceof SVGGraphicsElement){const{x:o,y:_}=n.getBBox();v.x+=o,v.y+=_;let y=null,b=n.parentNode;for(;!y;)b.tagName==="svg"&&(y=b),b=n.parentNode;n=y}else break;return v}const In={start:0,center:.5,end:1};function Yn(p,x,v=0){let n=0;if(p in In&&(p=In[p]),typeof p=="string"){const o=parseFloat(p);p.endsWith("px")?n=o:p.endsWith("%")?p=o/100:p.endsWith("vw")?n=o/100*document.documentElement.clientWidth:p.endsWith("vh")?n=o/100*document.documentElement.clientHeight:p=o}return typeof p=="number"&&(n=x*p),v+n}const $a=[0,0];function za(p,x,v,n){let o=Array.isArray(p)?p:$a,_=0,y=0;return typeof p=="number"?o=[p,p]:typeof p=="string"&&(p=p.trim(),p.includes(" ")?o=p.split(" "):o=[p,In[p]?p:"0"]),_=Yn(o[0],v,n),y=Yn(o[1],x),_-y}const Ka={All:[[0,0],[1,1]]},Ga={x:0,y:0};function Wa(p){return"getBBox"in p&&p.tagName!=="svg"?p.getBBox():{width:p.clientWidth,height:p.clientHeight}}function Va(p,x,v){const{offset:n=Ka.All}=v,{target:o=p,axis:_="y"}=v,y=_==="y"?"height":"width",b=o!==p?Ua(o,p):Ga,g=o===p?{width:p.scrollWidth,height:p.scrollHeight}:Wa(o),m={width:p.clientWidth,height:p.clientHeight};x[_].offset.length=0;let c=!x[_].interpolate;const i=n.length;for(let e=0;e<i;e++){const t=za(n[e],m[y],g[y],b[_]);!c&&t!==x[_].interpolatorOffsets[e]&&(c=!0),x[_].offset[e]=t}c&&(x[_].interpolate=Lo(x[_].offset,Po(n),{clamp:!1}),x[_].interpolatorOffsets=[...x[_].offset]),x[_].progress=Ro(0,1,x[_].interpolate(x[_].current))}function Ya(p,x=p,v){if(v.x.targetOffset=0,v.y.targetOffset=0,x!==p){let n=x;for(;n&&n!==p;)v.x.targetOffset+=n.offsetLeft,v.y.targetOffset+=n.offsetTop,n=n.offsetParent}v.x.targetLength=x===p?x.scrollWidth:x.clientWidth,v.y.targetLength=x===p?x.scrollHeight:x.clientHeight,v.x.containerLength=p.clientWidth,v.y.containerLength=p.clientHeight}function Za(p,x,v,n={}){return{measure:()=>Ya(p,n.target,v),update:o=>{Ha(p,v,o),(n.offset||n.target)&&Va(p,v,n)},notify:()=>x(v)}}const Ae=new WeakMap,Zn=new WeakMap,et=new WeakMap,Xn=p=>p===document.documentElement?window:p;function Bn(p,{container:x=document.documentElement,...v}={}){let n=et.get(x);n||(n=new Set,et.set(x,n));const o=Ba(),_=Za(x,p,o,v);if(n.add(_),!Ae.has(x)){const b=()=>{for(const e of n)e.measure()},g=()=>{for(const e of n)e.update($i.timestamp)},m=()=>{for(const e of n)e.notify()},c=()=>{xe.read(b,!1,!0),xe.read(g,!1,!0),xe.update(m,!1,!0)};Ae.set(x,c);const i=Xn(x);window.addEventListener("resize",c,{passive:!0}),x!==document.documentElement&&Zn.set(x,Ca(x,c)),i.addEventListener("scroll",c,{passive:!0})}const y=Ae.get(x);return xe.read(y,!1,!0),()=>{var b;Ui(y);const g=et.get(x);if(!g||(g.delete(_),g.size))return;const m=Ae.get(x);Ae.delete(x),m&&(Xn(x).removeEventListener("scroll",m),(b=Zn.get(x))===null||b===void 0||b(),window.removeEventListener("resize",m))}}function Xa({source:p,container:x,axis:v="y"}){p&&(x=p);const n={value:0},o=Bn(_=>{n.value=_[v].progress*100},{container:x,axis:v});return{currentTime:n,cancel:o}}const tt=new Map;function uo({source:p,container:x=document.documentElement,axis:v="y"}={}){p&&(x=p),tt.has(x)||tt.set(x,{});const n=tt.get(x);return n[v]||(n[v]=Io()?new ScrollTimeline({source:x,axis:v}):Xa({source:x,axis:v})),n[v]}function Qa(p){return p.length===2}function so(p){return p&&(p.target||p.offset)}function Ja(p,x){return Qa(p)||so(x)?Bn(v=>{p(v[x.axis].progress,v)},x):lo(p,uo(x))}function el(p,x){if(p.flatten(),so(x))return p.pause(),Bn(v=>{p.time=p.duration*v[x.axis].progress},x);{const v=uo(x);return p.attachTimeline?p.attachTimeline(v,n=>(n.pause(),lo(o=>{n.time=n.duration*o},v))):Do}}function tl(p,{axis:x="y",...v}={}){const n={axis:x,...v};return typeof p=="function"?Ja(p,n):el(p,n)}function Qn(p,x){Co(!!(!x||x.current))}const nl=()=>({scrollX:Se(0),scrollY:Se(0),scrollXProgress:Se(0),scrollYProgress:Se(0)});function fo({container:p,target:x,layoutEffect:v=!0,...n}={}){const o=zi(nl);return(v?Ki:ee.useEffect)(()=>(Qn("target",x),Qn("container",p),tl((y,{x:b,y:g})=>{o.scrollX.set(b.current),o.scrollXProgress.set(b.progress),o.scrollY.set(g.current),o.scrollYProgress.set(g.progress)},{...n,container:p?.current||void 0,target:x?.current||void 0})),[p,x,JSON.stringify(n.offset)]),o}function rl(p){const x=zi(()=>Se(p)),{isStatic:v}=ee.useContext(Gi);if(v){const[,n]=ee.useState(p);ee.useEffect(()=>x.on("change",n),[])}return x}function Jn(p){return typeof p=="number"?p:parseFloat(p)}function co(p,x={}){const{isStatic:v}=ee.useContext(Gi),n=ee.useRef(null),o=rl($n(p)?Jn(p.get()):p),_=ee.useRef(o.get()),y=ee.useRef(()=>{}),b=()=>{const m=n.current;m&&m.time===0&&m.sample($i.delta),g(),n.current=Mo({keyframes:[o.get(),_.current],velocity:o.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...x,onUpdate:y.current})},g=()=>{n.current&&n.current.stop()};return ee.useInsertionEffect(()=>o.attach((m,c)=>v?c(m):(_.current=m,y.current=c,xe.update(b),o.get()),g),[JSON.stringify(x)]),Ki(()=>{if($n(p))return p.on("change",m=>o.set(Jn(m)))},[o]),o}var Te={},er;function il(){if(er)return Te;er=1;var p=Wi();Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var x=p(Vi()),v=Yi();return Te.default=(0,x.default)((0,v.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),Te}var ol=il();const al=Cn(ol),ll=Bo(ma)(({theme:p})=>({color:p.palette.text.secondary,[`& .${Ie.content}`]:{color:p.palette.text.secondary,borderTopRightRadius:p.spacing(2),borderBottomRightRadius:p.spacing(2),paddingRight:p.spacing(1),fontWeight:p.typography.fontWeightMedium,"&.MuiTreeItem-content":{paddingLeft:"3px",paddingRight:"3px"},".MuiTreeItem-label":{paddingLeft:"0px"},".MuiTreeItem-iconContainer":{marginRight:"0px"},"&.Mui-expanded":{fontWeight:p.typography.fontWeightRegular},"&:hover":{backgroundColor:p.palette.action.hover},"&.Mui-selected":{backgroundColor:"rgba(145, 85, 253, 0.16)",color:"var(--tree-view-color)"},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:"rgba(145, 85, 253, 0.16)",color:"var(--tree-view-color)"},[`& .${Ie.label}`]:{fontWeight:"inherit",color:"inherit"}},[`& .${Ie.group}`]:{marginLeft:0,[`& .${Ie.content}`]:{paddingLeft:p.spacing(1)}}})),ul=ee.forwardRef(function(x,v){const{labelIcon:n,labelInfo:o,labelText:_,pl:y,...b}=x;return $.jsx(ll,{label:$.jsxs(he,{sx:{display:"flex",alignItems:"center",p:.5,pr:2,pl:{pl:y}},children:[$.jsx(he,{component:n,color:"inherit",sx:{mr:1,pl:{pl:y}}}),$.jsx(Ee,{sx:{fontWeight:"inherit",flexGrow:1},component:"div",children:_}),$.jsx(Ee,{variant:"caption",color:"inherit",children:o})]}),...b,ref:v})}),ho=p=>{const{id:x,fullIndex:v,title:n,sub:o}=p.item;if(x===void 0)return console.log("SubTreeItem.item.undefined=",p.item),$.jsx($.Fragment,{});const _=o&&Object.values(o).length>0?Object.values(o).length+"":"";return $.jsx(ul,{onClick:()=>p.onDetail(x,v),nodeId:x,labelText:n,labelInfo:_,pl:p.pl,children:o!=null?Object.values(o).sort((y,b)=>y.title>b.title?1:-1).map((y,b)=>$.jsx("div",{style:{paddingLeft:p.pl+5},children:$.jsx(ho,{onDetail:p.onDetail,item:y,pl:p.pl+5})},b+"")):""})};function vo(p){const[x,v]=ee.useState([]),[n,o]=ee.useState([]),_=(g,m)=>{p.onDetail(g,m)};ee.useEffect(()=>{if(p.expandIndex!==void 0){let g=p.expandIndex.split("/");g=g.filter(m=>m!=="sub"),p.expandIndex.indexOf("undefined")<0&&(v(g),o(g[g.length-1]))}},[p.expandIndex]);const y=(g,m)=>{},b=(g,m)=>{v(m)};return $.jsx(he,{sx:{minHeight:180,flexGrow:1,display:"flex",flexDirection:"column",height:p.maxHeight,overflow:"hidden",overflowY:"auto",width:"100%"},children:$.jsx(pa,{"aria-label":"icon expansion",defaultCollapseIcon:$.jsx(ga,{}),defaultExpandIcon:$.jsx(ya,{}),expanded:x,onNodeSelect:y,selected:n,onNodeToggle:b,sx:{flexGrow:1,overflow:"hidden",overflowY:"auto"},children:p.data&&p.data.map((g,m)=>$.jsx(ho,{onDetail:_,item:g,parentIndex:m+1,pl:5},m+1))})})}async function sl(p,x,v=""){if(x==null||x==="")return"";let n=v===""?`${p}/${x}`:`${p}_txt/${x}`;p==="home"&&(n="home_txt");const o=Zi(Ue($e,n)),_=await Fo(o);if(!_.exists())return console.log("getTreeData.null"),null;if(!_.exists())return console.log("getTreeData.exists"),null;const y=_.val(),b=[],g={};p==="home"&&(zn.map(m=>{b.push({title:m.label,id:m.id,sub:[]})}),zn.map(m=>{g[m.id]=[]}));for(const m in y){const c=y[m];c.up===void 0?(c.id=m,c.fullIndex=m):(c.id=c.up,c.fullIndex=c.up),p==="home"?c.gbn!==void 0&&g[c.gbn].push(c):v===""||v===void 0?(c.sub!==null&&(c.children=po(c,c.up)),b.push(c)):(c.id=m,(c.memo+"").toLowerCase().indexOf(v.toLowerCase())>-1&&b.push(c))}return p==="home"?Object.values(g).map((m,c)=>{m.sort((i,e)=>i.title>e.title?1:-1),b[c].sub=m}):b.sort((m,c)=>m.title>c.title?1:-1),b}function po(p,x){const v=[];if(p===void 0||p.sub===void 0)return v;for(let n in p.sub){let o=p.sub[n];o.id=n,o.key=n}return Object.values(p.sub).sort((n,o)=>o.title-n.title).map(n=>{n.id=n.key,n.fullIndex=x+"/sub/"+n.key,n.sub!==null&&(n.children=po(n,n.fullIndex)),v.push(n)}),v}const fl=p=>{const[x,v]=ee.useState([]),n=()=>{const o=Zi(Ue($e,`memo_txt/${p}`),Uo("bookmark"),Ho("Y"));$o(o,_=>{if(!_.exists())return;const y=_.val(),b=[];for(let g in y){const m=y[g];m.key=g,b.push(m)}b.sort((g,m)=>g.title>m.title?1:-1),v(b)})};return ee.useEffect(()=>{n()},[p]),x};function cl(p){const{user:x}=ze(),v=Ke(),n=fl(x?.uid);return x===void 0?$.jsx($.Fragment,{}):$.jsxs("div",{className:"tail-bookmark justify-items-center",sx:{display:"flex",alignItems:"center",flexDirection:"column",width:"100%"},children:[$.jsx(Oe,{}),$.jsx(zo,{children:"BookMark"}),$.jsx("div",{className:`tail-bookmark 
        grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-1 
        justify-items-center 
        w-full`,children:n&&n.map((o,_)=>$.jsx("div",{children:$.jsx(Ko,{component:"button",variant:"body",onClick:()=>{p.onSelected(o.key),v(`/memo/${o.key}`)},children:$.jsx(Ee,{variant:"body1",children:o.title})})},_))})]})}const dl=p=>{const x=ee.useRef(null);function v(){p.onSearchDataBtn(x.current.value)}function n(){return p.onNewMemoBtn(),!1}function o(_){_.which===13&&v()}return $.jsxs($.Fragment,{children:[$.jsx(ba,{id:"edSearch",type:"edSearch",name:"edSearch",inputRef:x,placeholder:"Enter Search...",fullWidth:!0,sx:{pt:0,pl:2,pr:2,pb:1},onKeyDownCapture:o}),$.jsxs("div",{className:"flex justify-center",children:[$.jsx(Gn,{variant:"outlined",color:"success",className:"m-1 p-1",onClick:n,children:"새글"}),$.jsx(Gn,{variant:"outlined",color:"brand",className:"m-1 p-1",onClick:v,children:"조회"})]})]})},hl=({className:p="",children:x})=>$.jsx("h4",{className:`mb-2 text-lg font-semibold text-center text-gray-800 dark:text-white/90 
      ${p}}
      `,children:x}),vl={position:"absolute",top:"50%",left:"50%",display:"flex",flexDirection:"column",alignItems:"center",transform:"translate(-50%, -50%)",width:250,maxHeight:"400px",bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,boxSizing:"border-box",p:4},pl=p=>$.jsxs(he,{sx:{my:2,mt:3,display:"flex"},children:[$.jsx(ge,{type:"submit",variant:"outlined",color:"success",onClick:p.onPost,children:"확인"}),$.jsx(ge,{type:"button",variant:"outlined",onClick:p.onClose,children:"취소"})]}),yl=p=>{const[x,v]=ee.useState(p.open),[n,o]=ee.useState(),_=()=>{v(!1),o(void 0),p.onClose()};ee.useEffect(()=>{v(p.open)},[p.open]);const y=g=>{o(g)},b=()=>{if(n===void 0){alert("이동할 메모장을 선택해 주세요");return}p.onPost(n)};return $.jsx("div",{children:$.jsx(Go,{open:x,onClose:_,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:$.jsxs(he,{sx:vl,children:[$.jsx(Ee,{id:"modal-modal-title",variant:"h6",component:"h2",children:"이동할 메모장 선택"}),$.jsx(Oe,{}),$.jsx(he,{sx:{width:"100%",minHeight:110,maxHeight:200,flexGrow:1,minWidth:100,overflow:"hidden"},children:$.jsx(vo,{data:p.data,onDetail:y,maxHeight:200})}),$.jsx(pl,{onPost:b,onClose:_})]})})})};function gl(p){var x=p.length,v=p.lastIndexOf("."),n=p.substring(v+1,x).toLowerCase();return n}const ml=async(p,x)=>{console.log("fireDetailDelete.txtId=",p);const v=await Ce(p);if(v===void 0){alert("삭제에 실패했습니다.[code:d01]");return}const n=`${x}/${v.fullIndex}/`;return console.log("fireDetailDelete.treeLocate=",n),ce(n,null),ce(p,null),"OK"},bl=async(p,x,v,n)=>{try{console.log("fireDetailMove.txtLocate=",p),console.log("fireDetailMove.base=",x),console.log("fireDetailMove.txtId=",v),console.log("fireDetailMove.moveId=",n);const o=await Ce(p+"/"+n);if(console.log("fireDetailMove.toLocate=",p+"/"+n),console.log("fireDetailMove.toData=",o),o===void 0){alert("이동에 실패했습니다.[code:m10]");return}if(o.fullIndex===void 0){alert("이동에 실패했습니다.[code:m20]");return}const _=await Ce(p+"/"+v);if(console.log("fireDetailMove.fromLocate=",p+"/"+v),console.log("fireDetailMove.fromData=",_),_===void 0){alert("이동에 실패했습니다.[code:m30]");return}if(_.fullIndex===void 0){alert("이동에 실패했습니다.[code:m40]");return}const y=await Ce(`${x}/${_.fullIndex}`);console.log("onMoveSubmit.treeDataLocate=",`${x}/${_.fullIndex}`),console.log("onMoveSubmit.treeData=",y),y.fullIndex=`${o.fullIndex}/sub/${v}`,console.log("onMoveSubmit.treeLocate=",`${x}/${_.fullIndex}`);const b=`${x}/${o.fullIndex}/sub/${v}`;console.log("onMoveSubmit.postLocate=",b),ce(b,y);const g=`${x}/${_.fullIndex}`;console.log("onMoveSubmit.delLocate=",g),ce(g,null)}catch(o){console.log("catch",o)}},tr=async(p,x,v,n,o)=>{let _=!1,y=p;y===void 0&&(_=!0,y=Xi(Qi(Ue($e),v)).key,console.log("fireDetailPostData.newKey=",y));const b=x+y;if(console.log("fireDetailPostData.txtLoc=",b),ce(b+"/title",o.edTitle),o.htmlCheck==="N"?ce(b+"/memo",o.memoTxt):ce(b+"/memo",o.content),ce(b+"/date",o.edDate),ce(b+"/gbn",o.edGbn),ce(b+"/html",o.htmlCheck),console.log("fireDetailPostData.fullIndex1=",n),n!==void 0&&n!==""&&!n.includes("undefined"))if(_){ce(b+"/fullIndex",n);const g=`${v}${n}/sub/${y}/title`;console.log("fireDetailPostData.fullIndex2=",n),console.log("fireDetailPostData.newFull=",g),ce(g,o.edTitle)}else ce(b+"/fullIndex",`${n}/sub/${y}`),console.log(`path=${v}${n}/title`),ce(`${v}${n}/title`,o.edTitle);return y},_l=async(p,x,v,n)=>{if(console.log("fireDetailDeleteImage.imageList=",n),n!==void 0)for(let o=0;o<n.length;o++){const _=n[o];if(_.del==="Y"){ce(`${p}/${v}/image/${_.key}`,null),console.log("fireDetailDeleteImage.delete=",`${p}/${v}/image/${_.key}`);const y=await Ji(eo,`${x}/${v}/${_.key}.${_.ext}`);Vo(y).then(()=>{console.log("fireDetailDeleteImage.storageRef=",y)}).catch(b=>{console.log("fireDetailDeleteImage.error=",b)})}}},nr=async(p,x,v,n)=>{for(let o=0;o<n.length;o++){const _=n[o].object,y=gl(_.name),b={ext:y,name:_.name,use:"Y"},g=Xi(Qi(Ue($e),p+"/image")).key;console.log("fireDetailImage.image.newKey",g),console.log("fireDetailImage.image.postData",b),ce(`${p}/${v}/image/${g}`,b);const m=await Ji(eo,`${x}/${v}/${g}.${y}`),c=await Wo(m,_);console.log("fireDetailImage.uploadBytes=",c)}},Ol=p=>$.jsxs(he,{sx:{flexGrow:1,my:2,width:"100%",display:"grid",gridTemplateColumns:"64px 64px  64px  64px ",flexDirection:"row",alignItems:"center",alignContent:"center",justifyContent:"center",textAlign:"center",whiteSpace:"nowrap"},children:[$.jsx(ge,{type:"button",size:"small",variant:"outlined",color:"success",onClick:p.onEdit,children:"수정"}),$.jsx(ge,{type:"button",size:"small",variant:"outlined",onClick:p.onNewMemo,children:"새글"}),p.rootDb==="memo"?$.jsx(ge,{type:"button",size:"small",variant:"outlined",color:"warning",onClick:p.onMove,children:"이동"}):"",$.jsx(ge,{type:"button",size:"small",variant:"outlined",color:"error",onClick:p.onDelete,children:"삭제"})]}),xl=p=>{const{rootDb:x,isLoading:v,memoDetailData:n,bookmark:o}=p,{scrollYProgress:_}=fo(),y=co(_,{stiffness:100,damping:30,restDelta:.001}),[b,g]=ee.useState(!1),m=Ke(),c=ee.useRef();c.current=p.searchWord;const{memoId:i}=to(),t=Mn()?.state?.fullIndex,{user:f}=ze(),u=()=>{const T=`/${x}/edit/${i}`;m(T,{state:{fullIndex:t}})},s=()=>{const T=`/${x}/insert/${i}`;m(T,{state:{fullIndex:t}})},l=async()=>{const T=x==="memo"?`${x}_txt/${f.uid}/${i}`:`${x}_txt/${i}`,E=x==="memo"?`${x}/${f.uid}`:x;if(await ml(T,E)===void 0){alert("삭제에 실패했습니다.[code:d02]");return}p.onTreeUpdate(),m(`/${x}`)},a=()=>{window.confirm(`하위 자료가 있는 경우 같이 삭제됩니다.
삭제하시겠습니까?`)&&l()},d=()=>{g(!0)},r=()=>{p.onBookmark()},h=async T=>{try{const E=x==="memo"?`${x}_txt/${f.uid}`:`${x}_txt`,k=x==="memo"?`memo/${f.uid}`:x,q=await bl(E,k,i,T);p.onTreeUpdate()}catch(E){console.log("catch",E)}finally{g(!1)}};return ee.useEffect(()=>{if(n&&n.title!==void 0){const E=document.querySelector("title");E.innerHTML=`${no.appTitle} :: ${n.title}`}function T(){window.scrollTo({top:0}),n&&n.html!=="N"&&document.querySelectorAll("pre").forEach(E=>{E.innerHTML=Qo(E.innerHTML)})}n&&n.memo!==null&&T()},[n]),v?$.jsx(Le,{}):i===""||f===void 0?$.jsx($.Fragment,{}):$.jsxs("div",{children:[$.jsx(Kn.div,{className:"progress-bar",style:{scaleX:y}}),$.jsxs("div",{className:`grid grid-cols-3 
				items-center w-full 
				dark:bg-stone-950 rounded-md shadow-sm 
				dark:shadow-stone-800 shadow-stone-900`,children:[$.jsx("div",{}),$.jsx("div",{className:"flex justify-center",children:n&&n.title}),$.jsxs("div",{className:"text-right justify-end mr-3.5",children:[$.jsx(Kn.div,{whileHover:{scale:1.1},whileTap:{scale:.8},initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},children:$.jsx(He,{"aria-label":"bookmark",onClick:r,children:o==="Y"?$.jsx(xa,{sx:{color:"red"}}):$.jsx(al,{})})}),$.jsx("div",{className:"text-right mb-3 text-sm text-red-400",children:p.pathNm})]})]}),$.jsxs("div",{className:"w-full p-0 m-0",children:[$.jsx(Ol,{rootDb:x,onEdit:u,onNewMemo:s,onMove:d,onDelete:a,onBookmark:r,bookmark:o}),$.jsxs(he,{sx:{my:2},children:[n&&n.html==="N"?$.jsx(Yo,{postData:n&&n.memo}):n&&n.html!=="N"&&n.memo&&$.jsx(Zo,{text:n.memo}),$.jsx(Xo,{imageList:n&&n.image}),!n&&$.jsx(he,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:$.jsx(ro,{sx:{mt:5}})})]}),$.jsx(yl,{userId:f?.uid,open:b,data:p.data,onClose:()=>g(!1),onPost:h})]}),$.jsx(io,{})]})};var nt,rr;function El(){if(rr)return nt;rr=1;function p(){this.__data__=[],this.size=0}return nt=p,nt}var rt,ir;function yo(){if(ir)return rt;ir=1;function p(x,v){return x===v||x!==x&&v!==v}return rt=p,rt}var it,or;function Ge(){if(or)return it;or=1;var p=yo();function x(v,n){for(var o=v.length;o--;)if(p(v[o][0],n))return o;return-1}return it=x,it}var ot,ar;function wl(){if(ar)return ot;ar=1;var p=Ge(),x=Array.prototype,v=x.splice;function n(o){var _=this.__data__,y=p(_,o);if(y<0)return!1;var b=_.length-1;return y==b?_.pop():v.call(_,y,1),--this.size,!0}return ot=n,ot}var at,lr;function Al(){if(lr)return at;lr=1;var p=Ge();function x(v){var n=this.__data__,o=p(n,v);return o<0?void 0:n[o][1]}return at=x,at}var lt,ur;function Tl(){if(ur)return lt;ur=1;var p=Ge();function x(v){return p(this.__data__,v)>-1}return lt=x,lt}var ut,sr;function kl(){if(sr)return ut;sr=1;var p=Ge();function x(v,n){var o=this.__data__,_=p(o,v);return _<0?(++this.size,o.push([v,n])):o[_][1]=n,this}return ut=x,ut}var st,fr;function We(){if(fr)return st;fr=1;var p=El(),x=wl(),v=Al(),n=Tl(),o=kl();function _(y){var b=-1,g=y==null?0:y.length;for(this.clear();++b<g;){var m=y[b];this.set(m[0],m[1])}}return _.prototype.clear=p,_.prototype.delete=x,_.prototype.get=v,_.prototype.has=n,_.prototype.set=o,st=_,st}var ft,cr;function Sl(){if(cr)return ft;cr=1;var p=We();function x(){this.__data__=new p,this.size=0}return ft=x,ft}var ct,dr;function Nl(){if(dr)return ct;dr=1;function p(x){var v=this.__data__,n=v.delete(x);return this.size=v.size,n}return ct=p,ct}var dt,hr;function ql(){if(hr)return dt;hr=1;function p(x){return this.__data__.get(x)}return dt=p,dt}var ht,vr;function jl(){if(vr)return ht;vr=1;function p(x){return this.__data__.has(x)}return ht=p,ht}var vt,pr;function go(){if(pr)return vt;pr=1;var p=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe;return vt=p,vt}var pt,yr;function me(){if(yr)return pt;yr=1;var p=go(),x=typeof self=="object"&&self&&self.Object===Object&&self,v=p||x||Function("return this")();return pt=v,pt}var yt,gr;function Fn(){if(gr)return yt;gr=1;var p=me(),x=p.Symbol;return yt=x,yt}var gt,mr;function Ll(){if(mr)return gt;mr=1;var p=Fn(),x=Object.prototype,v=x.hasOwnProperty,n=x.toString,o=p?p.toStringTag:void 0;function _(y){var b=v.call(y,o),g=y[o];try{y[o]=void 0;var m=!0}catch{}var c=n.call(y);return m&&(b?y[o]=g:delete y[o]),c}return gt=_,gt}var mt,br;function Pl(){if(br)return mt;br=1;var p=Object.prototype,x=p.toString;function v(n){return x.call(n)}return mt=v,mt}var bt,_r;function Ve(){if(_r)return bt;_r=1;var p=Fn(),x=Ll(),v=Pl(),n="[object Null]",o="[object Undefined]",_=p?p.toStringTag:void 0;function y(b){return b==null?b===void 0?o:n:_&&_ in Object(b)?x(b):v(b)}return bt=y,bt}var _t,Or;function mo(){if(Or)return _t;Or=1;function p(x){var v=typeof x;return x!=null&&(v=="object"||v=="function")}return _t=p,_t}var Ot,xr;function bo(){if(xr)return Ot;xr=1;var p=Ve(),x=mo(),v="[object AsyncFunction]",n="[object Function]",o="[object GeneratorFunction]",_="[object Proxy]";function y(b){if(!x(b))return!1;var g=p(b);return g==n||g==o||g==v||g==_}return Ot=y,Ot}var xt,Er;function Rl(){if(Er)return xt;Er=1;var p=me(),x=p["__core-js_shared__"];return xt=x,xt}var Et,wr;function Dl(){if(wr)return Et;wr=1;var p=Rl(),x=function(){var n=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function v(n){return!!x&&x in n}return Et=v,Et}var wt,Ar;function _o(){if(Ar)return wt;Ar=1;var p=Function.prototype,x=p.toString;function v(n){if(n!=null){try{return x.call(n)}catch{}try{return n+""}catch{}}return""}return wt=v,wt}var At,Tr;function Il(){if(Tr)return At;Tr=1;var p=bo(),x=Dl(),v=mo(),n=_o(),o=/[\\^$.*+?()[\]{}|]/g,_=/^\[object .+?Constructor\]$/,y=Function.prototype,b=Object.prototype,g=y.toString,m=b.hasOwnProperty,c=RegExp("^"+g.call(m).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i(e){if(!v(e)||x(e))return!1;var t=p(e)?c:_;return t.test(n(e))}return At=i,At}var Tt,kr;function Cl(){if(kr)return Tt;kr=1;function p(x,v){return x?.[v]}return Tt=p,Tt}var kt,Sr;function we(){if(Sr)return kt;Sr=1;var p=Il(),x=Cl();function v(n,o){var _=x(n,o);return p(_)?_:void 0}return kt=v,kt}var St,Nr;function Hn(){if(Nr)return St;Nr=1;var p=we(),x=me(),v=p(x,"Map");return St=v,St}var Nt,qr;function Ye(){if(qr)return Nt;qr=1;var p=we(),x=p(Object,"create");return Nt=x,Nt}var qt,jr;function Ml(){if(jr)return qt;jr=1;var p=Ye();function x(){this.__data__=p?p(null):{},this.size=0}return qt=x,qt}var jt,Lr;function Bl(){if(Lr)return jt;Lr=1;function p(x){var v=this.has(x)&&delete this.__data__[x];return this.size-=v?1:0,v}return jt=p,jt}var Lt,Pr;function Fl(){if(Pr)return Lt;Pr=1;var p=Ye(),x="__lodash_hash_undefined__",v=Object.prototype,n=v.hasOwnProperty;function o(_){var y=this.__data__;if(p){var b=y[_];return b===x?void 0:b}return n.call(y,_)?y[_]:void 0}return Lt=o,Lt}var Pt,Rr;function Hl(){if(Rr)return Pt;Rr=1;var p=Ye(),x=Object.prototype,v=x.hasOwnProperty;function n(o){var _=this.__data__;return p?_[o]!==void 0:v.call(_,o)}return Pt=n,Pt}var Rt,Dr;function Ul(){if(Dr)return Rt;Dr=1;var p=Ye(),x="__lodash_hash_undefined__";function v(n,o){var _=this.__data__;return this.size+=this.has(n)?0:1,_[n]=p&&o===void 0?x:o,this}return Rt=v,Rt}var Dt,Ir;function $l(){if(Ir)return Dt;Ir=1;var p=Ml(),x=Bl(),v=Fl(),n=Hl(),o=Ul();function _(y){var b=-1,g=y==null?0:y.length;for(this.clear();++b<g;){var m=y[b];this.set(m[0],m[1])}}return _.prototype.clear=p,_.prototype.delete=x,_.prototype.get=v,_.prototype.has=n,_.prototype.set=o,Dt=_,Dt}var It,Cr;function zl(){if(Cr)return It;Cr=1;var p=$l(),x=We(),v=Hn();function n(){this.size=0,this.__data__={hash:new p,map:new(v||x),string:new p}}return It=n,It}var Ct,Mr;function Kl(){if(Mr)return Ct;Mr=1;function p(x){var v=typeof x;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?x!=="__proto__":x===null}return Ct=p,Ct}var Mt,Br;function Ze(){if(Br)return Mt;Br=1;var p=Kl();function x(v,n){var o=v.__data__;return p(n)?o[typeof n=="string"?"string":"hash"]:o.map}return Mt=x,Mt}var Bt,Fr;function Gl(){if(Fr)return Bt;Fr=1;var p=Ze();function x(v){var n=p(this,v).delete(v);return this.size-=n?1:0,n}return Bt=x,Bt}var Ft,Hr;function Wl(){if(Hr)return Ft;Hr=1;var p=Ze();function x(v){return p(this,v).get(v)}return Ft=x,Ft}var Ht,Ur;function Vl(){if(Ur)return Ht;Ur=1;var p=Ze();function x(v){return p(this,v).has(v)}return Ht=x,Ht}var Ut,$r;function Yl(){if($r)return Ut;$r=1;var p=Ze();function x(v,n){var o=p(this,v),_=o.size;return o.set(v,n),this.size+=o.size==_?0:1,this}return Ut=x,Ut}var $t,zr;function Oo(){if(zr)return $t;zr=1;var p=zl(),x=Gl(),v=Wl(),n=Vl(),o=Yl();function _(y){var b=-1,g=y==null?0:y.length;for(this.clear();++b<g;){var m=y[b];this.set(m[0],m[1])}}return _.prototype.clear=p,_.prototype.delete=x,_.prototype.get=v,_.prototype.has=n,_.prototype.set=o,$t=_,$t}var zt,Kr;function Zl(){if(Kr)return zt;Kr=1;var p=We(),x=Hn(),v=Oo(),n=200;function o(_,y){var b=this.__data__;if(b instanceof p){var g=b.__data__;if(!x||g.length<n-1)return g.push([_,y]),this.size=++b.size,this;b=this.__data__=new v(g)}return b.set(_,y),this.size=b.size,this}return zt=o,zt}var Kt,Gr;function Xl(){if(Gr)return Kt;Gr=1;var p=We(),x=Sl(),v=Nl(),n=ql(),o=jl(),_=Zl();function y(b){var g=this.__data__=new p(b);this.size=g.size}return y.prototype.clear=x,y.prototype.delete=v,y.prototype.get=n,y.prototype.has=o,y.prototype.set=_,Kt=y,Kt}var Gt,Wr;function Ql(){if(Wr)return Gt;Wr=1;var p="__lodash_hash_undefined__";function x(v){return this.__data__.set(v,p),this}return Gt=x,Gt}var Wt,Vr;function Jl(){if(Vr)return Wt;Vr=1;function p(x){return this.__data__.has(x)}return Wt=p,Wt}var Vt,Yr;function eu(){if(Yr)return Vt;Yr=1;var p=Oo(),x=Ql(),v=Jl();function n(o){var _=-1,y=o==null?0:o.length;for(this.__data__=new p;++_<y;)this.add(o[_])}return n.prototype.add=n.prototype.push=x,n.prototype.has=v,Vt=n,Vt}var Yt,Zr;function tu(){if(Zr)return Yt;Zr=1;function p(x,v){for(var n=-1,o=x==null?0:x.length;++n<o;)if(v(x[n],n,x))return!0;return!1}return Yt=p,Yt}var Zt,Xr;function nu(){if(Xr)return Zt;Xr=1;function p(x,v){return x.has(v)}return Zt=p,Zt}var Xt,Qr;function xo(){if(Qr)return Xt;Qr=1;var p=eu(),x=tu(),v=nu(),n=1,o=2;function _(y,b,g,m,c,i){var e=g&n,t=y.length,f=b.length;if(t!=f&&!(e&&f>t))return!1;var u=i.get(y),s=i.get(b);if(u&&s)return u==b&&s==y;var l=-1,a=!0,d=g&o?new p:void 0;for(i.set(y,b),i.set(b,y);++l<t;){var r=y[l],h=b[l];if(m)var T=e?m(h,r,l,b,y,i):m(r,h,l,y,b,i);if(T!==void 0){if(T)continue;a=!1;break}if(d){if(!x(b,function(E,k){if(!v(d,k)&&(r===E||c(r,E,g,m,i)))return d.push(k)})){a=!1;break}}else if(!(r===h||c(r,h,g,m,i))){a=!1;break}}return i.delete(y),i.delete(b),a}return Xt=_,Xt}var Qt,Jr;function ru(){if(Jr)return Qt;Jr=1;var p=me(),x=p.Uint8Array;return Qt=x,Qt}var Jt,ei;function iu(){if(ei)return Jt;ei=1;function p(x){var v=-1,n=Array(x.size);return x.forEach(function(o,_){n[++v]=[_,o]}),n}return Jt=p,Jt}var en,ti;function ou(){if(ti)return en;ti=1;function p(x){var v=-1,n=Array(x.size);return x.forEach(function(o){n[++v]=o}),n}return en=p,en}var tn,ni;function au(){if(ni)return tn;ni=1;var p=Fn(),x=ru(),v=yo(),n=xo(),o=iu(),_=ou(),y=1,b=2,g="[object Boolean]",m="[object Date]",c="[object Error]",i="[object Map]",e="[object Number]",t="[object RegExp]",f="[object Set]",u="[object String]",s="[object Symbol]",l="[object ArrayBuffer]",a="[object DataView]",d=p?p.prototype:void 0,r=d?d.valueOf:void 0;function h(T,E,k,q,A,O,w){switch(k){case a:if(T.byteLength!=E.byteLength||T.byteOffset!=E.byteOffset)return!1;T=T.buffer,E=E.buffer;case l:return!(T.byteLength!=E.byteLength||!O(new x(T),new x(E)));case g:case m:case e:return v(+T,+E);case c:return T.name==E.name&&T.message==E.message;case t:case u:return T==E+"";case i:var S=o;case f:var L=q&y;if(S||(S=_),T.size!=E.size&&!L)return!1;var D=w.get(T);if(D)return D==E;q|=b,w.set(T,E);var B=n(S(T),S(E),q,A,O,w);return w.delete(T),B;case s:if(r)return r.call(T)==r.call(E)}return!1}return tn=h,tn}var nn,ri;function lu(){if(ri)return nn;ri=1;function p(x,v){for(var n=-1,o=v.length,_=x.length;++n<o;)x[_+n]=v[n];return x}return nn=p,nn}var rn,ii;function Un(){if(ii)return rn;ii=1;var p=Array.isArray;return rn=p,rn}var on,oi;function uu(){if(oi)return on;oi=1;var p=lu(),x=Un();function v(n,o,_){var y=o(n);return x(n)?y:p(y,_(n))}return on=v,on}var an,ai;function su(){if(ai)return an;ai=1;function p(x,v){for(var n=-1,o=x==null?0:x.length,_=0,y=[];++n<o;){var b=x[n];v(b,n,x)&&(y[_++]=b)}return y}return an=p,an}var ln,li;function fu(){if(li)return ln;li=1;function p(){return[]}return ln=p,ln}var un,ui;function cu(){if(ui)return un;ui=1;var p=su(),x=fu(),v=Object.prototype,n=v.propertyIsEnumerable,o=Object.getOwnPropertySymbols,_=o?function(y){return y==null?[]:(y=Object(y),p(o(y),function(b){return n.call(y,b)}))}:x;return un=_,un}var sn,si;function du(){if(si)return sn;si=1;function p(x,v){for(var n=-1,o=Array(x);++n<x;)o[n]=v(n);return o}return sn=p,sn}var fn,fi;function Xe(){if(fi)return fn;fi=1;function p(x){return x!=null&&typeof x=="object"}return fn=p,fn}var cn,ci;function hu(){if(ci)return cn;ci=1;var p=Ve(),x=Xe(),v="[object Arguments]";function n(o){return x(o)&&p(o)==v}return cn=n,cn}var dn,di;function vu(){if(di)return dn;di=1;var p=hu(),x=Xe(),v=Object.prototype,n=v.hasOwnProperty,o=v.propertyIsEnumerable,_=p(function(){return arguments}())?p:function(y){return x(y)&&n.call(y,"callee")&&!o.call(y,"callee")};return dn=_,dn}var Ne={exports:{}},hn,hi;function pu(){if(hi)return hn;hi=1;function p(){return!1}return hn=p,hn}Ne.exports;var vi;function Eo(){return vi||(vi=1,function(p,x){var v=me(),n=pu(),o=x&&!x.nodeType&&x,_=o&&!0&&p&&!p.nodeType&&p,y=_&&_.exports===o,b=y?v.Buffer:void 0,g=b?b.isBuffer:void 0,m=g||n;p.exports=m}(Ne,Ne.exports)),Ne.exports}var vn,pi;function yu(){if(pi)return vn;pi=1;var p=9007199254740991,x=/^(?:0|[1-9]\d*)$/;function v(n,o){var _=typeof n;return o=o??p,!!o&&(_=="number"||_!="symbol"&&x.test(n))&&n>-1&&n%1==0&&n<o}return vn=v,vn}var pn,yi;function wo(){if(yi)return pn;yi=1;var p=9007199254740991;function x(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=p}return pn=x,pn}var yn,gi;function gu(){if(gi)return yn;gi=1;var p=Ve(),x=wo(),v=Xe(),n="[object Arguments]",o="[object Array]",_="[object Boolean]",y="[object Date]",b="[object Error]",g="[object Function]",m="[object Map]",c="[object Number]",i="[object Object]",e="[object RegExp]",t="[object Set]",f="[object String]",u="[object WeakMap]",s="[object ArrayBuffer]",l="[object DataView]",a="[object Float32Array]",d="[object Float64Array]",r="[object Int8Array]",h="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",q="[object Uint16Array]",A="[object Uint32Array]",O={};O[a]=O[d]=O[r]=O[h]=O[T]=O[E]=O[k]=O[q]=O[A]=!0,O[n]=O[o]=O[s]=O[_]=O[l]=O[y]=O[b]=O[g]=O[m]=O[c]=O[i]=O[e]=O[t]=O[f]=O[u]=!1;function w(S){return v(S)&&x(S.length)&&!!O[p(S)]}return yn=w,yn}var gn,mi;function mu(){if(mi)return gn;mi=1;function p(x){return function(v){return x(v)}}return gn=p,gn}var qe={exports:{}};qe.exports;var bi;function bu(){return bi||(bi=1,function(p,x){var v=go(),n=x&&!x.nodeType&&x,o=n&&!0&&p&&!p.nodeType&&p,_=o&&o.exports===n,y=_&&v.process,b=function(){try{var g=o&&o.require&&o.require("util").types;return g||y&&y.binding&&y.binding("util")}catch{}}();p.exports=b}(qe,qe.exports)),qe.exports}var mn,_i;function Ao(){if(_i)return mn;_i=1;var p=gu(),x=mu(),v=bu(),n=v&&v.isTypedArray,o=n?x(n):p;return mn=o,mn}var bn,Oi;function _u(){if(Oi)return bn;Oi=1;var p=du(),x=vu(),v=Un(),n=Eo(),o=yu(),_=Ao(),y=Object.prototype,b=y.hasOwnProperty;function g(m,c){var i=v(m),e=!i&&x(m),t=!i&&!e&&n(m),f=!i&&!e&&!t&&_(m),u=i||e||t||f,s=u?p(m.length,String):[],l=s.length;for(var a in m)(c||b.call(m,a))&&!(u&&(a=="length"||t&&(a=="offset"||a=="parent")||f&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||o(a,l)))&&s.push(a);return s}return bn=g,bn}var _n,xi;function Ou(){if(xi)return _n;xi=1;var p=Object.prototype;function x(v){var n=v&&v.constructor,o=typeof n=="function"&&n.prototype||p;return v===o}return _n=x,_n}var On,Ei;function xu(){if(Ei)return On;Ei=1;function p(x,v){return function(n){return x(v(n))}}return On=p,On}var xn,wi;function Eu(){if(wi)return xn;wi=1;var p=xu(),x=p(Object.keys,Object);return xn=x,xn}var En,Ai;function wu(){if(Ai)return En;Ai=1;var p=Ou(),x=Eu(),v=Object.prototype,n=v.hasOwnProperty;function o(_){if(!p(_))return x(_);var y=[];for(var b in Object(_))n.call(_,b)&&b!="constructor"&&y.push(b);return y}return En=o,En}var wn,Ti;function Au(){if(Ti)return wn;Ti=1;var p=bo(),x=wo();function v(n){return n!=null&&x(n.length)&&!p(n)}return wn=v,wn}var An,ki;function Tu(){if(ki)return An;ki=1;var p=_u(),x=wu(),v=Au();function n(o){return v(o)?p(o):x(o)}return An=n,An}var Tn,Si;function ku(){if(Si)return Tn;Si=1;var p=uu(),x=cu(),v=Tu();function n(o){return p(o,v,x)}return Tn=n,Tn}var kn,Ni;function Su(){if(Ni)return kn;Ni=1;var p=ku(),x=1,v=Object.prototype,n=v.hasOwnProperty;function o(_,y,b,g,m,c){var i=b&x,e=p(_),t=e.length,f=p(y),u=f.length;if(t!=u&&!i)return!1;for(var s=t;s--;){var l=e[s];if(!(i?l in y:n.call(y,l)))return!1}var a=c.get(_),d=c.get(y);if(a&&d)return a==y&&d==_;var r=!0;c.set(_,y),c.set(y,_);for(var h=i;++s<t;){l=e[s];var T=_[l],E=y[l];if(g)var k=i?g(E,T,l,y,_,c):g(T,E,l,_,y,c);if(!(k===void 0?T===E||m(T,E,b,g,c):k)){r=!1;break}h||(h=l=="constructor")}if(r&&!h){var q=_.constructor,A=y.constructor;q!=A&&"constructor"in _&&"constructor"in y&&!(typeof q=="function"&&q instanceof q&&typeof A=="function"&&A instanceof A)&&(r=!1)}return c.delete(_),c.delete(y),r}return kn=o,kn}var Sn,qi;function Nu(){if(qi)return Sn;qi=1;var p=we(),x=me(),v=p(x,"DataView");return Sn=v,Sn}var Nn,ji;function qu(){if(ji)return Nn;ji=1;var p=we(),x=me(),v=p(x,"Promise");return Nn=v,Nn}var qn,Li;function ju(){if(Li)return qn;Li=1;var p=we(),x=me(),v=p(x,"Set");return qn=v,qn}var jn,Pi;function Lu(){if(Pi)return jn;Pi=1;var p=we(),x=me(),v=p(x,"WeakMap");return jn=v,jn}var Ln,Ri;function Pu(){if(Ri)return Ln;Ri=1;var p=Nu(),x=Hn(),v=qu(),n=ju(),o=Lu(),_=Ve(),y=_o(),b="[object Map]",g="[object Object]",m="[object Promise]",c="[object Set]",i="[object WeakMap]",e="[object DataView]",t=y(p),f=y(x),u=y(v),s=y(n),l=y(o),a=_;return(p&&a(new p(new ArrayBuffer(1)))!=e||x&&a(new x)!=b||v&&a(v.resolve())!=m||n&&a(new n)!=c||o&&a(new o)!=i)&&(a=function(d){var r=_(d),h=r==g?d.constructor:void 0,T=h?y(h):"";if(T)switch(T){case t:return e;case f:return b;case u:return m;case s:return c;case l:return i}return r}),Ln=a,Ln}var Pn,Di;function Ru(){if(Di)return Pn;Di=1;var p=Xl(),x=xo(),v=au(),n=Su(),o=Pu(),_=Un(),y=Eo(),b=Ao(),g=1,m="[object Arguments]",c="[object Array]",i="[object Object]",e=Object.prototype,t=e.hasOwnProperty;function f(u,s,l,a,d,r){var h=_(u),T=_(s),E=h?c:o(u),k=T?c:o(s);E=E==m?i:E,k=k==m?i:k;var q=E==i,A=k==i,O=E==k;if(O&&y(u)){if(!y(s))return!1;h=!0,q=!1}if(O&&!q)return r||(r=new p),h||b(u)?x(u,s,l,a,d,r):v(u,s,E,l,a,d,r);if(!(l&g)){var w=q&&t.call(u,"__wrapped__"),S=A&&t.call(s,"__wrapped__");if(w||S){var L=w?u.value():u,D=S?s.value():s;return r||(r=new p),d(L,D,l,a,r)}}return O?(r||(r=new p),n(u,s,l,a,d,r)):!1}return Pn=f,Pn}var Rn,Ii;function Du(){if(Ii)return Rn;Ii=1;var p=Ru(),x=Xe();function v(n,o,_,y,b){return n===o?!0:n==null||o==null||!x(n)&&!x(o)?n!==n&&o!==o:p(n,o,_,y,v,b)}return Rn=v,Rn}var Dn,Ci;function Iu(){if(Ci)return Dn;Ci=1;var p=Du();function x(v,n){return p(v,n)}return Dn=x,Dn}var Fe={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var Cu=Fe.exports,Mi;function Mu(){return Mi||(Mi=1,function(p,x){(function(n,o){p.exports=o()})(typeof self<"u"?self:Cu,function(){return function(v){var n={};function o(_){if(n[_])return n[_].exports;var y=n[_]={i:_,l:!1,exports:{}};return v[_].call(y.exports,y,y.exports,o),y.l=!0,y.exports}return o.m=v,o.c=n,o.d=function(_,y,b){o.o(_,y)||Object.defineProperty(_,y,{configurable:!1,enumerable:!0,get:b})},o.n=function(_){var y=_&&_.__esModule?function(){return _.default}:function(){return _};return o.d(y,"a",y),y},o.o=function(_,y){return Object.prototype.hasOwnProperty.call(_,y)},o.p="",o(o.s=109)}([function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(17),y=o(18),b=o(19),g=o(45),m=o(46),c=o(47),i=o(48),e=o(49),t=o(12),f=o(32),u=o(33),s=o(31),l=o(1),a={Scope:l.Scope,create:l.create,find:l.find,query:l.query,register:l.register,Container:_.default,Format:y.default,Leaf:b.default,Embed:i.default,Scroll:g.default,Block:c.default,Inline:m.default,Text:e.default,Attributor:{Attribute:t.default,Class:f.default,Style:u.default,Store:s.default}};n.default=a},function(v,n,o){var _=this&&this.__extends||function(){var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var d in a)a.hasOwnProperty(d)&&(l[d]=a[d])};return function(l,a){s(l,a);function d(){this.constructor=l}l.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=function(s){_(l,s);function l(a){var d=this;return a="[Parchment] "+a,d=s.call(this,a)||this,d.message=a,d.name=d.constructor.name,d}return l}(Error);n.ParchmentError=y;var b={},g={},m={},c={};n.DATA_KEY="__blot";var i;(function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"})(i=n.Scope||(n.Scope={}));function e(s,l){var a=f(s);if(a==null)throw new y("Unable to create "+s+" blot");var d=a,r=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:d.create(l);return new d(r,l)}n.create=e;function t(s,l){return l===void 0&&(l=!1),s==null?null:s[n.DATA_KEY]!=null?s[n.DATA_KEY].blot:l?t(s.parentNode,l):null}n.find=t;function f(s,l){l===void 0&&(l=i.ANY);var a;if(typeof s=="string")a=c[s]||b[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)a=c.text;else if(typeof s=="number")s&i.LEVEL&i.BLOCK?a=c.block:s&i.LEVEL&i.INLINE&&(a=c.inline);else if(s instanceof HTMLElement){var d=(s.getAttribute("class")||"").split(/\s+/);for(var r in d)if(a=g[d[r]],a)break;a=a||m[s.tagName]}return a==null?null:l&i.LEVEL&a.scope&&l&i.TYPE&a.scope?a:null}n.query=f;function u(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(s.length>1)return s.map(function(r){return u(r)});var a=s[0];if(typeof a.blotName!="string"&&typeof a.attrName!="string")throw new y("Invalid definition");if(a.blotName==="abstract")throw new y("Cannot register abstract class");if(c[a.blotName||a.attrName]=a,typeof a.keyName=="string")b[a.keyName]=a;else if(a.className!=null&&(g[a.className]=a),a.tagName!=null){Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(r){return r.toUpperCase()}):a.tagName=a.tagName.toUpperCase();var d=Array.isArray(a.tagName)?a.tagName:[a.tagName];d.forEach(function(r){(m[r]==null||a.className==null)&&(m[r]=a)})}return a}n.register=u},function(v,n,o){var _=o(51),y=o(11),b=o(3),g=o(20),m="\0",c=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};c.prototype.insert=function(i,e){var t={};return i.length===0?this:(t.insert=i,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},c.prototype.delete=function(i){return i<=0?this:this.push({delete:i})},c.prototype.retain=function(i,e){if(i<=0)return this;var t={retain:i};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},c.prototype.push=function(i){var e=this.ops.length,t=this.ops[e-1];if(i=b(!0,{},i),typeof t=="object"){if(typeof i.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+i.delete},this;if(typeof t.delete=="number"&&i.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(i),this;if(y(i.attributes,t.attributes)){if(typeof i.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+i.insert},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this;if(typeof i.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+i.retain},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this}}return e===this.ops.length?this.ops.push(i):this.ops.splice(e,0,i),this},c.prototype.chop=function(){var i=this.ops[this.ops.length-1];return i&&i.retain&&!i.attributes&&this.ops.pop(),this},c.prototype.filter=function(i){return this.ops.filter(i)},c.prototype.forEach=function(i){this.ops.forEach(i)},c.prototype.map=function(i){return this.ops.map(i)},c.prototype.partition=function(i){var e=[],t=[];return this.forEach(function(f){var u=i(f)?e:t;u.push(f)}),[e,t]},c.prototype.reduce=function(i,e){return this.ops.reduce(i,e)},c.prototype.changeLength=function(){return this.reduce(function(i,e){return e.insert?i+g.length(e):e.delete?i-e.delete:i},0)},c.prototype.length=function(){return this.reduce(function(i,e){return i+g.length(e)},0)},c.prototype.slice=function(i,e){i=i||0,typeof e!="number"&&(e=1/0);for(var t=[],f=g.iterator(this.ops),u=0;u<e&&f.hasNext();){var s;u<i?s=f.next(i-u):(s=f.next(e-u),t.push(s)),u+=g.length(s)}return new c(t)},c.prototype.compose=function(i){var e=g.iterator(this.ops),t=g.iterator(i.ops),f=[],u=t.peek();if(u!=null&&typeof u.retain=="number"&&u.attributes==null){for(var s=u.retain;e.peekType()==="insert"&&e.peekLength()<=s;)s-=e.peekLength(),f.push(e.next());u.retain-s>0&&t.next(u.retain-s)}for(var l=new c(f);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")l.push(t.next());else if(e.peekType()==="delete")l.push(e.next());else{var a=Math.min(e.peekLength(),t.peekLength()),d=e.next(a),r=t.next(a);if(typeof r.retain=="number"){var h={};typeof d.retain=="number"?h.retain=a:h.insert=d.insert;var T=g.attributes.compose(d.attributes,r.attributes,typeof d.retain=="number");if(T&&(h.attributes=T),l.push(h),!t.hasNext()&&y(l.ops[l.ops.length-1],h)){var E=new c(e.rest());return l.concat(E).chop()}}else typeof r.delete=="number"&&typeof d.retain=="number"&&l.push(r)}return l.chop()},c.prototype.concat=function(i){var e=new c(this.ops.slice());return i.ops.length>0&&(e.push(i.ops[0]),e.ops=e.ops.concat(i.ops.slice(1))),e},c.prototype.diff=function(i,e){if(this.ops===i.ops)return new c;var t=[this,i].map(function(a){return a.map(function(d){if(d.insert!=null)return typeof d.insert=="string"?d.insert:m;var r=a===i?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),f=new c,u=_(t[0],t[1],e),s=g.iterator(this.ops),l=g.iterator(i.ops);return u.forEach(function(a){for(var d=a[1].length;d>0;){var r=0;switch(a[0]){case _.INSERT:r=Math.min(l.peekLength(),d),f.push(l.next(r));break;case _.DELETE:r=Math.min(d,s.peekLength()),s.next(r),f.delete(r);break;case _.EQUAL:r=Math.min(s.peekLength(),l.peekLength(),d);var h=s.next(r),T=l.next(r);y(h.insert,T.insert)?f.retain(r,g.attributes.diff(h.attributes,T.attributes)):f.push(T).delete(r);break}d-=r}}),f.chop()},c.prototype.eachLine=function(i,e){e=e||`
`;for(var t=g.iterator(this.ops),f=new c,u=0;t.hasNext();){if(t.peekType()!=="insert")return;var s=t.peek(),l=g.length(s)-t.peekLength(),a=typeof s.insert=="string"?s.insert.indexOf(e,l)-l:-1;if(a<0)f.push(t.next());else if(a>0)f.push(t.next(a));else{if(i(f,t.next(1).attributes||{},u)===!1)return;u+=1,f=new c}}f.length()>0&&i(f,{},u)},c.prototype.transform=function(i,e){if(e=!!e,typeof i=="number")return this.transformPosition(i,e);for(var t=g.iterator(this.ops),f=g.iterator(i.ops),u=new c;t.hasNext()||f.hasNext();)if(t.peekType()==="insert"&&(e||f.peekType()!=="insert"))u.retain(g.length(t.next()));else if(f.peekType()==="insert")u.push(f.next());else{var s=Math.min(t.peekLength(),f.peekLength()),l=t.next(s),a=f.next(s);if(l.delete)continue;a.delete?u.push(a):u.retain(s,g.attributes.transform(l.attributes,a.attributes,e))}return u.chop()},c.prototype.transformPosition=function(i,e){e=!!e;for(var t=g.iterator(this.ops),f=0;t.hasNext()&&f<=i;){var u=t.peekLength(),s=t.peekType();if(t.next(),s==="delete"){i-=Math.min(u,i-f);continue}else s==="insert"&&(f<i||!e)&&(i+=u);f+=u}return i},v.exports=c},function(v,n){var o=Object.prototype.hasOwnProperty,_=Object.prototype.toString,y=Object.defineProperty,b=Object.getOwnPropertyDescriptor,g=function(t){return typeof Array.isArray=="function"?Array.isArray(t):_.call(t)==="[object Array]"},m=function(t){if(!t||_.call(t)!=="[object Object]")return!1;var f=o.call(t,"constructor"),u=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!f&&!u)return!1;var s;for(s in t);return typeof s>"u"||o.call(t,s)},c=function(t,f){y&&f.name==="__proto__"?y(t,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):t[f.name]=f.newValue},i=function(t,f){if(f==="__proto__")if(o.call(t,f)){if(b)return b(t,f).value}else return;return t[f]};v.exports=function e(){var t,f,u,s,l,a,d=arguments[0],r=1,h=arguments.length,T=!1;for(typeof d=="boolean"&&(T=d,d=arguments[1]||{},r=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});r<h;++r)if(t=arguments[r],t!=null)for(f in t)u=i(d,f),s=i(t,f),d!==s&&(T&&s&&(m(s)||(l=g(s)))?(l?(l=!1,a=u&&g(u)?u:[]):a=u&&m(u)?u:{},c(d,{name:f,newValue:e(T,a,s)})):typeof s<"u"&&c(d,{name:f,newValue:s}));return d}},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var _=function(){function O(w,S){for(var L=0;L<S.length;L++){var D=S[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,S,L){return S&&O(w.prototype,S),L&&O(w,L),w}}(),y=function O(w,S,L){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,S);if(D===void 0){var B=Object.getPrototypeOf(w);return B===null?void 0:O(B,S,L)}else{if("value"in D)return D.value;var H=D.get;return H===void 0?void 0:H.call(L)}},b=o(3),g=d(b),m=o(2),c=d(m),i=o(0),e=d(i),t=o(16),f=d(t),u=o(6),s=d(u),l=o(7),a=d(l);function d(O){return O&&O.__esModule?O:{default:O}}function r(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function h(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function T(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var E=1,k=function(O){T(w,O);function w(){return r(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return _(w,[{key:"attach",value:function(){y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,g.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,D){var B=e.default.query(L,e.default.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,D)}},{key:"formatAt",value:function(L,D,B,H){this.format(B,H)}},{key:"insertAt",value:function(L,D,B){if(typeof D=="string"&&D.endsWith(`
`)){var H=e.default.create(q.blotName);this.parent.insertBefore(H,L===0?this:this.next),H.insertAt(0,D.slice(0,-1))}else y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,L,D,B)}}]),w}(e.default.Embed);k.scope=e.default.Scope.BLOCK_BLOT;var q=function(O){T(w,O);function w(S){r(this,w);var L=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S));return L.cache={},L}return _(w,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(L,D){return D.length()===0?L:L.insert(D.value(),A(D))},new c.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(L,D){y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,L,D),this.cache={}}},{key:"formatAt",value:function(L,D,B,H){D<=0||(e.default.query(B,e.default.Scope.BLOCK)?L+D===this.length()&&this.format(B,H):y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,L,Math.min(D,this.length()-L-1),B,H),this.cache={})}},{key:"insertAt",value:function(L,D,B){if(B!=null)return y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,L,D,B);if(D.length!==0){var H=D.split(`
`),Y=H.shift();Y.length>0&&(L<this.length()-1||this.children.tail==null?y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),Y):this.children.tail.insertAt(this.children.tail.length(),Y),this.cache={});var M=this;H.reduce(function(I,N){return M=M.split(I,!0),M.insertAt(0,N),N.length},L+Y.length)}}},{key:"insertBefore",value:function(L,D){var B=this.children.head;y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,L,D),B instanceof f.default&&B.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(L,D){y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,L,D),this.cache={}}},{key:"optimize",value:function(L){y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D&&(L===0||L>=this.length()-E)){var B=this.clone();return L===0?(this.parent.insertBefore(B,this),this):(this.parent.insertBefore(B,this.next),B)}else{var H=y(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,L,D);return this.cache={},H}}}]),w}(e.default.Block);q.blotName="block",q.tagName="P",q.defaultChild="break",q.allowedChildren=[s.default,e.default.Embed,a.default];function A(O){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return O==null||(typeof O.formats=="function"&&(w=(0,g.default)(w,O.formats())),O.parent==null||O.parent.blotName=="scroll"||O.parent.statics.scope!==O.statics.scope)?w:A(O.parent,w)}n.bubbleFormats=A,n.BlockEmbed=k,n.default=q},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},y=function(){function M(I,N){var j=[],R=!0,U=!1,F=void 0;try{for(var P=I[Symbol.iterator](),C;!(R=(C=P.next()).done)&&(j.push(C.value),!(N&&j.length===N));R=!0);}catch(z){U=!0,F=z}finally{try{!R&&P.return&&P.return()}finally{if(U)throw F}}return j}return function(I,N){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return M(I,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function M(I,N){for(var j=0;j<N.length;j++){var R=N[j];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,N,j){return N&&M(I.prototype,N),j&&M(I,j),I}}();o(50);var g=o(2),m=A(g),c=o(14),i=A(c),e=o(8),t=A(e),f=o(9),u=A(f),s=o(0),l=A(s),a=o(15),d=A(a),r=o(3),h=A(r),T=o(10),E=A(T),k=o(34),q=A(k);function A(M){return M&&M.__esModule?M:{default:M}}function O(M,I,N){return I in M?Object.defineProperty(M,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[I]=N,M}function w(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}var S=(0,E.default)("quill"),L=function(){b(M,null,[{key:"debug",value:function(N){N===!0&&(N="log"),E.default.level(N)}},{key:"find",value:function(N){return N.__quill||l.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&S.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,j){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var F=N.attrName||N.blotName;typeof F=="string"?this.register("formats/"+F,N,j):Object.keys(N).forEach(function(P){R.register(P,N[P],j)})}else this.imports[N]!=null&&!U&&S.warn("Overwriting "+N+" with",j),this.imports[N]=j,(N.startsWith("blots/")||N.startsWith("formats/"))&&j.blotName!=="abstract"?l.default.register(j):N.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function M(I){var N=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w(this,M),this.options=D(I,j),this.container=this.options.container,this.container==null)return S.error("Invalid Quill container",I);this.options.debug&&M.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=l.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(F){F===t.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(F,P){var C=N.selection.lastRange,z=C&&C.length===0?C.index:void 0;B.call(N,function(){return N.editor.update(null,P,z)},F)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return b(M,[{key:"addContainer",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var R=N;N=document.createElement("div"),N.classList.add(R)}return this.container.insertBefore(N,j),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,j,R){var U=this,F=H(N,j,R),P=y(F,4);return N=P[0],j=P[1],R=P[3],B.call(this,function(){return U.editor.deleteText(N,j)},R,N,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,j){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return B.call(this,function(){var F=R.getSelection(!0),P=new m.default;if(F==null)return P;if(l.default.query(N,l.default.Scope.BLOCK))P=R.editor.formatLine(F.index,F.length,O({},N,j));else{if(F.length===0)return R.selection.format(N,j),P;P=R.editor.formatText(F.index,F.length,O({},N,j))}return R.setSelection(F,t.default.sources.SILENT),P},U)}},{key:"formatLine",value:function(N,j,R,U,F){var P=this,C=void 0,z=H(N,j,R,U,F),K=y(z,4);return N=K[0],j=K[1],C=K[2],F=K[3],B.call(this,function(){return P.editor.formatLine(N,j,C)},F,N,0)}},{key:"formatText",value:function(N,j,R,U,F){var P=this,C=void 0,z=H(N,j,R,U,F),K=y(z,4);return N=K[0],j=K[1],C=K[2],F=K[3],B.call(this,function(){return P.editor.formatText(N,j,C)},F,N,0)}},{key:"getBounds",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof N=="number"?R=this.selection.getBounds(N,j):R=this.selection.getBounds(N.index,N.length);var U=this.container.getBoundingClientRect();return{bottom:R.bottom-U.top,height:R.height,left:R.left-U.left,right:R.right-U.left,top:R.top-U.top,width:R.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,R=H(N,j),U=y(R,2);return N=U[0],j=U[1],this.editor.getContents(N,j)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,j):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,j)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,R=H(N,j),U=y(R,2);return N=U[0],j=U[1],this.editor.getText(N,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,j,R){var U=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return B.call(this,function(){return U.editor.insertEmbed(N,j,R)},F,N)}},{key:"insertText",value:function(N,j,R,U,F){var P=this,C=void 0,z=H(N,0,R,U,F),K=y(z,4);return N=K[0],C=K[2],F=K[3],B.call(this,function(){return P.editor.insertText(N,j,C)},F,N,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,j,R){this.clipboard.dangerouslyPasteHTML(N,j,R)}},{key:"removeFormat",value:function(N,j,R){var U=this,F=H(N,j,R),P=y(F,4);return N=P[0],j=P[1],R=P[3],B.call(this,function(){return U.editor.removeFormat(N,j)},R,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var j=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return B.call(this,function(){N=new m.default(N);var U=j.getLength(),F=j.editor.deleteText(0,U),P=j.editor.applyDelta(N),C=P.ops[P.ops.length-1];C!=null&&typeof C.insert=="string"&&C.insert[C.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),P.delete(1));var z=F.compose(P);return z},R)}},{key:"setSelection",value:function(N,j,R){if(N==null)this.selection.setRange(null,j||M.sources.API);else{var U=H(N,j,R),F=y(U,4);N=F[0],j=F[1],R=F[3],this.selection.setRange(new a.Range(N,j),R),R!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,R=new m.default().insert(N);return this.setContents(R,j)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,j=this.scroll.update(N);return this.selection.update(N),j}},{key:"updateContents",value:function(N){var j=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return B.call(this,function(){return N=new m.default(N),j.editor.applyDelta(N,R)},R,!0)}}]),M}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=t.default.events,L.sources=t.default.sources,L.version="1.3.7",L.imports={delta:m.default,parchment:l.default,"core/module":u.default,"core/theme":q.default};function D(M,I){if(I=(0,h.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===L.DEFAULTS.theme)I.theme=q.default;else if(I.theme=L.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var N=(0,h.default)(!0,{},I.theme.DEFAULTS);[N,I].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(F){U.modules[F]===!0&&(U.modules[F]={})})});var j=Object.keys(N.modules).concat(Object.keys(I.modules)),R=j.reduce(function(U,F){var P=L.import("modules/"+F);return P==null?S.error("Cannot load "+F+" module. Are you sure you registered it?"):U[F]=P.DEFAULTS||{},U},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,h.default)(!0,{},L.DEFAULTS,{modules:R},N,I),["bounds","container","scrollingContainer"].forEach(function(U){typeof I[U]=="string"&&(I[U]=document.querySelector(I[U]))}),I.modules=Object.keys(I.modules).reduce(function(U,F){return I.modules[F]&&(U[F]=I.modules[F]),U},{}),I}function B(M,I,N,j){if(this.options.strict&&!this.isEnabled()&&I===t.default.sources.USER)return new m.default;var R=N==null?null:this.getSelection(),U=this.editor.delta,F=M();if(R!=null&&(N===!0&&(N=R.index),j==null?R=Y(R,F,I):j!==0&&(R=Y(R,N,j,I)),this.setSelection(R,t.default.sources.SILENT)),F.length()>0){var P,C=[t.default.events.TEXT_CHANGE,F,U,I];if((P=this.emitter).emit.apply(P,[t.default.events.EDITOR_CHANGE].concat(C)),I!==t.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,C)}}return F}function H(M,I,N,j,R){var U={};return typeof M.index=="number"&&typeof M.length=="number"?typeof I!="number"?(R=j,j=N,N=I,I=M.length,M=M.index):(I=M.length,M=M.index):typeof I!="number"&&(R=j,j=N,N=I,I=0),(typeof N>"u"?"undefined":_(N))==="object"?(U=N,R=j):typeof N=="string"&&(j!=null?U[N]=j:R=N),R=R||t.default.sources.API,[M,I,U,R]}function Y(M,I,N,j){if(M==null)return null;var R=void 0,U=void 0;if(I instanceof m.default){var F=[M.index,M.index+M.length].map(function(K){return I.transformPosition(K,j!==t.default.sources.USER)}),P=y(F,2);R=P[0],U=P[1]}else{var C=[M.index,M.index+M.length].map(function(K){return K<I||K===I&&j===t.default.sources.USER?K:N>=0?K+N:Math.max(I,K+N)}),z=y(C,2);R=z[0],U=z[1]}return new a.Range(R,U-R)}n.expandConfig=D,n.overload=H,n.default=L},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function s(l,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}return function(l,a,d){return a&&s(l.prototype,a),d&&s(l,d),l}}(),y=function s(l,a,d){l===null&&(l=Function.prototype);var r=Object.getOwnPropertyDescriptor(l,a);if(r===void 0){var h=Object.getPrototypeOf(l);return h===null?void 0:s(h,a,d)}else{if("value"in r)return r.value;var T=r.get;return T===void 0?void 0:T.call(d)}},b=o(7),g=i(b),m=o(0),c=i(m);function i(s){return s&&s.__esModule?s:{default:s}}function e(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function t(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function f(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var u=function(s){f(l,s);function l(){return e(this,l),t(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"formatAt",value:function(d,r,h,T){if(l.compare(this.statics.blotName,h)<0&&c.default.query(h,c.default.Scope.BLOT)){var E=this.isolate(d,r);T&&E.wrap(h,T)}else y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"formatAt",this).call(this,d,r,h,T)}},{key:"optimize",value:function(d){if(y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,d),this.parent instanceof l&&l.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(d,r){var h=l.order.indexOf(d),T=l.order.indexOf(r);return h>=0||T>=0?h-T:d===r?0:d<r?-1:1}}]),l}(c.default.Inline);u.allowedChildren=[u,c.default.Embed,g.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=u},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(0),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){c(t,e);function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(y.default.Text);n.default=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function a(d,r){for(var h=0;h<r.length;h++){var T=r[h];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,r,h){return r&&a(d.prototype,r),h&&a(d,h),d}}(),y=function a(d,r,h){d===null&&(d=Function.prototype);var T=Object.getOwnPropertyDescriptor(d,r);if(T===void 0){var E=Object.getPrototypeOf(d);return E===null?void 0:a(E,r,h)}else{if("value"in T)return T.value;var k=T.get;return k===void 0?void 0:k.call(h)}},b=o(54),g=i(b),m=o(10),c=i(m);function i(a){return a&&a.__esModule?a:{default:a}}function e(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}function t(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:a}function f(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}var u=(0,c.default)("quill:events"),s=["selectionchange","mousedown","mouseup","click"];s.forEach(function(a){document.addEventListener(a,function(){for(var d=arguments.length,r=Array(d),h=0;h<d;h++)r[h]=arguments[h];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(T){if(T.__quill&&T.__quill.emitter){var E;(E=T.__quill.emitter).handleDOM.apply(E,r)}})})});var l=function(a){f(d,a);function d(){e(this,d);var r=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return r.listeners={},r.on("error",u.error),r}return _(d,[{key:"emit",value:function(){u.log.apply(u,arguments),y(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(h){for(var T=arguments.length,E=Array(T>1?T-1:0),k=1;k<T;k++)E[k-1]=arguments[k];(this.listeners[h.type]||[]).forEach(function(q){var A=q.node,O=q.handler;(h.target===A||A.contains(h.target))&&O.apply(void 0,[h].concat(E))})}},{key:"listenDOM",value:function(h,T,E){this.listeners[h]||(this.listeners[h]=[]),this.listeners[h].push({node:T,handler:E})}}]),d}(g.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},n.default=l},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});function _(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}var y=function b(g){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,b),this.quill=g,this.options=m};y.DEFAULTS={},n.default=y},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=["error","warn","log","info"],y="warn";function b(m){if(_.indexOf(m)<=_.indexOf(y)){for(var c,i=arguments.length,e=Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];(c=console)[m].apply(c,e)}}function g(m){return _.reduce(function(c,i){return c[i]=b.bind(console,i,m),c},{})}b.level=g.level=function(m){y=m},n.default=g},function(v,n,o){var _=Array.prototype.slice,y=o(52),b=o(53),g=v.exports=function(e,t,f){return f||(f={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?f.strict?e===t:e==t:i(e,t,f)};function m(e){return e==null}function c(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function i(e,t,f){var u,s;if(m(e)||m(t)||e.prototype!==t.prototype)return!1;if(b(e))return b(t)?(e=_.call(e),t=_.call(t),g(e,t,f)):!1;if(c(e)){if(!c(t)||e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var l=y(e),a=y(t)}catch{return!1}if(l.length!=a.length)return!1;for(l.sort(),a.sort(),u=l.length-1;u>=0;u--)if(l[u]!=a[u])return!1;for(u=l.length-1;u>=0;u--)if(s=l[u],!g(e[s],t[s],f))return!1;return typeof e==typeof t}},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(1),y=function(){function b(g,m,c){c===void 0&&(c={}),this.attrName=g,this.keyName=m;var i=_.Scope.TYPE&_.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&_.Scope.LEVEL|i:this.scope=_.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return b.keys=function(g){return[].map.call(g.attributes,function(m){return m.name})},b.prototype.add=function(g,m){return this.canAdd(g,m)?(g.setAttribute(this.keyName,m),!0):!1},b.prototype.canAdd=function(g,m){var c=_.query(g,_.Scope.BLOT&(this.scope|_.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof m=="string"?this.whitelist.indexOf(m.replace(/["']/g,""))>-1:this.whitelist.indexOf(m)>-1},b.prototype.remove=function(g){g.removeAttribute(this.keyName)},b.prototype.value=function(g){var m=g.getAttribute(this.keyName);return this.canAdd(g,m)&&m?m:""},b}();n.default=y},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var _=function(){function k(q,A){var O=[],w=!0,S=!1,L=void 0;try{for(var D=q[Symbol.iterator](),B;!(w=(B=D.next()).done)&&(O.push(B.value),!(A&&O.length===A));w=!0);}catch(H){S=!0,L=H}finally{try{!w&&D.return&&D.return()}finally{if(S)throw L}}return O}return function(q,A){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return k(q,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function k(q,A){for(var O=0;O<A.length;O++){var w=A[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(q,w.key,w)}}return function(q,A,O){return A&&k(q.prototype,A),O&&k(q,O),q}}(),b=function k(q,A,O){q===null&&(q=Function.prototype);var w=Object.getOwnPropertyDescriptor(q,A);if(w===void 0){var S=Object.getPrototypeOf(q);return S===null?void 0:k(S,A,O)}else{if("value"in w)return w.value;var L=w.get;return L===void 0?void 0:L.call(O)}},g=o(2),m=a(g),c=o(0),i=a(c),e=o(4),t=a(e),f=o(6),u=a(f),s=o(7),l=a(s);function a(k){return k&&k.__esModule?k:{default:k}}function d(k,q){if(!(k instanceof q))throw new TypeError("Cannot call a class as a function")}function r(k,q){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:k}function h(k,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);k.prototype=Object.create(q&&q.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(k,q):k.__proto__=q)}var T=function(k){h(q,k);function q(){return d(this,q),r(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return q}(u.default);T.blotName="code",T.tagName="CODE";var E=function(k){h(q,k);function q(){return d(this,q),r(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return y(q,[{key:"delta",value:function(){var O=this,w=this.domNode.textContent;return w.endsWith(`
`)&&(w=w.slice(0,-1)),w.split(`
`).reduce(function(S,L){return S.insert(L).insert(`
`,O.formats())},new m.default)}},{key:"format",value:function(O,w){if(!(O===this.statics.blotName&&w)){var S=this.descendant(l.default,this.length()-1),L=_(S,1),D=L[0];D?.deleteAt(D.length()-1,1),b(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,O,w)}}},{key:"formatAt",value:function(O,w,S,L){if(w!==0&&!(i.default.query(S,i.default.Scope.BLOCK)==null||S===this.statics.blotName&&L===this.statics.formats(this.domNode))){var D=this.newlineIndex(O);if(!(D<0||D>=O+w)){var B=this.newlineIndex(O,!0)+1,H=D-B+1,Y=this.isolate(B,H),M=Y.next;Y.format(S,L),M instanceof q&&M.formatAt(0,O-B+w-H,S,L)}}}},{key:"insertAt",value:function(O,w,S){if(S==null){var L=this.descendant(l.default,O),D=_(L,2),B=D[0],H=D[1];B.insertAt(H,w)}}},{key:"length",value:function(){var O=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?O:O+1}},{key:"newlineIndex",value:function(O){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w)return this.domNode.textContent.slice(0,O).lastIndexOf(`
`);var S=this.domNode.textContent.slice(O).indexOf(`
`);return S>-1?O+S:-1}},{key:"optimize",value:function(O){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),b(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,O);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(O),w.moveChildren(this),w.remove())}},{key:"replace",value:function(O){b(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,O),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var S=i.default.find(w);S==null?w.parentNode.removeChild(w):S instanceof i.default.Embed?S.remove():S.unwrap()})}}],[{key:"create",value:function(O){var w=b(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,O);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),q}(t.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",n.Code=T,n.default=E},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},y=function(){function M(I,N){var j=[],R=!0,U=!1,F=void 0;try{for(var P=I[Symbol.iterator](),C;!(R=(C=P.next()).done)&&(j.push(C.value),!(N&&j.length===N));R=!0);}catch(z){U=!0,F=z}finally{try{!R&&P.return&&P.return()}finally{if(U)throw F}}return j}return function(I,N){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return M(I,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function M(I,N){for(var j=0;j<N.length;j++){var R=N[j];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,N,j){return N&&M(I.prototype,N),j&&M(I,j),I}}(),g=o(2),m=w(g),c=o(20),i=w(c),e=o(0),t=w(e),f=o(13),u=w(f),s=o(24),l=w(s),a=o(4),d=w(a),r=o(16),h=w(r),T=o(21),E=w(T),k=o(11),q=w(k),A=o(3),O=w(A);function w(M){return M&&M.__esModule?M:{default:M}}function S(M,I,N){return I in M?Object.defineProperty(M,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[I]=N,M}function L(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")}var D=/^[ -~]*$/,B=function(){function M(I){L(this,M),this.scroll=I,this.delta=this.getDelta()}return b(M,[{key:"applyDelta",value:function(N){var j=this,R=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),N=Y(N),N.reduce(function(F,P){var C=P.retain||P.delete||P.insert.length||1,z=P.attributes||{};if(P.insert!=null){if(typeof P.insert=="string"){var K=P.insert;K.endsWith(`
`)&&R&&(R=!1,K=K.slice(0,-1)),F>=U&&!K.endsWith(`
`)&&(R=!0),j.scroll.insertAt(F,K);var V=j.scroll.line(F),J=y(V,2),te=J[0],ne=J[1],ae=(0,O.default)({},(0,a.bubbleFormats)(te));if(te instanceof d.default){var le=te.descendant(t.default.Leaf,ne),de=y(le,1),fe=de[0];ae=(0,O.default)(ae,(0,a.bubbleFormats)(fe))}z=i.default.attributes.diff(ae,z)||{}}else if(_(P.insert)==="object"){var G=Object.keys(P.insert)[0];if(G==null)return F;j.scroll.insertAt(F,G,P.insert[G])}U+=C}return Object.keys(z).forEach(function(W){j.scroll.formatAt(F,C,W,z[W])}),F+C},0),N.reduce(function(F,P){return typeof P.delete=="number"?(j.scroll.deleteAt(F,P.delete),F):F+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,j){return this.scroll.deleteAt(N,j),this.update(new m.default().retain(N).delete(j))}},{key:"formatLine",value:function(N,j){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(F){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[F])){var P=R.scroll.lines(N,Math.max(j,1)),C=j;P.forEach(function(z){var K=z.length();if(!(z instanceof u.default))z.format(F,U[F]);else{var V=N-z.offset(R.scroll),J=z.newlineIndex(V+C)-V+1;z.formatAt(V,J,F,U[F])}C-=K})}}),this.scroll.optimize(),this.update(new m.default().retain(N).retain(j,(0,E.default)(U)))}},{key:"formatText",value:function(N,j){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(F){R.scroll.formatAt(N,j,F,U[F])}),this.update(new m.default().retain(N).retain(j,(0,E.default)(U)))}},{key:"getContents",value:function(N,j){return this.delta.slice(N,N+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,j){return N.concat(j.delta())},new m.default)}},{key:"getFormat",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],U=[];j===0?this.scroll.path(N).forEach(function(P){var C=y(P,1),z=C[0];z instanceof d.default?R.push(z):z instanceof t.default.Leaf&&U.push(z)}):(R=this.scroll.lines(N,j),U=this.scroll.descendants(t.default.Leaf,N,j));var F=[R,U].map(function(P){if(P.length===0)return{};for(var C=(0,a.bubbleFormats)(P.shift());Object.keys(C).length>0;){var z=P.shift();if(z==null)return C;C=H((0,a.bubbleFormats)(z),C)}return C});return O.default.apply(O.default,F)}},{key:"getText",value:function(N,j){return this.getContents(N,j).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(N,j,R){return this.scroll.insertAt(N,j,R),this.update(new m.default().retain(N).insert(S({},j,R)))}},{key:"insertText",value:function(N,j){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,j),Object.keys(U).forEach(function(F){R.scroll.formatAt(N,j.length,F,U[F])}),this.update(new m.default().retain(N).insert(j,(0,E.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==d.default.blotName||N.children.length>1?!1:N.children.head instanceof h.default}},{key:"removeFormat",value:function(N,j){var R=this.getText(N,j),U=this.scroll.line(N+j),F=y(U,2),P=F[0],C=F[1],z=0,K=new m.default;P!=null&&(P instanceof u.default?z=P.newlineIndex(C)-C+1:z=P.length()-C,K=P.delta().slice(C,C+z-1).insert(`
`));var V=this.getContents(N,j+z),J=V.diff(new m.default().insert(R).concat(K)),te=new m.default().retain(N).concat(J);return this.applyDelta(te)}},{key:"update",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(D)&&t.default.find(j[0].target)){var F=t.default.find(j[0].target),P=(0,a.bubbleFormats)(F),C=F.offset(this.scroll),z=j[0].oldValue.replace(l.default.CONTENTS,""),K=new m.default().insert(z),V=new m.default().insert(F.value()),J=new m.default().retain(C).concat(K.diff(V,R));N=J.reduce(function(te,ne){return ne.insert?te.insert(ne.insert,P):te.push(ne)},new m.default),this.delta=U.compose(N)}else this.delta=this.getDelta(),(!N||!(0,q.default)(U.compose(N),this.delta))&&(N=U.diff(this.delta,R));return N}}]),M}();function H(M,I){return Object.keys(I).reduce(function(N,j){return M[j]==null||(I[j]===M[j]?N[j]=I[j]:Array.isArray(I[j])?I[j].indexOf(M[j])<0&&(N[j]=I[j].concat([M[j]])):N[j]=[I[j],M[j]]),N},{})}function Y(M){return M.reduce(function(I,N){if(N.insert===1){var j=(0,E.default)(N.attributes);return delete j.image,I.insert({image:N.attributes.image},j)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,E.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var R=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(R,N.attributes)}return I.push(N)},new m.default)}n.default=B},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var _=function(){function k(q,A){var O=[],w=!0,S=!1,L=void 0;try{for(var D=q[Symbol.iterator](),B;!(w=(B=D.next()).done)&&(O.push(B.value),!(A&&O.length===A));w=!0);}catch(H){S=!0,L=H}finally{try{!w&&D.return&&D.return()}finally{if(S)throw L}}return O}return function(q,A){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return k(q,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function k(q,A){for(var O=0;O<A.length;O++){var w=A[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(q,w.key,w)}}return function(q,A,O){return A&&k(q.prototype,A),O&&k(q,O),q}}(),b=o(0),g=l(b),m=o(21),c=l(m),i=o(11),e=l(i),t=o(8),f=l(t),u=o(10),s=l(u);function l(k){return k&&k.__esModule?k:{default:k}}function a(k){if(Array.isArray(k)){for(var q=0,A=Array(k.length);q<k.length;q++)A[q]=k[q];return A}else return Array.from(k)}function d(k,q){if(!(k instanceof q))throw new TypeError("Cannot call a class as a function")}var r=(0,s.default)("quill:selection"),h=function k(q){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;d(this,k),this.index=q,this.length=A},T=function(){function k(q,A){var O=this;d(this,k),this.emitter=A,this.scroll=q,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=g.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(w,S){w===f.default.events.TEXT_CHANGE&&S.length()>0&&O.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var w=O.getNativeRange();w!=null&&w.start.node!==O.cursor.textNode&&O.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch{}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(w,S){if(S.range){var L=S.range,D=L.startNode,B=L.startOffset,H=L.endNode,Y=L.endOffset;O.setNativeRange(D,B,H,Y)}}),this.update(f.default.sources.SILENT)}return y(k,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var O=A.cursor.restore();if(!O)return;setTimeout(function(){A.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,O){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var w=this.getNativeRange();if(!(w==null||!w.native.collapsed||g.default.query(A,g.default.Scope.BLOCK))){if(w.start.node!==this.cursor.textNode){var S=g.default.find(w.start.node,!1);if(S==null)return;if(S instanceof g.default.Leaf){var L=S.split(w.start.offset);S.parent.insertBefore(this.cursor,L)}else S.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(A,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=this.scroll.length();A=Math.min(A,w-1),O=Math.min(A+O,w-1)-A;var S=void 0,L=this.scroll.leaf(A),D=_(L,2),B=D[0],H=D[1];if(B==null)return null;var Y=B.position(H,!0),M=_(Y,2);S=M[0],H=M[1];var I=document.createRange();if(O>0){I.setStart(S,H);var N=this.scroll.leaf(A+O),j=_(N,2);if(B=j[0],H=j[1],B==null)return null;var R=B.position(H,!0),U=_(R,2);return S=U[0],H=U[1],I.setEnd(S,H),I.getBoundingClientRect()}else{var F="left",P=void 0;return S instanceof Text?(H<S.data.length?(I.setStart(S,H),I.setEnd(S,H+1)):(I.setStart(S,H-1),I.setEnd(S,H),F="right"),P=I.getBoundingClientRect()):(P=B.domNode.getBoundingClientRect(),H>0&&(F="right")),{bottom:P.top+P.height,height:P.height,left:P[F],right:P[F],top:P.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var O=A.getRangeAt(0);if(O==null)return null;var w=this.normalizeNative(O);return r.info("getNativeRange",w),w}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var O=this.normalizedToRange(A);return[O,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var O=this,w=[[A.start.node,A.start.offset]];A.native.collapsed||w.push([A.end.node,A.end.offset]);var S=w.map(function(B){var H=_(B,2),Y=H[0],M=H[1],I=g.default.find(Y,!0),N=I.offset(O.scroll);return M===0?N:I instanceof g.default.Container?N+I.length():N+I.index(Y,M)}),L=Math.min(Math.max.apply(Math,a(S)),this.scroll.length()-1),D=Math.min.apply(Math,[L].concat(a(S)));return new h(D,L-D)}},{key:"normalizeNative",value:function(A){if(!E(this.root,A.startContainer)||!A.collapsed&&!E(this.root,A.endContainer))return null;var O={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[O.start,O.end].forEach(function(w){for(var S=w.node,L=w.offset;!(S instanceof Text)&&S.childNodes.length>0;)if(S.childNodes.length>L)S=S.childNodes[L],L=0;else if(S.childNodes.length===L)S=S.lastChild,L=S instanceof Text?S.data.length:S.childNodes.length+1;else break;w.node=S,w.offset=L}),O}},{key:"rangeToNative",value:function(A){var O=this,w=A.collapsed?[A.index]:[A.index,A.index+A.length],S=[],L=this.scroll.length();return w.forEach(function(D,B){D=Math.min(L-1,D);var H=void 0,Y=O.scroll.leaf(D),M=_(Y,2),I=M[0],N=M[1],j=I.position(N,B!==0),R=_(j,2);H=R[0],N=R[1],S.push(H,N)}),S.length<2&&(S=S.concat(S)),S}},{key:"scrollIntoView",value:function(A){var O=this.lastRange;if(O!=null){var w=this.getBounds(O.index,O.length);if(w!=null){var S=this.scroll.length()-1,L=this.scroll.line(Math.min(O.index,S)),D=_(L,1),B=D[0],H=B;if(O.length>0){var Y=this.scroll.line(Math.min(O.index+O.length,S)),M=_(Y,1);H=M[0]}if(!(B==null||H==null)){var I=A.getBoundingClientRect();w.top<I.top?A.scrollTop-=I.top-w.top:w.bottom>I.bottom&&(A.scrollTop+=w.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(A,O){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r.info("setNativeRange",A,O,w,S),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||w.parentNode==null))){var D=document.getSelection();if(D!=null)if(A!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||L||A!==B.startContainer||O!==B.startOffset||w!==B.endContainer||S!==B.endOffset){A.tagName=="BR"&&(O=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),w.tagName=="BR"&&(S=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var H=document.createRange();H.setStart(A,O),H.setEnd(w,S),D.removeAllRanges(),D.addRange(H)}}else D.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;if(typeof O=="string"&&(w=O,O=!1),r.info("setRange",A),A!=null){var S=this.rangeToNative(A);this.setNativeRange.apply(this,a(S).concat([O]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,O=this.lastRange,w=this.getRange(),S=_(w,2),L=S[0],D=S[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(O,this.lastRange)){var B;!this.composing&&D!=null&&D.native.collapsed&&D.start.node!==this.cursor.textNode&&this.cursor.restore();var H=[f.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(O),A];if((B=this.emitter).emit.apply(B,[f.default.events.EDITOR_CHANGE].concat(H)),A!==f.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,H)}}}}]),k}();function E(k,q){try{q.parentNode}catch{return!1}return q instanceof Text&&(q=q.parentNode),k.contains(q)}n.Range=h,n.default=T},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function f(u,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,l){return s&&f(u.prototype,s),l&&f(u,l),u}}(),y=function f(u,s,l){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var d=Object.getPrototypeOf(u);return d===null?void 0:f(d,s,l)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(l)}},b=o(0),g=m(b);function m(f){return f&&f.__esModule?f:{default:f}}function c(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function e(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var t=function(f){e(u,f);function u(){return c(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return _(u,[{key:"insertInto",value:function(l,a){l.children.length===0?y(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"insertInto",this).call(this,l,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),u}(g.default.Embed);t.blotName="break",t.tagName="BR",n.default=t},function(v,n,o){var _=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){i(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(44),b=o(30),g=o(1),m=function(i){_(e,i);function e(t){var f=i.call(this,t)||this;return f.build(),f}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){i.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new y.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var u=c(f);t.insertBefore(u,t.children.head||void 0)}catch(s){if(s instanceof g.ParchmentError)return;throw s}})},e.prototype.deleteAt=function(t,f){if(t===0&&f===this.length())return this.remove();this.children.forEachAt(t,f,function(u,s,l){u.deleteAt(s,l)})},e.prototype.descendant=function(t,f){var u=this.children.find(f),s=u[0],l=u[1];return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,l]:s instanceof e?s.descendant(t,l):[null,-1]},e.prototype.descendants=function(t,f,u){f===void 0&&(f=0),u===void 0&&(u=Number.MAX_VALUE);var s=[],l=u;return this.children.forEachAt(f,u,function(a,d,r){(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&s.push(a),a instanceof e&&(s=s.concat(a.descendants(t,d,l))),l-=r}),s},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),i.prototype.detach.call(this)},e.prototype.formatAt=function(t,f,u,s){this.children.forEachAt(t,f,function(l,a,d){l.formatAt(a,d,u,s)})},e.prototype.insertAt=function(t,f,u){var s=this.children.find(t),l=s[0],a=s[1];if(l)l.insertAt(a,f,u);else{var d=u==null?g.create("text",f):g.create(f,u);this.appendChild(d)}},e.prototype.insertBefore=function(t,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(u){return t instanceof u}))throw new g.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,f)},e.prototype.length=function(){return this.children.reduce(function(t,f){return t+f.length()},0)},e.prototype.moveChildren=function(t,f){this.children.forEach(function(u){t.insertBefore(u,f)})},e.prototype.optimize=function(t){if(i.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var f=g.create(this.statics.defaultChild);this.appendChild(f),f.optimize(t)}else this.remove()},e.prototype.path=function(t,f){f===void 0&&(f=!1);var u=this.children.find(t,f),s=u[0],l=u[1],a=[[this,t]];return s instanceof e?a.concat(s.path(l,f)):(s!=null&&a.push([s,l]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),i.prototype.replace.call(this,t)},e.prototype.split=function(t,f){if(f===void 0&&(f=!1),!f){if(t===0)return this;if(t===this.length())return this.next}var u=this.clone();return this.parent.insertBefore(u,this.next),this.children.forEachAt(t,this.length(),function(s,l,a){s=s.split(l,f),u.appendChild(s)}),u},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,f){var u=this,s=[],l=[];t.forEach(function(a){a.target===u.domNode&&a.type==="childList"&&(s.push.apply(s,a.addedNodes),l.push.apply(l,a.removedNodes))}),l.forEach(function(a){if(!(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var d=g.find(a);d!=null&&(d.domNode.parentNode==null||d.domNode.parentNode===u.domNode)&&d.detach()}}),s.filter(function(a){return a.parentNode==u.domNode}).sort(function(a,d){return a===d?0:a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(a){var d=null;a.nextSibling!=null&&(d=g.find(a.nextSibling));var r=c(a);(r.next!=d||r.next==null)&&(r.parent!=null&&r.parent.removeChild(u),u.insertBefore(r,d||void 0))})},e}(b.default);function c(i){var e=g.find(i);if(e==null)try{e=g.create(i)}catch{e=g.create(g.Scope.INLINE),[].slice.call(i.childNodes).forEach(function(f){e.domNode.appendChild(f)}),i.parentNode&&i.parentNode.replaceChild(e.domNode,i),e.attach()}return e}n.default=m},function(v,n,o){var _=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){i(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(12),b=o(31),g=o(17),m=o(1),c=function(i){_(e,i);function e(t){var f=i.call(this,t)||this;return f.attributes=new b.default(f.domNode),f}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,f){var u=m.query(t);u instanceof y.default?this.attributes.attribute(u,f):f&&u!=null&&(t!==this.statics.blotName||this.formats()[t]!==f)&&this.replaceWith(t,f)},e.prototype.formats=function(){var t=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(t[this.statics.blotName]=f),t},e.prototype.replaceWith=function(t,f){var u=i.prototype.replaceWith.call(this,t,f);return this.attributes.copy(u),u},e.prototype.update=function(t,f){var u=this;i.prototype.update.call(this,t,f),t.some(function(s){return s.target===u.domNode&&s.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,f){var u=i.prototype.wrap.call(this,t,f);return u instanceof e&&u.statics.scope===this.statics.scope&&this.attributes.move(u),u},e}(g.default);n.default=c},function(v,n,o){var _=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var e in i)i.hasOwnProperty(e)&&(c[e]=i[e])};return function(c,i){m(c,i);function e(){this.constructor=c}c.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(30),b=o(1),g=function(m){_(c,m);function c(){return m!==null&&m.apply(this,arguments)||this}return c.value=function(i){return!0},c.prototype.index=function(i,e){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},c.prototype.position=function(i,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return i>0&&(t+=1),[this.parent.domNode,t]},c.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},c.scope=b.Scope.INLINE_BLOT,c}(y.default);n.default=g},function(v,n,o){var _=o(11),y=o(3),b={attributes:{compose:function(m,c,i){typeof m!="object"&&(m={}),typeof c!="object"&&(c={});var e=y(!0,{},c);i||(e=Object.keys(e).reduce(function(f,u){return e[u]!=null&&(f[u]=e[u]),f},{}));for(var t in m)m[t]!==void 0&&c[t]===void 0&&(e[t]=m[t]);return Object.keys(e).length>0?e:void 0},diff:function(m,c){typeof m!="object"&&(m={}),typeof c!="object"&&(c={});var i=Object.keys(m).concat(Object.keys(c)).reduce(function(e,t){return _(m[t],c[t])||(e[t]=c[t]===void 0?null:c[t]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(m,c,i){if(typeof m!="object")return c;if(typeof c=="object"){if(!i)return c;var e=Object.keys(c).reduce(function(t,f){return m[f]===void 0&&(t[f]=c[f]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(m){return new g(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function g(m){this.ops=m,this.index=0,this.offset=0}g.prototype.hasNext=function(){return this.peekLength()<1/0},g.prototype.next=function(m){m||(m=1/0);var c=this.ops[this.index];if(c){var i=this.offset,e=b.length(c);if(m>=e-i?(m=e-i,this.index+=1,this.offset=0):this.offset+=m,typeof c.delete=="number")return{delete:m};var t={};return c.attributes&&(t.attributes=c.attributes),typeof c.retain=="number"?t.retain=m:typeof c.insert=="string"?t.insert=c.insert.substr(i,m):t.insert=c.insert,t}else return{retain:1/0}},g.prototype.peek=function(){return this.ops[this.index]},g.prototype.peekLength=function(){return this.ops[this.index]?b.length(this.ops[this.index])-this.offset:1/0},g.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},g.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var m=this.offset,c=this.index,i=this.next(),e=this.ops.slice(this.index);return this.offset=m,this.index=c,[i].concat(e)}else return[]},v.exports=b},function(v,n){var o=function(){function _(u,s){return s!=null&&u instanceof s}var y;try{y=Map}catch{y=function(){}}var b;try{b=Set}catch{b=function(){}}var g;try{g=Promise}catch{g=function(){}}function m(u,s,l,a,d){typeof s=="object"&&(l=s.depth,a=s.prototype,d=s.includeNonEnumerable,s=s.circular);var r=[],h=[],T=typeof Buffer<"u";typeof s>"u"&&(s=!0),typeof l>"u"&&(l=1/0);function E(k,q){if(k===null)return null;if(q===0)return k;var A,O;if(typeof k!="object")return k;if(_(k,y))A=new y;else if(_(k,b))A=new b;else if(_(k,g))A=new g(function(I,N){k.then(function(j){I(E(j,q-1))},function(j){N(E(j,q-1))})});else if(m.__isArray(k))A=[];else if(m.__isRegExp(k))A=new RegExp(k.source,f(k)),k.lastIndex&&(A.lastIndex=k.lastIndex);else if(m.__isDate(k))A=new Date(k.getTime());else{if(T&&Buffer.isBuffer(k))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(k.length):A=new Buffer(k.length),k.copy(A),A;_(k,Error)?A=Object.create(k):typeof a>"u"?(O=Object.getPrototypeOf(k),A=Object.create(O)):(A=Object.create(a),O=a)}if(s){var w=r.indexOf(k);if(w!=-1)return h[w];r.push(k),h.push(A)}_(k,y)&&k.forEach(function(I,N){var j=E(N,q-1),R=E(I,q-1);A.set(j,R)}),_(k,b)&&k.forEach(function(I){var N=E(I,q-1);A.add(N)});for(var S in k){var L;O&&(L=Object.getOwnPropertyDescriptor(O,S)),!(L&&L.set==null)&&(A[S]=E(k[S],q-1))}if(Object.getOwnPropertySymbols)for(var D=Object.getOwnPropertySymbols(k),S=0;S<D.length;S++){var B=D[S],H=Object.getOwnPropertyDescriptor(k,B);H&&!H.enumerable&&!d||(A[B]=E(k[B],q-1),H.enumerable||Object.defineProperty(A,B,{enumerable:!1}))}if(d)for(var Y=Object.getOwnPropertyNames(k),S=0;S<Y.length;S++){var M=Y[S],H=Object.getOwnPropertyDescriptor(k,M);H&&H.enumerable||(A[M]=E(k[M],q-1),Object.defineProperty(A,M,{enumerable:!1}))}return A}return E(u,l)}m.clonePrototype=function(s){if(s===null)return null;var l=function(){};return l.prototype=s,new l};function c(u){return Object.prototype.toString.call(u)}m.__objToStr=c;function i(u){return typeof u=="object"&&c(u)==="[object Date]"}m.__isDate=i;function e(u){return typeof u=="object"&&c(u)==="[object Array]"}m.__isArray=e;function t(u){return typeof u=="object"&&c(u)==="[object RegExp]"}m.__isRegExp=t;function f(u){var s="";return u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),s}return m.__getRegExpFlags=f,m}();typeof v=="object"&&v.exports&&(v.exports=o)},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function A(O,w){var S=[],L=!0,D=!1,B=void 0;try{for(var H=O[Symbol.iterator](),Y;!(L=(Y=H.next()).done)&&(S.push(Y.value),!(w&&S.length===w));L=!0);}catch(M){D=!0,B=M}finally{try{!L&&H.return&&H.return()}finally{if(D)throw B}}return S}return function(O,w){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return A(O,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function A(O,w){for(var S=0;S<w.length;S++){var L=w[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,w,S){return w&&A(O.prototype,w),S&&A(O,S),O}}(),b=function A(O,w,S){O===null&&(O=Function.prototype);var L=Object.getOwnPropertyDescriptor(O,w);if(L===void 0){var D=Object.getPrototypeOf(O);return D===null?void 0:A(D,w,S)}else{if("value"in L)return L.value;var B=L.get;return B===void 0?void 0:B.call(S)}},g=o(0),m=r(g),c=o(8),i=r(c),e=o(4),t=r(e),f=o(16),u=r(f),s=o(13),l=r(s),a=o(25),d=r(a);function r(A){return A&&A.__esModule?A:{default:A}}function h(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function T(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function E(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}function k(A){return A instanceof t.default||A instanceof e.BlockEmbed}var q=function(A){E(O,A);function O(w,S){h(this,O);var L=T(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,w));return L.emitter=S.emitter,Array.isArray(S.whitelist)&&(L.whitelist=S.whitelist.reduce(function(D,B){return D[B]=!0,D},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return y(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(S,L){var D=this.line(S),B=_(D,2),H=B[0],Y=B[1],M=this.line(S+L),I=_(M,1),N=I[0];if(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,S,L),N!=null&&H!==N&&Y>0){if(H instanceof e.BlockEmbed||N instanceof e.BlockEmbed){this.optimize();return}if(H instanceof l.default){var j=H.newlineIndex(H.length(),!0);if(j>-1&&(H=H.split(j+1),H===N)){this.optimize();return}}else if(N instanceof l.default){var R=N.newlineIndex(0);R>-1&&N.split(R+1)}var U=N.children.head instanceof u.default?null:N.children.head;H.moveChildren(N,U),H.remove()}this.optimize()}},{key:"enable",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",S)}},{key:"formatAt",value:function(S,L,D,B){this.whitelist!=null&&!this.whitelist[D]||(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,S,L,D,B),this.optimize())}},{key:"insertAt",value:function(S,L,D){if(!(D!=null&&this.whitelist!=null&&!this.whitelist[L])){if(S>=this.length())if(D==null||m.default.query(L,m.default.Scope.BLOCK)==null){var B=m.default.create(this.statics.defaultChild);this.appendChild(B),D==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),B.insertAt(0,L,D)}else{var H=m.default.create(L,D);this.appendChild(H)}else b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,S,L,D);this.optimize()}}},{key:"insertBefore",value:function(S,L){if(S.statics.scope===m.default.Scope.INLINE_BLOT){var D=m.default.create(this.statics.defaultChild);D.appendChild(S),S=D}b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,S,L)}},{key:"leaf",value:function(S){return this.path(S).pop()||[null,-1]}},{key:"line",value:function(S){return S===this.length()?this.line(S-1):this.descendant(k,S)}},{key:"lines",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,D=function B(H,Y,M){var I=[],N=M;return H.children.forEachAt(Y,M,function(j,R,U){k(j)?I.push(j):j instanceof m.default.Container&&(I=I.concat(B(j,R,N))),N-=U}),I};return D(this,S,L)}},{key:"optimize",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,S,L),S.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,S,L))}},{key:"path",value:function(S){return b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,S).slice(1)}},{key:"update",value:function(S){if(this.batch!==!0){var L=i.default.sources.USER;typeof S=="string"&&(L=S),Array.isArray(S)||(S=this.observer.takeRecords()),S.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,L,S),b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,S.concat([])),S.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,L,S)}}}]),O}(m.default.Scroll);q.blotName="scroll",q.className="ql-editor",q.tagName="DIV",q.defaultChild="block",q.allowedChildren=[t.default,e.BlockEmbed,d.default],n.default=q},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},y=function(){function P(C,z){var K=[],V=!0,J=!1,te=void 0;try{for(var ne=C[Symbol.iterator](),ae;!(V=(ae=ne.next()).done)&&(K.push(ae.value),!(z&&K.length===z));V=!0);}catch(le){J=!0,te=le}finally{try{!V&&ne.return&&ne.return()}finally{if(J)throw te}}return K}return function(C,z){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return P(C,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function P(C,z){for(var K=0;K<z.length;K++){var V=z[K];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(C,V.key,V)}}return function(C,z,K){return z&&P(C.prototype,z),K&&P(C,K),C}}(),g=o(21),m=A(g),c=o(11),i=A(c),e=o(3),t=A(e),f=o(2),u=A(f),s=o(20),l=A(s),a=o(0),d=A(a),r=o(5),h=A(r),T=o(10),E=A(T),k=o(9),q=A(k);function A(P){return P&&P.__esModule?P:{default:P}}function O(P,C,z){return C in P?Object.defineProperty(P,C,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[C]=z,P}function w(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function S(P,C){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:P}function L(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(P,C):P.__proto__=C)}var D=(0,E.default)("quill:keyboard"),B=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",H=function(P){L(C,P),b(C,null,[{key:"match",value:function(K,V){return V=F(V),["altKey","ctrlKey","metaKey","shiftKey"].some(function(J){return!!V[J]!==K[J]&&V[J]!==null})?!1:V.key===(K.which||K.keyCode)}}]);function C(z,K){w(this,C);var V=S(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,z,K));return V.bindings={},Object.keys(V.options.bindings).forEach(function(J){J==="list autofill"&&z.scroll.whitelist!=null&&!z.scroll.whitelist.list||V.options.bindings[J]&&V.addBinding(V.options.bindings[J])}),V.addBinding({key:C.keys.ENTER,shiftKey:null},j),V.addBinding({key:C.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(V.addBinding({key:C.keys.BACKSPACE},{collapsed:!0},M),V.addBinding({key:C.keys.DELETE},{collapsed:!0},I)):(V.addBinding({key:C.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),V.addBinding({key:C.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),V.addBinding({key:C.keys.BACKSPACE},{collapsed:!1},N),V.addBinding({key:C.keys.DELETE},{collapsed:!1},N),V.addBinding({key:C.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),V.listen(),V}return b(C,[{key:"addBinding",value:function(K){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=F(K);if(te==null||te.key==null)return D.warn("Attempted to add invalid keyboard binding",te);typeof V=="function"&&(V={handler:V}),typeof J=="function"&&(J={handler:J}),te=(0,t.default)(te,V,J),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(V){if(!V.defaultPrevented){var J=V.which||V.keyCode,te=(K.bindings[J]||[]).filter(function(se){return C.match(V,se)});if(te.length!==0){var ne=K.quill.getSelection();if(!(ne==null||!K.quill.hasFocus())){var ae=K.quill.getLine(ne.index),le=y(ae,2),de=le[0],fe=le[1],G=K.quill.getLeaf(ne.index),W=y(G,2),X=W[0],Q=W[1],Z=ne.length===0?[X,Q]:K.quill.getLeaf(ne.index+ne.length),re=y(Z,2),ie=re[0],oe=re[1],ve=X instanceof d.default.Text?X.value().slice(0,Q):"",ye=ie instanceof d.default.Text?ie.value().slice(oe):"",ue={collapsed:ne.length===0,empty:ne.length===0&&de.length()<=1,format:K.quill.getFormat(ne),offset:fe,prefix:ve,suffix:ye},So=te.some(function(se){if(se.collapsed!=null&&se.collapsed!==ue.collapsed||se.empty!=null&&se.empty!==ue.empty||se.offset!=null&&se.offset!==ue.offset)return!1;if(Array.isArray(se.format)){if(se.format.every(function(be){return ue.format[be]==null}))return!1}else if(_(se.format)==="object"&&!Object.keys(se.format).every(function(be){return se.format[be]===!0?ue.format[be]!=null:se.format[be]===!1?ue.format[be]==null:(0,i.default)(se.format[be],ue.format[be])}))return!1;return se.prefix!=null&&!se.prefix.test(ue.prefix)||se.suffix!=null&&!se.suffix.test(ue.suffix)?!1:se.handler.call(K,ne,ue)!==!0});So&&V.preventDefault()}}}})}}]),C}(q.default);H.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},H.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:H.keys.TAB,format:["blockquote","indent","list"],handler:function(C,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:H.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(C,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:H.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(C,z){z.format.indent!=null?this.quill.format("indent","-1",h.default.sources.USER):z.format.list!=null&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:H.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(C){this.quill.deleteText(C.index-1,1,h.default.sources.USER)}},tab:{key:H.keys.TAB,handler:function(C){this.quill.history.cutoff();var z=new u.default().retain(C.index).delete(C.length).insert("	");this.quill.updateContents(z,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(C.index+1,h.default.sources.SILENT)}},"list empty enter":{key:H.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(C,z){this.quill.format("list",!1,h.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:H.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(C){var z=this.quill.getLine(C.index),K=y(z,2),V=K[0],J=K[1],te=(0,t.default)({},V.formats(),{list:"checked"}),ne=new u.default().retain(C.index).insert(`
`,te).retain(V.length()-J-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,h.default.sources.USER),this.quill.setSelection(C.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:H.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(C,z){var K=this.quill.getLine(C.index),V=y(K,2),J=V[0],te=V[1],ne=new u.default().retain(C.index).insert(`
`,z.format).retain(J.length()-te-1).retain(1,{header:null});this.quill.updateContents(ne,h.default.sources.USER),this.quill.setSelection(C.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(C,z){var K=z.prefix.length,V=this.quill.getLine(C.index),J=y(V,2),te=J[0],ne=J[1];if(ne>K)return!0;var ae=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":ae="unchecked";break;case"[x]":ae="checked";break;case"-":case"*":ae="bullet";break;default:ae="ordered"}this.quill.insertText(C.index," ",h.default.sources.USER),this.quill.history.cutoff();var le=new u.default().retain(C.index-ne).delete(K+1).retain(te.length()-2-ne).retain(1,{list:ae});this.quill.updateContents(le,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(C.index-K,h.default.sources.SILENT)}},"code exit":{key:H.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(C){var z=this.quill.getLine(C.index),K=y(z,2),V=K[0],J=K[1],te=new u.default().retain(C.index+V.length()-J-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,h.default.sources.USER)}},"embed left":Y(H.keys.LEFT,!1),"embed left shift":Y(H.keys.LEFT,!0),"embed right":Y(H.keys.RIGHT,!1),"embed right shift":Y(H.keys.RIGHT,!0)}};function Y(P,C){var z,K=P===H.keys.LEFT?"prefix":"suffix";return z={key:P,shiftKey:C,altKey:null},O(z,K,/^$/),O(z,"handler",function(J){var te=J.index;P===H.keys.RIGHT&&(te+=J.length+1);var ne=this.quill.getLeaf(te),ae=y(ne,1),le=ae[0];return le instanceof d.default.Embed?(P===H.keys.LEFT?C?this.quill.setSelection(J.index-1,J.length+1,h.default.sources.USER):this.quill.setSelection(J.index-1,h.default.sources.USER):C?this.quill.setSelection(J.index,J.length+1,h.default.sources.USER):this.quill.setSelection(J.index+J.length+1,h.default.sources.USER),!1):!0}),z}function M(P,C){if(!(P.index===0||this.quill.getLength()<=1)){var z=this.quill.getLine(P.index),K=y(z,1),V=K[0],J={};if(C.offset===0){var te=this.quill.getLine(P.index-1),ne=y(te,1),ae=ne[0];if(ae!=null&&ae.length()>1){var le=V.formats(),de=this.quill.getFormat(P.index-1,1);J=l.default.attributes.diff(le,de)||{}}}var fe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(C.prefix)?2:1;this.quill.deleteText(P.index-fe,fe,h.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(P.index-fe,fe,J,h.default.sources.USER),this.quill.focus()}}function I(P,C){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(C.suffix)?2:1;if(!(P.index>=this.quill.getLength()-z)){var K={},V=0,J=this.quill.getLine(P.index),te=y(J,1),ne=te[0];if(C.offset>=ne.length()-1){var ae=this.quill.getLine(P.index+1),le=y(ae,1),de=le[0];if(de){var fe=ne.formats(),G=this.quill.getFormat(P.index,1);K=l.default.attributes.diff(fe,G)||{},V=de.length()}}this.quill.deleteText(P.index,z,h.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(P.index+V-1,z,K,h.default.sources.USER)}}function N(P){var C=this.quill.getLines(P),z={};if(C.length>1){var K=C[0].formats(),V=C[C.length-1].formats();z=l.default.attributes.diff(V,K)||{}}this.quill.deleteText(P,h.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(P.index,1,z,h.default.sources.USER),this.quill.setSelection(P.index,h.default.sources.SILENT),this.quill.focus()}function j(P,C){var z=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var K=Object.keys(C.format).reduce(function(V,J){return d.default.query(J,d.default.Scope.BLOCK)&&!Array.isArray(C.format[J])&&(V[J]=C.format[J]),V},{});this.quill.insertText(P.index,`
`,K,h.default.sources.USER),this.quill.setSelection(P.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(C.format).forEach(function(V){K[V]==null&&(Array.isArray(C.format[V])||V!=="link"&&z.quill.format(V,C.format[V],h.default.sources.USER))})}function R(P){return{key:H.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(z){var K=d.default.query("code-block"),V=z.index,J=z.length,te=this.quill.scroll.descendant(K,V),ne=y(te,2),ae=ne[0],le=ne[1];if(ae!=null){var de=this.quill.getIndex(ae),fe=ae.newlineIndex(le,!0)+1,G=ae.newlineIndex(de+le+J),W=ae.domNode.textContent.slice(fe,G).split(`
`);le=0,W.forEach(function(X,Q){P?(ae.insertAt(fe+le,K.TAB),le+=K.TAB.length,Q===0?V+=K.TAB.length:J+=K.TAB.length):X.startsWith(K.TAB)&&(ae.deleteAt(fe+le,K.TAB.length),le-=K.TAB.length,Q===0?V-=K.TAB.length:J-=K.TAB.length),le+=X.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(V,J,h.default.sources.SILENT)}}}}function U(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(z,K){this.quill.format(P,!K.format[P],h.default.sources.USER)}}}function F(P){if(typeof P=="string"||typeof P=="number")return F({key:P});if((typeof P>"u"?"undefined":_(P))==="object"&&(P=(0,m.default)(P,!1)),typeof P.key=="string")if(H.keys[P.key.toUpperCase()]!=null)P.key=H.keys[P.key.toUpperCase()];else if(P.key.length===1)P.key=P.key.toUpperCase().charCodeAt(0);else return null;return P.shortKey&&(P[B]=P.shortKey,delete P.shortKey),P}n.default=H,n.SHORTKEY=B},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function l(a,d){var r=[],h=!0,T=!1,E=void 0;try{for(var k=a[Symbol.iterator](),q;!(h=(q=k.next()).done)&&(r.push(q.value),!(d&&r.length===d));h=!0);}catch(A){T=!0,E=A}finally{try{!h&&k.return&&k.return()}finally{if(T)throw E}}return r}return function(a,d){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return l(a,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function l(a,d,r){a===null&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,d);if(h===void 0){var T=Object.getPrototypeOf(a);return T===null?void 0:l(T,d,r)}else{if("value"in h)return h.value;var E=h.get;return E===void 0?void 0:E.call(r)}},b=function(){function l(a,d){for(var r=0;r<d.length;r++){var h=d[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,d,r){return d&&l(a.prototype,d),r&&l(a,r),a}}(),g=o(0),m=e(g),c=o(7),i=e(c);function e(l){return l&&l.__esModule?l:{default:l}}function t(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function f(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function u(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var s=function(l){u(a,l),b(a,null,[{key:"value",value:function(){}}]);function a(d,r){t(this,a);var h=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d));return h.selection=r,h.textNode=document.createTextNode(a.CONTENTS),h.domNode.appendChild(h.textNode),h._length=0,h}return b(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(r,h){if(this._length!==0)return y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,r,h);for(var T=this,E=0;T!=null&&T.statics.scope!==m.default.Scope.BLOCK_BLOT;)E+=T.offset(T.parent),T=T.parent;T!=null&&(this._length=a.CONTENTS.length,T.optimize(),T.formatAt(E,a.CONTENTS.length,r,h),this._length=0)}},{key:"index",value:function(r,h){return r===this.textNode?0:y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,r,h)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var r=this.textNode,h=this.selection.getNativeRange(),T=void 0,E=void 0,k=void 0;if(h!=null&&h.start.node===r&&h.end.node===r){var q=[r,h.start.offset,h.end.offset];T=q[0],E=q[1],k=q[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var A=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof i.default?(T=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=a.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var O=[E,k].map(function(S){return Math.max(0,Math.min(T.data.length,S-1))}),w=_(O,2);return E=w[0],k=w[1],{startNode:T,startOffset:E,endNode:T,endOffset:k}}}}},{key:"update",value:function(r,h){var T=this;if(r.some(function(k){return k.type==="characterData"&&k.target===T.textNode})){var E=this.restore();E&&(h.range=E)}}},{key:"value",value:function(){return""}}]),a}(m.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\uFEFF",n.default=s},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(0),y=m(_),b=o(4),g=m(b);function m(f){return f&&f.__esModule?f:{default:f}}function c(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function e(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var t=function(f){e(u,f);function u(){return c(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return u}(y.default.Container);t.allowedChildren=[g.default,b.BlockEmbed,t],n.default=t},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var _=function(){function s(l,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}return function(l,a,d){return a&&s(l.prototype,a),d&&s(l,d),l}}(),y=function s(l,a,d){l===null&&(l=Function.prototype);var r=Object.getOwnPropertyDescriptor(l,a);if(r===void 0){var h=Object.getPrototypeOf(l);return h===null?void 0:s(h,a,d)}else{if("value"in r)return r.value;var T=r.get;return T===void 0?void 0:T.call(d)}},b=o(0),g=m(b);function m(s){return s&&s.__esModule?s:{default:s}}function c(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function i(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function e(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var t=function(s){e(l,s);function l(){return c(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"value",value:function(d){var r=y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,d);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(h){return("00"+parseInt(h).toString(16)).slice(-2)}).join("")):r}}]),l}(g.default.Attributor.Style),f=new g.default.Attributor.Class("color","ql-color",{scope:g.default.Scope.INLINE}),u=new t("color","color",{scope:g.default.Scope.INLINE});n.ColorAttributor=t,n.ColorClass=f,n.ColorStyle=u},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var _=function(){function u(s,l){for(var a=0;a<l.length;a++){var d=l[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,l,a){return l&&u(s.prototype,l),a&&u(s,a),s}}(),y=function u(s,l,a){s===null&&(s=Function.prototype);var d=Object.getOwnPropertyDescriptor(s,l);if(d===void 0){var r=Object.getPrototypeOf(s);return r===null?void 0:u(r,l,a)}else{if("value"in d)return d.value;var h=d.get;return h===void 0?void 0:h.call(a)}},b=o(6),g=m(b);function m(u){return u&&u.__esModule?u:{default:u}}function c(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function i(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function e(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var t=function(u){e(s,u);function s(){return c(this,s),i(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _(s,[{key:"format",value:function(a,d){if(a!==this.statics.blotName||!d)return y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,a,d);d=this.constructor.sanitize(d),this.domNode.setAttribute("href",d)}}],[{key:"create",value:function(a){var d=y(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,a);return a=this.sanitize(a),d.setAttribute("href",a),d.setAttribute("rel","noopener noreferrer"),d.setAttribute("target","_blank"),d}},{key:"formats",value:function(a){return a.getAttribute("href")}},{key:"sanitize",value:function(a){return f(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}}]),s}(g.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function f(u,s){var l=document.createElement("a");l.href=u;var a=l.href.slice(0,l.href.indexOf(":"));return s.indexOf(a)>-1}n.default=t,n.sanitize=f},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},y=function(){function s(l,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}return function(l,a,d){return a&&s(l.prototype,a),d&&s(l,d),l}}(),b=o(23),g=i(b),m=o(107),c=i(m);function i(s){return s&&s.__esModule?s:{default:s}}function e(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var t=0;function f(s,l){s.setAttribute(l,s.getAttribute(l)!=="true")}var u=function(){function s(l){var a=this;e(this,s),this.select=l,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){a.togglePicker()}),this.label.addEventListener("keydown",function(d){switch(d.keyCode){case g.default.keys.ENTER:a.togglePicker();break;case g.default.keys.ESCAPE:a.escape(),d.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return y(s,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(a){var d=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),a.hasAttribute("value")&&r.setAttribute("data-value",a.getAttribute("value")),a.textContent&&r.setAttribute("data-label",a.textContent),r.addEventListener("click",function(){d.selectItem(r,!0)}),r.addEventListener("keydown",function(h){switch(h.keyCode){case g.default.keys.ENTER:d.selectItem(r,!0),h.preventDefault();break;case g.default.keys.ESCAPE:d.escape(),h.preventDefault();break}}),r}},{key:"buildLabel",value:function(){var a=document.createElement("span");return a.classList.add("ql-picker-label"),a.innerHTML=c.default,a.tabIndex="0",a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),this.container.appendChild(a),a}},{key:"buildOptions",value:function(){var a=this,d=document.createElement("span");d.classList.add("ql-picker-options"),d.setAttribute("aria-hidden","true"),d.tabIndex="-1",d.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",d.id),this.options=d,[].slice.call(this.select.options).forEach(function(r){var h=a.buildItem(r);d.appendChild(h),r.selected===!0&&a.selectItem(h)}),this.container.appendChild(d)}},{key:"buildPicker",value:function(){var a=this;[].slice.call(this.select.attributes).forEach(function(d){a.container.setAttribute(d.name,d.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var a=this;this.close(),setTimeout(function(){return a.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.container.querySelector(".ql-selected");if(a!==r&&(r?.classList.remove("ql-selected"),a!=null&&(a.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(a.parentNode.children,a),a.hasAttribute("data-value")?this.label.setAttribute("data-value",a.getAttribute("data-value")):this.label.removeAttribute("data-value"),a.hasAttribute("data-label")?this.label.setAttribute("data-label",a.getAttribute("data-label")):this.label.removeAttribute("data-label"),d))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":_(Event))==="object"){var h=document.createEvent("Event");h.initEvent("change",!0,!0),this.select.dispatchEvent(h)}this.close()}}},{key:"update",value:function(){var a=void 0;if(this.select.selectedIndex>-1){var d=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];a=this.select.options[this.select.selectedIndex],this.selectItem(d)}else this.selectItem(null);var r=a!=null&&a!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),s}();n.default=u},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(0),y=D(_),b=o(5),g=D(b),m=o(4),c=D(m),i=o(16),e=D(i),t=o(25),f=D(t),u=o(24),s=D(u),l=o(35),a=D(l),d=o(6),r=D(d),h=o(22),T=D(h),E=o(7),k=D(E),q=o(55),A=D(q),O=o(42),w=D(O),S=o(23),L=D(S);function D(B){return B&&B.__esModule?B:{default:B}}g.default.register({"blots/block":c.default,"blots/block/embed":m.BlockEmbed,"blots/break":e.default,"blots/container":f.default,"blots/cursor":s.default,"blots/embed":a.default,"blots/inline":r.default,"blots/scroll":T.default,"blots/text":k.default,"modules/clipboard":A.default,"modules/history":w.default,"modules/keyboard":L.default}),y.default.register(c.default,e.default,s.default,r.default,T.default,k.default),n.default=g.default},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(1),y=function(){function b(g){this.domNode=g,this.domNode[_.DATA_KEY]={blot:this}}return Object.defineProperty(b.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),b.create=function(g){if(this.tagName==null)throw new _.ParchmentError("Blot definition missing tagName");var m;return Array.isArray(this.tagName)?(typeof g=="string"&&(g=g.toUpperCase(),parseInt(g).toString()===g&&(g=parseInt(g))),typeof g=="number"?m=document.createElement(this.tagName[g-1]):this.tagName.indexOf(g)>-1?m=document.createElement(g):m=document.createElement(this.tagName[0])):m=document.createElement(this.tagName),this.className&&m.classList.add(this.className),m},b.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},b.prototype.clone=function(){var g=this.domNode.cloneNode(!1);return _.create(g)},b.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[_.DATA_KEY]},b.prototype.deleteAt=function(g,m){var c=this.isolate(g,m);c.remove()},b.prototype.formatAt=function(g,m,c,i){var e=this.isolate(g,m);if(_.query(c,_.Scope.BLOT)!=null&&i)e.wrap(c,i);else if(_.query(c,_.Scope.ATTRIBUTE)!=null){var t=_.create(this.statics.scope);e.wrap(t),t.format(c,i)}},b.prototype.insertAt=function(g,m,c){var i=c==null?_.create("text",m):_.create(m,c),e=this.split(g);this.parent.insertBefore(i,e)},b.prototype.insertInto=function(g,m){m===void 0&&(m=null),this.parent!=null&&this.parent.children.remove(this);var c=null;g.children.insertBefore(this,m),m!=null&&(c=m.domNode),(this.domNode.parentNode!=g.domNode||this.domNode.nextSibling!=c)&&g.domNode.insertBefore(this.domNode,c),this.parent=g,this.attach()},b.prototype.isolate=function(g,m){var c=this.split(g);return c.split(m),c},b.prototype.length=function(){return 1},b.prototype.offset=function(g){return g===void 0&&(g=this.parent),this.parent==null||this==g?0:this.parent.children.offset(this)+this.parent.offset(g)},b.prototype.optimize=function(g){this.domNode[_.DATA_KEY]!=null&&delete this.domNode[_.DATA_KEY].mutations},b.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},b.prototype.replace=function(g){g.parent!=null&&(g.parent.insertBefore(this,g.next),g.remove())},b.prototype.replaceWith=function(g,m){var c=typeof g=="string"?_.create(g,m):g;return c.replace(this),c},b.prototype.split=function(g,m){return g===0?this:this.next},b.prototype.update=function(g,m){},b.prototype.wrap=function(g,m){var c=typeof g=="string"?_.create(g,m):g;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},b.blotName="abstract",b}();n.default=y},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(12),y=o(32),b=o(33),g=o(1),m=function(){function c(i){this.attributes={},this.domNode=i,this.build()}return c.prototype.attribute=function(i,e){e?i.add(this.domNode,e)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])},c.prototype.build=function(){var i=this;this.attributes={};var e=_.default.keys(this.domNode),t=y.default.keys(this.domNode),f=b.default.keys(this.domNode);e.concat(t).concat(f).forEach(function(u){var s=g.query(u,g.Scope.ATTRIBUTE);s instanceof _.default&&(i.attributes[s.attrName]=s)})},c.prototype.copy=function(i){var e=this;Object.keys(this.attributes).forEach(function(t){var f=e.attributes[t].value(e.domNode);i.format(t,f)})},c.prototype.move=function(i){var e=this;this.copy(i),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},c.prototype.values=function(){var i=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=i.attributes[t].value(i.domNode),e},{})},c}();n.default=m},function(v,n,o){var _=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var e in i)i.hasOwnProperty(e)&&(c[e]=i[e])};return function(c,i){m(c,i);function e(){this.constructor=c}c.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(12);function b(m,c){var i=m.getAttribute("class")||"";return i.split(/\s+/).filter(function(e){return e.indexOf(c+"-")===0})}var g=function(m){_(c,m);function c(){return m!==null&&m.apply(this,arguments)||this}return c.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},c.prototype.add=function(i,e){return this.canAdd(i,e)?(this.remove(i),i.classList.add(this.keyName+"-"+e),!0):!1},c.prototype.remove=function(i){var e=b(i,this.keyName);e.forEach(function(t){i.classList.remove(t)}),i.classList.length===0&&i.removeAttribute("class")},c.prototype.value=function(i){var e=b(i,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(i,t)?t:""},c}(y.default);n.default=g},function(v,n,o){var _=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var e in i)i.hasOwnProperty(e)&&(c[e]=i[e])};return function(c,i){m(c,i);function e(){this.constructor=c}c.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(12);function b(m){var c=m.split("-"),i=c.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return c[0]+i}var g=function(m){_(c,m);function c(){return m!==null&&m.apply(this,arguments)||this}return c.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},c.prototype.add=function(i,e){return this.canAdd(i,e)?(i.style[b(this.keyName)]=e,!0):!1},c.prototype.remove=function(i){i.style[b(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},c.prototype.value=function(i){var e=i.style[b(this.keyName)];return this.canAdd(i,e)?e:""},c}(y.default);n.default=g},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function g(m,c){for(var i=0;i<c.length;i++){var e=c[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,c,i){return c&&g(m.prototype,c),i&&g(m,i),m}}();function y(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}var b=function(){function g(m,c){y(this,g),this.quill=m,this.options=c,this.modules={}}return _(g,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(i){c.modules[i]==null&&c.addModule(i)})}},{key:"addModule",value:function(c){var i=this.quill.constructor.import("modules/"+c);return this.modules[c]=new i(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),g}();b.DEFAULTS={modules:{}},b.themes={default:b},n.default=b},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function l(a,d){for(var r=0;r<d.length;r++){var h=d[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,d,r){return d&&l(a.prototype,d),r&&l(a,r),a}}(),y=function l(a,d,r){a===null&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,d);if(h===void 0){var T=Object.getPrototypeOf(a);return T===null?void 0:l(T,d,r)}else{if("value"in h)return h.value;var E=h.get;return E===void 0?void 0:E.call(r)}},b=o(0),g=i(b),m=o(7),c=i(m);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function t(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function f(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var u="\uFEFF",s=function(l){f(a,l);function a(d){e(this,a);var r=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(h){r.contentNode.appendChild(h)}),r.leftGuard=document.createTextNode(u),r.rightGuard=document.createTextNode(u),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return _(a,[{key:"index",value:function(r,h){return r===this.leftGuard?0:r===this.rightGuard?1:y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,r,h)}},{key:"restore",value:function(r){var h=void 0,T=void 0,E=r.data.split(u).join("");if(r===this.leftGuard)if(this.prev instanceof c.default){var k=this.prev.length();this.prev.insertAt(k,E),h={startNode:this.prev.domNode,startOffset:k+E.length}}else T=document.createTextNode(E),this.parent.insertBefore(g.default.create(T),this),h={startNode:T,startOffset:E.length};else r===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,E),h={startNode:this.next.domNode,startOffset:E.length}):(T=document.createTextNode(E),this.parent.insertBefore(g.default.create(T),this.next),h={startNode:T,startOffset:E.length}));return r.data=u,h}},{key:"update",value:function(r,h){var T=this;r.forEach(function(E){if(E.type==="characterData"&&(E.target===T.leftGuard||E.target===T.rightGuard)){var k=T.restore(E.target);k&&(h.range=k)}})}}]),a}(g.default.Embed);n.default=s},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var _=o(0),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}var g={scope:y.default.Scope.BLOCK,whitelist:["right","center","justify"]},m=new y.default.Attributor.Attribute("align","align",g),c=new y.default.Attributor.Class("align","ql-align",g),i=new y.default.Attributor.Style("align","text-align",g);n.AlignAttribute=m,n.AlignClass=c,n.AlignStyle=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var _=o(0),y=g(_),b=o(26);function g(i){return i&&i.__esModule?i:{default:i}}var m=new y.default.Attributor.Class("background","ql-bg",{scope:y.default.Scope.INLINE}),c=new b.ColorAttributor("background","background-color",{scope:y.default.Scope.INLINE});n.BackgroundClass=m,n.BackgroundStyle=c},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var _=o(0),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}var g={scope:y.default.Scope.BLOCK,whitelist:["rtl"]},m=new y.default.Attributor.Attribute("direction","dir",g),c=new y.default.Attributor.Class("direction","ql-direction",g),i=new y.default.Attributor.Style("direction","direction",g);n.DirectionAttribute=m,n.DirectionClass=c,n.DirectionStyle=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var _=function(){function l(a,d){for(var r=0;r<d.length;r++){var h=d[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,d,r){return d&&l(a.prototype,d),r&&l(a,r),a}}(),y=function l(a,d,r){a===null&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,d);if(h===void 0){var T=Object.getPrototypeOf(a);return T===null?void 0:l(T,d,r)}else{if("value"in h)return h.value;var E=h.get;return E===void 0?void 0:E.call(r)}},b=o(0),g=m(b);function m(l){return l&&l.__esModule?l:{default:l}}function c(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function i(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function e(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var t={scope:g.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new g.default.Attributor.Class("font","ql-font",t),u=function(l){e(a,l);function a(){return c(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"value",value:function(r){return y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,r).replace(/["']/g,"")}}]),a}(g.default.Attributor.Style),s=new u("font","font-family",t);n.FontStyle=s,n.FontClass=f},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var _=o(0),y=b(_);function b(c){return c&&c.__esModule?c:{default:c}}var g=new y.default.Attributor.Class("size","ql-size",{scope:y.default.Scope.INLINE,whitelist:["small","large","huge"]}),m=new y.default.Attributor.Style("size","font-size",{scope:y.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=g,n.SizeStyle=m},function(v,n,o){v.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var _=function(){function d(r,h){for(var T=0;T<h.length;T++){var E=h[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(r,E.key,E)}}return function(r,h,T){return h&&d(r.prototype,h),T&&d(r,T),r}}(),y=o(0),b=e(y),g=o(5),m=e(g),c=o(9),i=e(c);function e(d){return d&&d.__esModule?d:{default:d}}function t(d,r){if(!(d instanceof r))throw new TypeError("Cannot call a class as a function")}function f(d,r){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:d}function u(d,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);d.prototype=Object.create(r&&r.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(d,r):d.__proto__=r)}var s=function(d){u(r,d);function r(h,T){t(this,r);var E=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,h,T));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(m.default.events.EDITOR_CHANGE,function(k,q,A,O){k!==m.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||O===m.default.sources.USER?E.record(q,A):E.transform(q))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return _(r,[{key:"change",value:function(T,E){if(this.stack[T].length!==0){var k=this.stack[T].pop();this.stack[E].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[T],m.default.sources.USER),this.ignoreChange=!1;var q=a(k[T]);this.quill.setSelection(q)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(T,E){if(T.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(E),q=Date.now();if(this.lastRecorded+this.options.delay>q&&this.stack.undo.length>0){var A=this.stack.undo.pop();k=k.compose(A.undo),T=A.redo.compose(T)}else this.lastRecorded=q;this.stack.undo.push({redo:T,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(T){this.stack.undo.forEach(function(E){E.undo=T.transform(E.undo,!0),E.redo=T.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=T.transform(E.undo,!0),E.redo=T.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),r}(i.default);s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function l(d){var r=d.ops[d.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(function(h){return b.default.query(h,b.default.Scope.BLOCK)!=null}):!1}function a(d){var r=d.reduce(function(T,E){return T+=E.delete||0,T},0),h=d.length()-r;return l(d)&&(h-=1),h}n.default=s,n.getLastChangeIndex=a},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var _=function(){function j(R,U){for(var F=0;F<U.length;F++){var P=U[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,U,F){return U&&j(R.prototype,U),F&&j(R,F),R}}(),y=function j(R,U,F){R===null&&(R=Function.prototype);var P=Object.getOwnPropertyDescriptor(R,U);if(P===void 0){var C=Object.getPrototypeOf(R);return C===null?void 0:j(C,U,F)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(F)}},b=o(3),g=q(b),m=o(2),c=q(m),i=o(8),e=q(i),t=o(23),f=q(t),u=o(34),s=q(u),l=o(59),a=q(l),d=o(60),r=q(d),h=o(28),T=q(h),E=o(61),k=q(E);function q(j){return j&&j.__esModule?j:{default:j}}function A(j,R){if(!(j instanceof R))throw new TypeError("Cannot call a class as a function")}function O(j,R){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:j}function w(j,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);j.prototype=Object.create(R&&R.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(j,R):j.__proto__=R)}var S=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],D=[!1,"serif","monospace"],B=["1","2","3",!1],H=["small",!1,"large","huge"],Y=function(j){w(R,j);function R(U,F){A(this,R);var P=O(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,U,F)),C=function z(K){if(!document.body.contains(U.root))return document.body.removeEventListener("click",z);P.tooltip!=null&&!P.tooltip.root.contains(K.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),P.pickers!=null&&P.pickers.forEach(function(V){V.container.contains(K.target)||V.close()})};return U.emitter.listenDOM("click",document.body,C),P}return _(R,[{key:"addModule",value:function(F){var P=y(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(F,P){F.forEach(function(C){var z=C.getAttribute("class")||"";z.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),P[K]!=null))if(K==="direction")C.innerHTML=P[K][""]+P[K].rtl;else if(typeof P[K]=="string")C.innerHTML=P[K];else{var V=C.value||"";V!=null&&P[K][V]&&(C.innerHTML=P[K][V])}})})}},{key:"buildPickers",value:function(F,P){var C=this;this.pickers=F.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&N(K,S),new r.default(K,P.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var V=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&N(K,L,V==="background"?"#ffffff":"#000000"),new a.default(K,P[V])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?N(K,D):K.classList.contains("ql-header")?N(K,B):K.classList.contains("ql-size")&&N(K,H)),new T.default(K)});var z=function(){C.pickers.forEach(function(V){V.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,z)}}]),R}(s.default);Y.DEFAULTS=(0,g.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var F=new FileReader;F.onload=function(P){var C=R.quill.getSelection(!0);R.quill.updateContents(new c.default().retain(C.index).delete(C.length).insert({image:P.target.result}),e.default.sources.USER),R.quill.setSelection(C.index+1,e.default.sources.SILENT),U.value=""},F.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(j){w(R,j);function R(U,F){A(this,R);var P=O(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,U,F));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return _(R,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(P){f.default.match(P,"enter")?(F.save(),P.preventDefault()):f.default.match(P,"escape")&&(F.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),P!=null?this.textbox.value=P:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,e.default.sources.USER)),this.quill.root.scrollTop=P;break}case"video":F=I(F);case"formula":{if(!F)break;var C=this.quill.getSelection(!0);if(C!=null){var z=C.index+C.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),F,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(z+1," ",e.default.sources.USER),this.quill.setSelection(z+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(k.default);function I(j){var R=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":j}function N(j,R){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(F){var P=document.createElement("option");F===U?P.setAttribute("selected","selected"):P.setAttribute("value",F),j.appendChild(P)})}n.BaseTooltip=M,n.default=Y},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function y(){this.head=this.tail=null,this.length=0}return y.prototype.append=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.insertBefore(b[0],null),b.length>1&&this.append.apply(this,b.slice(1))},y.prototype.contains=function(b){for(var g,m=this.iterator();g=m();)if(g===b)return!0;return!1},y.prototype.insertBefore=function(b,g){b&&(b.next=g,g!=null?(b.prev=g.prev,g.prev!=null&&(g.prev.next=b),g.prev=b,g===this.head&&(this.head=b)):this.tail!=null?(this.tail.next=b,b.prev=this.tail,this.tail=b):(b.prev=null,this.head=this.tail=b),this.length+=1)},y.prototype.offset=function(b){for(var g=0,m=this.head;m!=null;){if(m===b)return g;g+=m.length(),m=m.next}return-1},y.prototype.remove=function(b){this.contains(b)&&(b.prev!=null&&(b.prev.next=b.next),b.next!=null&&(b.next.prev=b.prev),b===this.head&&(this.head=b.next),b===this.tail&&(this.tail=b.prev),this.length-=1)},y.prototype.iterator=function(b){return b===void 0&&(b=this.head),function(){var g=b;return b!=null&&(b=b.next),g}},y.prototype.find=function(b,g){g===void 0&&(g=!1);for(var m,c=this.iterator();m=c();){var i=m.length();if(b<i||g&&b===i&&(m.next==null||m.next.length()!==0))return[m,b];b-=i}return[null,0]},y.prototype.forEach=function(b){for(var g,m=this.iterator();g=m();)b(g)},y.prototype.forEachAt=function(b,g,m){if(!(g<=0))for(var c=this.find(b),i=c[0],e=c[1],t,f=b-e,u=this.iterator(i);(t=u())&&f<b+g;){var s=t.length();b>f?m(t,b-f,Math.min(g,f+s-b)):m(t,0,Math.min(s,b+g-f)),f+=s}},y.prototype.map=function(b){return this.reduce(function(g,m){return g.push(b(m)),g},[])},y.prototype.reduce=function(b,g){for(var m,c=this.iterator();m=c();)g=b(g,m);return g},y}();n.default=_},function(v,n,o){var _=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){i(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(17),b=o(1),g={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=100,c=function(i){_(e,i);function e(t){var f=i.call(this,t)||this;return f.scroll=f,f.observer=new MutationObserver(function(u){f.update(u)}),f.observer.observe(f.domNode,g),f.attach(),f}return e.prototype.detach=function(){i.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,f){this.update(),t===0&&f===this.length()?this.children.forEach(function(u){u.remove()}):i.prototype.deleteAt.call(this,t,f)},e.prototype.formatAt=function(t,f,u,s){this.update(),i.prototype.formatAt.call(this,t,f,u,s)},e.prototype.insertAt=function(t,f,u){this.update(),i.prototype.insertAt.call(this,t,f,u)},e.prototype.optimize=function(t,f){var u=this;t===void 0&&(t=[]),f===void 0&&(f={}),i.prototype.optimize.call(this,f);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)t.push(s.pop());for(var l=function(h,T){T===void 0&&(T=!0),!(h==null||h===u)&&h.domNode.parentNode!=null&&(h.domNode[b.DATA_KEY].mutations==null&&(h.domNode[b.DATA_KEY].mutations=[]),T&&l(h.parent))},a=function(h){h.domNode[b.DATA_KEY]==null||h.domNode[b.DATA_KEY].mutations==null||(h instanceof y.default&&h.children.forEach(a),h.optimize(f))},d=t,r=0;d.length>0;r+=1){if(r>=m)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(function(h){var T=b.find(h.target,!0);T!=null&&(T.domNode===h.target&&(h.type==="childList"?(l(b.find(h.previousSibling,!1)),[].forEach.call(h.addedNodes,function(E){var k=b.find(E,!1);l(k,!1),k instanceof y.default&&k.children.forEach(function(q){l(q,!1)})})):h.type==="attributes"&&l(T.prev)),l(T))}),this.children.forEach(a),d=[].slice.call(this.observer.takeRecords()),s=d.slice();s.length>0;)t.push(s.pop())}},e.prototype.update=function(t,f){var u=this;f===void 0&&(f={}),t=t||this.observer.takeRecords(),t.map(function(s){var l=b.find(s.target,!0);return l==null?null:l.domNode[b.DATA_KEY].mutations==null?(l.domNode[b.DATA_KEY].mutations=[s],l):(l.domNode[b.DATA_KEY].mutations.push(s),null)}).forEach(function(s){s==null||s===u||s.domNode[b.DATA_KEY]==null||s.update(s.domNode[b.DATA_KEY].mutations||[],f)}),this.domNode[b.DATA_KEY].mutations!=null&&i.prototype.update.call(this,this.domNode[b.DATA_KEY].mutations,f),this.optimize(t,f)},e.blotName="scroll",e.defaultChild="block",e.scope=b.Scope.BLOCK_BLOT,e.tagName="DIV",e}(y.default);n.default=c},function(v,n,o){var _=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])};return function(i,e){c(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(18),b=o(1);function g(c,i){if(Object.keys(c).length!==Object.keys(i).length)return!1;for(var e in c)if(c[e]!==i[e])return!1;return!0}var m=function(c){_(i,c);function i(){return c!==null&&c.apply(this,arguments)||this}return i.formats=function(e){if(e.tagName!==i.tagName)return c.formats.call(this,e)},i.prototype.format=function(e,t){var f=this;e===this.statics.blotName&&!t?(this.children.forEach(function(u){u instanceof y.default||(u=u.wrap(i.blotName,!0)),f.attributes.copy(u)}),this.unwrap()):c.prototype.format.call(this,e,t)},i.prototype.formatAt=function(e,t,f,u){if(this.formats()[f]!=null||b.query(f,b.Scope.ATTRIBUTE)){var s=this.isolate(e,t);s.format(f,u)}else c.prototype.formatAt.call(this,e,t,f,u)},i.prototype.optimize=function(e){c.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var f=this.next;f instanceof i&&f.prev===this&&g(t,f.formats())&&(f.moveChildren(this),f.remove())},i.blotName="inline",i.scope=b.Scope.INLINE_BLOT,i.tagName="SPAN",i}(y.default);n.default=m},function(v,n,o){var _=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var e in i)i.hasOwnProperty(e)&&(c[e]=i[e])};return function(c,i){m(c,i);function e(){this.constructor=c}c.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(18),b=o(1),g=function(m){_(c,m);function c(){return m!==null&&m.apply(this,arguments)||this}return c.formats=function(i){var e=b.query(c.blotName).tagName;if(i.tagName!==e)return m.formats.call(this,i)},c.prototype.format=function(i,e){b.query(i,b.Scope.BLOCK)!=null&&(i===this.statics.blotName&&!e?this.replaceWith(c.blotName):m.prototype.format.call(this,i,e))},c.prototype.formatAt=function(i,e,t,f){b.query(t,b.Scope.BLOCK)!=null?this.format(t,f):m.prototype.formatAt.call(this,i,e,t,f)},c.prototype.insertAt=function(i,e,t){if(t==null||b.query(e,b.Scope.INLINE)!=null)m.prototype.insertAt.call(this,i,e,t);else{var f=this.split(i),u=b.create(e,t);f.parent.insertBefore(u,f)}},c.prototype.update=function(i,e){navigator.userAgent.match(/Trident/)?this.build():m.prototype.update.call(this,i,e)},c.blotName="block",c.scope=b.Scope.BLOCK_BLOT,c.tagName="P",c}(y.default);n.default=g},function(v,n,o){var _=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,c){m.__proto__=c}||function(m,c){for(var i in c)c.hasOwnProperty(i)&&(m[i]=c[i])};return function(m,c){g(m,c);function i(){this.constructor=m}m.prototype=c===null?Object.create(c):(i.prototype=c.prototype,new i)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(19),b=function(g){_(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.formats=function(c){},m.prototype.format=function(c,i){g.prototype.formatAt.call(this,0,this.length(),c,i)},m.prototype.formatAt=function(c,i,e,t){c===0&&i===this.length()?this.format(e,t):g.prototype.formatAt.call(this,c,i,e,t)},m.prototype.formats=function(){return this.statics.formats(this.domNode)},m}(y.default);n.default=b},function(v,n,o){var _=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var e in i)i.hasOwnProperty(e)&&(c[e]=i[e])};return function(c,i){m(c,i);function e(){this.constructor=c}c.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(n,"__esModule",{value:!0});var y=o(19),b=o(1),g=function(m){_(c,m);function c(i){var e=m.call(this,i)||this;return e.text=e.statics.value(e.domNode),e}return c.create=function(i){return document.createTextNode(i)},c.value=function(i){var e=i.data;return e.normalize&&(e=e.normalize()),e},c.prototype.deleteAt=function(i,e){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+e)},c.prototype.index=function(i,e){return this.domNode===i?e:-1},c.prototype.insertAt=function(i,e,t){t==null?(this.text=this.text.slice(0,i)+e+this.text.slice(i),this.domNode.data=this.text):m.prototype.insertAt.call(this,i,e,t)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(i){m.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(i,e){return[this.domNode,i]},c.prototype.split=function(i,e){if(e===void 0&&(e=!1),!e){if(i===0)return this;if(i===this.length())return this.next}var t=b.create(this.domNode.splitText(i));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},c.prototype.update=function(i,e){var t=this;i.some(function(f){return f.type==="characterData"&&f.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=b.Scope.INLINE_BLOT,c}(y.default);n.default=g},function(v,n,o){var _=document.createElement("div");if(_.classList.toggle("test-class",!1),_.classList.contains("test-class")){var y=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(b,g){return arguments.length>1&&!this.contains(b)==!g?g:y.call(this,b)}}String.prototype.startsWith||(String.prototype.startsWith=function(b,g){return g=g||0,this.substr(g,b.length)===b}),String.prototype.endsWith||(String.prototype.endsWith=function(b,g){var m=this.toString();(typeof g!="number"||!isFinite(g)||Math.floor(g)!==g||g>m.length)&&(g=m.length),g-=b.length;var c=m.indexOf(b,g);return c!==-1&&c===g}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(g){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof g!="function")throw new TypeError("predicate must be a function");for(var m=Object(this),c=m.length>>>0,i=arguments[1],e,t=0;t<c;t++)if(e=m[t],g.call(i,e,t,m))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(v,n){var o=-1,_=1,y=0;function b(r,h,T){if(r==h)return r?[[y,r]]:[];(T<0||r.length<T)&&(T=null);var E=i(r,h),k=r.substring(0,E);r=r.substring(E),h=h.substring(E),E=e(r,h);var q=r.substring(r.length-E);r=r.substring(0,r.length-E),h=h.substring(0,h.length-E);var A=g(r,h);return k&&A.unshift([y,k]),q&&A.push([y,q]),f(A),T!=null&&(A=l(A,T)),A=a(A),A}function g(r,h){var T;if(!r)return[[_,h]];if(!h)return[[o,r]];var E=r.length>h.length?r:h,k=r.length>h.length?h:r,q=E.indexOf(k);if(q!=-1)return T=[[_,E.substring(0,q)],[y,k],[_,E.substring(q+k.length)]],r.length>h.length&&(T[0][0]=T[2][0]=o),T;if(k.length==1)return[[o,r],[_,h]];var A=t(r,h);if(A){var O=A[0],w=A[1],S=A[2],L=A[3],D=A[4],B=b(O,S),H=b(w,L);return B.concat([[y,D]],H)}return m(r,h)}function m(r,h){for(var T=r.length,E=h.length,k=Math.ceil((T+E)/2),q=k,A=2*k,O=new Array(A),w=new Array(A),S=0;S<A;S++)O[S]=-1,w[S]=-1;O[q+1]=0,w[q+1]=0;for(var L=T-E,D=L%2!=0,B=0,H=0,Y=0,M=0,I=0;I<k;I++){for(var N=-I+B;N<=I-H;N+=2){var j=q+N,R;N==-I||N!=I&&O[j-1]<O[j+1]?R=O[j+1]:R=O[j-1]+1;for(var U=R-N;R<T&&U<E&&r.charAt(R)==h.charAt(U);)R++,U++;if(O[j]=R,R>T)H+=2;else if(U>E)B+=2;else if(D){var F=q+L-N;if(F>=0&&F<A&&w[F]!=-1){var P=T-w[F];if(R>=P)return c(r,h,R,U)}}}for(var C=-I+Y;C<=I-M;C+=2){var F=q+C,P;C==-I||C!=I&&w[F-1]<w[F+1]?P=w[F+1]:P=w[F-1]+1;for(var z=P-C;P<T&&z<E&&r.charAt(T-P-1)==h.charAt(E-z-1);)P++,z++;if(w[F]=P,P>T)M+=2;else if(z>E)Y+=2;else if(!D){var j=q+L-C;if(j>=0&&j<A&&O[j]!=-1){var R=O[j],U=q+R-j;if(P=T-P,R>=P)return c(r,h,R,U)}}}}return[[o,r],[_,h]]}function c(r,h,T,E){var k=r.substring(0,T),q=h.substring(0,E),A=r.substring(T),O=h.substring(E),w=b(k,q),S=b(A,O);return w.concat(S)}function i(r,h){if(!r||!h||r.charAt(0)!=h.charAt(0))return 0;for(var T=0,E=Math.min(r.length,h.length),k=E,q=0;T<k;)r.substring(q,k)==h.substring(q,k)?(T=k,q=T):E=k,k=Math.floor((E-T)/2+T);return k}function e(r,h){if(!r||!h||r.charAt(r.length-1)!=h.charAt(h.length-1))return 0;for(var T=0,E=Math.min(r.length,h.length),k=E,q=0;T<k;)r.substring(r.length-k,r.length-q)==h.substring(h.length-k,h.length-q)?(T=k,q=T):E=k,k=Math.floor((E-T)/2+T);return k}function t(r,h){var T=r.length>h.length?r:h,E=r.length>h.length?h:r;if(T.length<4||E.length*2<T.length)return null;function k(H,Y,M){for(var I=H.substring(M,M+Math.floor(H.length/4)),N=-1,j="",R,U,F,P;(N=Y.indexOf(I,N+1))!=-1;){var C=i(H.substring(M),Y.substring(N)),z=e(H.substring(0,M),Y.substring(0,N));j.length<z+C&&(j=Y.substring(N-z,N)+Y.substring(N,N+C),R=H.substring(0,M-z),U=H.substring(M+C),F=Y.substring(0,N-z),P=Y.substring(N+C))}return j.length*2>=H.length?[R,U,F,P,j]:null}var q=k(T,E,Math.ceil(T.length/4)),A=k(T,E,Math.ceil(T.length/2)),O;if(!q&&!A)return null;A?q?O=q[4].length>A[4].length?q:A:O=A:O=q;var w,S,L,D;r.length>h.length?(w=O[0],S=O[1],L=O[2],D=O[3]):(L=O[0],D=O[1],w=O[2],S=O[3]);var B=O[4];return[w,S,L,D,B]}function f(r){r.push([y,""]);for(var h=0,T=0,E=0,k="",q="",A;h<r.length;)switch(r[h][0]){case _:E++,q+=r[h][1],h++;break;case o:T++,k+=r[h][1],h++;break;case y:T+E>1?(T!==0&&E!==0&&(A=i(q,k),A!==0&&(h-T-E>0&&r[h-T-E-1][0]==y?r[h-T-E-1][1]+=q.substring(0,A):(r.splice(0,0,[y,q.substring(0,A)]),h++),q=q.substring(A),k=k.substring(A)),A=e(q,k),A!==0&&(r[h][1]=q.substring(q.length-A)+r[h][1],q=q.substring(0,q.length-A),k=k.substring(0,k.length-A))),T===0?r.splice(h-E,T+E,[_,q]):E===0?r.splice(h-T,T+E,[o,k]):r.splice(h-T-E,T+E,[o,k],[_,q]),h=h-T-E+(T?1:0)+(E?1:0)+1):h!==0&&r[h-1][0]==y?(r[h-1][1]+=r[h][1],r.splice(h,1)):h++,E=0,T=0,k="",q="";break}r[r.length-1][1]===""&&r.pop();var O=!1;for(h=1;h<r.length-1;)r[h-1][0]==y&&r[h+1][0]==y&&(r[h][1].substring(r[h][1].length-r[h-1][1].length)==r[h-1][1]?(r[h][1]=r[h-1][1]+r[h][1].substring(0,r[h][1].length-r[h-1][1].length),r[h+1][1]=r[h-1][1]+r[h+1][1],r.splice(h-1,1),O=!0):r[h][1].substring(0,r[h+1][1].length)==r[h+1][1]&&(r[h-1][1]+=r[h+1][1],r[h][1]=r[h][1].substring(r[h+1][1].length)+r[h+1][1],r.splice(h+1,1),O=!0)),h++;O&&f(r)}var u=b;u.INSERT=_,u.DELETE=o,u.EQUAL=y,v.exports=u;function s(r,h){if(h===0)return[y,r];for(var T=0,E=0;E<r.length;E++){var k=r[E];if(k[0]===o||k[0]===y){var q=T+k[1].length;if(h===q)return[E+1,r];if(h<q){r=r.slice();var A=h-T,O=[k[0],k[1].slice(0,A)],w=[k[0],k[1].slice(A)];return r.splice(E,1,O,w),[E+1,r]}else T=q}}throw new Error("cursor_pos is out of bounds!")}function l(r,h){var T=s(r,h),E=T[1],k=T[0],q=E[k],A=E[k+1];if(q==null)return r;if(q[0]!==y)return r;if(A!=null&&q[1]+A[1]===A[1]+q[1])return E.splice(k,2,A,q),d(E,k,2);if(A!=null&&A[1].indexOf(q[1])===0){E.splice(k,2,[A[0],q[1]],[0,q[1]]);var O=A[1].slice(q[1].length);return O.length>0&&E.splice(k+2,0,[A[0],O]),d(E,k,3)}else return r}function a(r){for(var h=!1,T=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},E=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},k=2;k<r.length;k+=1)r[k-2][0]===y&&E(r[k-2][1])&&r[k-1][0]===o&&T(r[k-1][1])&&r[k][0]===_&&T(r[k][1])&&(h=!0,r[k-1][1]=r[k-2][1].slice(-1)+r[k-1][1],r[k][1]=r[k-2][1].slice(-1)+r[k][1],r[k-2][1]=r[k-2][1].slice(0,-1));if(!h)return r;for(var q=[],k=0;k<r.length;k+=1)r[k][1].length>0&&q.push(r[k]);return q}function d(r,h,T){for(var E=h+T-1;E>=0&&E>=h-1;E--)if(E+1<r.length){var k=r[E],q=r[E+1];k[0]===q[1]&&r.splice(E,2,[k[0],k[1]+q[1]])}return r}},function(v,n){n=v.exports=typeof Object.keys=="function"?Object.keys:o,n.shim=o;function o(_){var y=[];for(var b in _)y.push(b);return y}},function(v,n){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=v.exports=o?_:y,n.supported=_;function _(b){return Object.prototype.toString.call(b)=="[object Arguments]"}n.unsupported=y;function y(b){return b&&typeof b=="object"&&typeof b.length=="number"&&Object.prototype.hasOwnProperty.call(b,"callee")&&!Object.prototype.propertyIsEnumerable.call(b,"callee")||!1}},function(v,n){var o=Object.prototype.hasOwnProperty,_="~";function y(){}Object.create&&(y.prototype=Object.create(null),new y().__proto__||(_=!1));function b(m,c,i){this.fn=m,this.context=c,this.once=i||!1}function g(){this._events=new y,this._eventsCount=0}g.prototype.eventNames=function(){var c=[],i,e;if(this._eventsCount===0)return c;for(e in i=this._events)o.call(i,e)&&c.push(_?e.slice(1):e);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(i)):c},g.prototype.listeners=function(c,i){var e=_?_+c:c,t=this._events[e];if(i)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var f=0,u=t.length,s=new Array(u);f<u;f++)s[f]=t[f].fn;return s},g.prototype.emit=function(c,i,e,t,f,u){var s=_?_+c:c;if(!this._events[s])return!1;var l=this._events[s],a=arguments.length,d,r;if(l.fn){switch(l.once&&this.removeListener(c,l.fn,void 0,!0),a){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,i),!0;case 3:return l.fn.call(l.context,i,e),!0;case 4:return l.fn.call(l.context,i,e,t),!0;case 5:return l.fn.call(l.context,i,e,t,f),!0;case 6:return l.fn.call(l.context,i,e,t,f,u),!0}for(r=1,d=new Array(a-1);r<a;r++)d[r-1]=arguments[r];l.fn.apply(l.context,d)}else{var h=l.length,T;for(r=0;r<h;r++)switch(l[r].once&&this.removeListener(c,l[r].fn,void 0,!0),a){case 1:l[r].fn.call(l[r].context);break;case 2:l[r].fn.call(l[r].context,i);break;case 3:l[r].fn.call(l[r].context,i,e);break;case 4:l[r].fn.call(l[r].context,i,e,t);break;default:if(!d)for(T=1,d=new Array(a-1);T<a;T++)d[T-1]=arguments[T];l[r].fn.apply(l[r].context,d)}}return!0},g.prototype.on=function(c,i,e){var t=new b(i,e||this),f=_?_+c:c;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],t]:this._events[f].push(t):(this._events[f]=t,this._eventsCount++),this},g.prototype.once=function(c,i,e){var t=new b(i,e||this,!0),f=_?_+c:c;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],t]:this._events[f].push(t):(this._events[f]=t,this._eventsCount++),this},g.prototype.removeListener=function(c,i,e,t){var f=_?_+c:c;if(!this._events[f])return this;if(!i)return--this._eventsCount===0?this._events=new y:delete this._events[f],this;var u=this._events[f];if(u.fn)u.fn===i&&(!t||u.once)&&(!e||u.context===e)&&(--this._eventsCount===0?this._events=new y:delete this._events[f]);else{for(var s=0,l=[],a=u.length;s<a;s++)(u[s].fn!==i||t&&!u[s].once||e&&u[s].context!==e)&&l.push(u[s]);l.length?this._events[f]=l.length===1?l[0]:l:--this._eventsCount===0?this._events=new y:delete this._events[f]}return this},g.prototype.removeAllListeners=function(c){var i;return c?(i=_?_+c:c,this._events[i]&&(--this._eventsCount===0?this._events=new y:delete this._events[i])):(this._events=new y,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prototype.setMaxListeners=function(){return this},g.prefixed=_,g.EventEmitter=g,typeof v<"u"&&(v.exports=g)},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},y=function(){function G(W,X){var Q=[],Z=!0,re=!1,ie=void 0;try{for(var oe=W[Symbol.iterator](),ve;!(Z=(ve=oe.next()).done)&&(Q.push(ve.value),!(X&&Q.length===X));Z=!0);}catch(ye){re=!0,ie=ye}finally{try{!Z&&oe.return&&oe.return()}finally{if(re)throw ie}}return Q}return function(W,X){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return G(W,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(){function G(W,X){for(var Q=0;Q<X.length;Q++){var Z=X[Q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(W,Z.key,Z)}}return function(W,X,Q){return X&&G(W.prototype,X),Q&&G(W,Q),W}}(),g=o(3),m=w(g),c=o(2),i=w(c),e=o(0),t=w(e),f=o(5),u=w(f),s=o(10),l=w(s),a=o(9),d=w(a),r=o(36),h=o(37),T=o(13),E=w(T),k=o(26),q=o(38),A=o(39),O=o(40);function w(G){return G&&G.__esModule?G:{default:G}}function S(G,W,X){return W in G?Object.defineProperty(G,W,{value:X,enumerable:!0,configurable:!0,writable:!0}):G[W]=X,G}function L(G,W){if(!(G instanceof W))throw new TypeError("Cannot call a class as a function")}function D(G,W){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:G}function B(G,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);G.prototype=Object.create(W&&W.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(G,W):G.__proto__=W)}var H=(0,l.default)("quill:clipboard"),Y="__ql-matcher",M=[[Node.TEXT_NODE,fe],[Node.TEXT_NODE,ae],["br",J],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,de],["li",ne],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",te]],I=[r.AlignAttribute,q.DirectionAttribute].reduce(function(G,W){return G[W.keyName]=W,G},{}),N=[r.AlignStyle,h.BackgroundStyle,k.ColorStyle,q.DirectionStyle,A.FontStyle,O.SizeStyle].reduce(function(G,W){return G[W.keyName]=W,G},{}),j=function(G){B(W,G);function W(X,Q){L(this,W);var Z=D(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,X,Q));return Z.quill.root.addEventListener("paste",Z.onPaste.bind(Z)),Z.container=Z.quill.addContainer("ql-clipboard"),Z.container.setAttribute("contenteditable",!0),Z.container.setAttribute("tabindex",-1),Z.matchers=[],M.concat(Z.options.matchers).forEach(function(re){var ie=y(re,2),oe=ie[0],ve=ie[1];!Q.matchVisual&&ve===le||Z.addMatcher(oe,ve)}),Z}return b(W,[{key:"addMatcher",value:function(Q,Z){this.matchers.push([Q,Z])}},{key:"convert",value:function(Q){if(typeof Q=="string")return this.container.innerHTML=Q.replace(/\>\r?\n +\</g,"><"),this.convert();var Z=this.quill.getFormat(this.quill.selection.savedRange.index);if(Z[E.default.blotName]){var re=this.container.innerText;return this.container.innerHTML="",new i.default().insert(re,S({},E.default.blotName,Z[E.default.blotName]))}var ie=this.prepareMatching(),oe=y(ie,2),ve=oe[0],ye=oe[1],ue=C(this.container,ve,ye);return F(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new i.default().retain(ue.length()-1).delete(1))),H.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function(Q,Z){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;if(typeof Q=="string")this.quill.setContents(this.convert(Q),Z),this.quill.setSelection(0,u.default.sources.SILENT);else{var ie=this.convert(Z);this.quill.updateContents(new i.default().retain(Q).concat(ie),re),this.quill.setSelection(Q+ie.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(Q){var Z=this;if(!(Q.defaultPrevented||!this.quill.isEnabled())){var re=this.quill.getSelection(),ie=new i.default().retain(re.index),oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){ie=ie.concat(Z.convert()).delete(re.length),Z.quill.updateContents(ie,u.default.sources.USER),Z.quill.setSelection(ie.length()-re.length,u.default.sources.SILENT),Z.quill.scrollingContainer.scrollTop=oe,Z.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Q=this,Z=[],re=[];return this.matchers.forEach(function(ie){var oe=y(ie,2),ve=oe[0],ye=oe[1];switch(ve){case Node.TEXT_NODE:re.push(ye);break;case Node.ELEMENT_NODE:Z.push(ye);break;default:[].forEach.call(Q.container.querySelectorAll(ve),function(ue){ue[Y]=ue[Y]||[],ue[Y].push(ye)});break}}),[Z,re]}}]),W}(d.default);j.DEFAULTS={matchers:[],matchVisual:!0};function R(G,W,X){return(typeof W>"u"?"undefined":_(W))==="object"?Object.keys(W).reduce(function(Q,Z){return R(Q,Z,W[Z])},G):G.reduce(function(Q,Z){return Z.attributes&&Z.attributes[W]?Q.push(Z):Q.insert(Z.insert,(0,m.default)({},S({},W,X),Z.attributes))},new i.default)}function U(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var W="__ql-computed-style";return G[W]||(G[W]=window.getComputedStyle(G))}function F(G,W){for(var X="",Q=G.ops.length-1;Q>=0&&X.length<W.length;--Q){var Z=G.ops[Q];if(typeof Z.insert!="string")break;X=Z.insert+X}return X.slice(-1*W.length)===W}function P(G){if(G.childNodes.length===0)return!1;var W=U(G);return["block","list-item"].indexOf(W.display)>-1}function C(G,W,X){return G.nodeType===G.TEXT_NODE?X.reduce(function(Q,Z){return Z(G,Q)},new i.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(Q,Z){var re=C(Z,W,X);return Z.nodeType===G.ELEMENT_NODE&&(re=W.reduce(function(ie,oe){return oe(Z,ie)},re),re=(Z[Y]||[]).reduce(function(ie,oe){return oe(Z,ie)},re)),Q.concat(re)},new i.default):new i.default}function z(G,W,X){return R(X,G,!0)}function K(G,W){var X=t.default.Attributor.Attribute.keys(G),Q=t.default.Attributor.Class.keys(G),Z=t.default.Attributor.Style.keys(G),re={};return X.concat(Q).concat(Z).forEach(function(ie){var oe=t.default.query(ie,t.default.Scope.ATTRIBUTE);oe!=null&&(re[oe.attrName]=oe.value(G),re[oe.attrName])||(oe=I[ie],oe!=null&&(oe.attrName===ie||oe.keyName===ie)&&(re[oe.attrName]=oe.value(G)||void 0),oe=N[ie],oe!=null&&(oe.attrName===ie||oe.keyName===ie)&&(oe=N[ie],re[oe.attrName]=oe.value(G)||void 0))}),Object.keys(re).length>0&&(W=R(W,re)),W}function V(G,W){var X=t.default.query(G);if(X==null)return W;if(X.prototype instanceof t.default.Embed){var Q={},Z=X.value(G);Z!=null&&(Q[X.blotName]=Z,W=new i.default().insert(Q,X.formats(G)))}else typeof X.formats=="function"&&(W=R(W,X.blotName,X.formats(G)));return W}function J(G,W){return F(W,`
`)||W.insert(`
`),W}function te(){return new i.default}function ne(G,W){var X=t.default.query(G);if(X==null||X.blotName!=="list-item"||!F(W,`
`))return W;for(var Q=-1,Z=G.parentNode;!Z.classList.contains("ql-clipboard");)(t.default.query(Z)||{}).blotName==="list"&&(Q+=1),Z=Z.parentNode;return Q<=0?W:W.compose(new i.default().retain(W.length()-1).retain(1,{indent:Q}))}function ae(G,W){return F(W,`
`)||(P(G)||W.length()>0&&G.nextSibling&&P(G.nextSibling))&&W.insert(`
`),W}function le(G,W){if(P(G)&&G.nextElementSibling!=null&&!F(W,`

`)){var X=G.offsetHeight+parseFloat(U(G).marginTop)+parseFloat(U(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+X*1.5&&W.insert(`
`)}return W}function de(G,W){var X={},Q=G.style||{};return Q.fontStyle&&U(G).fontStyle==="italic"&&(X.italic=!0),Q.fontWeight&&(U(G).fontWeight.startsWith("bold")||parseInt(U(G).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(W=R(W,X)),parseFloat(Q.textIndent||0)>0&&(W=new i.default().insert("	").concat(W)),W}function fe(G,W){var X=G.data;if(G.parentNode.tagName==="O:P")return W.insert(X.trim());if(X.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return W;if(!U(G.parentNode).whiteSpace.startsWith("pre")){var Q=function(re,ie){return ie=ie.replace(/[^\u00a0]/g,""),ie.length<1&&re?" ":ie};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,Q.bind(Q,!0)),(G.previousSibling==null&&P(G.parentNode)||G.previousSibling!=null&&P(G.previousSibling))&&(X=X.replace(/^\s+/,Q.bind(Q,!1))),(G.nextSibling==null&&P(G.parentNode)||G.nextSibling!=null&&P(G.nextSibling))&&(X=X.replace(/\s+$/,Q.bind(Q,!1)))}return W.insert(X)}n.default=j,n.matchAttributor=K,n.matchBlot=V,n.matchNewline=ae,n.matchSpacing=le,n.matchText=fe},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function f(u,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,l){return s&&f(u.prototype,s),l&&f(u,l),u}}(),y=function f(u,s,l){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var d=Object.getPrototypeOf(u);return d===null?void 0:f(d,s,l)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(l)}},b=o(6),g=m(b);function m(f){return f&&f.__esModule?f:{default:f}}function c(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function e(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var t=function(f){e(u,f);function u(){return c(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return _(u,[{key:"optimize",value:function(l){y(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,l),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return y(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(g.default);t.blotName="bold",t.tagName=["STRONG","B"],n.default=t},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var _=function(){function O(w,S){var L=[],D=!0,B=!1,H=void 0;try{for(var Y=w[Symbol.iterator](),M;!(D=(M=Y.next()).done)&&(L.push(M.value),!(S&&L.length===S));D=!0);}catch(I){B=!0,H=I}finally{try{!D&&Y.return&&Y.return()}finally{if(B)throw H}}return L}return function(w,S){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return O(w,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function O(w,S){for(var L=0;L<S.length;L++){var D=S[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,S,L){return S&&O(w.prototype,S),L&&O(w,L),w}}(),b=o(2),g=l(b),m=o(0),c=l(m),i=o(5),e=l(i),t=o(10),f=l(t),u=o(9),s=l(u);function l(O){return O&&O.__esModule?O:{default:O}}function a(O,w,S){return w in O?Object.defineProperty(O,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):O[w]=S,O}function d(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function r(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function h(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var T=(0,f.default)("quill:toolbar"),E=function(O){h(w,O);function w(S,L){d(this,w);var D=r(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,L));if(Array.isArray(D.options.container)){var B=document.createElement("div");q(B,D.options.container),S.container.parentNode.insertBefore(B,S.container),D.container=B}else typeof D.options.container=="string"?D.container=document.querySelector(D.options.container):D.container=D.options.container;if(!(D.container instanceof HTMLElement)){var H;return H=T.error("Container required for toolbar",D.options),r(D,H)}return D.container.classList.add("ql-toolbar"),D.controls=[],D.handlers={},Object.keys(D.options.handlers).forEach(function(Y){D.addHandler(Y,D.options.handlers[Y])}),[].forEach.call(D.container.querySelectorAll("button, select"),function(Y){D.attach(Y)}),D.quill.on(e.default.events.EDITOR_CHANGE,function(Y,M){Y===e.default.events.SELECTION_CHANGE&&D.update(M)}),D.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Y=D.quill.selection.getRange(),M=_(Y,1),I=M[0];D.update(I)}),D}return y(w,[{key:"addHandler",value:function(L,D){this.handlers[L]=D}},{key:"attach",value:function(L){var D=this,B=[].find.call(L.classList,function(Y){return Y.indexOf("ql-")===0});if(B){if(B=B.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[B]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[B]==null){T.warn("ignoring attaching to disabled format",B,L);return}if(c.default.query(B)==null){T.warn("ignoring attaching to nonexistent format",B,L);return}}var H=L.tagName==="SELECT"?"change":"click";L.addEventListener(H,function(Y){var M=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var I=L.options[L.selectedIndex];I.hasAttribute("selected")?M=!1:M=I.value||!1}else L.classList.contains("ql-active")?M=!1:M=L.value||!L.hasAttribute("value"),Y.preventDefault();D.quill.focus();var N=D.quill.selection.getRange(),j=_(N,1),R=j[0];if(D.handlers[B]!=null)D.handlers[B].call(D,M);else if(c.default.query(B).prototype instanceof c.default.Embed){if(M=prompt("Enter "+B),!M)return;D.quill.updateContents(new g.default().retain(R.index).delete(R.length).insert(a({},B,M)),e.default.sources.USER)}else D.quill.format(B,M,e.default.sources.USER);D.update(R)}),this.controls.push([B,L])}}},{key:"update",value:function(L){var D=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(B){var H=_(B,2),Y=H[0],M=H[1];if(M.tagName==="SELECT"){var I=void 0;if(L==null)I=null;else if(D[Y]==null)I=M.querySelector("option[selected]");else if(!Array.isArray(D[Y])){var N=D[Y];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),I=M.querySelector('option[value="'+N+'"]')}I==null?(M.value="",M.selectedIndex=-1):I.selected=!0}else if(L==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var j=D[Y]===M.getAttribute("value")||D[Y]!=null&&D[Y].toString()===M.getAttribute("value")||D[Y]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",j)}else M.classList.toggle("ql-active",D[Y]!=null)})}}]),w}(s.default);E.DEFAULTS={};function k(O,w,S){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+w),S!=null&&(L.value=S),O.appendChild(L)}function q(O,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(S){var L=document.createElement("span");L.classList.add("ql-formats"),S.forEach(function(D){if(typeof D=="string")k(L,D);else{var B=Object.keys(D)[0],H=D[B];Array.isArray(H)?A(L,B,H):k(L,B,H)}}),O.appendChild(L)})}function A(O,w,S){var L=document.createElement("select");L.classList.add("ql-"+w),S.forEach(function(D){var B=document.createElement("option");D!==!1?B.setAttribute("value",D):B.setAttribute("selected","selected"),L.appendChild(B)}),O.appendChild(L)}E.DEFAULTS={container:null,handlers:{clean:function(){var w=this,S=this.quill.getSelection();if(S!=null)if(S.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(D){c.default.query(D,c.default.Scope.INLINE)!=null&&w.quill.format(D,!1)})}else this.quill.removeFormat(S,e.default.sources.USER)},direction:function(w){var S=this.quill.getFormat().align;w==="rtl"&&S==null?this.quill.format("align","right",e.default.sources.USER):!w&&S==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",w,e.default.sources.USER)},indent:function(w){var S=this.quill.getSelection(),L=this.quill.getFormat(S),D=parseInt(L.indent||0);if(w==="+1"||w==="-1"){var B=w==="+1"?1:-1;L.direction==="rtl"&&(B*=-1),this.quill.format("indent",D+B,e.default.sources.USER)}},link:function(w){w===!0&&(w=prompt("Enter link URL:")),this.quill.format("link",w,e.default.sources.USER)},list:function(w){var S=this.quill.getSelection(),L=this.quill.getFormat(S);w==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",w,e.default.sources.USER)}}},n.default=E,n.addControls=q},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function f(u,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,l){return s&&f(u.prototype,s),l&&f(u,l),u}}(),y=function f(u,s,l){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var d=Object.getPrototypeOf(u);return d===null?void 0:f(d,s,l)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(l)}},b=o(28),g=m(b);function m(f){return f&&f.__esModule?f:{default:f}}function c(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function e(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var t=function(f){e(u,f);function u(s,l){c(this,u);var a=i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s));return a.label.innerHTML=l,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(d){d.classList.add("ql-primary")}),a}return _(u,[{key:"buildItem",value:function(l){var a=y(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"buildItem",this).call(this,l);return a.style.backgroundColor=l.getAttribute("value")||"",a}},{key:"selectItem",value:function(l,a){y(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,l,a);var d=this.label.querySelector(".ql-color-label"),r=l&&l.getAttribute("data-value")||"";d&&(d.tagName==="line"?d.style.stroke=r:d.style.fill=r)}}]),u}(g.default);n.default=t},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function f(u,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,l){return s&&f(u.prototype,s),l&&f(u,l),u}}(),y=function f(u,s,l){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var d=Object.getPrototypeOf(u);return d===null?void 0:f(d,s,l)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(l)}},b=o(28),g=m(b);function m(f){return f&&f.__esModule?f:{default:f}}function c(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function e(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var t=function(f){e(u,f);function u(s,l){c(this,u);var a=i(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(d){d.innerHTML=l[d.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return _(u,[{key:"selectItem",value:function(l,a){y(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,l,a),l=l||this.defaultItem,this.label.innerHTML=l.innerHTML}}]),u}(g.default);n.default=t},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function g(m,c){for(var i=0;i<c.length;i++){var e=c[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,c,i){return c&&g(m.prototype,c),i&&g(m,i),m}}();function y(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}var b=function(){function g(m,c){var i=this;y(this,g),this.quill=m,this.boundsContainer=c||document.body,this.root=m.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return _(g,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var i=c.left+c.width/2-this.root.offsetWidth/2,e=c.bottom+this.quill.root.scrollTop;this.root.style.left=i+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),u=0;if(f.right>t.right&&(u=t.right-f.right,this.root.style.left=i+u+"px"),f.left<t.left&&(u=t.left-f.left,this.root.style.left=i+u+"px"),f.bottom>t.bottom){var s=f.bottom-f.top,l=c.bottom-c.top+s;this.root.style.top=e-l+"px",this.root.classList.add("ql-flip")}return u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),g}();n.default=b},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function A(O,w){var S=[],L=!0,D=!1,B=void 0;try{for(var H=O[Symbol.iterator](),Y;!(L=(Y=H.next()).done)&&(S.push(Y.value),!(w&&S.length===w));L=!0);}catch(M){D=!0,B=M}finally{try{!L&&H.return&&H.return()}finally{if(D)throw B}}return S}return function(O,w){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return A(O,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function A(O,w,S){O===null&&(O=Function.prototype);var L=Object.getOwnPropertyDescriptor(O,w);if(L===void 0){var D=Object.getPrototypeOf(O);return D===null?void 0:A(D,w,S)}else{if("value"in L)return L.value;var B=L.get;return B===void 0?void 0:B.call(S)}},b=function(){function A(O,w){for(var S=0;S<w.length;S++){var L=w[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,L.key,L)}}return function(O,w,S){return w&&A(O.prototype,w),S&&A(O,S),O}}(),g=o(3),m=d(g),c=o(8),i=d(c),e=o(43),t=d(e),f=o(27),u=d(f),s=o(15),l=o(41),a=d(l);function d(A){return A&&A.__esModule?A:{default:A}}function r(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function h(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:A}function T(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(A){T(O,A);function O(w,S){r(this,O),S.modules.toolbar!=null&&S.modules.toolbar.container==null&&(S.modules.toolbar.container=E);var L=h(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,w,S));return L.quill.container.classList.add("ql-snow"),L}return b(O,[{key:"extendToolbar",value:function(S){S.container.classList.add("ql-snow"),this.buildButtons([].slice.call(S.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(S.container.querySelectorAll("select")),a.default),this.tooltip=new q(this.quill,this.options.bounds),S.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,D){S.handlers.link.call(S,!D.format.link)})}}]),O}(t.default);k.DEFAULTS=(0,m.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){if(O){var w=this.quill.getSelection();if(w==null||w.length==0)return;var S=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(S)&&S.indexOf("mailto:")!==0&&(S="mailto:"+S);var L=this.quill.theme.tooltip;L.edit("link",S)}else this.quill.format("link",!1)}}}}});var q=function(A){T(O,A);function O(w,S){r(this,O);var L=h(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,w,S));return L.preview=L.root.querySelector("a.ql-preview"),L}return b(O,[{key:"listen",value:function(){var S=this;y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){S.root.classList.contains("ql-editing")?S.save():S.edit("link",S.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(S.linkRange!=null){var D=S.linkRange;S.restoreFocus(),S.quill.formatText(D,"link",!1,i.default.sources.USER),delete S.linkRange}L.preventDefault(),S.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(L,D,B){if(L!=null){if(L.length===0&&B===i.default.sources.USER){var H=S.quill.scroll.descendant(u.default,L.index),Y=_(H,2),M=Y[0],I=Y[1];if(M!=null){S.linkRange=new s.Range(L.index-I,M.length());var N=u.default.formats(M.domNode);S.preview.textContent=N,S.preview.setAttribute("href",N),S.show(),S.position(S.quill.getBounds(S.linkRange));return}}else delete S.linkRange;S.hide()}})}},{key:"show",value:function(){y(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(e.BaseTooltip);q.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=k},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(29),y=Z(_),b=o(36),g=o(38),m=o(64),c=o(65),i=Z(c),e=o(66),t=Z(e),f=o(67),u=Z(f),s=o(37),l=o(26),a=o(39),d=o(40),r=o(56),h=Z(r),T=o(68),E=Z(T),k=o(27),q=Z(k),A=o(69),O=Z(A),w=o(70),S=Z(w),L=o(71),D=Z(L),B=o(72),H=Z(B),Y=o(73),M=Z(Y),I=o(13),N=Z(I),j=o(74),R=Z(j),U=o(75),F=Z(U),P=o(57),C=Z(P),z=o(41),K=Z(z),V=o(28),J=Z(V),te=o(59),ne=Z(te),ae=o(60),le=Z(ae),de=o(61),fe=Z(de),G=o(108),W=Z(G),X=o(62),Q=Z(X);function Z(re){return re&&re.__esModule?re:{default:re}}y.default.register({"attributors/attribute/direction":g.DirectionAttribute,"attributors/class/align":b.AlignClass,"attributors/class/background":s.BackgroundClass,"attributors/class/color":l.ColorClass,"attributors/class/direction":g.DirectionClass,"attributors/class/font":a.FontClass,"attributors/class/size":d.SizeClass,"attributors/style/align":b.AlignStyle,"attributors/style/background":s.BackgroundStyle,"attributors/style/color":l.ColorStyle,"attributors/style/direction":g.DirectionStyle,"attributors/style/font":a.FontStyle,"attributors/style/size":d.SizeStyle},!0),y.default.register({"formats/align":b.AlignClass,"formats/direction":g.DirectionClass,"formats/indent":m.IndentClass,"formats/background":s.BackgroundStyle,"formats/color":l.ColorStyle,"formats/font":a.FontClass,"formats/size":d.SizeClass,"formats/blockquote":i.default,"formats/code-block":N.default,"formats/header":t.default,"formats/list":u.default,"formats/bold":h.default,"formats/code":I.Code,"formats/italic":E.default,"formats/link":q.default,"formats/script":O.default,"formats/strike":S.default,"formats/underline":D.default,"formats/image":H.default,"formats/video":M.default,"formats/list/item":f.ListItem,"modules/formula":R.default,"modules/syntax":F.default,"modules/toolbar":C.default,"themes/bubble":W.default,"themes/snow":Q.default,"ui/icons":K.default,"ui/picker":J.default,"ui/icon-picker":le.default,"ui/color-picker":ne.default,"ui/tooltip":fe.default},!0),n.default=y.default},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var _=function(){function u(s,l){for(var a=0;a<l.length;a++){var d=l[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(s,d.key,d)}}return function(s,l,a){return l&&u(s.prototype,l),a&&u(s,a),s}}(),y=function u(s,l,a){s===null&&(s=Function.prototype);var d=Object.getOwnPropertyDescriptor(s,l);if(d===void 0){var r=Object.getPrototypeOf(s);return r===null?void 0:u(r,l,a)}else{if("value"in d)return d.value;var h=d.get;return h===void 0?void 0:h.call(a)}},b=o(0),g=m(b);function m(u){return u&&u.__esModule?u:{default:u}}function c(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function i(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:u}function e(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}var t=function(u){e(s,u);function s(){return c(this,s),i(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return _(s,[{key:"add",value:function(a,d){if(d==="+1"||d==="-1"){var r=this.value(a)||0;d=d==="+1"?r+1:r-1}return d===0?(this.remove(a),!0):y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,a,d)}},{key:"canAdd",value:function(a,d){return y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,a,d)||y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,a,parseInt(d))}},{key:"value",value:function(a){return parseInt(y(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,a))||void 0}}]),s}(g.default.Attributor.Class),f=new t("indent","ql-indent",{scope:g.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=f},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(4),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){c(t,e);function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(y.default);i.blotName="blockquote",i.tagName="blockquote",n.default=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function t(f,u){for(var s=0;s<u.length;s++){var l=u[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(f,l.key,l)}}return function(f,u,s){return u&&t(f.prototype,u),s&&t(f,s),f}}(),y=o(4),b=g(y);function g(t){return t&&t.__esModule?t:{default:t}}function m(t,f){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}function c(t,f){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:t}function i(t,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);t.prototype=Object.create(f&&f.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(t,f):t.__proto__=f)}var e=function(t){i(f,t);function f(){return m(this,f),c(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return _(f,null,[{key:"formats",value:function(s){return this.tagName.indexOf(s.tagName)+1}}]),f}(b.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],n.default=e},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var _=function(){function r(h,T){for(var E=0;E<T.length;E++){var k=T[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(h,k.key,k)}}return function(h,T,E){return T&&r(h.prototype,T),E&&r(h,E),h}}(),y=function r(h,T,E){h===null&&(h=Function.prototype);var k=Object.getOwnPropertyDescriptor(h,T);if(k===void 0){var q=Object.getPrototypeOf(h);return q===null?void 0:r(q,T,E)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(E)}},b=o(0),g=t(b),m=o(4),c=t(m),i=o(25),e=t(i);function t(r){return r&&r.__esModule?r:{default:r}}function f(r,h,T){return h in r?Object.defineProperty(r,h,{value:T,enumerable:!0,configurable:!0,writable:!0}):r[h]=T,r}function u(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}function s(r,h){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:r}function l(r,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);r.prototype=Object.create(h&&h.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(r,h):r.__proto__=h)}var a=function(r){l(h,r);function h(){return u(this,h),s(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return _(h,[{key:"format",value:function(E,k){E===d.blotName&&!k?this.replaceWith(g.default.create(this.statics.scope)):y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,E,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,k){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,k),this):(this.parent.unwrap(),y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replaceWith",this).call(this,E,k))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:y(h.__proto__||Object.getPrototypeOf(h),"formats",this).call(this,E)}}]),h}(c.default);a.blotName="list-item",a.tagName="LI";var d=function(r){l(h,r),_(h,null,[{key:"create",value:function(E){var k=E==="ordered"?"OL":"UL",q=y(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,k);return(E==="checked"||E==="unchecked")&&q.setAttribute("data-checked",E==="checked"),q}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function h(T){u(this,h);var E=s(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T)),k=function(A){if(A.target.parentNode===T){var O=E.statics.formats(T),w=g.default.find(A.target);O==="checked"?w.format("list","unchecked"):O==="unchecked"&&w.format("list","checked")}};return T.addEventListener("touchstart",k),T.addEventListener("mousedown",k),E}return _(h,[{key:"format",value:function(E,k){this.children.length>0&&this.children.tail.format(E,k)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,k){if(E instanceof a)y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,E,k);else{var q=k==null?this.length():k.offset(this),A=this.split(q);A.parent.insertBefore(E,A)}}},{key:"optimize",value:function(E){y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,E);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var k=g.default.create(this.statics.defaultChild);E.moveChildren(k),this.appendChild(k)}y(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replace",this).call(this,E)}}]),h}(e.default);d.blotName="list",d.scope=g.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[a],n.ListItem=a,n.default=d},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(56),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){c(t,e);function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(y.default);i.blotName="italic",i.tagName=["EM","I"],n.default=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function f(u,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,s,l){return s&&f(u.prototype,s),l&&f(u,l),u}}(),y=function f(u,s,l){u===null&&(u=Function.prototype);var a=Object.getOwnPropertyDescriptor(u,s);if(a===void 0){var d=Object.getPrototypeOf(u);return d===null?void 0:f(d,s,l)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(l)}},b=o(6),g=m(b);function m(f){return f&&f.__esModule?f:{default:f}}function c(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:f}function e(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}var t=function(f){e(u,f);function u(){return c(this,u),i(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return _(u,null,[{key:"create",value:function(l){return l==="super"?document.createElement("sup"):l==="sub"?document.createElement("sub"):y(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,l)}},{key:"formats",value:function(l){if(l.tagName==="SUB")return"sub";if(l.tagName==="SUP")return"super"}}]),u}(g.default);t.blotName="script",t.tagName=["SUB","SUP"],n.default=t},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(6),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){c(t,e);function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(y.default);i.blotName="strike",i.tagName="S",n.default=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=o(6),y=b(_);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){c(t,e);function t(){return g(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(y.default);i.blotName="underline",i.tagName="U",n.default=i},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function s(l,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}return function(l,a,d){return a&&s(l.prototype,a),d&&s(l,d),l}}(),y=function s(l,a,d){l===null&&(l=Function.prototype);var r=Object.getOwnPropertyDescriptor(l,a);if(r===void 0){var h=Object.getPrototypeOf(l);return h===null?void 0:s(h,a,d)}else{if("value"in r)return r.value;var T=r.get;return T===void 0?void 0:T.call(d)}},b=o(0),g=c(b),m=o(27);function c(s){return s&&s.__esModule?s:{default:s}}function i(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function e(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function t(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var f=["alt","height","width"],u=function(s){t(l,s);function l(){return i(this,l),e(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"format",value:function(d,r){f.indexOf(d)>-1?r?this.domNode.setAttribute(d,r):this.domNode.removeAttribute(d):y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,d,r)}}],[{key:"create",value:function(d){var r=y(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,d);return typeof d=="string"&&r.setAttribute("src",this.sanitize(d)),r}},{key:"formats",value:function(d){return f.reduce(function(r,h){return d.hasAttribute(h)&&(r[h]=d.getAttribute(h)),r},{})}},{key:"match",value:function(d){return/\.(jpe?g|gif|png)$/.test(d)||/^data:image\/.+;base64/.test(d)}},{key:"sanitize",value:function(d){return(0,m.sanitize)(d,["http","https","data"])?d:"//:0"}},{key:"value",value:function(d){return d.getAttribute("src")}}]),l}(g.default.Embed);u.blotName="image",u.tagName="IMG",n.default=u},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0});var _=function(){function s(l,a){for(var d=0;d<a.length;d++){var r=a[d];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(l,r.key,r)}}return function(l,a,d){return a&&s(l.prototype,a),d&&s(l,d),l}}(),y=function s(l,a,d){l===null&&(l=Function.prototype);var r=Object.getOwnPropertyDescriptor(l,a);if(r===void 0){var h=Object.getPrototypeOf(l);return h===null?void 0:s(h,a,d)}else{if("value"in r)return r.value;var T=r.get;return T===void 0?void 0:T.call(d)}},b=o(4),g=o(27),m=c(g);function c(s){return s&&s.__esModule?s:{default:s}}function i(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}function e(s,l){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:s}function t(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);s.prototype=Object.create(l&&l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l)}var f=["height","width"],u=function(s){t(l,s);function l(){return i(this,l),e(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"format",value:function(d,r){f.indexOf(d)>-1?r?this.domNode.setAttribute(d,r):this.domNode.removeAttribute(d):y(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,d,r)}}],[{key:"create",value:function(d){var r=y(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,d);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(d)),r}},{key:"formats",value:function(d){return f.reduce(function(r,h){return d.hasAttribute(h)&&(r[h]=d.getAttribute(h)),r},{})}},{key:"sanitize",value:function(d){return m.default.sanitize(d)}},{key:"value",value:function(d){return d.getAttribute("src")}}]),l}(b.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",n.default=u},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var _=function(){function d(r,h){for(var T=0;T<h.length;T++){var E=h[T];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(r,E.key,E)}}return function(r,h,T){return h&&d(r.prototype,h),T&&d(r,T),r}}(),y=function d(r,h,T){r===null&&(r=Function.prototype);var E=Object.getOwnPropertyDescriptor(r,h);if(E===void 0){var k=Object.getPrototypeOf(r);return k===null?void 0:d(k,h,T)}else{if("value"in E)return E.value;var q=E.get;return q===void 0?void 0:q.call(T)}},b=o(35),g=t(b),m=o(5),c=t(m),i=o(9),e=t(i);function t(d){return d&&d.__esModule?d:{default:d}}function f(d,r){if(!(d instanceof r))throw new TypeError("Cannot call a class as a function")}function u(d,r){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:d}function s(d,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);d.prototype=Object.create(r&&r.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(d,r):d.__proto__=r)}var l=function(d){s(r,d);function r(){return f(this,r),u(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _(r,null,[{key:"create",value:function(T){var E=y(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",T)),E}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),r}(g.default);l.blotName="formula",l.className="ql-formula",l.tagName="SPAN";var a=function(d){s(r,d),_(r,null,[{key:"register",value:function(){c.default.register(l,!0)}}]);function r(){f(this,r);var h=u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return h}return r}(e.default);n.FormulaBlot=l,n.default=a},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var _=function(){function T(E,k){for(var q=0;q<k.length;q++){var A=k[q];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,k,q){return k&&T(E.prototype,k),q&&T(E,q),E}}(),y=function T(E,k,q){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,k);if(A===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:T(O,k,q)}else{if("value"in A)return A.value;var w=A.get;return w===void 0?void 0:w.call(q)}},b=o(0),g=u(b),m=o(5),c=u(m),i=o(9),e=u(i),t=o(13),f=u(t);function u(T){return T&&T.__esModule?T:{default:T}}function s(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function l(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function a(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var d=function(T){a(E,T);function E(){return s(this,E),l(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return _(E,[{key:"replaceWith",value:function(q){this.domNode.textContent=this.domNode.textContent,this.attach(),y(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,q)}},{key:"highlight",value:function(q){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=q(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),E}(f.default);d.className="ql-syntax";var r=new g.default.Attributor.Class("token","hljs",{scope:g.default.Scope.INLINE}),h=function(T){a(E,T),_(E,null,[{key:"register",value:function(){c.default.register(r,!0),c.default.register(d,!0)}}]);function E(k,q){s(this,E);var A=l(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,q));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return A.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){A.highlight(),O=null},A.options.interval)}),A.highlight(),A}return _(E,[{key:"highlight",value:function(){var q=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(O){O.highlight(q.options.highlight)}),this.quill.update(c.default.sources.SILENT),A!=null&&this.quill.setSelection(A,c.default.sources.SILENT)}}}]),E}(e.default);h.DEFAULTS={highlight:function(){return window.hljs==null?null:function(T){var E=window.hljs.highlightAuto(T);return E.value}}(),interval:1e3},n.CodeBlock=d,n.CodeToken=r,n.default=h},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(v,n){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(v,n){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(v,n){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(v,n){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(v,n){v.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(v,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var _=function E(k,q,A){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,q);if(O===void 0){var w=Object.getPrototypeOf(k);return w===null?void 0:E(w,q,A)}else{if("value"in O)return O.value;var S=O.get;return S===void 0?void 0:S.call(A)}},y=function(){function E(k,q){for(var A=0;A<q.length;A++){var O=q[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,q,A){return q&&E(k.prototype,q),A&&E(k,A),k}}(),b=o(3),g=s(b),m=o(8),c=s(m),i=o(43),e=s(i),t=o(15),f=o(41),u=s(f);function s(E){return E&&E.__esModule?E:{default:E}}function l(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function a(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function d(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var r=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],h=function(E){d(k,E);function k(q,A){l(this,k),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=r);var O=a(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,q,A));return O.quill.container.classList.add("ql-bubble"),O}return y(k,[{key:"extendToolbar",value:function(A){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),u.default)}}]),k}(e.default);h.DEFAULTS=(0,g.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(E){d(k,E);function k(q,A){l(this,k);var O=a(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,q,A));return O.quill.on(c.default.events.EDITOR_CHANGE,function(w,S,L,D){if(w===c.default.events.SELECTION_CHANGE)if(S!=null&&S.length>0&&D===c.default.sources.USER){O.show(),O.root.style.left="0px",O.root.style.width="",O.root.style.width=O.root.offsetWidth+"px";var B=O.quill.getLines(S.index,S.length);if(B.length===1)O.position(O.quill.getBounds(S));else{var H=B[B.length-1],Y=O.quill.getIndex(H),M=Math.min(H.length()-1,S.index+S.length-Y),I=O.quill.getBounds(new t.Range(Y,M));O.position(I)}}else document.activeElement!==O.textbox&&O.quill.hasFocus()&&O.hide()}),O}return y(k,[{key:"listen",value:function(){var A=this;_(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var O=A.quill.getSelection();O!=null&&A.position(A.quill.getBounds(O))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var O=_(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,A),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",O===0)return O;w.style.marginLeft=-1*O-w.offsetWidth/2+"px"}}]),k}(i.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=T,n.default=h},function(v,n,o){v.exports=o(63)}]).default})}(Fe)),Fe.exports}var pe,Bi;function Bu(){if(Bi)return pe;Bi=1;var p=pe&&pe.__extends||function(){var c=function(i,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,f){t.__proto__=f}||function(t,f){for(var u in f)f.hasOwnProperty(u)&&(t[u]=f[u])},c(i,e)};return function(i,e){c(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),x=pe&&pe.__assign||function(){return x=Object.assign||function(c){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(c[f]=i[f])}return c},x.apply(this,arguments)},v=pe&&pe.__spreadArrays||function(){for(var c=0,i=0,e=arguments.length;i<e;i++)c+=arguments[i].length;for(var t=Array(c),f=0,i=0;i<e;i++)for(var u=arguments[i],s=0,l=u.length;s<l;s++,f++)t[f]=u[s];return t},n=pe&&pe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},o=n(Jo()),_=n(ea()),y=n(Iu()),b=n(Mu()),g=function(c){p(i,c);function i(e){var t=c.call(this,e)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(u,s,l,a){var d,r,h,T;u==="text-change"?(r=(d=t).onEditorChangeText)===null||r===void 0||r.call(d,t.editor.root.innerHTML,s,a,t.unprivilegedEditor):u==="selection-change"&&((T=(h=t).onEditorChangeSelection)===null||T===void 0||T.call(h,s,a,t.unprivilegedEditor))};var f=t.isControlled()?e.value:e.defaultValue;return t.value=f??"",t}return i.prototype.validateProps=function(e){var t;if(o.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(e.children)){var f=o.default.Children.only(e.children);if(((t=f)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},i.prototype.shouldComponentUpdate=function(e,t){var f=this,u;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var s=this.getEditorContents(),l=(u=e.value,u??"");this.isEqualValue(l,s)||this.setEditorContents(this.editor,l)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),v(this.cleanProps,this.dirtyProps).some(function(a){return!y.default(e[a],f.props[a])})},i.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(f){return!y.default(e[f],t.props[f])})},i.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},i.prototype.componentWillUnmount=function(){this.destroyEditor()},i.prototype.componentDidUpdate=function(e,t){var f=this;if(this.editor&&this.shouldComponentRegenerate(e)){var u=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:u,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var l=this.regenerationSnapshot,u=l.delta,a=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(u),m(function(){return f.setEditorSelection(d,a)})}},i.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},i.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},i.prototype.isControlled=function(){return"value"in this.props},i.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},i.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},i.prototype.createEditor=function(e,t){var f=new b.default(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(f,t.tabIndex),this.hookEditor(f),f},i.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},i.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},i.prototype.getEditorContents=function(){return this.value},i.prototype.getEditorSelection=function(){return this.selection},i.prototype.isDelta=function(e){return e&&e.ops},i.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?y.default(e.ops,t.ops):y.default(e,t)},i.prototype.setEditorContents=function(e,t){var f=this;this.value=t;var u=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert(t)):e.setContents(t),m(function(){return f.setEditorSelection(e,u)})},i.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var f=e.getLength();t.index=Math.max(0,Math.min(t.index,f-1)),t.length=Math.max(0,Math.min(t.length,f-1-t.index)),e.setSelection(t)}},i.prototype.setEditorTabIndex=function(e,t){var f,u;!((u=(f=e)===null||f===void 0?void 0:f.scroll)===null||u===void 0)&&u.domNode&&(e.scroll.domNode.tabIndex=t)},i.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},i.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},i.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=_.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},i.prototype.renderEditingArea=function(){var e=this,t=this.props,f=t.children,u=t.preserveWhitespace,s=this.state.generation,l={key:s,ref:function(a){e.editingArea=a}};return o.default.Children.count(f)?o.default.cloneElement(o.default.Children.only(f),l):u?o.default.createElement("pre",x({},l)):o.default.createElement("div",x({},l))},i.prototype.render=function(){var e;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},i.prototype.onEditorChangeText=function(e,t,f,u){var s,l;if(this.editor){var a=this.isDelta(this.value)?u.getContents():u.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)===null||l===void 0||l.call(s,e,t,f,u))}},i.prototype.onEditorChangeSelection=function(e,t,f){var u,s,l,a,d,r;if(this.editor){var h=this.getEditorSelection(),T=!h&&e,E=h&&!e;y.default(e,h)||(this.selection=e,(s=(u=this.props).onChangeSelection)===null||s===void 0||s.call(u,e,t,f),T?(a=(l=this.props).onFocus)===null||a===void 0||a.call(l,e,t,f):E&&((r=(d=this.props).onBlur)===null||r===void 0||r.call(d,h,t,f)))}},i.prototype.focus=function(){this.editor&&this.editor.focus()},i.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},i.displayName="React Quill",i.Quill=b.default,i.defaultProps={theme:"snow",modules:{},readOnly:!1},i}(o.default.Component);function m(c){Promise.resolve().then(c)}return pe=g,pe}var To=Bu();const Fu=Cn(To);var ke={},Fi;function Hu(){if(Fi)return ke;Fi=1;var p=Wi();Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var x=p(Vi()),v=Yi();return ke.default=(0,x.default)((0,v.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),ke}var Uu=Hu();const $u=Cn(Uu),zu=p=>{const{control:x}=p,v=Aa({control:x,name:"content"}),[n,o]=ee.useState(!1),[_]=ee.useState(!1),[y,b]=ee.useState([]),[g,m]=ee.useState(p.imageList),c=ee.useRef(0);ee.useEffect(()=>{b([])},[]);const i=ee.useCallback(a=>{a.preventDefault(),a.dataTransfer?.files&&o(!0)},[]),e=ee.useCallback(a=>{a.preventDefault(),o(!1)},[]),t=ee.useCallback(a=>{let d=[],r=y;a.type==="drop"?d=a.dataTransfer.files:d=a.target.files;for(const h of d){const T=URL.createObjectURL(h);r=[...r,{id:c.current++,object:h,url:T}]}console.log("onChangeFiles.tempFiles=",r),p.onFileUpload(r),b(r)},[y,p]),f=ee.useCallback(a=>{m(a),p.onDelete(a)},[p]),u=a=>{let d=v;a.ext==="jpg"?d+=`<img src='${a.url}'/>`:a.ext==="mp4"&&(d+=`<video preload="auto" controls="" src='${a.url}'></video>`),p.setContent(d)},s=ee.useCallback(a=>{const d=y.filter(r=>r.id!==a);p.onFileUpload(d),b(d)},[y,p]),l=ee.useCallback(a=>{a.preventDefault(),a.stopPropagation(),o(!1),t(a)},[t]);return $.jsxs(he,{children:[$.jsxs(ta,{variant:"outlined",onDragOver:i,onDragLeave:e,onDrop:l,cursor:"pointer",sx:{"&:hover":{cursor:"pointer"}},style:{border:n?"1px dashed red":"1px dashed gray",paddingLeft:5,paddingRight:5,marginBottom:10,textAlign:"center",cursor:"pointer",backgroundColor:n?"secondary":"transparent",position:"relative"},children:[$.jsx("input",{type:"file",id:"fileUpload",style:{display:"none"},multiple:!0,onChange:t}),$.jsx("label",{htmlFor:"fileUpload",children:$.jsxs(he,{display:"flex",flexDirection:"row",alignItems:"center",children:[$.jsx(He,{color:"primary","aria-label":"upload picture",component:"span",children:$.jsx($u,{style:{fontSize:40}})}),$.jsx(Ee,{children:"파일 업로드"})]})}),_&&$.jsx(ro,{size:24,style:{position:"absolute",top:"50%",left:"50%",marginTop:"-12px",marginLeft:"-12px"}})]}),$.jsxs("div",{children:[$.jsx(Ku,{imgList:g,onInsert:u,onClick:f}),y.length>0&&y.map((a,d)=>{const{id:r,object:{name:h},url:T}=a;return $.jsxs("div",{children:[$.jsxs(he,{display:"flex",flexDirection:"row",alignItems:"center",sx:{justifyContent:"space-between"},children:[$.jsx("img",{src:T,style:{width:"50px"}}),$.jsx("div",{children:h}),$.jsx(He,{"aria-label":"delete",onClick:()=>s(r),children:$.jsx(ao,{sx:{color:"red"}})})]},d),$.jsx(Oe,{})]},d)})]})]})},Ku=p=>{const[x,v]=ee.useState(p.imgList),n=_=>(x.map(y=>{if(y.key===_)return p.onInsert(y),!1}),!1),o=_=>{console.log("onDeleteClick.key=",_);const y=x.map(b=>(console.log("onDeleteClick.file.key=",b.key),b.key===_&&(b.del="Y"),b));v(y),console.log("onDeleteClick.tempFiles=",y),p.onClick(y)};return x&&x.length>0&&x.map((_,y)=>{const{key:b,name:g,url:m,del:c,ext:i}=_;return c!==void 0?"":$.jsxs("div",{children:[$.jsxs(he,{display:"flex",flexDirection:"row",alignItems:"center",sx:{justifyContent:"space-between"},children:[i==="mp4"&&$.jsx(Ee,{style:{width:"50px",textAlign:"center"},variant:"body",children:i}),i==="jpg"&&$.jsx("img",{src:m,style:{width:"50px"}}),$.jsx("div",{children:g}),$.jsxs("div",{style:{display:"flex"},children:[m&&$.jsx(ge,{variant:"outlined",color:"success",onClick:e=>{e.preventDefault(),n(b)},children:"추가"}),$.jsx(He,{"aria-label":"delete",onClick:()=>o(b),children:$.jsx(ao,{sx:{color:"red"}})})]})]}),$.jsx(Oe,{})]},y)})};class Gu{constructor(x,v={}){this.quill=x,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}handleDrop(x){if(x.preventDefault(),x.dataTransfer&&x.dataTransfer.files&&x.dataTransfer.files.length){if(document.caretRangeFromPoint){const v=document.getSelection(),n=document.caretRangeFromPoint(x.clientX,x.clientY);v&&n&&v.setBaseAndExtent(n.startContainer,n.startOffset,n.startContainer,n.startOffset)}this.readFiles(x.dataTransfer.files,this.insert.bind(this))}}handlePaste(x){x.clipboardData&&x.clipboardData.items&&x.clipboardData.items.length&&this.readFiles(x.clipboardData.items,v=>{this.quill.getSelection()||setTimeout(()=>this.insert(v),0)})}insert(x){const v=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(v,"image",x,"user")}readFiles(x,v){[].forEach.call(x,n=>{if(!n.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i))return;const o=new FileReader;o.onload=y=>{v(y.target.result)};const _=n.getAsFile?n.getAsFile():n;_ instanceof Blob&&o.readAsDataURL(_)})}}const Wu=({onSubmit:p,onCancel:x,isSubmitting:v,newMode:n})=>$.jsxs("div",{className:"flex justify-end mb-1.5",children:[$.jsxs(ge,{variant:"outlined",color:"success",disabled:v,onClick:o=>{o.preventDefault(),p(o)},children:[n?"새글":""," 저장"]}),$.jsx(ge,{type:"button",variant:"outlined",onClick:x,children:"취소"})]});To.Quill.register("modules/imageDrop",Gu);oo.configure({languages:["javascript","ruby","python","java","cpp","kotlin","sql"]});const Vu={syntax:{highlight:p=>oo.highlightAuto(p).value},toolbar:[[{header:"1"},{header:"2"},{header:"3"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"],["code-block"]],imageDrop:!0,clipboard:{matchVisual:!1}},Yu=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","clean","code-block","code-custom"],Zu=p=>{const x=ee.useRef(),[v,n]=ee.useState(p.imageList),[o,_]=ee.useState(p.htmlCheck==="Y"),[y,b]=ee.useState(p.content),g=ee.useRef(),m=ee.useRef(null),c=p.newMode,i=ee.useRef([]),{height:e}=na(),t=ka.now().setZone("Asia/Seoul").toFormat("yyyy-MM-dd"),f={edTitle:c?"":p.title,edGbn:p.gbn?p.gbn:"etc",edDate:p.date?p.date:t,content:c?"":p.content,memoTxt:c?"":p.content,htmlCheck:p.htmlCheck},{register:u,handleSubmit:s,trigger:l,control:a,setValue:d,getValues:r,watch:h,formState:{errors:T,isSubmitting:E}}=Ta({mode:"onChange",defaultValues:f});ee.useEffect(()=>{u("edDate",{required:!0,minLength:10}),u("edGbn",{required:!0}),u("htmlCheck"),u("memoTxt")},[]),ee.useEffect(()=>{i.current=[],x.current=p.content,g.current=!1,console.log("htmlCheck=",r("htmlCheck"))},[p.content]);const k=async j=>{c?await p.onNewSubmit(j,i.current):await p.onPostSubmit(j,v,i.current)},q=()=>{s(k)()},A=j=>{console.log("onDelete.imageList=",j),n(j)},O=j=>{let R=x.current;j.ext==="jpg"?R+=`<img src='${j.url}'/>`:j.ext==="mp4"&&(R+=`<video preload="auto" controls="" src='${j.url}'></video>`),x.current=R},w=j=>{x.current=j},S=j=>{console.log("handleFileUpload",j),i.current=j};function L(j){x.current=j,d("content",j),l("content")}function D(j){console.log("handleChangeDate=",j);let R=Qe(j);R.format("YYYY-MM-DD HH:mm:ss"),console.log("handleChangeDate.dayjs=",R.format("YYYY-MM-DD HH:mm:ss")),d("edDate",R.format("YYYY-MM-DD")),l("edDate")}const B=j=>{console.log("onChecked=",j),d("htmlCheck",j?"Y":"N"),_(j)},H=h("content"),Y=[{value:"",text:"None"},{value:"react",text:"React"},{value:"mui",text:"MUI"},{value:"android",text:"Android"},{value:"java",text:"JAVA"},{value:"image",text:"그림 / 사진"},{value:"etc",text:"기타"}],M=["React","JavaScript","Bash","Java","Kotlin","CSS","C++","C#","Command","Script","Python","Ruby","Go","Swift","Rust"],I=j=>{console.log("textAreaRef=",m.current);const R=m.current;if(R){const U=R.selectionStart,F=R.selectionEnd,P=y.slice(0,U),C=y.slice(F);b(P+j+C),setTimeout(()=>{R.selectionStart=R.selectionEnd=U+j.length,R.focus()},0)}},N=j=>{console.log("onClick=",j),I(j)};return $.jsx("div",{className:"my-2 mb-[50px], w-full",children:$.jsxs("form",{onSubmit:s(k),style:{width:"100%",minHeight:"300px",maxHeight:{height:e},display:"flex",flexDirection:"column"},children:[$.jsx(Wu,{onSubmit:j=>q(),onCancel:p.onCancel,isSubmitting:E,newMode:c}),$.jsx(zu,{control:a,onDelete:A,onInsert:O,setContent:w,onFileUpload:S,imageList:p.imageList}),$.jsxs("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:[$.jsx(_a,{...u("edTitle",{required:"해당 필드는 필수입니다.",minLength:{value:1,message:"1글자 이상 입력해주세요."}}),fullWidth:!0,label:"제목",placeholder:"제목",variant:"filled",size:"small",error:!!T.edTitle}),$.jsx(Ea,{id:"edGbn",name:"edGbn",label:"구분",mdSize:6,control:a,defaultValue:r("edGbn"),selectList:Y,error:!!T.edGbn,onChange:j=>{j.preventDefault();const R=j.target.value;console.log("edGbn=",r("edGbn")),d("edGbn",R)}}),$.jsxs("div",{className:"flex gap-2",children:[$.jsx(wa,{id:"edDate",label:"일자",mdSize:6,value:Qe(r("edDate")),...u("edDate"),defaultValue:Qe(r("edDate")),onChange:D}),$.jsx(Sa,{id:"html",checked:o,onChange:B,label:"HTML사용"})]})]}),$.jsx(Na,{ref:m,className:"mt-10",value:y,onChange:j=>{d("memoTxt",j),b(j)},rows:20}),$.jsx(Oe,{}),$.jsxs("div",{className:"grid grid-cols-4 gap-2 xsm:grid-cols-5 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12",children:[$.jsx(Je,{className:"cursor-pointer",variant:"light",color:"dark",onClick:()=>N("</code>"),children:"</code>"}),M.map(j=>$.jsx(Je,{className:"cursor-pointer",variant:"light",color:"dark",onClick:()=>N("<code>"+j),children:j})),$.jsx(Je,{className:"cursor-pointer",variant:"light",color:"dark",onClick:()=>N('<a href="" target="_blank"></a>'),children:"Link"})]}),$.jsx(Oe,{}),$.jsx(Fu,{fullWidth:!0,theme:"snow",id:"content",name:"content",type:"div",value:H,style:{minWidth:"400px",border:"1px solid primary.main",minHeight:"200px",height:"400px",maxHeight:"450px"},modules:Vu,formats:Yu,onChange:L}),$.jsx(Oe,{})]})})},Hi=p=>{const{rootDb:x,isLoading:v,memoDetailData:n}=p;if(console.log("MemoDetailEdit.isLoading=",v),v)return $.jsx(Le,{});const{scrollYProgress:o}=fo();co(o,{stiffness:100,damping:30,restDelta:.001});const _=Ke(),y=ee.useRef(),b=ee.useRef();b.current=p.searchWord;const{memoId:g}=to(),m=Mn(),c=n?.fullIndex,{user:i}=ze();y.current=m.pathname.split("/")[2]==="insert",console.log("MemoDetailEdit.newMode=",y.current);const{settings:e,saveSettings:t}=ra(),f=()=>{const l=`/${x}/${g==="insert"?"":g}`;_(l,{state:{fullIndex:c}})},u=async(l,a)=>{console.log("onNewSubmit.values",l),console.log("onNewSubmit.fullIndex",c);const d=x==="memo"?`${x}_txt/${i.uid}/`:`${x}_txt/`,r=x==="memo"?`${x}/${i.uid}/`:`${x}/`;console.log("onNewSubmit.txtLocate",d),console.log("onNewSubmit.locate",r);const h=await tr(void 0,d,r,c,l);if(await nr(`${x}_txt`,x,h,a),h!==void 0){const T=`/${x}/${h}`;_(T,{state:{reflash:!0}})}},s=async(l,a,d)=>{const r=x==="memo"?`${x}_txt/${i.uid}`:`${x}_txt`,h=x==="memo"?`${x}/${i.uid}`:x,T=await _l(r,h,g,a);console.log("onPostSubmit.imageDelete",T),console.log("onPostSubmit.memoId",g),console.log("onPostSubmit.values",l);const E=await tr(y.current?void 0:g,`${r}/`,`${h}/`,c,l);console.log("onPostSubmit.newKey=",E),console.log("onPostSubmit.files=",d);const k=await nr(`${r}/`,`${h}/`,g,d);if(console.log("onNewSubmit.imageResult",k),console.log("onPostSubmit.fullIndex",c),x==="memo"&&c===void 0){const A=await ia(i.uid,`${g}/fullIndex`);console.log("onPostSubmit.fullPath",A),A!==void 0&&ce(`memo/${i.uid}/${A}/title`,l.edTitle)}y.current=!1;const q=`/${x}/${g}`;_(q,{state:{fullIndex:c,reflash:!0}})};return ee.useEffect(()=>{if(n&&n.title!==void 0){const a=document.querySelector("title");a.innerHTML=`${no.appTitle} :: ${n.title}`}function l(){document.querySelectorAll("pre").forEach((a,d)=>{})}n&&n.memo!==null&&l()},[n]),g===""||i===void 0?$.jsx($.Fragment,{}):$.jsxs($.Fragment,{children:[$.jsx("div",{className:"w-full p-0 m-0",children:y.current===!1&&n&&(n.title===void 0||n.title===""||n.title===null)?$.jsx(Le,{}):$.jsx(Zu,{newMode:y.current,onPostSubmit:s,onNewSubmit:u,onCancel:f,title:n?.title,gbn:n?.gbn,date:n?.date,htmlCheck:n?.html?n?.html:"Y",content:n?.memo,imageList:n?.image})}),$.jsx(io,{})]})},Xu=ee.lazy(async()=>await va(()=>import("./MemoMain-B73YF0VQ.js"),__vite__mapDeps([0,1,2,3]))),ss=({rootDb:p})=>{const x=Ke(),{user:v}=ze(),n=ee.useRef(),o=ee.useRef(),[_,y]=ee.useState(!1),[b,g]=ee.useState(),[m,c]=ee.useState(),[i,e]=ee.useState(),[t,f]=ee.useState(),u=ee.useRef(!1),{isMoble:s,height:l}=oa(),a=Mn(),d=ee.useRef(!1);d.current=a?.state?.reflash===!0;const r=aa({queryKey:["treeMemo",v?.uid,n.current],queryFn:()=>sl(p,v?.uid,n.current)});r.data!==void 0&&r.data!==""&&!u.current&&(u.current=!0);const h=()=>{i&&(i.bookmark=i.bookmark==="Y"?"N":"Y"),console.log("onBookmark.memoDetailData.bookmark="+i.bookmark),f(i.bookmark),ha(v.uid,m,i.bookmark)};ee.useEffect(()=>{v!==void 0&&v!=null&&r.refetch()},[v]),ee.useEffect(()=>{console.log("useEffect.loadOK=",u.current)},[u.current]),ee.useEffect(()=>{const O=async L=>{if(L!==""&&v){const D=await ca(p,v?.uid,L,n.current);{const B=ko(r.data,{id:"",nm:""},L),H=B.id;o.current=B.nm,D.fullIndex=H,H!==b&&(g(H),da(v.uid,L,H))}D.bookmark===void 0&&(D.bookmark="N"),f(D.bookmark),e(D),y(!1)}},w=a.pathname.split("/"),S=w.length>2?w[w.length-1]:"";O(S),c(S)},[a.pathname,v]),ee.useEffect(()=>{v!==void 0&&v!=null&&r.refetch()},[d.current]);const T=O=>{u.current=!1,O!==void 0&&(n.current=O),r.refetch()},E=(O,w)=>{y(!0);const S=`/${p}/${O}`;x(S,{state:{fullIndex:b}})},k=()=>{if(v==null){alert("로그인 후 이용 가능합니다.");return}const O=`/${p}/insert/insert`;x(O)},q=O=>{},A=$.jsxs("div",{className:"",children:[$.jsx(hl,{className:"mt-3 ",children:p==="memo"?"메모장":"홈페이지관리"}),$.jsxs("div",{className:"flex gap-7 justify-center",children:[$.jsx(Re,{to:"/",children:"홈"}),p==="memo"?"":$.jsx(Re,{to:"/memo",children:"메모"}),$.jsx(Re,{to:"/todo",children:"TODO"}),$.jsx(Re,{to:"/tail",children:"Sheet"})]}),$.jsx(dl,{onNewMemoBtn:k,onSearchDataBtn:T}),$.jsx("div",{className:`grow-1 h-[${l-220}px]`,children:u.current&&r.isFetched?$.jsx(vo,{expandIndex:b,data:r.data,onDetail:E,maxHeight:l-220-(s?56:0)}):$.jsx(Le,{})})]});return v&&v.uid===la&&ua,$.jsxs(Oa,{sideType:"memo",title:p==="memo"?"메모장":"홈페이지관리",sideContents:A,children:[$.jsx(ee.Suspense,{fallback:$.jsx(Le,{}),children:$.jsxs(sa,{children:[$.jsx(De,{path:"/edit/:memoId",element:$.jsx(Hi,{rootDb:p,isLoading:_,searchWord:n.current,memoDetailData:i})}),$.jsx(De,{path:"/insert/:memoId",element:$.jsx(Hi,{rootDb:p,isLoading:_,searchWord:n.current,memoDetailData:i})}),$.jsx(De,{path:"/:memoId",element:$.jsx(xl,{rootDb:p,isLoading:_,searchWord:n.current,memoDetailData:i,bookmark:t,onTreeUpdate:T,pathNm:o.current,onBookmark:h,data:r.data})}),$.jsx(De,{path:"*",element:$.jsx(Xu,{searchWord:n.current,data:r.data,onNewMemoBtn:k,title:p==="memo"?"메모장 홈":"홈페이지관리 홈"})})]})}),p==="memo"?$.jsx(cl,{onSelected:q}):"",$.jsx(fa,{})]})},ko=(p,x,v)=>{let n={};if(p)for(let o=0;o<p.length;o++){const _=p[o];if(_.id===v)return n.id=x.id+_.id,n.nm=x.nm+_.title,n;if(_.sub!==null&&_.sub!==void 0){if(n.id=x.id+_.id+"/sub/",n.nm=x.nm+_.title+" > ",n=ko(Object.values(_.sub),n,v),n.id&&n.id.endsWith(v))return n;n={}}}return n};export{ss as M};
