import{j as a,bJ as g,p as b,x as p,bo as d,A as x,E as m,G as f,cd as v,ce as j,bp as y}from"./index-DJXDEmOP.js";import{H as N}from"./HtmlCode-XSts92lL.js";import{S as w}from"./pencil-BQMxeCqU.js";const M=({query:e,className:r,s:l,lnk:t="tw/search",index:s})=>a.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-1 
      md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-2 px-2
      ${r}`,children:e.data.map((o,c)=>(o.key=c,a.jsx(C,{lnk:t,post:o,s:l,index:c},o.key)))});function C({post:e,s:r,lnk:l}){const t=e.g==="m"?a.jsx("span",{className:"menu-item-icon-size menu-item-icon-active",children:a.jsx(w,{})}):null,s=l==="blog"?`/${l}/${e.url?e.url:e.id}`:`/${l}/${e.url?e.url:e.id}?s=${r}&g=${e.g?e.g:"m"}`;return a.jsx(g,{to:s,state:{s:r},className:"no-underline",children:a.jsx(L,{title:e.title,icon:t,children:a.jsx("div",{className:"max-h-[140px] overflow-hidden mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:e.html==="N"?a.jsx(N,{postData:e.memo}):e.memo!==null&&a.jsx(b,{text:e.memo,runHighlight:!1})})})},e.key)}const L=({title:e,children:r,className:l="",desc:t="",icon:s=null})=>a.jsxs("div",{className:`${p.roundedXl} border border-gray-200 
      bg-white dark:border-gray-800 dark:bg-white/[0.03] 
      overflow-hidden ${l}`,children:[a.jsxs("div",{className:"flex flex-col px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[s&&a.jsx("span",{className:"flex-shrink-0",children:s}),a.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:e})]}),t&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t})]}),a.jsx("div",{className:"p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 sm:p-6",children:a.jsx("div",{children:r})})]});async function k(e,r=""){if(e==null||e==="")return"";let l=r===""?`memo/${e}`:`memo_txt/${e}`;e==="home"&&(l="home/");const t=d(x(m,l)),s=await f(t);if(!s.exists()||!s.exists())return;const o=s.val(),c=[];for(let i in o){const n=o[i];n.up===void 0?(n.id=i,n.fullIndex=i):(n.id=n.up,n.fullIndex=n.up),r===""||r===void 0?(n.sub!==null&&(n.children=h(n,n.up)),c.push(n)):(n.id=i,(n.memo+"").toLowerCase().indexOf(r.toLowerCase())>-1&&c.push(n))}return c.sort((i,n)=>i.title>n.title?1:-1),c}function h(e,r){const l=[];if(e===void 0||e.sub===void 0)return l;for(let t in e.sub){let s=e.sub[t];s.id=t,s.key=t}return Object.values(e.sub).sort((t,s)=>s.title-t.title).map(t=>{t.id=t.key,t.fullIndex=r+"/sub/"+t.key,t.sub!==null&&(t.children=h(t,t.fullIndex)),l.push(t)}),l}async function T(e){const r=j[e],l=d(x(m,"home_txt"),y("gbn"),v(r.id)),t=await f(l);if(!t.exists())return;const s=t.val(),o=[{title:"React",url:"-Nn8_VCOrqSvLCqp89KJ"},{title:"Android",url:"-NnHx-gx3DMgMWLvIW8F"},{title:"JAVA",url:"-Nn8cfz1D61YG_M_911F"},{title:"그림 / 사진",url:"-NnHs-GndQ5y00GDI_rN"},{title:"MUI",url:"-NnBulBVEYke6NAxzIHY"}],c=[];for(let i in s)o.filter(u=>u.url===i).length>0||(s[i].url=i,c.push(s[i]));return c.sort((i,n)=>i.title>n.title?1:-1),c}async function _(e,r){const l=d(x(m,"home_txt")),t=await f(l);if(!t.exists())return;const s=t.val(),o=[];for(let i in s)if(s[i].url=i,s[i].id=i,s[i].g="h",e===""||e===void 0)o.push(s[i]);else{const n=s[i].memo+"",u=s[i].title+"";(n.toLowerCase().indexOf(e.toLowerCase())>-1||u.toLowerCase().indexOf(e.toLowerCase())>-1)&&o.push(s[i])}if(r==null||r===""||e==="")return o.sort((i,n)=>i.title>n.title?1:-1),o;const c=await k(r,e);return o.push(...c),o.sort((i,n)=>i.title>n.title?1:-1),o}export{M as T,T as a,_ as b};
