import{bJ as b,A as m,r as x,O as f,n as d,t as l,p as B,j as t,G as i,az as y,H as p,an as v}from"./index-DUSpVCOt.js";import{u as h}from"./useQuery-ZfnU_cIU.js";const j=()=>{const u=new b,{user:e}=m(),r=h({queryKey:["useBibleBookmark"],queryFn:()=>o(),enabled:!1});x.useEffect(()=>{e!==void 0&&r.refetch()},[r,e]);async function o(){if(e.uid===void 0)return new Error("Error undefined");const s=d(l,`bible_mark/${e.uid}`),a=await B(s),n=new Array;if(a.exists()){const k=a.val();return Object.values(k).map(c=>{c.bookmark==="Y"&&n.push(c)}),n}else return new Error("Error exists")}return{query:r,setBibleBookmark:s=>{if(e===void 0||e===void 0)return;let a="N";(s.bookmark===void 0||s.bookmark==="N")&&(a="Y"),s.bookmark=a;const n=`bible_mark/${e.uid}/${s.cd1}_${s.cd2}_${s.cd3}_${s.cd4}`;f(d(l,n),s),u.invalidateQueries({queryKey:["useBibleBookmark"]}),r.refetch()}}},g=()=>{const{query:u}=j(),e=u.data;if(e!=null)return t.jsxs(t.Fragment,{children:[e.map((r,o)=>t.jsxs(i,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:`id_${o+1}`,children:[t.jsx(i,{item:!0,xs:1,md:1,children:t.jsx(y,{to:`/bible/${r.cd1}_${r.cd2}_${r.cd3}`,state:{cd4:r.cd4},children:r.nm})}),t.jsx(i,{item:!0,xs:4,sm:6,md:9,lg:11,children:t.jsx(p,{show:!0,text:r.txt})})]},o)),t.jsx(v,{})]})};export{g as B,j as u};
