import{a as de,g as ue,r as b,u as Ze,w as Pe,bh as et,bi as Re,_ as F,b as y,j as p,s as O,c as A,e as X,d as fe,aE as tt,bj as ot,aA as rt,A as nt,ap as De,an as Ne,aq as je,ar as ke,as as Me,at as Oe,aP as st,b1 as Ae,aZ as Fe,b8 as $e,b5 as G,b4 as U,aV as lt,b2 as it,K as at,bk as Le,bl as ct,bm as dt,bn as ut,av as Y,bo as ft,i as le,bp as pt,az as gt,bq as ht,br as me,bf as V,bs as Ie,bt as xt,bu as bt,bv as Nt,bw as mt,aQ as ie,bx as It,x as Ct,by as vt,bz as yt,bA as St}from"./index-BTQulWNG.js";import{A as Et}from"./AniButton-BrIreEWS.js";import{B as wt}from"./Button-14YbiRkg.js";import{C as _e}from"./Collapse-DRqsFC3v.js";function Tt(e){return de("MuiDrawer",e)}ue("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Pt=["BackdropProps"],Rt=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Ve=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Dt=e=>{const{classes:t,anchor:o,variant:n}=e,s={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${X(o)}`,n!=="temporary"&&`paperAnchorDocked${X(o)}`]};return fe(s,Tt,t)},jt=O(rt,{name:"MuiDrawer",slot:"Root",overridesResolver:Ve})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),Ce=O("div",{shouldForwardProp:ot,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Ve})({flex:"0 0 auto"}),kt=O(tt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${X(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${X(o.anchor)}`]]}})(({theme:e,ownerState:t})=>y({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),Be={left:"right",right:"left",top:"down",bottom:"up"};function Mt(e){return["left","right"].indexOf(e)!==-1}function Ot({direction:e},t){return e==="rtl"&&Mt(t)?Be[t]:t}const At=b.forwardRef(function(t,o){const n=Ze({props:t,name:"MuiDrawer"}),s=Pe(),a=et(),h={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:g,children:c,className:u,elevation:f=16,hideBackdrop:I=!1,ModalProps:{BackdropProps:d}={},onClose:r,open:i=!1,PaperProps:x={},SlideProps:N,TransitionComponent:m=Re,transitionDuration:C=h,variant:v="temporary"}=n,S=F(n.ModalProps,Pt),w=F(n,Rt),T=b.useRef(!1);b.useEffect(()=>{T.current=!0},[]);const j=Ot({direction:a?"rtl":"ltr"},l),P=y({},n,{anchor:l,elevation:f,open:i,variant:v},w),D=Dt(P),H=p.jsx(kt,y({elevation:v==="temporary"?f:0,square:!0},x,{className:A(D.paper,x.className),ownerState:P,children:c}));if(v==="permanent")return p.jsx(Ce,y({className:A(D.root,D.docked,u),ownerState:P,ref:o},w,{children:H}));const L=p.jsx(m,y({in:i,direction:Be[j],timeout:C,appear:T.current},N,{children:H}));return v==="persistent"?p.jsx(Ce,y({className:A(D.root,D.docked,u),ownerState:P,ref:o},w,{children:L})):p.jsx(jt,y({BackdropProps:y({},g,d,{transitionDuration:C}),className:A(D.root,D.modal,u),open:i,ownerState:P,onClose:r,hideBackdrop:I,ref:o},w,S,{children:L}))}),Do=()=>{const{user:e,handleGoogleLogin:t,handleGoogleLogout:o}=nt();return e?p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",margin:8},children:p.jsxs(wt,{type:"button",onClick:o,children:[p.jsx("img",{height:"30px",src:e.photoURL}),p.jsxs(De,{noWrap:!0,component:"div",children:["  ",e.displayName]})]})}),p.jsx(Ne,{sx:{m:0}})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",margin:8},children:p.jsx(Et,{type:"button",size:"small",variant:"outlined",color:"success",onClick:t,children:"로그인"})}),p.jsx(Ne,{})]})};var B={},ve;function Ft(){if(ve)return B;ve=1;var e=je();Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var t=e(ke()),o=Me();return B.default=(0,t.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),B}var $t=Ft();const jo=Oe($t);var z={},ye;function Lt(){if(ye)return z;ye=1;var e=je();Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var t=e(ke()),o=Me();return z.default=(0,t.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),z}var _t=Lt();const ko=Oe(_t),Vt=["element"];function Bt(e,t){for(let o=0;o<e.length;o+=1)if(t(e[o]))return o;return-1}function zt(e,t){let o=0,n=e.length-1;for(;o<=n;){const s=Math.floor((o+n)/2);if(e[s].element===t)return s;e[s].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?n=s-1:o=s+1}return o}const ze=b.createContext({});function Kt(e){const t=b.useRef(null);return b.useEffect(()=>{t.current=e},[e]),t.current}const Se=()=>{};function Ut(e){const[,t]=b.useState(),{registerDescendant:o=Se,unregisterDescendant:n=Se,descendants:s=[],parentId:a=null}=b.useContext(ze),h=Bt(s,c=>c.element===e.element),l=Kt(s),g=s.some((c,u)=>l&&l[u]&&l[u].element!==c.element);return st(()=>{if(e.element)return o(y({},e,{index:h})),()=>{n(e.element)};t({})},[o,n,h,g,e]),{parentId:a,index:h}}function Ke(e){const{children:t,id:o}=e,[n,s]=b.useState([]),a=b.useCallback(g=>{let{element:c}=g,u=F(g,Vt);s(f=>{if(f.length===0)return[y({},u,{element:c,index:0})];const I=zt(f,c);let d;if(f[I]&&f[I].element===c)d=f;else{const r=y({},u,{element:c,index:I});d=f.slice(),d.splice(I,0,r)}return d.forEach((r,i)=>{r.index=i}),d})},[]),h=b.useCallback(g=>{s(c=>c.filter(u=>g!==u.element))},[]),l=b.useMemo(()=>({descendants:n,registerDescendant:a,unregisterDescendant:h,parentId:o}),[n,a,h,o]);return p.jsx(ze.Provider,{value:l,children:t})}const Ue={instance:null,multiSelect:!1,disabledItemsFocusable:!1,treeId:void 0,icons:{defaultCollapseIcon:null,defaultExpandIcon:null,defaultParentIcon:null,defaultEndIcon:null}},He=b.createContext(Ue),qe=()=>b.useContext(He);function Ht(e){const{instance:t,multiSelect:o}=qe(),n=t?t.isNodeExpandable(e):!1,s=t?t.isNodeExpanded(e):!1,a=t?t.isNodeFocused(e):!1,h=t?t.isNodeSelected(e):!1,l=t?t.isNodeDisabled(e):!1;return{disabled:l,expanded:s,selected:h,focused:a,handleExpansion:f=>{if(t&&!l){a||t.focusNode(f,e);const I=o&&(f.shiftKey||f.ctrlKey||f.metaKey);n&&!(I&&t.isNodeExpanded(e))&&t.toggleNodeExpansion(f,e)}},handleSelection:f=>{t&&!l&&(a||t.focusNode(f,e),o&&(f.shiftKey||f.ctrlKey||f.metaKey)?f.shiftKey?t.selectRange(f,{end:e}):t.selectNode(f,e,!0):t.selectNode(f,e))},preventSelection:f=>{(f.shiftKey||f.ctrlKey||f.metaKey||l)&&f.preventDefault()}}}const qt=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],We=b.forwardRef(function(t,o){const{classes:n,className:s,displayIcon:a,expansionIcon:h,icon:l,label:g,nodeId:c,onClick:u,onMouseDown:f}=t,I=F(t,qt),{disabled:d,expanded:r,selected:i,focused:x,handleExpansion:N,handleSelection:m,preventSelection:C}=Ht(c),v=l||h||a,S=T=>{C(T),f&&f(T)},w=T=>{N(T),m(T),u&&u(T)};return p.jsxs("div",y({},I,{className:A(s,n.root,r&&n.expanded,i&&n.selected,x&&n.focused,d&&n.disabled),onClick:w,onMouseDown:S,ref:o,children:[p.jsx("div",{className:n.iconContainer,children:v}),p.jsx("div",{className:n.label,children:g})]}))});function Wt(e){return de("MuiTreeItem",e)}const M=ue("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]),Gt=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Yt=e=>{const{classes:t}=e;return fe({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Wt,t)},Xt=O("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),Jt=O(We,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${M.iconContainer}`]:t.iconContainer},t.label&&{[`& .${M.label}`]:t.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${M.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${M.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:G(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:G(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:G(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${M.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:G(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${M.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${M.label}`]:y({paddingLeft:4,width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),Qt=O(_e,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,t)=>t.group})({margin:0,padding:0,marginLeft:17}),Mo=b.forwardRef(function(t,o){const n=Ae({props:t,name:"MuiTreeItem"}),{children:s,className:a,collapseIcon:h,ContentComponent:l=We,ContentProps:g,endIcon:c,expandIcon:u,disabled:f,icon:I,id:d,label:r,nodeId:i,onClick:x,onMouseDown:N,TransitionComponent:m=_e,TransitionProps:C}=n,v=F(n,Gt),{icons:S,multiSelect:w,disabledItemsFocusable:T,treeId:j,instance:E}=qe();let P;d!=null?P=d:j&&i&&(P=`${j}-${i}`);const[D,H]=b.useState(null),L=b.useRef(null),Xe=Fe(H,o),Je=b.useMemo(()=>({element:D,id:i}),[i,D]),{index:J,parentId:xe}=Ut(Je),_=!!(Array.isArray(s)?s.length:s),q=E?E.isNodeExpanded(i):!1,be=E?E.isNodeFocused(i):!1,Q=E?E.isNodeSelected(i):!1,Z=E?E.isNodeDisabled(i):!1,ee=y({},n,{expanded:q,focused:be,selected:Q,disabled:Z}),k=Yt(ee);let te,oe;_&&(q?oe=h||S.defaultCollapseIcon:oe=u||S.defaultExpandIcon),_?te=S.defaultParentIcon:te=c||S.defaultEndIcon,b.useEffect(()=>{if(E&&J!==-1)return E.updateNode({id:i,idAttribute:P,index:J,parentId:xe,expandable:_,disabled:f}),()=>E.removeNode(i)},[E,xe,J,i,_,f,P]),b.useEffect(()=>{if(E&&r){var R,W;return E.mapFirstChar(i,((R=(W=L.current)==null?void 0:W.textContent)!=null?R:"").substring(0,1).toLowerCase())}},[E,i,r]);let re;w?re=Q:Q&&(re=!0);function Qe(R){if(R.target===R.currentTarget){let ne;typeof R.target.getRootNode=="function"?ne=R.target.getRootNode():ne=$e(R.target),ne.getElementById(j).focus({preventScroll:!0})}const W=!T&&Z;E&&!be&&R.currentTarget===R.target&&!W&&E.focusNode(R,i)}return p.jsxs(Xt,y({className:A(k.root,a),role:"treeitem","aria-expanded":_?q:void 0,"aria-selected":re,"aria-disabled":Z||void 0,id:P,tabIndex:-1},v,{ownerState:ee,onFocus:Qe,ref:Xe,children:[p.jsx(Jt,y({as:l,ref:L,classes:{root:k.content,expanded:k.expanded,selected:k.selected,focused:k.focused,disabled:k.disabled,iconContainer:k.iconContainer,label:k.label},label:r,nodeId:i,onClick:x,onMouseDown:N,icon:I,expansionIcon:oe,displayIcon:te,ownerState:ee},g)),s&&p.jsx(Ke,{id:i,children:p.jsx(Qt,y({as:m,unmountOnExit:!0,className:k.group,in:q,component:"ul",role:"group"},C,{children:s}))})]}))});function Zt(e){return de("MuiTreeView",e)}ue("MuiTreeView",["root"]);const eo=(e,t)=>{const o=b.useRef({}),[n,s]=b.useState(()=>{const h={};return e.forEach(l=>{l.models&&Object.entries(l.models).forEach(([g,c])=>{o.current[g]={controlledProp:c.controlledProp,defaultProp:c.defaultProp,isControlled:t[c.controlledProp]!==void 0},h[g]=t[c.defaultProp]})}),h});return Object.fromEntries(Object.entries(o.current).map(([h,l])=>{const g=l.isControlled?t[l.controlledProp]:n[h];return[h,{value:g,setValue:c=>{l.isControlled||s(u=>y({},u,{[h]:c}))}}]}))};class to{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,n={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),n.isFirst?s.highPriority.set(o,!0):s.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const n=this.events[t];if(!n)return;const s=Array.from(n.highPriority.keys()),a=Array.from(n.regular.keys());for(let h=s.length-1;h>=0;h-=1){const l=s[h];n.highPriority.has(l)&&l.apply(this,o)}for(let h=0;h<a.length;h+=1){const l=a[h];n.regular.has(l)&&l.apply(this,o)}}once(t,o){const n=this;this.on(t,function s(...a){n.removeListener(t,s),o.apply(n,a)})}}const se=(e,t)=>{const o=e.getNode(t),n=e.getNavigableChildrenIds(o.parentId),s=n.indexOf(t);if(s===0)return o.parentId;let a=n[s-1];for(;e.isNodeExpanded(a)&&e.getNavigableChildrenIds(a).length>0;)a=e.getNavigableChildrenIds(a).pop();return a},K=(e,t)=>{if(e.isNodeExpanded(t)&&e.getNavigableChildrenIds(t).length>0)return e.getNavigableChildrenIds(t)[0];let o=e.getNode(t);for(;o!=null;){const n=e.getNavigableChildrenIds(o.parentId),s=n[n.indexOf(o.id)+1];if(s)return s;o=e.getNode(o.parentId)}return null},ae=e=>{let t=e.getNavigableChildrenIds(null).pop();for(;e.isNodeExpanded(t);)t=e.getNavigableChildrenIds(t).pop();return t},ce=e=>e.getNavigableChildrenIds(null)[0],$=(e,t)=>{Object.assign(e,t)},oo=e=>e.isPropagationStopped!==void 0,ro=({instance:e})=>{const[t]=b.useState(()=>new to),o=b.useCallback((...s)=>{const[a,h,l={}]=s;l.defaultMuiPrevented=!1,!(oo(l)&&l.isPropagationStopped())&&t.emit(a,h,l)},[t]),n=b.useCallback((s,a)=>(t.on(s,a),()=>{t.removeListener(s,a)}),[t]);$(e,{$$publishEvent:o,$$subscribeEvent:n})},no=[ro],so=e=>{const t=[...no,...e.plugins],o=t.reduce((r,i)=>i.getDefaultizedParams?i.getDefaultizedParams(r):r,e),n=eo(t,o),a=b.useRef({}).current,h=b.useRef(null),l=Fe(h,e.rootRef),[g,c]=b.useState(()=>{const r={};return t.forEach(i=>{i.getInitialState&&Object.assign(r,i.getInitialState(o))}),r}),u=[];let f=Ue;const I=r=>{const i=r({instance:a,params:o,state:g,setState:c,rootRef:h,models:n})||{};i.getRootProps&&u.push(i.getRootProps),i.contextValue&&(f=i.contextValue)};return t.forEach(I),{getRootProps:(r={})=>{const i=y({role:"tree",tabIndex:0},r,{ref:l});return u.forEach(x=>{Object.assign(i,x(r))}),i},rootRef:l,contextValue:f}};function lo(e){const{value:t,children:o}=e;return p.jsx(He.Provider,{value:t,children:p.jsx(Ke,{children:o})})}const io=(e,t,o)=>{e.$$publishEvent(t,o)},ao=({instance:e,params:t})=>{const o=b.useRef({}),n=b.useCallback(c=>o.current[c],[]),s=b.useCallback(c=>{o.current[c.id]=c},[]),a=b.useCallback(c=>{const u=y({},o.current);delete u[c],o.current=u,io(e,"removeNode",{id:c})},[e]),h=b.useCallback(c=>{if(c==null)return!1;let u=e.getNode(c);if(!u)return!1;if(u.disabled)return!0;for(;u.parentId!=null;)if(u=e.getNode(u.parentId),u.disabled)return!0;return!1},[e]),l=U(c=>Object.values(o.current).filter(u=>u.parentId===c).sort((u,f)=>u.index-f.index).map(u=>u.id));$(e,{getNode:n,updateNode:s,removeNode:a,getChildrenIds:l,getNavigableChildrenIds:c=>{let u=e.getChildrenIds(c);return t.disabledItemsFocusable||(u=u.filter(f=>!e.isNodeDisabled(f))),u},isNodeDisabled:h})},pe=({instance:e,params:t,models:o})=>{const n=b.useCallback(l=>Array.isArray(o.expanded.value)?o.expanded.value.indexOf(l)!==-1:!1,[o.expanded.value]),s=b.useCallback(l=>{var g;return!!((g=e.getNode(l))!=null&&g.expandable)},[e]),a=U((l,g)=>{if(g==null)return;let c;o.expanded.value.indexOf(g)!==-1?c=o.expanded.value.filter(u=>u!==g):c=[g].concat(o.expanded.value),t.onNodeToggle&&t.onNodeToggle(l,c),o.expanded.setValue(c)});$(e,{isNodeExpanded:n,isNodeExpandable:s,toggleNodeExpansion:a,expandAllSiblings:(l,g)=>{const c=e.getNode(g),f=e.getChildrenIds(c.parentId).filter(d=>e.isNodeExpandable(d)&&!e.isNodeExpanded(d)),I=o.expanded.value.concat(f);f.length>0&&(o.expanded.setValue(I),t.onNodeToggle&&t.onNodeToggle(l,I))}})};pe.models={expanded:{controlledProp:"expanded",defaultProp:"defaultExpanded"}};const co=[];pe.getDefaultizedParams=e=>{var t;return y({},e,{defaultExpanded:(t=e.defaultExpanded)!=null?t:co})};const uo=(e,t,o)=>{if(t===o)return[t,o];const n=e.getNode(t),s=e.getNode(o);if(n.parentId===s.id||s.parentId===n.id)return s.parentId===n.id?[n.id,s.id]:[s.id,n.id];const a=[n.id],h=[s.id];let l=n.parentId,g=s.parentId,c=h.indexOf(l)!==-1,u=a.indexOf(g)!==-1,f=!0,I=!0;for(;!u&&!c;)f&&(a.push(l),c=h.indexOf(l)!==-1,f=l!==null,!c&&f&&(l=e.getNode(l).parentId)),I&&!c&&(h.push(g),u=a.indexOf(g)!==-1,I=g!==null,!u&&I&&(g=e.getNode(g).parentId));const d=c?l:g,r=e.getChildrenIds(d),i=a[a.indexOf(d)-1],x=h[h.indexOf(d)-1];return r.indexOf(i)<r.indexOf(x)?[t,o]:[o,t]},ge=({instance:e,params:t,models:o})=>{const n=b.useRef(null),s=b.useRef(!1),a=b.useRef([]),h=r=>Array.isArray(o.selected.value)?o.selected.value.indexOf(r)!==-1:o.selected.value===r,l=(r,i,x=!1)=>{if(!t.disableSelection){if(x){if(Array.isArray(o.selected.value)){let N;o.selected.value.indexOf(i)!==-1?N=o.selected.value.filter(m=>m!==i):N=[i].concat(o.selected.value),t.onNodeSelect&&t.onNodeSelect(r,N),o.selected.setValue(N)}}else{const N=t.multiSelect?[i]:i;t.onNodeSelect&&t.onNodeSelect(r,N),o.selected.setValue(N)}n.current=i,s.current=!1,a.current=[]}},g=(r,i)=>{const[x,N]=uo(e,r,i),m=[x];let C=x;for(;C!==N;)C=K(e,C),m.push(C);return m},c=(r,i)=>{let x=o.selected.value.slice();const{start:N,next:m,current:C}=i;!m||!C||(a.current.indexOf(C)===-1&&(a.current=[]),s.current?a.current.indexOf(m)!==-1?(x=x.filter(v=>v===N||v!==C),a.current=a.current.filter(v=>v===N||v!==C)):(x.push(m),a.current.push(m)):(x.push(m),a.current.push(C,m)),t.onNodeSelect&&t.onNodeSelect(r,x),o.selected.setValue(x))},u=(r,i)=>{let x=o.selected.value.slice();const{start:N,end:m}=i;s.current&&(x=x.filter(S=>a.current.indexOf(S)===-1));let C=g(N,m);C=C.filter(S=>!e.isNodeDisabled(S)),a.current=C;let v=x.concat(C);v=v.filter((S,w)=>v.indexOf(S)===w),t.onNodeSelect&&t.onNodeSelect(r,v),o.selected.setValue(v)};return $(e,{isNodeSelected:h,selectNode:l,selectRange:(r,i,x=!1)=>{if(t.disableSelection)return;const{start:N=n.current,end:m,current:C}=i;x?c(r,{start:N,next:m,current:C}):N!=null&&m!=null&&u(r,{start:N,end:m}),s.current=!0},rangeSelectToLast:(r,i)=>{n.current||(n.current=i);const x=s.current?n.current:i;e.selectRange(r,{start:x,end:ae(e)})},rangeSelectToFirst:(r,i)=>{n.current||(n.current=i);const x=s.current?n.current:i;e.selectRange(r,{start:x,end:ce(e)})}}),{getRootProps:()=>({"aria-multiselectable":t.multiSelect})}};ge.models={selected:{controlledProp:"selected",defaultProp:"defaultSelected"}};const fo=[];ge.getDefaultizedParams=e=>{var t,o,n;return y({},e,{disableSelection:(t=e.disableSelection)!=null?t:!1,multiSelect:(o=e.multiSelect)!=null?o:!1,defaultSelected:(n=e.defaultSelected)!=null?n:e.multiSelect?fo:null})};const Ee=1e3;class po{constructor(t=Ee){this.timeouts=new Map,this.cleanupTimeout=Ee,this.cleanupTimeout=t}register(t,o,n){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,s)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class go{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,n){this.registry.register(t,o,n)}unregister(t){this.registry.unregister(t)}reset(){}}class ho{}function xo(e){let t=0;return function(n,s,a){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new go:new po);const[h]=b.useState(new ho),l=b.useRef(null),g=b.useRef();g.current=a;const c=b.useRef(null);if(!l.current&&g.current){const u=(f,I)=>{if(!I.defaultMuiPrevented){var d;(d=g.current)==null||d.call(g,f,I)}};l.current=n.$$subscribeEvent(s,u),t+=1,c.current={cleanupToken:t},e.registry.register(h,()=>{var f;(f=l.current)==null||f.call(l),l.current=null,c.current=null},c.current)}else!g.current&&l.current&&(l.current(),l.current=null,c.current&&(e.registry.unregister(c.current),c.current=null));b.useEffect(()=>{if(!l.current&&g.current){const u=(f,I)=>{if(!I.defaultMuiPrevented){var d;(d=g.current)==null||d.call(g,f,I)}};l.current=n.$$subscribeEvent(s,u)}return c.current&&e.registry&&(e.registry.unregister(c.current),c.current=null),()=>{var u;(u=l.current)==null||u.call(l),l.current=null}},[n,s])}}const bo={registry:null},No=xo(bo),he=({instance:e,params:t,state:o,setState:n,models:s,rootRef:a})=>{const h=U(d=>{const r=typeof d=="function"?d(o.focusedNodeId):d;n(i=>y({},i,{focusedNodeId:r}))}),l=b.useCallback(d=>o.focusedNodeId===d,[o.focusedNodeId]),g=U((d,r)=>{r&&(h(r),t.onNodeFocus&&t.onNodeFocus(d,r))});$(e,{isNodeFocused:l,focusNode:g}),No(e,"removeNode",({id:d})=>{h(r=>r===d&&a.current===$e(a.current).activeElement?e.getChildrenIds(null)[0]:r)});const c=d=>r=>{var i;if((i=d.onFocus)==null||i.call(d,r),r.target===r.currentTarget){const x=m=>{const C=e.getNode(m);return C&&(C.parentId==null||e.isNodeExpanded(C.parentId))};let N;Array.isArray(s.selected.value)?N=s.selected.value.find(x):s.selected.value!=null&&x(s.selected.value)&&(N=s.selected.value),N==null&&(N=e.getNavigableChildrenIds(null)[0]),e.focusNode(r,N)}},u=d=>r=>{var i;(i=d.onBlur)==null||i.call(d,r),h(null)},f=e.getNode(o.focusedNodeId),I=f?f.idAttribute:null;return{getRootProps:d=>({onFocus:c(d),onBlur:u(d),"aria-activedescendant":I??void 0})}};he.getInitialState=()=>({focusedNodeId:null});he.getDefaultizedParams=e=>{var t;return y({},e,{disabledItemsFocusable:(t=e.disabledItemsFocusable)!=null?t:!1})};function mo(e){return e&&e.length===1&&e.match(/\S/)}function we(e,t,o){for(let n=t;n<e.length;n+=1)if(o===e[n])return n;return-1}const Io=({instance:e,params:t,state:o})=>{const s=Pe().direction==="rtl",a=b.useRef({}),h=U((d,r)=>(a.current[d]=r,()=>{const i=y({},a.current);delete i[d],a.current=i}));$(e,{mapFirstChar:h});const l=d=>(o.focusedNodeId!=null&&e.isNodeExpandable(o.focusedNodeId)&&(e.isNodeExpanded(o.focusedNodeId)?e.focusNode(d,K(e,o.focusedNodeId)):e.isNodeDisabled(o.focusedNodeId)||e.toggleNodeExpansion(d,o.focusedNodeId)),!0),g=d=>{if(o.focusedNodeId==null)return!1;if(e.isNodeExpanded(o.focusedNodeId)&&!e.isNodeDisabled(o.focusedNodeId))return e.toggleNodeExpansion(d,o.focusedNodeId),!0;const r=e.getNode(o.focusedNodeId).parentId;return r?(e.focusNode(d,r),!0):!1},c=(d,r,i)=>{let x,N;const m=i.toLowerCase(),C=[],v=[];Object.keys(a.current).forEach(S=>{const w=e.getNode(S),T=w.parentId?e.isNodeExpanded(w.parentId):!0,j=t.disabledItemsFocusable?!1:e.isNodeDisabled(S);T&&!j&&(C.push(S),v.push(a.current[S]))}),x=C.indexOf(r)+1,x>=C.length&&(x=0),N=we(v,x,m),N===-1&&(N=we(v,0,m)),N>-1&&e.focusNode(d,C[N])},u=(d,r)=>{e.isNodeDisabled(K(e,r))||e.selectRange(d,{end:K(e,r),current:r},!0)},f=(d,r)=>{e.isNodeDisabled(se(e,r))||e.selectRange(d,{end:se(e,r),current:r},!0)},I=d=>r=>{var i;(i=d.onKeyDown)==null||i.call(d,r);let x=!1;const N=r.key;if(r.altKey||r.currentTarget!==r.target||o.focusedNodeId==null)return;const m=r.ctrlKey||r.metaKey;switch(N){case" ":!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&(x=!0,t.multiSelect&&r.shiftKey?e.selectRange(r,{end:o.focusedNodeId}):t.multiSelect?e.selectNode(r,o.focusedNodeId,!0):e.selectNode(r,o.focusedNodeId)),r.stopPropagation();break;case"Enter":e.isNodeDisabled(o.focusedNodeId)||(e.isNodeExpandable(o.focusedNodeId)?(e.toggleNodeExpansion(r,o.focusedNodeId),x=!0):t.disableSelection||(x=!0,t.multiSelect?e.selectNode(r,o.focusedNodeId,!0):e.selectNode(r,o.focusedNodeId))),r.stopPropagation();break;case"ArrowDown":t.multiSelect&&r.shiftKey&&!t.disableSelection&&u(r,o.focusedNodeId),e.focusNode(r,K(e,o.focusedNodeId)),x=!0;break;case"ArrowUp":t.multiSelect&&r.shiftKey&&!t.disableSelection&&f(r,o.focusedNodeId),e.focusNode(r,se(e,o.focusedNodeId)),x=!0;break;case"ArrowRight":s?x=g(r):x=l(r);break;case"ArrowLeft":s?x=l(r):x=g(r);break;case"Home":t.multiSelect&&m&&r.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&e.rangeSelectToFirst(r,o.focusedNodeId),e.focusNode(r,ce(e)),x=!0;break;case"End":t.multiSelect&&m&&r.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&e.rangeSelectToLast(r,o.focusedNodeId),e.focusNode(r,ae(e)),x=!0;break;default:N==="*"?(e.expandAllSiblings(r,o.focusedNodeId),x=!0):t.multiSelect&&m&&N.toLowerCase()==="a"&&!t.disableSelection?(e.selectRange(r,{start:ce(e),end:ae(e)}),x=!0):!m&&!r.shiftKey&&mo(N)&&(c(r,o.focusedNodeId,N),x=!0)}x&&(r.preventDefault(),r.stopPropagation())};return{getRootProps:d=>({onKeyDown:I(d)})}},Co=({instance:e,params:t})=>{const o=lt(t.id);return{getRootProps:()=>({id:o}),contextValue:{treeId:o,instance:e,multiSelect:t.multiSelect,disabledItemsFocusable:t.disabledItemsFocusable,icons:{defaultCollapseIcon:t.defaultCollapseIcon,defaultEndIcon:t.defaultEndIcon,defaultExpandIcon:t.defaultExpandIcon,defaultParentIcon:t.defaultParentIcon}}}},vo=[ao,pe,ge,he,Io,Co],yo=["disabledItemsFocusable","expanded","defaultExpanded","onNodeToggle","onNodeFocus","disableSelection","defaultSelected","selected","multiSelect","onNodeSelect","id","defaultCollapseIcon","defaultEndIcon","defaultExpandIcon","defaultParentIcon","children"],So=e=>{const{classes:t}=e;return fe({root:["root"]},Zt,t)},Te=O("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0}),Oo=b.forwardRef(function(t,o){const n=Ae({props:t,name:"MuiTreeView"}),s=n,a=n,{disabledItemsFocusable:h,expanded:l,defaultExpanded:g,onNodeToggle:c,onNodeFocus:u,disableSelection:f,defaultSelected:I,selected:d,multiSelect:r,onNodeSelect:i,id:x,defaultCollapseIcon:N,defaultEndIcon:m,defaultExpandIcon:C,defaultParentIcon:v,children:S}=a,w=F(a,yo),{getRootProps:T,contextValue:j}=so({disabledItemsFocusable:h,expanded:l,defaultExpanded:g,onNodeToggle:c,onNodeFocus:u,disableSelection:f,defaultSelected:I,selected:d,multiSelect:r,onNodeSelect:i,id:x,defaultCollapseIcon:N,defaultEndIcon:m,defaultExpandIcon:C,defaultParentIcon:v,plugins:vo,rootRef:o}),E=So(n),P=it({elementType:Te,externalSlotProps:{},externalForwardedProps:w,className:E.root,getSlotProps:T,ownerState:s});return p.jsx(lo,{value:j,children:p.jsx(Te,y({},P,{children:S}))})});function Ge(e){const{children:t,window:o}=e,n=mt({target:o?o():void 0});return p.jsx(Re,{appear:!1,direction:"down",in:!n,children:t})}Ge.propTypes={children:ie.element.isRequired,window:ie.func};const Ye=e=>{const{settings:t,saveSettings:o}=at(),{showTopMemu:n}=Le(),s=()=>{e.onShowTree()},[a,h]=b.useState(null),[l,g]=b.useState(null),c=!!a,u=!!l,f=m=>{h(m.currentTarget)},I=()=>{g(null)},d=()=>{h(null),I()},i=p.jsxs(me,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:d,children:[p.jsx(V,{onClick:d,children:"Profile"}),p.jsx(V,{onClick:d,children:"My account"})]}),N=p.jsxs(me,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:I,children:[p.jsxs(V,{children:[p.jsx(Y,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:p.jsx(Ie,{badgeContent:4,color:"error",children:p.jsx(xt,{})})}),p.jsx("p",{children:"Messages"})]}),p.jsxs(V,{children:[p.jsx(Y,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:p.jsx(Ie,{badgeContent:17,color:"error",children:p.jsx(bt,{})})}),p.jsx("p",{children:"Notifications"})]}),p.jsxs(V,{onClick:f,children:[p.jsx(Y,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:p.jsx(Nt,{})}),p.jsx("p",{children:"Profile"})]})]});return p.jsxs(p.Fragment,{children:[p.jsx(ct,{}),p.jsx(Ge,{...e,children:p.jsx(dt,{open:e.open,width:e.width,children:p.jsxs(ut,{children:[p.jsx(Y,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:s,children:p.jsx(ft,{})}),p.jsx(De,{variant:"h6",noWrap:!0,component:"div",children:e.title}),p.jsxs(le,{sx:{display:"flex",position:"fixed",alignItems:"center",right:2},children:[n&&pt.map((m,C)=>p.jsx(gt,{sx:{minWidth:"20px",mr:2},to:m.url,children:m.title},C)),p.jsx(ht,{settings:t,saveSettings:o})]})]})})}),N,i]})};Ye.propTypes={window:ie.func};const Eo=()=>{const e=new It;let t=e.get("open");t||(t="Y");const[o,n]=b.useState(t==="Y");return[o,a=>{n(a),e.set("open",a?"Y":"N",{path:"/"})}]},Ao=e=>{const{title:t,children:o,drawerWidth:n,sideContents:s}=e,[a,h]=Eo(),{sideStyle:l,width:g}=Le(),c=b.useRef(),u=()=>{h(!a)};return b.useEffect(()=>{const f=document.querySelector("title");f.innerHTML=`${Ct.templateName} :: ${t}`},[t]),p.jsxs(le,{sx:{display:"flex"},children:[p.jsx(Ye,{onShowTree:u,title:t,width:l==="persistent"?n:0,sideStyle:l,open:a}),p.jsx(At,{sx:{width:n,"& .MuiDrawer-paper":{width:n,boxSizing:"border-box"}},variant:l,anchor:"left",open:a,onClose:u,ModalProps:{keepMounted:!0},children:s}),p.jsxs(vt,{ref:c,open:a,marginleft:l==="persistent"?n:0,maxwidth:a&&l==="persistent"?g-n-16:g,children:[p.jsx(yt,{}),p.jsxs(le,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[o,p.jsx(St,{}),l==="temporary"?p.jsx("br",{}):""]})]})]})};export{Ao as C,ko as E,Do as L,Oo as T,jo as a,Mo as b,M as t};
