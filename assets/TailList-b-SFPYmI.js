import{q as x,w as f,x as m,M as g,t as b,o as N,v as j,j as r,bN as p,h as y,H as C,k as D}from"./index-CPCRhzRN.js";async function w(t,n=""){if(t==null||t==="")return"";let s=n===""?`memo/${t}`:`memo_txt/${t}`;t==="home"&&(s="home/");const i=x(f(m,s)),l=await g(i);if(!l.exists()){console.log("getFireData.null");return}if(!l.exists()){console.log("getTreeMemoData.exists");return}const c=l.val(),a=[];for(let o in c){const e=c[o];e.up===void 0?(e.id=o,e.fullIndex=o):(e.id=e.up,e.fullIndex=e.up),n===""||n===void 0?(e.sub!==null&&(e.children=h(e,e.up)),a.push(e)):(e.id=o,(e.memo+"").toLowerCase().indexOf(n.toLowerCase())>-1&&a.push(e))}return a.sort((o,e)=>o.title>e.title?1:-1),a}function h(t,n){const s=[];if(t===void 0||t.sub===void 0)return s;for(let i in t.sub){let l=t.sub[i];l.id=i,l.key=i}return Object.values(t.sub).sort((i,l)=>l.title-i.title).map(i=>{i.id=i.key,i.fullIndex=n+"/sub/"+i.key,i.sub!==null&&(i.children=h(i,i.fullIndex)),s.push(i)}),s}async function T(t){const n=N[t],s=x(f(m,"home_txt"),j("gbn"),b(n.id)),i=await g(s);if(!i.exists()){console.log("getFireData.null");return}const l=i.val(),c=[{title:"React",url:"-Nn8_VCOrqSvLCqp89KJ"},{title:"Android",url:"-NnHx-gx3DMgMWLvIW8F"},{title:"JAVA",url:"-Nn8cfz1D61YG_M_911F"},{title:"그림 / 사진",url:"-NnHs-GndQ5y00GDI_rN"},{title:"MUI",url:"-NnBulBVEYke6NAxzIHY"}],a=[];for(let o in l)c.filter(u=>u.url===o).length>0||(l[o].url=o,a.push(l[o]));return a.sort((o,e)=>o.title>e.title?1:-1),a}async function _(t,n){const s=x(f(m,"home_txt")),i=await g(s);if(!i.exists()){console.log("getFireData.null");return}const l=i.val(),c=[{title:"React",url:"-Nn8_VCOrqSvLCqp89KJ"},{title:"React",url:"react"},{title:"Android",url:"-NnHx-gx3DMgMWLvIW8F"},{title:"JAVA",url:"java"},{title:"JAVA",url:"-Nn8cfz1D61YG_M_911F"},{title:"그림 / 사진",url:"-NnHs-GndQ5y00GDI_rN"},{title:"MUI",url:"-NnBulBVEYke6NAxzIHY"},{title:"MUI",url:"mui"},{title:"ETC",url:"etc"},{title:"ETC",url:"I3cTgdCxwjhBBno4mtZYvnODPJu1"}],a=[];for(let e in l)if(!(c.filter(d=>d.url===e||d.title===void 0||d.title==="").length>0))if(l[e].url=e,l[e].id=e,l[e].g="h",t===""||t===void 0)a.push(l[e]);else{const d=l[e].memo+"",v=l[e].title+"";(d.toLowerCase().indexOf(t.toLowerCase())>-1||v.toLowerCase().indexOf(t.toLowerCase())>-1)&&a.push(l[e])}if(n==null||n===""||t==="")return a.sort((e,u)=>e.title>u.title?1:-1),a;const o=await w(n,t);return a.push(...o),a.sort((e,u)=>e.title>u.title?1:-1),a}const A=({query:t,s:n,lnk:s="tw/search",index:i})=>r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-2",children:t.data.map((l,c)=>(l.key=c,r.jsx(L,{lnk:s,post:l,s:n,index:c},l.key)))});function L({post:t,s:n,lnk:s}){const i=t.g==="m"?r.jsx("span",{className:"menu-item-icon-size menu-item-icon-active",children:r.jsx(p,{})}):null,l=s==="blog"?`/${s}/${t.url?t.url:t.id}`:`/${s}/${t.url?t.url:t.id}?s=${n}&g=${t.g?t.g:"m"}`;return r.jsx(y,{to:l,state:{s:n},className:"no-underline",children:r.jsx(k,{title:t.title,icon:i,children:r.jsx("div",{className:"max-h-[140px] overflow-hidden mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:t.html==="N"?r.jsx(C,{postData:t.memo}):t.memo!==null&&r.jsx(D,{text:t.memo,runHighlight:!1})})})},t.key)}const k=({title:t,children:n,className:s="",desc:i="",icon:l=null})=>r.jsxs("div",{className:`rounded-2xl border border-gray-200 
      bg-white dark:border-gray-800 dark:bg-white/[0.03] 
      overflow-hidden ${s}`,children:[r.jsxs("div",{className:"flex flex-col px-4 py-3",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[l&&r.jsx("span",{className:"flex-shrink-0",children:l}),r.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:t})]}),i&&r.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:i})]}),r.jsx("div",{className:"p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 sm:p-6",children:r.jsx("div",{children:n})})]});export{A as T,_ as a,T as b};
