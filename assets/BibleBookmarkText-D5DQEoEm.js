import{br as b,q as m,r as x,D as f,E as d,F as l,bq as B,j as a,G as i,ag as y,H as v,a4 as h}from"./index-BYAZQ8R2.js";import{u as j}from"./useQuery-BKQMMd_C.js";const p=()=>{const u=new b,{user:r}=m(),e=j({queryKey:["useBibleBookmark"],queryFn:()=>t(),enabled:!1});x.useEffect(()=>{r!==void 0&&e.refetch()},[e,r]);async function t(){if(r.uid===void 0)return new Error("Error undefined");const s=d(l,`bible_mark/${r.uid}`),o=await B(s),n=new Array;if(o.exists()){const k=o.val();return Object.values(k).map(c=>{c.bookmark==="Y"&&n.push(c)}),n}else return new Error("Error exists")}return{query:e,setBibleBookmark:s=>{if(r===void 0||r===void 0)return;let o="N";(s.bookmark===void 0||s.bookmark==="N")&&(o="Y"),s.bookmark=o;const n=`bible_mark/${r.uid}/${s.cd1}_${s.cd2}_${s.cd3}_${s.cd4}`;f(d(l,n),s),u.invalidateQueries({queryKey:["useBibleBookmark"]}),e.refetch()}}},_=()=>{const{query:u}=p(),r=u.data;if(r!=null)return a.jsxs(a.Fragment,{children:[r.map((e,t)=>a.jsxs(i,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:`id_${t+1}`,children:[a.jsx(i,{item:!0,xs:1,md:1,children:a.jsx(y,{to:`/bible/${e.cd1}_${e.cd2}_${e.cd3}`,state:{cd4:e.cd4},children:e.nm})}),a.jsx(i,{item:!0,xs:4,sm:6,md:9,lg:11,children:a.jsx(v,{show:!0,text:e.txt})})]},t)),a.jsx(h,{})]})};export{_ as B,p as u};
