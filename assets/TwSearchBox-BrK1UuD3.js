import{e as f,a4 as b,J as w,ao as D,r as i,ap as L,j as r,h as $,aq as E,ar as R,p as g,as as z}from"./index-DRYhf1EU.js";const G=({state:n,gubun:c="tw"})=>{const{t:u}=f(),a=b(),d=w(D(c));return i.useEffect(()=>{n?.s&&d!==n.s&&a(L({gubun:c,searchTerm:n.s}))},[n,c,d,a]),r.jsx(B,{title:u("search_list"),className:"mt-1",gubun:c})},B=({title:n,children:c,className:u="",gubun:a="tw"})=>{const d=$(),{t:m}=f(),v=b(),k=w(E(a)),[h,l]=i.useState(null),s=i.useRef(),p=i.useRef(!1),j=Object.keys(k),y=e=>{x(e)},S=e=>{l(h===e?null:e)},T=(e,t)=>{e.button===0&&(e.preventDefault(),e.stopPropagation(),s.current=setTimeout(()=>{S(t),s.current=null,p.current=!0},500))},N=e=>{s.current&&(clearTimeout(s.current),s.current=null,y(e))},M=()=>{s.current&&(clearTimeout(s.current),s.current=null)},P=(e,t)=>{e.preventDefault(),e.stopPropagation(),l(h===t?null:t)},x=e=>{const t=a==="tw"?"/tw/search":`/${a}/search`;d(t,{state:{s:e}}),l(null)},C=e=>{v(z({gubun:a,searchTerm:e})),l(null)};return r.jsxs("div",{className:`rounded-sm border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-visible w-full ${u} mb-3`,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),p.current){p.current=!1;return}l(null)},children:[r.jsx("div",{className:"flex flex-col px-4 py-2",children:r.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:n})}),r.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-9 gap-2 p-2 sm:p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 overflow-visible",children:[j.map((e,t)=>r.jsxs("div",{className:"relative",children:[r.jsx(R,{className:"cursor-pointer",variant:"light",size:"md",color:"brand",onMouseDown:o=>T(o,e),onMouseUp:()=>N(e),onMouseLeave:M,onContextMenu:o=>P(o,e),children:e}),h===e&&r.jsxs("div",{className:`absolute top-full left-0 mt-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 ${g.roundedLg} shadow-lg z-50 min-w-20`,children:[r.jsx("button",{className:`w-full px-3 py-2 text-left ${g.textSm} hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg`,onClick:o=>{o.preventDefault(),o.stopPropagation(),x(e)},children:m("view")}),r.jsx("button",{className:`w-full px-3 py-2 text-left ${g.textSm} text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg`,onClick:o=>{o.stopPropagation(),C(e)},children:m("delete")})]})]},t)),r.jsx("div",{children:c})]})]})};export{G as T};
