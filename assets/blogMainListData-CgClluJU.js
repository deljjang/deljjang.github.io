import{u as g,j as a,bG as b,p,y as v,bm as u,A as x,D as m,E as f,cd as j,ce as y,bn as N}from"./index-JdItkxIf.js";import{H as w}from"./HtmlCode-CuIX5N0Y.js";import{S as C}from"./pencil-CqCpYp9M.js";const T=({query:e,className:l,s:n,lnk:s="tw/search",index:r})=>{const{isExpanded:o}=g(),c=o?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 2xl:grid-cols-3";return a.jsx("div",{className:`${c} gap-2 px-2
      ${l}`,children:e.data.map((t,i)=>(t.key=i,a.jsx(L,{lnk:s,post:t,s:n,index:i},t.key)))})};function L({post:e,s:l,lnk:n}){const s=e.g==="m"?a.jsx("span",{className:"menu-item-icon-size menu-item-icon-active",children:a.jsx(C,{})}):null,r=n==="blog"?`/${n}/${e.url?e.url:e.id}`:`/${n}/${e.url?e.url:e.id}?s=${l}&g=${e.g?e.g:"m"}`;return a.jsx(b,{to:r,state:{s:l},className:"no-underline",children:a.jsx(k,{title:e.title,icon:s,children:a.jsx("div",{className:"max-h-[140px] overflow-hidden mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:e.html==="N"?a.jsx(w,{postData:e.memo}):e.memo!==null&&a.jsx(p,{text:e.memo,runHighlight:!1})})})},e.key)}const k=({title:e,children:l,className:n="",desc:s="",icon:r=null})=>a.jsxs("div",{className:`${v.roundedXl} border border-gray-200 
      bg-white dark:border-gray-800 dark:bg-white/[0.03] 
      overflow-hidden ${n}`,children:[a.jsxs("div",{className:"flex flex-col px-4 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[r&&a.jsx("span",{className:"flex-shrink-0",children:r}),a.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:e})]}),s&&a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s})]}),a.jsx("div",{className:"p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 sm:p-6",children:a.jsx("div",{children:l})})]});async function $(e,l=""){if(e==null||e==="")return"";let n=l===""?`memo/${e}`:`memo_txt/${e}`;e==="home"&&(n="home/");const s=u(x(m,n)),r=await f(s);if(!r.exists()||!r.exists())return;const o=r.val(),c=[];for(let t in o){const i=o[t];i.up===void 0?(i.id=t,i.fullIndex=t):(i.id=i.up,i.fullIndex=i.up),l===""||l===void 0?(i.sub!==null&&(i.children=h(i,i.up)),c.push(i)):(i.id=t,(i.memo+"").toLowerCase().indexOf(l.toLowerCase())>-1&&c.push(i))}return c.sort((t,i)=>t.title>i.title?1:-1),c}function h(e,l){const n=[];if(e===void 0||e.sub===void 0)return n;for(let s in e.sub){let r=e.sub[s];r.id=s,r.key=s}return Object.values(e.sub).sort((s,r)=>r.title-s.title).map(s=>{s.id=s.key,s.fullIndex=l+"/sub/"+s.key,s.sub!==null&&(s.children=h(s,s.fullIndex)),n.push(s)}),n}async function _(e){const l=y[e],n=u(x(m,"home_txt"),N("gbn"),j(l.id)),s=await f(n);if(!s.exists())return;const r=s.val(),o=[{title:"React",url:"-Nn8_VCOrqSvLCqp89KJ"},{title:"Android",url:"-NnHx-gx3DMgMWLvIW8F"},{title:"JAVA",url:"-Nn8cfz1D61YG_M_911F"},{title:"그림 / 사진",url:"-NnHs-GndQ5y00GDI_rN"},{title:"MUI",url:"-NnBulBVEYke6NAxzIHY"}],c=[];for(let t in r)o.filter(d=>d.url===t).length>0||(r[t].url=t,c.push(r[t]));return c.sort((t,i)=>t.title>i.title?1:-1),c}async function A(e,l){const n=u(x(m,"home_txt")),s=await f(n);if(!s.exists())return;const r=s.val(),o=[];for(let t in r)if(r[t].url=t,r[t].id=t,r[t].g="h",e===""||e===void 0)o.push(r[t]);else{const i=r[t].memo+"",d=r[t].title+"";(i.toLowerCase().indexOf(e.toLowerCase())>-1||d.toLowerCase().indexOf(e.toLowerCase())>-1)&&o.push(r[t])}if(l==null||l===""||e==="")return o.sort((t,i)=>t.title>i.title?1:-1),o;const c=await $(l,e);return o.push(...c),o.sort((t,i)=>t.title>i.title?1:-1),o}export{T,_ as a,A as b};
