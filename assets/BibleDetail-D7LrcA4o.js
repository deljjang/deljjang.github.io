const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-BkjAo6kI.js","assets/index-D7iZeILT.js","assets/router-v4BRDFYV.js","assets/vendor-CCYiWZgt.js","assets/index-Dqu0wCzB.css","assets/App-C0oX4rhs.css"])))=>i.map(i=>d[i]);
import{j as t,_}from"./index-D7iZeILT.js";import{n as S,f as E,l as I,T as V,H as G}from"./App-BkjAo6kI.js";import{r as m,c as J,u as O,a as H,R as Y}from"./router-v4BRDFYV.js";import{T as q}from"./LinkItem-DgxisAZr.js";import{T as z}from"./TitleItem-CtsAM_ZK.js";import{u as U,B as W}from"./BibleBookmarkText-Do7AvmlU.js";import"./vendor-CCYiWZgt.js";const K=e=>{const{t:d}=E(),f=new Array;if(e.data===void 0||e.data===null)return;const s=e.bibleId.split("_");for(let l=1;l<=e.data.cd3;l++){const r={nm:`${e.data.nm2}${l}${d("chapter")}`,key:e.data.id+"_"+l};f.push(r)}return s&&s.length===3?t.jsxs("div",{className:"flex items-center flex-col mb-8 text-lg font-semibold",children:[e.nm," ",s[2]," ",d("chapter")]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex items-center flex-col mb-8 text-lg font-semibold",children:e.nm}),t.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-10 lg:grid-cols-12 gap-4",children:f.map((l,r)=>t.jsx("div",{children:t.jsx(V,{to:`/bible/${l.key}`,children:l.nm})},r))})]})},Q=e=>{const d=e.dataText;if(e.data===void 0||e.data===null||d==null)return;const f=e.bibleId.split("_");return e.bibleId&&f.length!==3?t.jsx(t.Fragment,{}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex items-center flex-col mb-8 text-lg font-semibold",children:e.nm}),d.map((s,l)=>{e.cd4+"",s.cd4;const r=e.bookmark?.data?.filter(i=>i.id===s.id&&i.bookmark==="Y");return r&&r.length>0&&(s.bookmark="Y"),t.jsxs("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-10 lg:grid-cols-12 gap-4",id:`id_${l+1}`,children:[t.jsx("div",{className:"col-span-1",children:t.jsxs("div",{className:`flex ${e.cd4+""===s.cd4?"text-orange-500":"text-gray-900 dark:text-white"}`,children:[t.jsx(q,{className:"items-center text-top cursor-pointer",onClick:()=>e.onBookmark(s),children:s.nm}),r&&r.length>0&&t.jsx("svg",{className:"w-5 h-5 text-red-500 ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})]})}),t.jsx("div",{className:"col-span-4 sm:col-span-5 md:col-span-9 lg:col-span-11",children:t.jsx("div",{className:e.cd4+""===s.cd4?"text-orange-500":"text-gray-900 dark:text-white",children:t.jsx(G,{text:s.text})})})]},l)})]})},at=()=>{const[e,d]=m.useState(null),[f,s]=m.useState(!0),{query:l,setBibleBookmark:r}=U(),i=m.useRef(),{bibleId:a}=J(),k=O(),[T,B]=m.useState(!1),[p,w]=m.useState(!1),{user:R}=S(),h=k?.state?.word,g=k?.state?.cd4,L=H(),{t:y,i18n:C}=E();m.useEffect(()=>{if(a!==void 0){(async()=>{const x=await F(a,h);d(x),s(!1)})(),B(!1),w(!0);const n=a.split("_");if(i.current&&n.length===3){const x=i.current.cd3;B(Number(n[2])!==1),w(n[2]<x)}}},[a,h]),m.useEffect(()=>{g!==void 0&&setTimeout(()=>{D("","id_"+g)},1500)},[e,g]);const D=(o,n)=>{const x=document.getElementById(n);x&&x.scrollIntoView({block:"center",behavior:"smooth"})},A=o=>{R!==void 0&&r(o)},F=async(o,n)=>{if(o===""||o===void 0)return"";const M=(C.language.split("-")[0]==="en"?await _(()=>import("./bibleJson_en-OyZMwajI.js"),[]):await _(()=>import("./bibleJson-mLacnG04.js"),[])).default,$=(await _(()=>import("./App-BkjAo6kI.js").then(c=>c.d0),__vite__mapDeps([0,1,2,3,4,5]))).default,b=o.split("_");if(b.length<1)return;b.length>1&&M.map(c=>{c.id===b[0]+"_"+b[1]&&(i.current=c)});const j=new Array;if(b.length===3){for(let c in $){if(!c.includes(o+"_"))continue;let u=$[c];u.id=c;let v=u.txt;if(n!==void 0){const P=new RegExp(n,"gi");v=v.replace(P,`<span class='lightext'>${n}</span>`)}u.nm=`${i.current.nm2}${b[2]}:${u.cd4}`,u.text=v,j.push(u)}return j.sort((c,u)=>c.cd4-u.cd4),j}};if(a==="")return t.jsx(t.Fragment,{});const N=o=>{let n=a.split("_");n[2]=Number(n[2])+o,L(`/bible/${n[0]}_${n[1]}_${n[2]}`)};return t.jsxs(Y.Fragment,{children:[t.jsx("div",{id:"back-to-top-anchor"}),t.jsx(W,{}),t.jsx(z,{children:i.current!==null&&i.current!==void 0&&i.current.nm!==null?i.current.text:""}),t.jsx(K,{data:i.current,bibleId:a}),t.jsx(Q,{dataText:e,data:i.current,searchWord:h,bibleId:a,cd4:g,bookmark:l,onBookmark:A}),t.jsxs(Container,{sx:{p:0},children:[f&&t.jsx(Box,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(CircularProgress,{sx:{mt:5}})}),a&&a.split("_").length===3?t.jsx(Box,{sx:{display:"flex",justifyContent:"space-between",mt:5},children:t.jsxs(Grid,{container:!0,spacing:1,children:[T?t.jsx(Grid,{item:!0,xs:p?6:12,children:t.jsx(I,{type:"button",variant:"outlined",onClick:()=>N(-1),fullWidth:!0,children:`< ${y("prev")}`})}):"",p?t.jsx(Grid,{item:!0,xs:T?6:12,children:t.jsx(I,{type:"button",variant:"outlined",onClick:()=>N(1),fullWidth:!0,children:`${y("next")} >`})}):""]})}):""]})]})};export{at as BibleDetail,at as default};
