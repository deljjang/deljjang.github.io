import{j as r}from"./index-6nPoEYnd.js";import{r as i,a as C}from"./router-BlMcuVHC.js";import{i as f,j as b,k as w,al as D,am as L,an as $,ao as E,b as m,ap as R}from"./App-gfyO5pOu.js";const F=({state:l,gubun:n="tw"})=>{const{t:d}=f(),a=b(),u=w(D(n));return i.useEffect(()=>{l?.s&&a(L({gubun:n,searchTerm:l.s}))},[l,n,u,a]),r.jsx(z,{title:d("search_list"),className:"mt-1",gubun:n})},z=({title:l,children:n,className:d="",gubun:a="tw"})=>{const u=C(),{t:g}=f(),v=b(),k=w($(a)),[h,c]=i.useState(null),t=i.useRef(),p=i.useRef(!1),S=e=>{x(e)},j=e=>{c(h===e?null:e)},y=(e,s)=>{e.button===0&&(e.preventDefault(),e.stopPropagation(),t.current=setTimeout(()=>{j(s),t.current=null,p.current=!0},500))},T=e=>{t.current&&(clearTimeout(t.current),t.current=null,S(e))},N=()=>{t.current&&(clearTimeout(t.current),t.current=null)},M=(e,s)=>{e.preventDefault(),e.stopPropagation(),c(h===s?null:s)},x=e=>{const s=a==="tw"?"/tw/search":`/${a}/search`;u(s,{state:{s:e}}),c(null)},P=e=>{v(R({gubun:a,searchTerm:e})),c(null)};return r.jsxs("div",{className:`rounded-sm border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-visible w-full ${d} mb-3`,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),p.current){p.current=!1;return}c(null)},children:[r.jsx("div",{className:"flex flex-col px-4 py-2",children:r.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:l})}),r.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-9 gap-2 p-2 sm:p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 overflow-visible",children:[k.map((e,s)=>r.jsxs("div",{className:"relative",children:[r.jsx(E,{className:"cursor-pointer",variant:"light",size:"md",color:"brand",onMouseDown:o=>y(o,e),onMouseUp:()=>T(e),onMouseLeave:N,onContextMenu:o=>M(o,e),children:e}),h===e&&r.jsxs("div",{className:`absolute top-full left-0 mt-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 ${m.roundedLg} shadow-lg z-50 min-w-20`,children:[r.jsx("button",{className:`w-full px-3 py-2 text-left ${m.textSm} hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg`,onClick:o=>{o.preventDefault(),o.stopPropagation(),x(e)},children:g("view")}),r.jsx("button",{className:`w-full px-3 py-2 text-left ${m.textSm} text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg`,onClick:o=>{o.stopPropagation(),P(e)},children:g("delete")})]})]},s)),r.jsx("div",{children:n})]})]})};export{F as T};
