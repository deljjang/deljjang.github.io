import{j as e,B as R,r as s,W as G,Q as Y,C as W,t as $,S as K,Y as g,Z as w,U as Q,s as Z,$ as v,L as J}from"./index-DiQdSQsX.js";import{M as D}from"./MuiCard-C9vxCPRN.js";import{S as X,a as tt}from"./SinyTabs-DlRUMlRx.js";import{A as p}from"./AniButton-B56Wg4iI.js";import{C as et}from"./CardHeader-Cgp1yR6_.js";import{T as at}from"./TextField-S4Xul45r.js";import"./muiBackground-EwbA7iah.js";import"./Card-DoCs0w98.js";import"./CardContent-BInIRM4l.js";import"./Tabs-MTKTire4.js";import"./KeyboardArrowRight-5TarisiE.js";import"./Button-KIxHO5L2.js";const nt=t=>e.jsxs(R,{sx:{flexGrow:1,my:2,width:"100%",display:"grid",gridTemplateColumns:"64px 64px 64px 64px",flexDirection:"row",alignItems:"center",alignContent:"center",justifyContent:"center",textAlign:"center",whiteSpace:"nowrap"},children:[e.jsx(p,{type:"button",size:"small",variant:"outlined",color:"warning",onClick:t.onInsert,children:"추가"}),e.jsx(p,{type:"button",size:"small",variant:"outlined",color:"error",onClick:t.onDelete,children:"삭제"}),e.jsx(p,{type:"button",size:"small",variant:"outlined",color:"success",onClick:t.onReload,children:"리로드"}),e.jsx(p,{type:"button",size:"small",variant:"outlined",onClick:t.onCsvSave,children:"csv저장"})]});Q();const j=t=>{const l=s.useRef(null),o=s.useRef(null),[d,c]=s.useState([]),[F,C]=s.useState(0),U=G().palette.mode==="dark"?"ht-theme-main-dark-auto":"ht-theme-main",T=async a=>{try{return(await g.post(w+t.postUrl,a)).data}catch{}},S=async()=>{const a=await g.get(w+t.listUrl);try{c(a.data),C(a.data?.length)}catch{}};s.useEffect(()=>{S()},[]);const E=async()=>{await S(),h()},L=async()=>{l.current.hotInstance.getPlugin("exportFile").downloadFile("csv",{filename:t.csvFileName,mimeType:"text/csv",bom:!1,columnDelimiter:",",rowDelimiter:`\r
`})},P=()=>{},q=(a,n)=>{},k=t.columns.map((a,n)=>({value:n,text:a.title})),h=()=>{try{const a=l.current?.hotInstance,n=a?.getPlugin("filters");if(n){const i=N("columns1");t.columns.forEach((y,m)=>{n?.removeConditions(m)}),n?.addCondition(Number(i),"contains",[N("filterField1")]),n?.filter(),a?.render();const f=a.getData().length;C(f)}}catch(a){console.error("Error:",a.message)}},{register:b,control:A,setValue:B,getValues:N,formState:{errors:O}}=Y({mode:"onChange"});b("filterField1",{required:!0});const M=()=>{},V=async(a,n)=>{if(a!==null){const i=l.current?.hotInstance;if(i?.getPlugin("filters")){const f=i.getData(),y=[];a.forEach((m,I)=>{const x={};t.columns.forEach((r,H)=>{x[r.data]=f[I][H]}),y.push(x)}),y.forEach(async(m,I)=>{const x=await T(m);d.map(r=>{(r.seq===void 0||r.seq===null)&&r.wdNm===m.wdNm&&r.awdNm===m.awdNm&&(r.seq=x.seq)})}),i.render()}}},_=()=>{l.current.hotInstance.alter("insert_row_above",0,1)},z=async()=>{const a=l.current.hotInstance;if(a&&o.current!==null){if(a?.getPlugin("filters")){const u={seq:a.getData()[o.current][0]};await g.post(w+t.deleteUrl,u)}a.alter("remove_row",o.current,1)}};return e.jsxs(W,{style:{maxWidth:"100%",width:"100%",paddingLeft:"0px",paddingRight:"0px"},sx:{mt:0},children:[e.jsxs(R,{sx:{maxWidth:"100%",paddingLeft:"0px",paddingRight:"0px",width:"100%",display:"grid",gridTemplateColumns:"200px 200px 300px ",flexDirection:"col",alignItems:"baseline",alignContent:"left",justifyContent:"left",textAlign:"center",whiteSpace:"nowrap"},children:[e.jsx(et,{title:t.title+" : "+$(F)}),e.jsx(X,{id:"columns1",name:"columns1",label:"조회 컬럼",control:A,defaultValue:t.selectDefault?t.selectDefault:"1",variant:"standard",margin:"normal",selectList:k,error:!!O.columns1,onChange:a=>{a.preventDefault();const n=a.target.value;B("columns1",n),n!=""&&h()}}),e.jsx(at,{...b("filterField1"),fullWidth:!0,placeholder:"조회",variant:"standard",style:{paddingLeft:"10px"},onKeyUp:h})]}),e.jsx(K,{ref:l,data:d,themeName:U,rowHeaders:!0,colHeaders:!0,autoWrapRow:!0,height:"560px",width:"auto",contextMenu:!0,observeChanges:!0,columnSorting:!0,afterChange:V,afterChangesObserved:M,afterFilter:P,afterSelectRows:q,afterSelection:(a,n,i,u)=>{o.current=a},licenseKey:"non-commercial-and-evaluation",columns:t.columns,cells:(a,n)=>t.columns[n].readOnly===!0?{readOnly:!0}:{},colWidths:t.colWidths,manualColumnResize:!0,filters:!0}),e.jsx(nt,{onInsert:_,onDelete:z,onReload:E,onCsvSave:L})]})},lt=()=>{const t=[{title:"ID",type:"numeric",data:"seq",readOnly:!0},{title:"도메인대분류",type:"text",data:"dmn1"},{title:"도메인중분류",type:"text",data:"dmn2"},{title:"도메인명",type:"text",data:"dmn"},{title:"도메인설명",type:"text",data:"dmnDscr",columnSorting:{headerAction:!1}},{title:"데이터타입",type:"text",data:"ty"},{title:"데이터길이",type:"text",data:"len"},{title:"소숫점길이",type:"text",data:"len2"},{title:"저장형식",type:"text",data:"sav"},{title:"표현형식",type:"text",data:"exprs"},{title:"단위",type:"text",data:"unt"},{title:"허용값",type:"text",data:"vl"},{title:"사용건수",type:"numeric",data:"cnt"}],l=[50,180,200,400,300,100,150,150,100,150,150,150,150,150,140];return e.jsx(j,{csvFileName:"exported_dmn",postUrl:"/dmn/post.do",listUrl:"/dmn/list.do",deleteUrl:"/dmn/delete.do",title:"도메인정보",columns:t,colWidths:l,selectDefault:"3"})},st=()=>{const t=[{title:"ID",type:"numeric",data:"seq",readOnly:!0},{title:"용어명",type:"text",data:"trmNm"},{title:"영문약어명",type:"text",data:"awdNm"},{title:"영문명",type:"text",data:"trmEnNm"},{title:"단어설명",type:"text",data:"trmDscr",columnSorting:{headerAction:!1}},{title:"도메인명",type:"text",data:"dmn"},{title:"허용값",type:"text",data:"vl"},{title:"관리부서명",type:"text",data:"deptNm"},{title:"표준코드명",type:"text",data:"cdNm"},{title:"업무분야",type:"text",data:"dutDv"},{title:"저장형식",type:"text",data:"sav"},{title:"표현형식",type:"text",data:"dis"},{title:"용어 이음동의어 목록",type:"text",data:"lst"},{title:"시스템명",type:"text",data:"sys"},{title:"사용여부",type:"text",data:"useYn"}],l=[50,180,200,400,300,100,150,150,100,150,150,150,150,150,140];return e.jsx(j,{csvFileName:"exported_trm",postUrl:"/trm/post.do",listUrl:"/trm/list.do",deleteUrl:"/trm/delete.do",title:"용어정보",columns:t,colWidths:l})},it=()=>{const t=[{title:"ID",type:"numeric",data:"seq",readOnly:!0},{title:"단어명",type:"text",data:"wdNm",readOnly:!1},{title:"영문약어명",type:"text",data:"awdNm"},{title:"영문명",type:"text",data:"wdEnNm"},{title:"단어설명",type:"text",data:"wdDscr"},{title:"형식단어여부",type:"text",data:"wdYn"},{title:"도메인분류명",type:"text",data:"dmnDvNm"},{title:"이음동의어",type:"text",data:"synmVl"},{title:"금칙어",type:"text",data:"notNm"},{title:"도메인그룹명",type:"text",data:"dmnGrpNm"},{title:"시스템",type:"text",data:"sys"}],l=[50,180,200,350,400,100,150,150,100,150,100];return e.jsx(j,{csvFileName:"exported_wd",postUrl:"/wd/post.do",listUrl:"/wd/list.do",deleteUrl:"/wd/delete.do",title:"단어정보",columns:t,colWidths:l})},vt=()=>{const[t,l]=s.useState(0);s.useEffect(()=>{Z({title:"표준",description:"표준"})},[]),s.useEffect(()=>{const d=v.findIndex(c=>`#${c.id}`===window.location.hash);l(d!==-1?d:t)},[t]);const o=(d,c)=>{window.location.hash=`#${v[c].id}`,l(c)};return e.jsx(e.Fragment,{children:e.jsxs(W,{style:{maxWidth:"100%",width:"100%"},sx:{mt:3},children:[e.jsx(tt,{tabValue:t,onChange:o,tabs:v}),e.jsx(s.Suspense,{fallback:e.jsx(J,{}),children:e.jsxs(e.Fragment,{children:[e.jsx(D,{value:t,index:0,style:{maxWidth:"100%",width:"100%",paddingLeft:"0px",paddingRight:"0px"},children:e.jsx(it,{})}),e.jsx(D,{value:t,index:1,style:{maxWidth:"100%",width:"100%",paddingLeft:"0px",paddingRight:"0px"},children:e.jsx(st,{})}),e.jsx(D,{value:t,index:2,style:{maxWidth:"100%",width:"100%",paddingLeft:"0px",paddingRight:"0px"},children:e.jsx(lt,{})})]})})]})})};export{vt as default};
