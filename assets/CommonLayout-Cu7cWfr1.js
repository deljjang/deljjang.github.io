import{a as de,g as ue,r as b,u as Je,l as Te,a$ as Ze,b0 as Pe,_ as $,b as S,j as x,s as O,c as A,e as X,d as fe,am as Qe,b1 as et,ai as tt,a7 as Re,a8 as De,a9 as Me,aa as ke,ax as ot,aL as je,aH as Oe,aS as Ae,aP as G,aO as U,aD as rt,aM as nt,z as st,b2 as $e,b3 as lt,b4 as it,b5 as at,ac as Y,b6 as ct,a6 as dt,i as le,b7 as ut,ag as ft,b8 as pt,b9 as Ne,aZ as V,ba as me,bb as gt,bc as ht,bd as xt,be as bt,ay as ie,bf as Nt,t as mt,bg as It,bh as Ct,bi as vt}from"./index-BIXBUUro.js";import{C as Fe}from"./Collapse-BG5JmEDV.js";function St(e){return de("MuiDrawer",e)}ue("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const yt=["BackdropProps"],Et=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],_e=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},wt=e=>{const{classes:t,anchor:o,variant:n}=e,s={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${X(o)}`,n!=="temporary"&&`paperAnchorDocked${X(o)}`]};return fe(s,St,t)},Tt=O(tt,{name:"MuiDrawer",slot:"Root",overridesResolver:_e})(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer})),Ie=O("div",{shouldForwardProp:et,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:_e})({flex:"0 0 auto"}),Pt=O(Qe,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${X(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${X(o.anchor)}`]]}})(({theme:e,ownerState:t})=>S({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(e.vars||e).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(e.vars||e).palette.divider}`})),Le={left:"right",right:"left",top:"down",bottom:"up"};function Rt(e){return["left","right"].indexOf(e)!==-1}function Dt({direction:e},t){return e==="rtl"&&Rt(t)?Le[t]:t}const Mt=b.forwardRef(function(t,o){const n=Je({props:t,name:"MuiDrawer"}),s=Te(),a=Ze(),g={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:l="left",BackdropProps:p,children:c,className:u,elevation:f=16,hideBackdrop:I=!1,ModalProps:{BackdropProps:d}={},onClose:r,open:i=!1,PaperProps:h={},SlideProps:N,TransitionComponent:m=Pe,transitionDuration:C=g,variant:v="temporary"}=n,y=$(n.ModalProps,yt),w=$(n,Et),T=b.useRef(!1);b.useEffect(()=>{T.current=!0},[]);const M=Dt({direction:a?"rtl":"ltr"},l),P=S({},n,{anchor:l,elevation:f,open:i,variant:v},w),D=wt(P),H=x.jsx(Pt,S({elevation:v==="temporary"?f:0,square:!0},h,{className:A(D.paper,h.className),ownerState:P,children:c}));if(v==="permanent")return x.jsx(Ie,S({className:A(D.root,D.docked,u),ownerState:P,ref:o},w,{children:H}));const _=x.jsx(m,S({in:i,direction:Le[M],timeout:C,appear:T.current},N,{children:H}));return v==="persistent"?x.jsx(Ie,S({className:A(D.root,D.docked,u),ownerState:P,ref:o},w,{children:_})):x.jsx(Tt,S({BackdropProps:S({},p,d,{transitionDuration:C}),className:A(D.root,D.modal,u),open:i,ownerState:P,onClose:r,hideBackdrop:I,ref:o},w,y,{children:_}))});var B={},Ce;function kt(){if(Ce)return B;Ce=1;var e=Re();Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var t=e(De()),o=Me();return B.default=(0,t.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),B}var jt=kt();const yo=ke(jt);var z={},ve;function Ot(){if(ve)return z;ve=1;var e=Re();Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var t=e(De()),o=Me();return z.default=(0,t.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),z}var At=Ot();const Eo=ke(At),$t=["element"];function Ft(e,t){for(let o=0;o<e.length;o+=1)if(t(e[o]))return o;return-1}function _t(e,t){let o=0,n=e.length-1;for(;o<=n;){const s=Math.floor((o+n)/2);if(e[s].element===t)return s;e[s].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?n=s-1:o=s+1}return o}const Ve=b.createContext({});function Lt(e){const t=b.useRef(null);return b.useEffect(()=>{t.current=e},[e]),t.current}const Se=()=>{};function Vt(e){const[,t]=b.useState(),{registerDescendant:o=Se,unregisterDescendant:n=Se,descendants:s=[],parentId:a=null}=b.useContext(Ve),g=Ft(s,c=>c.element===e.element),l=Lt(s),p=s.some((c,u)=>l&&l[u]&&l[u].element!==c.element);return ot(()=>{if(e.element)return o(S({},e,{index:g})),()=>{n(e.element)};t({})},[o,n,g,p,e]),{parentId:a,index:g}}function Be(e){const{children:t,id:o}=e,[n,s]=b.useState([]),a=b.useCallback(p=>{let{element:c}=p,u=$(p,$t);s(f=>{if(f.length===0)return[S({},u,{element:c,index:0})];const I=_t(f,c);let d;if(f[I]&&f[I].element===c)d=f;else{const r=S({},u,{element:c,index:I});d=f.slice(),d.splice(I,0,r)}return d.forEach((r,i)=>{r.index=i}),d})},[]),g=b.useCallback(p=>{s(c=>c.filter(u=>p!==u.element))},[]),l=b.useMemo(()=>({descendants:n,registerDescendant:a,unregisterDescendant:g,parentId:o}),[n,a,g,o]);return x.jsx(Ve.Provider,{value:l,children:t})}const ze={instance:null,multiSelect:!1,disabledItemsFocusable:!1,treeId:void 0,icons:{defaultCollapseIcon:null,defaultExpandIcon:null,defaultParentIcon:null,defaultEndIcon:null}},Ke=b.createContext(ze),Ue=()=>b.useContext(Ke);function Bt(e){const{instance:t,multiSelect:o}=Ue(),n=t?t.isNodeExpandable(e):!1,s=t?t.isNodeExpanded(e):!1,a=t?t.isNodeFocused(e):!1,g=t?t.isNodeSelected(e):!1,l=t?t.isNodeDisabled(e):!1;return{disabled:l,expanded:s,selected:g,focused:a,handleExpansion:f=>{if(t&&!l){a||t.focusNode(f,e);const I=o&&(f.shiftKey||f.ctrlKey||f.metaKey);n&&!(I&&t.isNodeExpanded(e))&&t.toggleNodeExpansion(f,e)}},handleSelection:f=>{t&&!l&&(a||t.focusNode(f,e),o&&(f.shiftKey||f.ctrlKey||f.metaKey)?f.shiftKey?t.selectRange(f,{end:e}):t.selectNode(f,e,!0):t.selectNode(f,e))},preventSelection:f=>{(f.shiftKey||f.ctrlKey||f.metaKey||l)&&f.preventDefault()}}}const zt=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],He=b.forwardRef(function(t,o){const{classes:n,className:s,displayIcon:a,expansionIcon:g,icon:l,label:p,nodeId:c,onClick:u,onMouseDown:f}=t,I=$(t,zt),{disabled:d,expanded:r,selected:i,focused:h,handleExpansion:N,handleSelection:m,preventSelection:C}=Bt(c),v=l||g||a,y=T=>{C(T),f&&f(T)},w=T=>{N(T),m(T),u&&u(T)};return x.jsxs("div",S({},I,{className:A(s,n.root,r&&n.expanded,i&&n.selected,h&&n.focused,d&&n.disabled),onClick:w,onMouseDown:y,ref:o,children:[x.jsx("div",{className:n.iconContainer,children:v}),x.jsx("div",{className:n.label,children:p})]}))});function Kt(e){return de("MuiTreeItem",e)}const j=ue("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]),Ut=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Ht=e=>{const{classes:t}=e;return fe({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Kt,t)},qt=O("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),Wt=O(He,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${j.iconContainer}`]:t.iconContainer},t.label&&{[`& .${j.label}`]:t.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${j.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${j.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:G(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:G(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:G(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${j.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:G(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${j.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${j.label}`]:S({paddingLeft:4,width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),Gt=O(Fe,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,t)=>t.group})({margin:0,padding:0,marginLeft:17}),wo=b.forwardRef(function(t,o){const n=je({props:t,name:"MuiTreeItem"}),{children:s,className:a,collapseIcon:g,ContentComponent:l=He,ContentProps:p,endIcon:c,expandIcon:u,disabled:f,icon:I,id:d,label:r,nodeId:i,onClick:h,onMouseDown:N,TransitionComponent:m=Fe,TransitionProps:C}=n,v=$(n,Ut),{icons:y,multiSelect:w,disabledItemsFocusable:T,treeId:M,instance:E}=Ue();let P;d!=null?P=d:M&&i&&(P=`${M}-${i}`);const[D,H]=b.useState(null),_=b.useRef(null),Ge=Oe(H,o),Ye=b.useMemo(()=>({element:D,id:i}),[i,D]),{index:J,parentId:xe}=Vt(Ye),L=!!(Array.isArray(s)?s.length:s),q=E?E.isNodeExpanded(i):!1,be=E?E.isNodeFocused(i):!1,Z=E?E.isNodeSelected(i):!1,Q=E?E.isNodeDisabled(i):!1,ee=S({},n,{expanded:q,focused:be,selected:Z,disabled:Q}),k=Ht(ee);let te,oe;L&&(q?oe=g||y.defaultCollapseIcon:oe=u||y.defaultExpandIcon),L?te=y.defaultParentIcon:te=c||y.defaultEndIcon,b.useEffect(()=>{if(E&&J!==-1)return E.updateNode({id:i,idAttribute:P,index:J,parentId:xe,expandable:L,disabled:f}),()=>E.removeNode(i)},[E,xe,J,i,L,f,P]),b.useEffect(()=>{if(E&&r){var R,W;return E.mapFirstChar(i,((R=(W=_.current)==null?void 0:W.textContent)!=null?R:"").substring(0,1).toLowerCase())}},[E,i,r]);let re;w?re=Z:Z&&(re=!0);function Xe(R){if(R.target===R.currentTarget){let ne;typeof R.target.getRootNode=="function"?ne=R.target.getRootNode():ne=Ae(R.target),ne.getElementById(M).focus({preventScroll:!0})}const W=!T&&Q;E&&!be&&R.currentTarget===R.target&&!W&&E.focusNode(R,i)}return x.jsxs(qt,S({className:A(k.root,a),role:"treeitem","aria-expanded":L?q:void 0,"aria-selected":re,"aria-disabled":Q||void 0,id:P,tabIndex:-1},v,{ownerState:ee,onFocus:Xe,ref:Ge,children:[x.jsx(Wt,S({as:l,ref:_,classes:{root:k.content,expanded:k.expanded,selected:k.selected,focused:k.focused,disabled:k.disabled,iconContainer:k.iconContainer,label:k.label},label:r,nodeId:i,onClick:h,onMouseDown:N,icon:I,expansionIcon:oe,displayIcon:te,ownerState:ee},p)),s&&x.jsx(Be,{id:i,children:x.jsx(Gt,S({as:m,unmountOnExit:!0,className:k.group,in:q,component:"ul",role:"group"},C,{children:s}))})]}))});function Yt(e){return de("MuiTreeView",e)}ue("MuiTreeView",["root"]);const Xt=(e,t)=>{const o=b.useRef({}),[n,s]=b.useState(()=>{const g={};return e.forEach(l=>{l.models&&Object.entries(l.models).forEach(([p,c])=>{o.current[p]={controlledProp:c.controlledProp,defaultProp:c.defaultProp,isControlled:t[c.controlledProp]!==void 0},g[p]=t[c.defaultProp]})}),g});return Object.fromEntries(Object.entries(o.current).map(([g,l])=>{const p=l.isControlled?t[l.controlledProp]:n[g];return[g,{value:p,setValue:c=>{l.isControlled||s(u=>S({},u,{[g]:c}))}}]}))};class Jt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,n={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),n.isFirst?s.highPriority.set(o,!0):s.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const n=this.events[t];if(!n)return;const s=Array.from(n.highPriority.keys()),a=Array.from(n.regular.keys());for(let g=s.length-1;g>=0;g-=1){const l=s[g];n.highPriority.has(l)&&l.apply(this,o)}for(let g=0;g<a.length;g+=1){const l=a[g];n.regular.has(l)&&l.apply(this,o)}}once(t,o){const n=this;this.on(t,function s(...a){n.removeListener(t,s),o.apply(n,a)})}}const se=(e,t)=>{const o=e.getNode(t),n=e.getNavigableChildrenIds(o.parentId),s=n.indexOf(t);if(s===0)return o.parentId;let a=n[s-1];for(;e.isNodeExpanded(a)&&e.getNavigableChildrenIds(a).length>0;)a=e.getNavigableChildrenIds(a).pop();return a},K=(e,t)=>{if(e.isNodeExpanded(t)&&e.getNavigableChildrenIds(t).length>0)return e.getNavigableChildrenIds(t)[0];let o=e.getNode(t);for(;o!=null;){const n=e.getNavigableChildrenIds(o.parentId),s=n[n.indexOf(o.id)+1];if(s)return s;o=e.getNode(o.parentId)}return null},ae=e=>{let t=e.getNavigableChildrenIds(null).pop();for(;e.isNodeExpanded(t);)t=e.getNavigableChildrenIds(t).pop();return t},ce=e=>e.getNavigableChildrenIds(null)[0],F=(e,t)=>{Object.assign(e,t)},Zt=e=>e.isPropagationStopped!==void 0,Qt=({instance:e})=>{const[t]=b.useState(()=>new Jt),o=b.useCallback((...s)=>{const[a,g,l={}]=s;l.defaultMuiPrevented=!1,!(Zt(l)&&l.isPropagationStopped())&&t.emit(a,g,l)},[t]),n=b.useCallback((s,a)=>(t.on(s,a),()=>{t.removeListener(s,a)}),[t]);F(e,{$$publishEvent:o,$$subscribeEvent:n})},eo=[Qt],to=e=>{const t=[...eo,...e.plugins],o=t.reduce((r,i)=>i.getDefaultizedParams?i.getDefaultizedParams(r):r,e),n=Xt(t,o),a=b.useRef({}).current,g=b.useRef(null),l=Oe(g,e.rootRef),[p,c]=b.useState(()=>{const r={};return t.forEach(i=>{i.getInitialState&&Object.assign(r,i.getInitialState(o))}),r}),u=[];let f=ze;const I=r=>{const i=r({instance:a,params:o,state:p,setState:c,rootRef:g,models:n})||{};i.getRootProps&&u.push(i.getRootProps),i.contextValue&&(f=i.contextValue)};return t.forEach(I),{getRootProps:(r={})=>{const i=S({role:"tree",tabIndex:0},r,{ref:l});return u.forEach(h=>{Object.assign(i,h(r))}),i},rootRef:l,contextValue:f}};function oo(e){const{value:t,children:o}=e;return x.jsx(Ke.Provider,{value:t,children:x.jsx(Be,{children:o})})}const ro=(e,t,o)=>{e.$$publishEvent(t,o)},no=({instance:e,params:t})=>{const o=b.useRef({}),n=b.useCallback(c=>o.current[c],[]),s=b.useCallback(c=>{o.current[c.id]=c},[]),a=b.useCallback(c=>{const u=S({},o.current);delete u[c],o.current=u,ro(e,"removeNode",{id:c})},[e]),g=b.useCallback(c=>{if(c==null)return!1;let u=e.getNode(c);if(!u)return!1;if(u.disabled)return!0;for(;u.parentId!=null;)if(u=e.getNode(u.parentId),u.disabled)return!0;return!1},[e]),l=U(c=>Object.values(o.current).filter(u=>u.parentId===c).sort((u,f)=>u.index-f.index).map(u=>u.id));F(e,{getNode:n,updateNode:s,removeNode:a,getChildrenIds:l,getNavigableChildrenIds:c=>{let u=e.getChildrenIds(c);return t.disabledItemsFocusable||(u=u.filter(f=>!e.isNodeDisabled(f))),u},isNodeDisabled:g})},pe=({instance:e,params:t,models:o})=>{const n=b.useCallback(l=>Array.isArray(o.expanded.value)?o.expanded.value.indexOf(l)!==-1:!1,[o.expanded.value]),s=b.useCallback(l=>{var p;return!!((p=e.getNode(l))!=null&&p.expandable)},[e]),a=U((l,p)=>{if(p==null)return;let c;o.expanded.value.indexOf(p)!==-1?c=o.expanded.value.filter(u=>u!==p):c=[p].concat(o.expanded.value),t.onNodeToggle&&t.onNodeToggle(l,c),o.expanded.setValue(c)});F(e,{isNodeExpanded:n,isNodeExpandable:s,toggleNodeExpansion:a,expandAllSiblings:(l,p)=>{const c=e.getNode(p),f=e.getChildrenIds(c.parentId).filter(d=>e.isNodeExpandable(d)&&!e.isNodeExpanded(d)),I=o.expanded.value.concat(f);f.length>0&&(o.expanded.setValue(I),t.onNodeToggle&&t.onNodeToggle(l,I))}})};pe.models={expanded:{controlledProp:"expanded",defaultProp:"defaultExpanded"}};const so=[];pe.getDefaultizedParams=e=>{var t;return S({},e,{defaultExpanded:(t=e.defaultExpanded)!=null?t:so})};const lo=(e,t,o)=>{if(t===o)return[t,o];const n=e.getNode(t),s=e.getNode(o);if(n.parentId===s.id||s.parentId===n.id)return s.parentId===n.id?[n.id,s.id]:[s.id,n.id];const a=[n.id],g=[s.id];let l=n.parentId,p=s.parentId,c=g.indexOf(l)!==-1,u=a.indexOf(p)!==-1,f=!0,I=!0;for(;!u&&!c;)f&&(a.push(l),c=g.indexOf(l)!==-1,f=l!==null,!c&&f&&(l=e.getNode(l).parentId)),I&&!c&&(g.push(p),u=a.indexOf(p)!==-1,I=p!==null,!u&&I&&(p=e.getNode(p).parentId));const d=c?l:p,r=e.getChildrenIds(d),i=a[a.indexOf(d)-1],h=g[g.indexOf(d)-1];return r.indexOf(i)<r.indexOf(h)?[t,o]:[o,t]},ge=({instance:e,params:t,models:o})=>{const n=b.useRef(null),s=b.useRef(!1),a=b.useRef([]),g=r=>Array.isArray(o.selected.value)?o.selected.value.indexOf(r)!==-1:o.selected.value===r,l=(r,i,h=!1)=>{if(!t.disableSelection){if(h){if(Array.isArray(o.selected.value)){let N;o.selected.value.indexOf(i)!==-1?N=o.selected.value.filter(m=>m!==i):N=[i].concat(o.selected.value),t.onNodeSelect&&t.onNodeSelect(r,N),o.selected.setValue(N)}}else{const N=t.multiSelect?[i]:i;t.onNodeSelect&&t.onNodeSelect(r,N),o.selected.setValue(N)}n.current=i,s.current=!1,a.current=[]}},p=(r,i)=>{const[h,N]=lo(e,r,i),m=[h];let C=h;for(;C!==N;)C=K(e,C),m.push(C);return m},c=(r,i)=>{let h=o.selected.value.slice();const{start:N,next:m,current:C}=i;!m||!C||(a.current.indexOf(C)===-1&&(a.current=[]),s.current?a.current.indexOf(m)!==-1?(h=h.filter(v=>v===N||v!==C),a.current=a.current.filter(v=>v===N||v!==C)):(h.push(m),a.current.push(m)):(h.push(m),a.current.push(C,m)),t.onNodeSelect&&t.onNodeSelect(r,h),o.selected.setValue(h))},u=(r,i)=>{let h=o.selected.value.slice();const{start:N,end:m}=i;s.current&&(h=h.filter(y=>a.current.indexOf(y)===-1));let C=p(N,m);C=C.filter(y=>!e.isNodeDisabled(y)),a.current=C;let v=h.concat(C);v=v.filter((y,w)=>v.indexOf(y)===w),t.onNodeSelect&&t.onNodeSelect(r,v),o.selected.setValue(v)};return F(e,{isNodeSelected:g,selectNode:l,selectRange:(r,i,h=!1)=>{if(t.disableSelection)return;const{start:N=n.current,end:m,current:C}=i;h?c(r,{start:N,next:m,current:C}):N!=null&&m!=null&&u(r,{start:N,end:m}),s.current=!0},rangeSelectToLast:(r,i)=>{n.current||(n.current=i);const h=s.current?n.current:i;e.selectRange(r,{start:h,end:ae(e)})},rangeSelectToFirst:(r,i)=>{n.current||(n.current=i);const h=s.current?n.current:i;e.selectRange(r,{start:h,end:ce(e)})}}),{getRootProps:()=>({"aria-multiselectable":t.multiSelect})}};ge.models={selected:{controlledProp:"selected",defaultProp:"defaultSelected"}};const io=[];ge.getDefaultizedParams=e=>{var t,o,n;return S({},e,{disableSelection:(t=e.disableSelection)!=null?t:!1,multiSelect:(o=e.multiSelect)!=null?o:!1,defaultSelected:(n=e.defaultSelected)!=null?n:e.multiSelect?io:null})};const ye=1e3;class ao{constructor(t=ye){this.timeouts=new Map,this.cleanupTimeout=ye,this.cleanupTimeout=t}register(t,o,n){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,s)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class co{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,n){this.registry.register(t,o,n)}unregister(t){this.registry.unregister(t)}reset(){}}class uo{}function fo(e){let t=0;return function(n,s,a){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new co:new ao);const[g]=b.useState(new uo),l=b.useRef(null),p=b.useRef();p.current=a;const c=b.useRef(null);if(!l.current&&p.current){const u=(f,I)=>{if(!I.defaultMuiPrevented){var d;(d=p.current)==null||d.call(p,f,I)}};l.current=n.$$subscribeEvent(s,u),t+=1,c.current={cleanupToken:t},e.registry.register(g,()=>{var f;(f=l.current)==null||f.call(l),l.current=null,c.current=null},c.current)}else!p.current&&l.current&&(l.current(),l.current=null,c.current&&(e.registry.unregister(c.current),c.current=null));b.useEffect(()=>{if(!l.current&&p.current){const u=(f,I)=>{if(!I.defaultMuiPrevented){var d;(d=p.current)==null||d.call(p,f,I)}};l.current=n.$$subscribeEvent(s,u)}return c.current&&e.registry&&(e.registry.unregister(c.current),c.current=null),()=>{var u;(u=l.current)==null||u.call(l),l.current=null}},[n,s])}}const po={registry:null},go=fo(po),he=({instance:e,params:t,state:o,setState:n,models:s,rootRef:a})=>{const g=U(d=>{const r=typeof d=="function"?d(o.focusedNodeId):d;n(i=>S({},i,{focusedNodeId:r}))}),l=b.useCallback(d=>o.focusedNodeId===d,[o.focusedNodeId]),p=U((d,r)=>{r&&(g(r),t.onNodeFocus&&t.onNodeFocus(d,r))});F(e,{isNodeFocused:l,focusNode:p}),go(e,"removeNode",({id:d})=>{g(r=>r===d&&a.current===Ae(a.current).activeElement?e.getChildrenIds(null)[0]:r)});const c=d=>r=>{var i;if((i=d.onFocus)==null||i.call(d,r),r.target===r.currentTarget){const h=m=>{const C=e.getNode(m);return C&&(C.parentId==null||e.isNodeExpanded(C.parentId))};let N;Array.isArray(s.selected.value)?N=s.selected.value.find(h):s.selected.value!=null&&h(s.selected.value)&&(N=s.selected.value),N==null&&(N=e.getNavigableChildrenIds(null)[0]),e.focusNode(r,N)}},u=d=>r=>{var i;(i=d.onBlur)==null||i.call(d,r),g(null)},f=e.getNode(o.focusedNodeId),I=f?f.idAttribute:null;return{getRootProps:d=>({onFocus:c(d),onBlur:u(d),"aria-activedescendant":I??void 0})}};he.getInitialState=()=>({focusedNodeId:null});he.getDefaultizedParams=e=>{var t;return S({},e,{disabledItemsFocusable:(t=e.disabledItemsFocusable)!=null?t:!1})};function ho(e){return e&&e.length===1&&e.match(/\S/)}function Ee(e,t,o){for(let n=t;n<e.length;n+=1)if(o===e[n])return n;return-1}const xo=({instance:e,params:t,state:o})=>{const s=Te().direction==="rtl",a=b.useRef({}),g=U((d,r)=>(a.current[d]=r,()=>{const i=S({},a.current);delete i[d],a.current=i}));F(e,{mapFirstChar:g});const l=d=>(o.focusedNodeId!=null&&e.isNodeExpandable(o.focusedNodeId)&&(e.isNodeExpanded(o.focusedNodeId)?e.focusNode(d,K(e,o.focusedNodeId)):e.isNodeDisabled(o.focusedNodeId)||e.toggleNodeExpansion(d,o.focusedNodeId)),!0),p=d=>{if(o.focusedNodeId==null)return!1;if(e.isNodeExpanded(o.focusedNodeId)&&!e.isNodeDisabled(o.focusedNodeId))return e.toggleNodeExpansion(d,o.focusedNodeId),!0;const r=e.getNode(o.focusedNodeId).parentId;return r?(e.focusNode(d,r),!0):!1},c=(d,r,i)=>{let h,N;const m=i.toLowerCase(),C=[],v=[];Object.keys(a.current).forEach(y=>{const w=e.getNode(y),T=w.parentId?e.isNodeExpanded(w.parentId):!0,M=t.disabledItemsFocusable?!1:e.isNodeDisabled(y);T&&!M&&(C.push(y),v.push(a.current[y]))}),h=C.indexOf(r)+1,h>=C.length&&(h=0),N=Ee(v,h,m),N===-1&&(N=Ee(v,0,m)),N>-1&&e.focusNode(d,C[N])},u=(d,r)=>{e.isNodeDisabled(K(e,r))||e.selectRange(d,{end:K(e,r),current:r},!0)},f=(d,r)=>{e.isNodeDisabled(se(e,r))||e.selectRange(d,{end:se(e,r),current:r},!0)},I=d=>r=>{var i;(i=d.onKeyDown)==null||i.call(d,r);let h=!1;const N=r.key;if(r.altKey||r.currentTarget!==r.target||o.focusedNodeId==null)return;const m=r.ctrlKey||r.metaKey;switch(N){case" ":!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&(h=!0,t.multiSelect&&r.shiftKey?e.selectRange(r,{end:o.focusedNodeId}):t.multiSelect?e.selectNode(r,o.focusedNodeId,!0):e.selectNode(r,o.focusedNodeId)),r.stopPropagation();break;case"Enter":e.isNodeDisabled(o.focusedNodeId)||(e.isNodeExpandable(o.focusedNodeId)?(e.toggleNodeExpansion(r,o.focusedNodeId),h=!0):t.disableSelection||(h=!0,t.multiSelect?e.selectNode(r,o.focusedNodeId,!0):e.selectNode(r,o.focusedNodeId))),r.stopPropagation();break;case"ArrowDown":t.multiSelect&&r.shiftKey&&!t.disableSelection&&u(r,o.focusedNodeId),e.focusNode(r,K(e,o.focusedNodeId)),h=!0;break;case"ArrowUp":t.multiSelect&&r.shiftKey&&!t.disableSelection&&f(r,o.focusedNodeId),e.focusNode(r,se(e,o.focusedNodeId)),h=!0;break;case"ArrowRight":s?h=p(r):h=l(r);break;case"ArrowLeft":s?h=l(r):h=p(r);break;case"Home":t.multiSelect&&m&&r.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&e.rangeSelectToFirst(r,o.focusedNodeId),e.focusNode(r,ce(e)),h=!0;break;case"End":t.multiSelect&&m&&r.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&e.rangeSelectToLast(r,o.focusedNodeId),e.focusNode(r,ae(e)),h=!0;break;default:N==="*"?(e.expandAllSiblings(r,o.focusedNodeId),h=!0):t.multiSelect&&m&&N.toLowerCase()==="a"&&!t.disableSelection?(e.selectRange(r,{start:ce(e),end:ae(e)}),h=!0):!m&&!r.shiftKey&&ho(N)&&(c(r,o.focusedNodeId,N),h=!0)}h&&(r.preventDefault(),r.stopPropagation())};return{getRootProps:d=>({onKeyDown:I(d)})}},bo=({instance:e,params:t})=>{const o=rt(t.id);return{getRootProps:()=>({id:o}),contextValue:{treeId:o,instance:e,multiSelect:t.multiSelect,disabledItemsFocusable:t.disabledItemsFocusable,icons:{defaultCollapseIcon:t.defaultCollapseIcon,defaultEndIcon:t.defaultEndIcon,defaultExpandIcon:t.defaultExpandIcon,defaultParentIcon:t.defaultParentIcon}}}},No=[no,pe,ge,he,xo,bo],mo=["disabledItemsFocusable","expanded","defaultExpanded","onNodeToggle","onNodeFocus","disableSelection","defaultSelected","selected","multiSelect","onNodeSelect","id","defaultCollapseIcon","defaultEndIcon","defaultExpandIcon","defaultParentIcon","children"],Io=e=>{const{classes:t}=e;return fe({root:["root"]},Yt,t)},we=O("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0}),To=b.forwardRef(function(t,o){const n=je({props:t,name:"MuiTreeView"}),s=n,a=n,{disabledItemsFocusable:g,expanded:l,defaultExpanded:p,onNodeToggle:c,onNodeFocus:u,disableSelection:f,defaultSelected:I,selected:d,multiSelect:r,onNodeSelect:i,id:h,defaultCollapseIcon:N,defaultEndIcon:m,defaultExpandIcon:C,defaultParentIcon:v,children:y}=a,w=$(a,mo),{getRootProps:T,contextValue:M}=to({disabledItemsFocusable:g,expanded:l,defaultExpanded:p,onNodeToggle:c,onNodeFocus:u,disableSelection:f,defaultSelected:I,selected:d,multiSelect:r,onNodeSelect:i,id:h,defaultCollapseIcon:N,defaultEndIcon:m,defaultExpandIcon:C,defaultParentIcon:v,plugins:No,rootRef:o}),E=Io(n),P=nt({elementType:we,externalSlotProps:{},externalForwardedProps:w,className:E.root,getSlotProps:T,ownerState:s});return x.jsx(oo,{value:M,children:x.jsx(we,S({},P,{children:y}))})});function qe(e){const{children:t,window:o}=e,n=bt({target:o?o():void 0});return x.jsx(Pe,{appear:!1,direction:"down",in:!n,children:t})}qe.propTypes={children:ie.element.isRequired,window:ie.func};const We=e=>{const{settings:t,saveSettings:o}=st(),{showTopMemu:n}=$e(),s=()=>{e.onShowTree()},[a,g]=b.useState(null),[l,p]=b.useState(null),c=!!a,u=!!l,f=m=>{g(m.currentTarget)},I=()=>{p(null)},d=()=>{g(null),I()},i=x.jsxs(Ne,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:d,children:[x.jsx(V,{onClick:d,children:"Profile"}),x.jsx(V,{onClick:d,children:"My account"})]}),N=x.jsxs(Ne,{anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:I,children:[x.jsxs(V,{children:[x.jsx(Y,{size:"large","aria-label":"show 4 new mails",color:"inherit",children:x.jsx(me,{badgeContent:4,color:"error",children:x.jsx(gt,{})})}),x.jsx("p",{children:"Messages"})]}),x.jsxs(V,{children:[x.jsx(Y,{size:"large","aria-label":"show 17 new notifications",color:"inherit",children:x.jsx(me,{badgeContent:17,color:"error",children:x.jsx(ht,{})})}),x.jsx("p",{children:"Notifications"})]}),x.jsxs(V,{onClick:f,children:[x.jsx(Y,{size:"large","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:x.jsx(xt,{})}),x.jsx("p",{children:"Profile"})]})]});return x.jsxs(x.Fragment,{children:[x.jsx(lt,{}),x.jsx(qe,{...e,children:x.jsx(it,{open:e.open,width:e.width,children:x.jsxs(at,{children:[x.jsx(Y,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:s,children:x.jsx(ct,{})}),x.jsx(dt,{variant:"h6",noWrap:!0,component:"div",children:e.title}),x.jsxs(le,{sx:{display:"flex",position:"fixed",alignItems:"center",right:2},children:[n&&ut.map((m,C)=>x.jsx(ft,{sx:{minWidth:"20px",mr:2},to:m.url,children:m.title},C)),x.jsx(pt,{settings:t,saveSettings:o})]})]})})}),N,i]})};We.propTypes={window:ie.func};const Co=()=>{const e=new Nt;let t=e.get("open");t||(t="Y");const[o,n]=b.useState(t==="Y");return[o,a=>{n(a),e.set("open",a?"Y":"N",{path:"/"})}]},Po=e=>{const{title:t,children:o,drawerWidth:n,sideContents:s}=e,[a,g]=Co(),{sideStyle:l,width:p}=$e(),c=b.useRef(),u=()=>{g(!a)};return b.useEffect(()=>{const f=document.querySelector("title");f.innerHTML=`${mt.templateName} :: ${t}`},[t]),x.jsxs(le,{sx:{display:"flex"},children:[x.jsx(We,{onShowTree:u,title:t,width:l==="persistent"?n:0,sideStyle:l,open:a}),x.jsx(Mt,{sx:{width:n,"& .MuiDrawer-paper":{width:n,boxSizing:"border-box"}},variant:l,anchor:"left",open:a,onClose:u,ModalProps:{keepMounted:!0},children:s}),x.jsxs(It,{ref:c,open:a,marginleft:l==="persistent"?n:0,maxwidth:a&&l==="persistent"?p-n-16:p,children:[x.jsx(Ct,{}),x.jsxs(le,{sx:{display:"flex",alignItems:"center",flexDirection:"column"},children:[o,x.jsx(vt,{}),l==="temporary"?x.jsx("br",{}):""]})]})]})};export{Po as C,Eo as E,To as T,yo as a,wo as b,j as t};
