import{r as n,i as p,j as a,cf as x,bF as D,cl as b,cF as O}from"./index-CEJkszmk.js";const C=()=>{const[c,m]=n.useState({labels:[],series:[]}),[r,u]=n.useState(null),[j,l]=n.useState({isOpen:!1}),{t:i}=p();return n.useEffect(()=>{(async()=>{const t=await O("home_cnt");if(t){u(t);const s=Object.keys(t).sort().reverse().slice(0,30),f=s.map(e=>e.split("-").slice(1).join("-")),o=s.map(e=>Object.keys(t[e]).length);m({labels:f,series:o})}})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(x,{...j}),a.jsx(D,{title:i("visitors.count"),className:"w-full justify-center mt-5",children:a.jsx(b,{series:[{name:i("count"),data:c.series}],labels:c.labels,showDownload:!1,onDataPointSelection:(h,t,d)=>{const s=d.dataPointIndex;if(r&&s>-1){const o=Object.keys(r).sort().reverse()[s],e=r[o],y=Object.keys(e).join("<br/>");l({isOpen:!0,title:`${o} ${i("visitors.count")}`,message:y,onClose:()=>l({isOpen:!1})})}}})})]})};export{C as HomeChartVisitors,C as default};
