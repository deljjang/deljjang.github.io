import{r as d,j as r}from"./index-D_uTceCe.js";import{c as f,e as b,f as w,ap as C,aq as D,i as L,ar as $,as as E,w as g,at as R}from"./App-ai_KYhla.js";const q=({state:c,gubun:n="tw"})=>{const{t:i}=f(),a=b(),u=w(C(n));return d.useEffect(()=>{c?.s&&a(D({gubun:n,searchTerm:c.s}))},[c,n,u,a]),r.jsx(z,{title:i("search_list"),className:"mt-1",gubun:n})},z=({title:c,children:n,className:i="",gubun:a="tw"})=>{const u=L(),{t:m}=f(),v=b(),S=w($(a)),[h,l]=d.useState(null),t=d.useRef(),p=d.useRef(!1),k=e=>{x(e)},j=e=>{l(h===e?null:e)},y=(e,s)=>{e.button===0&&(e.preventDefault(),e.stopPropagation(),t.current=setTimeout(()=>{j(s),t.current=null,p.current=!0},500))},T=e=>{t.current&&(clearTimeout(t.current),t.current=null,k(e))},N=()=>{t.current&&(clearTimeout(t.current),t.current=null)},M=(e,s)=>{e.preventDefault(),e.stopPropagation(),l(h===s?null:s)},x=e=>{const s=a==="tw"?"/tw/search":`/${a}/search`;u(s,{state:{s:e}}),l(null)},P=e=>{v(R({gubun:a,searchTerm:e})),l(null)};return r.jsxs("div",{className:`rounded-sm border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-visible w-full ${i} mb-3`,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),p.current){p.current=!1;return}l(null)},children:[r.jsx("div",{className:"flex flex-col px-4 py-2",children:r.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:c})}),r.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-9 gap-2 p-2 sm:p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 overflow-visible",children:[S.map((e,s)=>r.jsxs("div",{className:"relative",children:[r.jsx(E,{className:"cursor-pointer",variant:"light",size:"md",color:"brand",onMouseDown:o=>y(o,e),onMouseUp:()=>T(e),onMouseLeave:N,onContextMenu:o=>M(o,e),children:e}),h===e&&r.jsxs("div",{className:`absolute top-full left-0 mt-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 ${g.roundedLg} shadow-lg z-50 min-w-20`,children:[r.jsx("button",{className:`w-full px-3 py-2 text-left ${g.textSm} hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg`,onClick:o=>{o.preventDefault(),o.stopPropagation(),x(e)},children:m("view")}),r.jsx("button",{className:`w-full px-3 py-2 text-left ${g.textSm} text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg`,onClick:o=>{o.stopPropagation(),P(e)},children:m("delete")})]})]},s)),r.jsx("div",{children:n})]})]})};export{q as T};
