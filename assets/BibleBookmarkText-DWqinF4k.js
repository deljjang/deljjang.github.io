import{U as l,c as m,r as k,a as f,f as b,g as x,j as o,H as B}from"./index-fVzwk0DM.js";import{a as p}from"./LinkItem-DaqnmNeA.js";import{u as y}from"./useQuery-GeUIz3eZ.js";import{s as h}from"./fireDatabase-CY1YjzYG.js";import{G as u}from"./Grid-DuQ8Q5Gk.js";import{D as j}from"./Divider-BGQe6fAH.js";const v=()=>{const i=new l,{user:e}=m(),r=y({queryKey:["useBibleBookmark"],queryFn:()=>a(),enabled:!1});k.useEffect(()=>{e!==void 0&&r.refetch()},[r,e]);async function a(){if(e.uid===void 0)return new Error("Error undefined");const s=f(b,`bible_mark/${e.uid}`),t=await x(s),n=new Array;if(t.exists()){const d=t.val();return Object.values(d).map(c=>{c.bookmark==="Y"&&n.push(c)}),n}else return new Error("Error exists")}return{query:r,setBibleBookmark:s=>{if(e===void 0||e===void 0)return;let t="N";(s.bookmark===void 0||s.bookmark==="N")&&(t="Y"),s.bookmark=t;const n=`bible_mark/${e.uid}/${s.cd1}_${s.cd2}_${s.cd3}_${s.cd4}`;h(n,t==="N"?null:s),i.invalidateQueries({queryKey:["useBibleBookmark"]}),r.refetch()}}},F=()=>{const{query:i}=v(),e=i.data;return e?o.jsxs(o.Fragment,{children:[e.map((r,a)=>o.jsxs(u,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:`id_${a+1}`,children:[o.jsx(u,{item:!0,xs:1,md:1,children:o.jsx(p,{to:`/bible/${r.cd1}_${r.cd2}_${r.cd3}`,state:{cd4:r.cd4},children:r.nm})}),o.jsx(u,{item:!0,xs:4,sm:6,md:9,lg:11,children:o.jsx(B,{show:!0,text:r.txt})})]},a)),o.jsx(j,{})]}):null};export{F as B,v as u};
