import{l as ge,o as be,q as Ne,t as xe,g as N,aK as U,aL as m,j as T,aM as _e,aN as he,aO as Ie,aP as Ce,aQ as Ee,aR as Se,x as z,aS as ye,aT as me,aU as K,aV as A,aA as $e,aW as Ae,aX as je}from"./index-Bw-LLa9y.js";import{C as ve}from"./Collapse-b3lrT5ua.js";var V={},ce;function Le(){if(ce)return V;ce=1;var e=ge();Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var t=e(be()),o=Ne();return V.default=(0,t.default)((0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),V}var Ke=Le();const Dt=xe(Ke);var _={},de;function Ue(){if(de)return _;de=1;var e=ge();Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var t=e(be()),o=Ne();return _.default=(0,t.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),_}var ze=Ue();const Ot=xe(ze),Be=["element"];function qe(e,t){for(let o=0;o<e.length;o+=1)if(t(e[o]))return o;return-1}function He(e,t){let o=0,r=e.length-1;for(;o<=r;){const l=Math.floor((o+r)/2);if(e[l].element===t)return l;e[l].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?r=l-1:o=l+1}return o}const Te=N.createContext({});function We(e){const t=N.useRef(null);return N.useEffect(()=>{t.current=e},[e]),t.current}const ae=()=>{};function Ge(e){const[,t]=N.useState(),{registerDescendant:o=ae,unregisterDescendant:r=ae,descendants:l=[],parentId:d=null}=N.useContext(Te),b=qe(l,c=>c.element===e.element),s=We(l),p=l.some((c,f)=>s&&s[f]&&s[f].element!==c.element);return _e(()=>{if(e.element)return o(m({},e,{index:b})),()=>{r(e.element)};t({})},[o,r,b,p,e]),{parentId:d,index:b}}function Re(e){const{children:t,id:o}=e,[r,l]=N.useState([]),d=N.useCallback(p=>{let{element:c}=p,f=U(p,Be);l(u=>{if(u.length===0)return[m({},f,{element:c,index:0})];const h=He(u,c);let a;if(u[h]&&u[h].element===c)a=u;else{const n=m({},f,{element:c,index:h});a=u.slice(),a.splice(h,0,n)}return a.forEach((n,i)=>{n.index=i}),a})},[]),b=N.useCallback(p=>{l(c=>c.filter(f=>p!==f.element))},[]),s=N.useMemo(()=>({descendants:r,registerDescendant:d,unregisterDescendant:b,parentId:o}),[r,d,b,o]);return T.jsx(Te.Provider,{value:s,children:t})}const Pe={instance:null,multiSelect:!1,disabledItemsFocusable:!1,treeId:void 0,icons:{defaultCollapseIcon:null,defaultExpandIcon:null,defaultParentIcon:null,defaultEndIcon:null}},we=N.createContext(Pe),De=()=>N.useContext(we);function Xe(e){const{instance:t,multiSelect:o}=De(),r=t?t.isNodeExpandable(e):!1,l=t?t.isNodeExpanded(e):!1,d=t?t.isNodeFocused(e):!1,b=t?t.isNodeSelected(e):!1,s=t?t.isNodeDisabled(e):!1;return{disabled:s,expanded:l,selected:b,focused:d,handleExpansion:u=>{if(t&&!s){d||t.focusNode(u,e);const h=o&&(u.shiftKey||u.ctrlKey||u.metaKey);r&&!(h&&t.isNodeExpanded(e))&&t.toggleNodeExpansion(u,e)}},handleSelection:u=>{t&&!s&&(d||t.focusNode(u,e),o&&(u.shiftKey||u.ctrlKey||u.metaKey)?u.shiftKey?t.selectRange(u,{end:e}):t.selectNode(u,e,!0):t.selectNode(u,e))},preventSelection:u=>{(u.shiftKey||u.ctrlKey||u.metaKey||s)&&u.preventDefault()}}}const Je=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],Oe=N.forwardRef(function(t,o){const{classes:r,className:l,displayIcon:d,expansionIcon:b,icon:s,label:p,nodeId:c,onClick:f,onMouseDown:u}=t,h=U(t,Je),{disabled:a,expanded:n,selected:i,focused:g,handleExpansion:x,handleSelection:I,preventSelection:C}=Xe(c),E=s||b||d,S=v=>{C(v),u&&u(v)},P=v=>{x(v),I(v),f&&f(v)};return T.jsxs("div",m({},h,{className:he(l,r.root,n&&r.expanded,i&&r.selected,g&&r.focused,a&&r.disabled),onClick:P,onMouseDown:S,ref:o,children:[T.jsx("div",{className:r.iconContainer,children:E}),T.jsx("div",{className:r.label,children:p})]}))});function Qe(e){return Ce("MuiTreeItem",e)}const D=Ie("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"]),Ye=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],Ze=e=>{const{classes:t}=e;return ye({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},Qe,t)},et=z("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),tt=z(Oe,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${D.iconContainer}`]:t.iconContainer},t.label&&{[`& .${D.label}`]:t.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${D.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:K(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:K(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:K(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${D.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:K(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${D.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${D.label}`]:m({paddingLeft:4,width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),ot=z(ve,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,t)=>t.group})({margin:0,padding:0,marginLeft:17}),kt=N.forwardRef(function(t,o){const r=Ee({props:t,name:"MuiTreeItem"}),{children:l,className:d,collapseIcon:b,ContentComponent:s=Oe,ContentProps:p,endIcon:c,expandIcon:f,disabled:u,icon:h,id:a,label:n,nodeId:i,onClick:g,onMouseDown:x,TransitionComponent:I=ve,TransitionProps:C}=r,E=U(r,Ye),{icons:S,multiSelect:P,disabledItemsFocusable:v,treeId:O,instance:y}=De();let k;a!=null?k=a:O&&i&&(k=`${O}-${i}`);const[re,ke]=N.useState(null),le=N.useRef(null),Fe=Se(ke,o),Me=N.useMemo(()=>({element:re,id:i}),[i,re]),{index:B,parentId:se}=Ge(Me),M=!!(Array.isArray(l)?l.length:l),j=y?y.isNodeExpanded(i):!1,ie=y?y.isNodeFocused(i):!1,q=y?y.isNodeSelected(i):!1,H=y?y.isNodeDisabled(i):!1,W=m({},r,{expanded:j,focused:ie,selected:q,disabled:H}),w=Ze(W);let G,X;M&&(j?X=b||S.defaultCollapseIcon:X=f||S.defaultExpandIcon),M?G=S.defaultParentIcon:G=c||S.defaultEndIcon,N.useEffect(()=>{if(y&&B!==-1)return y.updateNode({id:i,idAttribute:k,index:B,parentId:se,expandable:M,disabled:u}),()=>y.removeNode(i)},[y,se,B,i,M,u,k]),N.useEffect(()=>{if(y&&n){var R,L;return y.mapFirstChar(i,((R=(L=le.current)==null?void 0:L.textContent)!=null?R:"").substring(0,1).toLowerCase())}},[y,i,n]);let J;P?J=q:q&&(J=!0);function Ve(R){if(R.target===R.currentTarget){let Q;typeof R.target.getRootNode=="function"?Q=R.target.getRootNode():Q=me(R.target),Q.getElementById(O).focus({preventScroll:!0})}const L=!v&&H;y&&!ie&&R.currentTarget===R.target&&!L&&y.focusNode(R,i)}return T.jsxs(et,m({className:he(w.root,d),role:"treeitem","aria-expanded":M?j:void 0,"aria-selected":J,"aria-disabled":H||void 0,id:k,tabIndex:-1},E,{ownerState:W,onFocus:Ve,ref:Fe,children:[T.jsx(tt,m({as:s,ref:le,classes:{root:w.content,expanded:w.expanded,selected:w.selected,focused:w.focused,disabled:w.disabled,iconContainer:w.iconContainer,label:w.label},label:n,nodeId:i,onClick:g,onMouseDown:x,icon:h,expansionIcon:X,displayIcon:G,ownerState:W},p)),l&&T.jsx(Re,{id:i,children:T.jsx(ot,m({as:I,unmountOnExit:!0,className:w.group,in:j,component:"ul",role:"group"},C,{children:l}))})]}))});function nt(e){return Ce("MuiTreeView",e)}Ie("MuiTreeView",["root"]);const rt=(e,t)=>{const o=N.useRef({}),[r,l]=N.useState(()=>{const b={};return e.forEach(s=>{s.models&&Object.entries(s.models).forEach(([p,c])=>{o.current[p]={controlledProp:c.controlledProp,defaultProp:c.defaultProp,isControlled:t[c.controlledProp]!==void 0},b[p]=t[c.defaultProp]})}),b});return Object.fromEntries(Object.entries(o.current).map(([b,s])=>{const p=s.isControlled?t[s.controlledProp]:r[b];return[b,{value:p,setValue:c=>{s.isControlled||l(f=>m({},f,{[b]:c}))}}]}))};class lt{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,r={}){let l=this.events[t];l||(l={highPriority:new Map,regular:new Map},this.events[t]=l),r.isFirst?l.highPriority.set(o,!0):l.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const r=this.events[t];if(!r)return;const l=Array.from(r.highPriority.keys()),d=Array.from(r.regular.keys());for(let b=l.length-1;b>=0;b-=1){const s=l[b];r.highPriority.has(s)&&s.apply(this,o)}for(let b=0;b<d.length;b+=1){const s=d[b];r.regular.has(s)&&s.apply(this,o)}}once(t,o){const r=this;this.on(t,function l(...d){r.removeListener(t,l),o.apply(r,d)})}}const Y=(e,t)=>{const o=e.getNode(t),r=e.getNavigableChildrenIds(o.parentId),l=r.indexOf(t);if(l===0)return o.parentId;let d=r[l-1];for(;e.isNodeExpanded(d)&&e.getNavigableChildrenIds(d).length>0;)d=e.getNavigableChildrenIds(d).pop();return d},$=(e,t)=>{if(e.isNodeExpanded(t)&&e.getNavigableChildrenIds(t).length>0)return e.getNavigableChildrenIds(t)[0];let o=e.getNode(t);for(;o!=null;){const r=e.getNavigableChildrenIds(o.parentId),l=r[r.indexOf(o.id)+1];if(l)return l;o=e.getNode(o.parentId)}return null},Z=e=>{let t=e.getNavigableChildrenIds(null).pop();for(;e.isNodeExpanded(t);)t=e.getNavigableChildrenIds(t).pop();return t},ee=e=>e.getNavigableChildrenIds(null)[0],F=(e,t)=>{Object.assign(e,t)},st=e=>e.isPropagationStopped!==void 0,it=({instance:e})=>{const[t]=N.useState(()=>new lt),o=N.useCallback((...l)=>{const[d,b,s={}]=l;s.defaultMuiPrevented=!1,!(st(s)&&s.isPropagationStopped())&&t.emit(d,b,s)},[t]),r=N.useCallback((l,d)=>(t.on(l,d),()=>{t.removeListener(l,d)}),[t]);F(e,{$$publishEvent:o,$$subscribeEvent:r})},ct=[it],dt=e=>{const t=[...ct,...e.plugins],o=t.reduce((n,i)=>i.getDefaultizedParams?i.getDefaultizedParams(n):n,e),r=rt(t,o),d=N.useRef({}).current,b=N.useRef(null),s=Se(b,e.rootRef),[p,c]=N.useState(()=>{const n={};return t.forEach(i=>{i.getInitialState&&Object.assign(n,i.getInitialState(o))}),n}),f=[];let u=Pe;const h=n=>{const i=n({instance:d,params:o,state:p,setState:c,rootRef:b,models:r})||{};i.getRootProps&&f.push(i.getRootProps),i.contextValue&&(u=i.contextValue)};return t.forEach(h),{getRootProps:(n={})=>{const i=m({role:"tree",tabIndex:0},n,{ref:s});return f.forEach(g=>{Object.assign(i,g(n))}),i},rootRef:s,contextValue:u}};function at(e){const{value:t,children:o}=e;return T.jsx(we.Provider,{value:t,children:T.jsx(Re,{children:o})})}const ut=(e,t,o)=>{e.$$publishEvent(t,o)},ft=({instance:e,params:t})=>{const o=N.useRef({}),r=N.useCallback(c=>o.current[c],[]),l=N.useCallback(c=>{o.current[c.id]=c},[]),d=N.useCallback(c=>{const f=m({},o.current);delete f[c],o.current=f,ut(e,"removeNode",{id:c})},[e]),b=N.useCallback(c=>{if(c==null)return!1;let f=e.getNode(c);if(!f)return!1;if(f.disabled)return!0;for(;f.parentId!=null;)if(f=e.getNode(f.parentId),f.disabled)return!0;return!1},[e]),s=A(c=>Object.values(o.current).filter(f=>f.parentId===c).sort((f,u)=>f.index-u.index).map(f=>f.id));F(e,{getNode:r,updateNode:l,removeNode:d,getChildrenIds:s,getNavigableChildrenIds:c=>{let f=e.getChildrenIds(c);return t.disabledItemsFocusable||(f=f.filter(u=>!e.isNodeDisabled(u))),f},isNodeDisabled:b})},te=({instance:e,params:t,models:o})=>{const r=N.useCallback(s=>Array.isArray(o.expanded.value)?o.expanded.value.indexOf(s)!==-1:!1,[o.expanded.value]),l=N.useCallback(s=>{var p;return!!((p=e.getNode(s))!=null&&p.expandable)},[e]),d=A((s,p)=>{if(p==null)return;let c;o.expanded.value.indexOf(p)!==-1?c=o.expanded.value.filter(f=>f!==p):c=[p].concat(o.expanded.value),t.onNodeToggle&&t.onNodeToggle(s,c),o.expanded.setValue(c)});F(e,{isNodeExpanded:r,isNodeExpandable:l,toggleNodeExpansion:d,expandAllSiblings:(s,p)=>{const c=e.getNode(p),u=e.getChildrenIds(c.parentId).filter(a=>e.isNodeExpandable(a)&&!e.isNodeExpanded(a)),h=o.expanded.value.concat(u);u.length>0&&(o.expanded.setValue(h),t.onNodeToggle&&t.onNodeToggle(s,h))}})};te.models={expanded:{controlledProp:"expanded",defaultProp:"defaultExpanded"}};const pt=[];te.getDefaultizedParams=e=>{var t;return m({},e,{defaultExpanded:(t=e.defaultExpanded)!=null?t:pt})};const gt=(e,t,o)=>{if(t===o)return[t,o];const r=e.getNode(t),l=e.getNode(o);if(r.parentId===l.id||l.parentId===r.id)return l.parentId===r.id?[r.id,l.id]:[l.id,r.id];const d=[r.id],b=[l.id];let s=r.parentId,p=l.parentId,c=b.indexOf(s)!==-1,f=d.indexOf(p)!==-1,u=!0,h=!0;for(;!f&&!c;)u&&(d.push(s),c=b.indexOf(s)!==-1,u=s!==null,!c&&u&&(s=e.getNode(s).parentId)),h&&!c&&(b.push(p),f=d.indexOf(p)!==-1,h=p!==null,!f&&h&&(p=e.getNode(p).parentId));const a=c?s:p,n=e.getChildrenIds(a),i=d[d.indexOf(a)-1],g=b[b.indexOf(a)-1];return n.indexOf(i)<n.indexOf(g)?[t,o]:[o,t]},oe=({instance:e,params:t,models:o})=>{const r=N.useRef(null),l=N.useRef(!1),d=N.useRef([]),b=n=>Array.isArray(o.selected.value)?o.selected.value.indexOf(n)!==-1:o.selected.value===n,s=(n,i,g=!1)=>{if(!t.disableSelection){if(g){if(Array.isArray(o.selected.value)){let x;o.selected.value.indexOf(i)!==-1?x=o.selected.value.filter(I=>I!==i):x=[i].concat(o.selected.value),t.onNodeSelect&&t.onNodeSelect(n,x),o.selected.setValue(x)}}else{const x=t.multiSelect?[i]:i;t.onNodeSelect&&t.onNodeSelect(n,x),o.selected.setValue(x)}r.current=i,l.current=!1,d.current=[]}},p=(n,i)=>{const[g,x]=gt(e,n,i),I=[g];let C=g;for(;C!==x;)C=$(e,C),I.push(C);return I},c=(n,i)=>{let g=o.selected.value.slice();const{start:x,next:I,current:C}=i;!I||!C||(d.current.indexOf(C)===-1&&(d.current=[]),l.current?d.current.indexOf(I)!==-1?(g=g.filter(E=>E===x||E!==C),d.current=d.current.filter(E=>E===x||E!==C)):(g.push(I),d.current.push(I)):(g.push(I),d.current.push(C,I)),t.onNodeSelect&&t.onNodeSelect(n,g),o.selected.setValue(g))},f=(n,i)=>{let g=o.selected.value.slice();const{start:x,end:I}=i;l.current&&(g=g.filter(S=>d.current.indexOf(S)===-1));let C=p(x,I);C=C.filter(S=>!e.isNodeDisabled(S)),d.current=C;let E=g.concat(C);E=E.filter((S,P)=>E.indexOf(S)===P),t.onNodeSelect&&t.onNodeSelect(n,E),o.selected.setValue(E)};return F(e,{isNodeSelected:b,selectNode:s,selectRange:(n,i,g=!1)=>{if(t.disableSelection)return;const{start:x=r.current,end:I,current:C}=i;g?c(n,{start:x,next:I,current:C}):x!=null&&I!=null&&f(n,{start:x,end:I}),l.current=!0},rangeSelectToLast:(n,i)=>{r.current||(r.current=i);const g=l.current?r.current:i;e.selectRange(n,{start:g,end:Z(e)})},rangeSelectToFirst:(n,i)=>{r.current||(r.current=i);const g=l.current?r.current:i;e.selectRange(n,{start:g,end:ee(e)})}}),{getRootProps:()=>({"aria-multiselectable":t.multiSelect})}};oe.models={selected:{controlledProp:"selected",defaultProp:"defaultSelected"}};const bt=[];oe.getDefaultizedParams=e=>{var t,o,r;return m({},e,{disableSelection:(t=e.disableSelection)!=null?t:!1,multiSelect:(o=e.multiSelect)!=null?o:!1,defaultSelected:(r=e.defaultSelected)!=null?r:e.multiSelect?bt:null})};const ue=1e3;class Nt{constructor(t=ue){this.timeouts=new Map,this.cleanupTimeout=ue,this.cleanupTimeout=t}register(t,o,r){this.timeouts||(this.timeouts=new Map);const l=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,l)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class xt{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,r){this.registry.register(t,o,r)}unregister(t){this.registry.unregister(t)}reset(){}}class ht{}function It(e){let t=0;return function(r,l,d){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new xt:new Nt);const[b]=N.useState(new ht),s=N.useRef(null),p=N.useRef();p.current=d;const c=N.useRef(null);if(!s.current&&p.current){const f=(u,h)=>{if(!h.defaultMuiPrevented){var a;(a=p.current)==null||a.call(p,u,h)}};s.current=r.$$subscribeEvent(l,f),t+=1,c.current={cleanupToken:t},e.registry.register(b,()=>{var u;(u=s.current)==null||u.call(s),s.current=null,c.current=null},c.current)}else!p.current&&s.current&&(s.current(),s.current=null,c.current&&(e.registry.unregister(c.current),c.current=null));N.useEffect(()=>{if(!s.current&&p.current){const f=(u,h)=>{if(!h.defaultMuiPrevented){var a;(a=p.current)==null||a.call(p,u,h)}};s.current=r.$$subscribeEvent(l,f)}return c.current&&e.registry&&(e.registry.unregister(c.current),c.current=null),()=>{var f;(f=s.current)==null||f.call(s),s.current=null}},[r,l])}}const Ct={registry:null},Et=It(Ct),ne=({instance:e,params:t,state:o,setState:r,models:l,rootRef:d})=>{const b=A(a=>{const n=typeof a=="function"?a(o.focusedNodeId):a;r(i=>m({},i,{focusedNodeId:n}))}),s=N.useCallback(a=>o.focusedNodeId===a,[o.focusedNodeId]),p=A((a,n)=>{n&&(b(n),t.onNodeFocus&&t.onNodeFocus(a,n))});F(e,{isNodeFocused:s,focusNode:p}),Et(e,"removeNode",({id:a})=>{b(n=>n===a&&d.current===me(d.current).activeElement?e.getChildrenIds(null)[0]:n)});const c=a=>n=>{var i;if((i=a.onFocus)==null||i.call(a,n),n.target===n.currentTarget){const g=I=>{const C=e.getNode(I);return C&&(C.parentId==null||e.isNodeExpanded(C.parentId))};let x;Array.isArray(l.selected.value)?x=l.selected.value.find(g):l.selected.value!=null&&g(l.selected.value)&&(x=l.selected.value),x==null&&(x=e.getNavigableChildrenIds(null)[0]),e.focusNode(n,x)}},f=a=>n=>{var i;(i=a.onBlur)==null||i.call(a,n),b(null)},u=e.getNode(o.focusedNodeId),h=u?u.idAttribute:null;return{getRootProps:a=>({onFocus:c(a),onBlur:f(a),"aria-activedescendant":h??void 0})}};ne.getInitialState=()=>({focusedNodeId:null});ne.getDefaultizedParams=e=>{var t;return m({},e,{disabledItemsFocusable:(t=e.disabledItemsFocusable)!=null?t:!1})};function St(e){return e&&e.length===1&&e.match(/\S/)}function fe(e,t,o){for(let r=t;r<e.length;r+=1)if(o===e[r])return r;return-1}const yt=({instance:e,params:t,state:o})=>{const l=$e().direction==="rtl",d=N.useRef({}),b=A((a,n)=>(d.current[a]=n,()=>{const i=m({},d.current);delete i[a],d.current=i}));F(e,{mapFirstChar:b});const s=a=>(o.focusedNodeId!=null&&e.isNodeExpandable(o.focusedNodeId)&&(e.isNodeExpanded(o.focusedNodeId)?e.focusNode(a,$(e,o.focusedNodeId)):e.isNodeDisabled(o.focusedNodeId)||e.toggleNodeExpansion(a,o.focusedNodeId)),!0),p=a=>{if(o.focusedNodeId==null)return!1;if(e.isNodeExpanded(o.focusedNodeId)&&!e.isNodeDisabled(o.focusedNodeId))return e.toggleNodeExpansion(a,o.focusedNodeId),!0;const n=e.getNode(o.focusedNodeId).parentId;return n?(e.focusNode(a,n),!0):!1},c=(a,n,i)=>{let g,x;const I=i.toLowerCase(),C=[],E=[];Object.keys(d.current).forEach(S=>{const P=e.getNode(S),v=P.parentId?e.isNodeExpanded(P.parentId):!0,O=t.disabledItemsFocusable?!1:e.isNodeDisabled(S);v&&!O&&(C.push(S),E.push(d.current[S]))}),g=C.indexOf(n)+1,g>=C.length&&(g=0),x=fe(E,g,I),x===-1&&(x=fe(E,0,I)),x>-1&&e.focusNode(a,C[x])},f=(a,n)=>{e.isNodeDisabled($(e,n))||e.selectRange(a,{end:$(e,n),current:n},!0)},u=(a,n)=>{e.isNodeDisabled(Y(e,n))||e.selectRange(a,{end:Y(e,n),current:n},!0)},h=a=>n=>{var i;(i=a.onKeyDown)==null||i.call(a,n);let g=!1;const x=n.key;if(n.altKey||n.currentTarget!==n.target||o.focusedNodeId==null)return;const I=n.ctrlKey||n.metaKey;switch(x){case" ":!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&(g=!0,t.multiSelect&&n.shiftKey?e.selectRange(n,{end:o.focusedNodeId}):t.multiSelect?e.selectNode(n,o.focusedNodeId,!0):e.selectNode(n,o.focusedNodeId)),n.stopPropagation();break;case"Enter":e.isNodeDisabled(o.focusedNodeId)||(e.isNodeExpandable(o.focusedNodeId)?(e.toggleNodeExpansion(n,o.focusedNodeId),g=!0):t.disableSelection||(g=!0,t.multiSelect?e.selectNode(n,o.focusedNodeId,!0):e.selectNode(n,o.focusedNodeId))),n.stopPropagation();break;case"ArrowDown":t.multiSelect&&n.shiftKey&&!t.disableSelection&&f(n,o.focusedNodeId),e.focusNode(n,$(e,o.focusedNodeId)),g=!0;break;case"ArrowUp":t.multiSelect&&n.shiftKey&&!t.disableSelection&&u(n,o.focusedNodeId),e.focusNode(n,Y(e,o.focusedNodeId)),g=!0;break;case"ArrowRight":l?g=p(n):g=s(n);break;case"ArrowLeft":l?g=s(n):g=p(n);break;case"Home":t.multiSelect&&I&&n.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&e.rangeSelectToFirst(n,o.focusedNodeId),e.focusNode(n,ee(e)),g=!0;break;case"End":t.multiSelect&&I&&n.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(o.focusedNodeId)&&e.rangeSelectToLast(n,o.focusedNodeId),e.focusNode(n,Z(e)),g=!0;break;default:x==="*"?(e.expandAllSiblings(n,o.focusedNodeId),g=!0):t.multiSelect&&I&&x.toLowerCase()==="a"&&!t.disableSelection?(e.selectRange(n,{start:ee(e),end:Z(e)}),g=!0):!I&&!n.shiftKey&&St(x)&&(c(n,o.focusedNodeId,x),g=!0)}g&&(n.preventDefault(),n.stopPropagation())};return{getRootProps:a=>({onKeyDown:h(a)})}},mt=({instance:e,params:t})=>{const o=Ae(t.id);return{getRootProps:()=>({id:o}),contextValue:{treeId:o,instance:e,multiSelect:t.multiSelect,disabledItemsFocusable:t.disabledItemsFocusable,icons:{defaultCollapseIcon:t.defaultCollapseIcon,defaultEndIcon:t.defaultEndIcon,defaultExpandIcon:t.defaultExpandIcon,defaultParentIcon:t.defaultParentIcon}}}},vt=[ft,te,oe,ne,yt,mt],Tt=["disabledItemsFocusable","expanded","defaultExpanded","onNodeToggle","onNodeFocus","disableSelection","defaultSelected","selected","multiSelect","onNodeSelect","id","defaultCollapseIcon","defaultEndIcon","defaultExpandIcon","defaultParentIcon","children"],Rt=e=>{const{classes:t}=e;return ye({root:["root"]},nt,t)},pe=z("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0}),Ft=N.forwardRef(function(t,o){const r=Ee({props:t,name:"MuiTreeView"}),l=r,d=r,{disabledItemsFocusable:b,expanded:s,defaultExpanded:p,onNodeToggle:c,onNodeFocus:f,disableSelection:u,defaultSelected:h,selected:a,multiSelect:n,onNodeSelect:i,id:g,defaultCollapseIcon:x,defaultEndIcon:I,defaultExpandIcon:C,defaultParentIcon:E,children:S}=d,P=U(d,Tt),{getRootProps:v,contextValue:O}=dt({disabledItemsFocusable:b,expanded:s,defaultExpanded:p,onNodeToggle:c,onNodeFocus:f,disableSelection:u,defaultSelected:h,selected:a,multiSelect:n,onNodeSelect:i,id:g,defaultCollapseIcon:x,defaultEndIcon:I,defaultExpandIcon:C,defaultParentIcon:E,plugins:vt,rootRef:o}),y=Rt(r),k=je({elementType:pe,externalSlotProps:{},externalForwardedProps:P,className:y.root,getSlotProps:v,ownerState:l});return T.jsx(at,{value:O,children:T.jsx(pe,m({},k,{children:S}))})});export{Dt as C,Ot as E,Ft as T,kt as a,D as t};
