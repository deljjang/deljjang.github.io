import{U as d,c as m,a as k,f as b,g as x,j as t,H as f}from"./index-DHjt8BBZ.js";import{a as B}from"./LinkItem-BLjPYUAY.js";import{u as p}from"./useQuery-DBnPXo_v.js";import{s as y}from"./fireDatabase-DvTwvCiX.js";import{G as i}from"./Grid-Dui3r9ar.js";import{D as j}from"./Divider-DKz08dYe.js";const $=()=>{const u=d(),{user:r}=m(),s=p({queryKey:["bibleBookmarks",r?.uid],queryFn:()=>a(),enabled:!!r?.uid});async function a(){if(!r?.uid)return null;const e=k(b,`bible_mark/${r.uid}`),o=await x(e);if(o.exists()){const n=o.val();return n?Object.values(n).filter(c=>c.bookmark==="Y"):[]}else return[]}return{query:s,setBibleBookmark:e=>{if(!r?.uid){console.error("사용자 정보가 없어 북마크를 설정할 수 없습니다.");return}let o="N";(e.bookmark===void 0||e.bookmark==="N")&&(o="Y");const n={...e,bookmark:o},l=`bible_mark/${r.uid}/${e.cd1}_${e.cd2}_${e.cd3}_${e.cd4}`;y(l,o==="N"?null:n),u.invalidateQueries({queryKey:["bibleBookmarks",r.uid]})}}},N=()=>{const{query:u}=$(),r=u.data;return r?t.jsxs(t.Fragment,{children:[r.map((s,a)=>t.jsxs(i,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:`id_${a+1}`,children:[t.jsx(i,{item:!0,xs:1,md:1,children:t.jsx(B,{to:`/bible/${s.cd1}_${s.cd2}_${s.cd3}`,state:{cd4:s.cd4},children:s.nm})}),t.jsx(i,{item:!0,xs:4,sm:6,md:9,lg:11,children:t.jsx(f,{show:!0,text:s.txt})})]},a)),t.jsx(j,{})]}):null};export{N as B,$ as u};
