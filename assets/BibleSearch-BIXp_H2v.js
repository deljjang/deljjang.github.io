import{r as l,j as e,G as n,ay as S,A as B,U as y,T as L,C as D,i as C,Y as R,ai as v,H as T,a9 as w,ac as A,a5 as E,ad as I,a6 as W}from"./index-ByiTqD5i.js";import{b as $}from"./bibleJson-DmvV-gyR.js";const k=a=>{const t=l.useRef(null);function s(){a.onSearchDataBtn(t.current.value)}function i(d){d.which===13&&s()}return e.jsx(e.Fragment,{children:e.jsxs(n,{container:!0,spacing:1,children:[e.jsx(n,{item:!0,xs:12,children:e.jsx(S,{id:"edSearch",type:"edSearch",name:"edSearch",inputRef:t,variant:"standard",placeholder:"Enter Search...",fullWidth:!0,sx:{pt:0,pl:2,pr:2,pb:1},onKeyDown:i})}),e.jsx(n,{item:!0,xs:12,children:e.jsx(B,{variant:"outlined",fullWidth:!0,onClick:s,color:"success",children:"조회"})})]})})},F=a=>{if(!(a.bibleList===void 0||a.bibleList===null))return a.bibleList.map((t,s)=>e.jsxs(n,{container:!0,spacing:2,columns:{xs:5,sm:6,md:10,lg:12},children:[e.jsxs(n,{item:!0,xs:1,md:1,children:[$[t.cd1][t.cd2].nm2,t.cd3,":",t.cd4]}),e.jsx(n,{item:!0,xs:4,sm:5,md:9,lg:11,children:e.jsx(v,{to:`/bible/${t.cd1}_${t.cd2}_${t.cd3}`,state:{cd4:t.cd4,word:a.word},children:e.jsx(T,{show:!0,text:t.txt})})})]},s))},H=()=>{const[a,t]=l.useState(!1),[s,i]=l.useState(),[d,f]=l.useState(),m=r=>{j(r)},j=r=>{if(r===""){alert("검색어를 입력해 주세요");return}f(r),i([]),t(!0);const g=w(E(W,"bible_txt/"),A("title"));I(g,o=>{const x=o.val(),u=new Array;if(o.exists())for(let h in x){let c=x[h];c.id=h;let b=c.txt+"";if(b.indexOf(r)>-1){const p=new RegExp(r,"gi");c.txt=b.replace(p,`<span class='lightext'>${r}</span>`),u.push(c)}}i(u),t(!1)})};return e.jsxs(y.Fragment,{children:[e.jsx(k,{onSearchDataBtn:m}),e.jsxs(L,{children:["검색 결과 : ",s&&s.length&&s.length]}),e.jsx(D,{sx:{p:0},children:a&&e.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(R,{sx:{mt:5}})})}),e.jsx(F,{bibleList:s,word:d})]})};export{H as default};
