import{j as s,cs as c,h as o,ct as d,H as x,x as l,P as m,q as u,r as g,o as t,aJ as h}from"./index-ByiTqD5i.js";import{u as j}from"./useSuspenseQuery-pCzOYdVY.js";import{a as y}from"./blogMainListData-BMMqCTFH.js";import"./useBaseQuery-Cn7Dt39z.js";const f=({query:i,s:e,index:n})=>s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-2",children:i.data.map((r,a)=>(r.key=a,s.jsx(S,{post:r,s:e,index:a},r.key)))});function S({post:i,s:e}){const n=i.g==="h"?null:s.jsx("span",{className:"menu-item-icon-size menu-item-icon-active",children:s.jsx(c,{})});return s.jsx(o,{to:`/tail/detail/${i.url?i.url:i.id}?s=${e}&g=${i.g?i.g:"m"}`,state:{s:e},className:"no-underline",children:s.jsx(d,{title:i.title,icon:n,children:s.jsx("div",{className:"max-h-[140px] overflow-hidden mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:s.jsx(x,{show:!0,text:i.memo})})})},i.key)}const T=({uid:i,state:e})=>{console.log("TailSearch.state:",e);const n=j({queryKey:["blogMainSearch",e&&e?.s?e.s:""],queryFn:()=>y(e?.s,i===l?l:"")});return s.jsx(f,{query:n,index:"1",s:e&&e?.s?e.s:"",sx:{mt:2}})};function q(){const e=m().state,{user:n}=u();return console.log("TailSearch.state:",e),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",justifyContent:"center"},children:[s.jsx(g.Suspense,{fallback:s.jsx(t,{}),children:n===null?s.jsx(t,{}):s.jsx(T,{index:"1",uid:n?.uid,state:e})}),s.jsx(h,{})]})}export{q as default};
