import{j as t,i as j,P as s,Q as p,E as g,bN as f,r as y,n as v,p as a,H as w,k as C,V as T,Y as D,bO as N}from"./index-CszwbD_H.js";import{C as b}from"./ComponentCard-B5c6C9Nq.js";const E=n=>t.jsxs(j,{sx:{flexGrow:1,my:2,width:"100%",display:"grid",gridTemplateColumns:"64px 64px  64px  64px ",flexDirection:"row",alignItems:"center",alignContent:"center",justifyContent:"center",textAlign:"center",whiteSpace:"nowrap"},children:[t.jsx(s,{type:"button",size:"small",variant:"outlined",color:"success",onClick:n.onEdit,children:"수정"}),t.jsx(s,{type:"button",size:"small",variant:"outlined",onClick:n.onNewMemo,children:"새글"}),n.rootDb==="memo"?t.jsx(s,{type:"button",size:"small",variant:"outlined",color:"warning",onClick:n.onMove,children:"이동"}):"",t.jsx(s,{type:"button",size:"small",variant:"outlined",color:"error",onClick:n.onDelete,children:"삭제"})]}),k=n=>{const{isLoading:i,memoDetailData:e}=n,{memoId:o}=p(),{user:m}=g(),[r]=f(),d=r.get("s"),l=r.get("g");console.log("TailDetail.memoId:",o,", searchWord:",d);const u=()=>{i.current===!1&&(i.current=!0)};if(y.useEffect(()=>{e&&e.title!==void 0&&v({title:e.title,description:e.title});function h(){window.scrollTo({top:0}),e&&e.html!=="N"&&document.querySelectorAll("pre").forEach(c=>{c.innerHTML=D(c.innerHTML)})}e&&e.memo!==null&&h()},[e]),i)return t.jsx(a,{});const x=l==="h"?null:t.jsx("span",{className:"menu-item-icon-size menu-item-icon-active",children:t.jsx(N,{})});return o===void 0||o===""||l!=="h"&&m===void 0?t.jsx(a,{}):t.jsxs("div",{className:"w-full p-0 m-0",children:[t.jsx(E,{onEdit:u}),t.jsx(b,{title:e.title,icon:x,children:t.jsxs("div",{className:"mt-1 text-gray-500 text-theme-sm dark:text-gray-400",children:[e&&e.html==="N"?t.jsx(w,{postData:e&&e.memo}):e&&e.html!=="N"&&e.memo&&t.jsx(C,{text:e.memo}),t.jsx(T,{imageList:e&&e.image}),i&&t.jsx(a,{})]})})]})};export{k as default};
