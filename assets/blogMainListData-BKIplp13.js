import{a9 as f,a5 as g,a6 as h,aa as x,ab as d,n as v,ac as M}from"./index-DDAs7UEO.js";async function C(l,s=""){if(l==null||l==="")return"";let r=s===""?`memo/${l}`:`memo_txt/${l}`;l==="home"&&(r="home/");const e=f(g(h,r)),n=await x(e);if(!n.exists()){console.log("getFireText.null");return}if(!n.exists()){console.log("getTreeMemoData.exists");return}const u=n.val(),i=[];for(let o in u){const t=u[o];t.up===void 0?(t.id=o,t.fullIndex=o):(t.id=t.up,t.fullIndex=t.up),s===""||s===void 0?(t.sub!==null&&(t.children=p(t,t.up)),i.push(t)):(t.id=o,(t.memo+"").toLowerCase().indexOf(s.toLowerCase())>-1&&i.push(t))}return i.sort((o,t)=>o.title>t.title?1:-1),i}function p(l,s){const r=[];if(l===void 0||l.sub===void 0)return r;for(let e in l.sub){let n=l.sub[e];n.id=e,n.key=e}return Object.values(l.sub).sort((e,n)=>n.title-e.title).map(e=>{e.id=e.key,e.fullIndex=s+"/sub/"+e.key,e.sub!==null&&(e.children=p(e,e.fullIndex)),r.push(e)}),r}async function N(l){const s=v[l],r=f(g(h,"home_txt"),M("gbn"),d(s.id)),e=await x(r);if(!e.exists()){console.log("getFireText.null");return}const n=e.val(),u=[{title:"React",url:"-Nn8_VCOrqSvLCqp89KJ"},{title:"Android",url:"-NnHx-gx3DMgMWLvIW8F"},{title:"JAVA",url:"-Nn8cfz1D61YG_M_911F"},{title:"그림 / 사진",url:"-NnHs-GndQ5y00GDI_rN"},{title:"MUI",url:"-NnBulBVEYke6NAxzIHY"}],i=[];for(let o in n)u.filter(a=>a.url===o).length>0||(n[o].url=o,i.push(n[o]));return i.sort((o,t)=>o.title>t.title?1:-1),i}async function m(l,s){console.log("blogMainSearch.keyWord=",l,", uid=",s);const r=f(g(h,"home_txt")),e=await x(r);if(!e.exists()){console.log("getFireText.null");return}const n=e.val(),u=[{title:"React",url:"-Nn8_VCOrqSvLCqp89KJ"},{title:"React",url:"react"},{title:"Android",url:"-NnHx-gx3DMgMWLvIW8F"},{title:"JAVA",url:"java"},{title:"JAVA",url:"-Nn8cfz1D61YG_M_911F"},{title:"그림 / 사진",url:"-NnHs-GndQ5y00GDI_rN"},{title:"MUI",url:"-NnBulBVEYke6NAxzIHY"},{title:"MUI",url:"mui"},{title:"ETC",url:"etc"},{title:"ETC",url:"I3cTgdCxwjhBBno4mtZYvnODPJu1"}],i=[];for(let t in n)if(!(u.filter(c=>c.url===t||c.title===void 0||c.title==="").length>0))if(n[t].url=t,n[t].id=t,n[t].g="h",l===""||l===void 0)i.push(n[t]);else{const c=n[t].memo+"",b=n[t].title+"";(c.toLowerCase().indexOf(l.toLowerCase())>-1||b.toLowerCase().indexOf(l.toLowerCase())>-1)&&i.push(n[t])}if(console.log("blogMainSearch.result1=",i.length),s==null||s===""||l==="")return i.sort((t,a)=>t.title>a.title?1:-1),i;const o=await C(s,l);return i.push(...o),console.log("blogMainSearch.result2=",i.length),i.sort((t,a)=>t.title>a.title?1:-1),i}export{m as a,N as b};
