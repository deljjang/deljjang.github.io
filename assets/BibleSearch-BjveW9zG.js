import{w as u,r as i,z as d,j as s,k as x,i as b,J as m,m as h,I as f}from"./index-CWXZ9Iq7.js";import{b as c}from"./bibleTxt-CDg_iih8.js";import{n as g}from"./commonUtil-B50YfFwa.js";import{T as l}from"./TwSearchBox-DbeBzUH4.js";import{G as a}from"./Grid-Bx-A-J7h.js";import"./TwBadge-D7d4nW_h.js";const j=r=>{if(!(r.bibleList===void 0||r.bibleList===null))return r.bibleList.map((e,n)=>s.jsxs(a,{container:!0,spacing:2,columns:{xs:5,sm:6,md:10,lg:12},children:[s.jsxs(a,{item:!0,xs:1,md:1,children:[m[e.cd1][e.cd2].nm2,e.cd3,":",e.cd4]}),s.jsx(a,{item:!0,xs:4,sm:5,md:9,lg:11,children:s.jsx(h,{to:`/bible/${e.cd1}_${e.cd2}_${e.cd3}`,state:{cd4:e.cd4,word:r.word},children:s.jsx(f,{show:!0,text:e.txt})})})]},n))},p=r=>{if(console.log("BibleSearch.word="+r),r==="")return[];const e=new Array;for(let n in c){let t={...c[n]};if(t.txt.match(r)){t.id=n;const o=new RegExp(r,"gi");t.txt=t.txt.replace(o,`<span class='lightext'>${r}</span>`),e.push(t)}}return e},w=()=>{const e=u().state,n=i.useRef(e===null?"":e.s),t=d({queryKey:["getBibleData",e&&e?.s?e.s:""],queryFn:()=>p(e?.s)});return i.useEffect(()=>{n.current=e===null?"":e.s,console.log("BibleSearch.useEffect.searchWord="+n.current),t.refetch()},[e]),t.isLoading?s.jsxs(s.Fragment,{children:[s.jsx(l,{state:e,gubun:"bible"}),s.jsx(x,{})]}):t.error?s.jsxs("div",{children:["Error: ",t.error.message]}):s.jsxs("div",{children:[s.jsx(l,{state:e,gubun:"bible"}),s.jsxs(b,{children:["검색 결과 : ",g(t.data?t.data?.length:"0")]}),s.jsx(j,{bibleList:t.data,word:n.current})]})};export{w as default};
