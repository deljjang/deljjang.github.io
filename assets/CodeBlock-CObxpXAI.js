import{e as x,r as u,j as e,aQ as p}from"./index-CoVcsh-V.js";const b=({id:i,block:n,styleClasses:c,onUpdateBlock:g,isCodeEditing:d,setIsCodeEditing:t,readOnly:h=!1})=>{const{t:o}=x(),l=u.useRef(null),s=u.useRef(null),f=r=>{l.current&&s.current&&g(i,{content:l.current.value,highlightLine:s.current.value}),t(!1)},a=r=>{r.key==="Escape"&&t(!1)};return e.jsx(e.Fragment,{children:d&&!h?e.jsxs("div",{className:"CodeBlock w-full relative",children:[e.jsx("textarea",{ref:l,defaultValue:n.content,onKeyDown:a,autoFocus:!0,rows:`${n.content.split(/\r\n|\r|\n/g).length}`,className:`CodeBlock_textarea ${c.code} w-full min-h-[100px] focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-b-none`}),e.jsx("input",{ref:s,type:"text",defaultValue:n.highlightLine||"",onKeyDown:a,placeholder:o("highlight_lines_placeholder","e.g., 1,3-5"),className:"CodeBlock_input w-full p-2 text-sm bg-gray-100 dark:bg-zinc-800 border-t border-gray-300 dark:border-zinc-600 focus:outline-none rounded-b-md"}),e.jsxs("div",{className:"absolute top-2 right-2 px-3 py-1 ",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-3 py-1 text-xs font-semibold text-white bg-blue-500 mr-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:o("cancel")}),e.jsx("button",{onClick:r=>f(),className:"px-3 py-1 text-xs font-semibold text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:o("done")})]})]}):e.jsx(p,{language:n.language||"javascript",postData:`${n.content}`,highlightLine:n.highlightLine})})};export{b as CodeBlock};
