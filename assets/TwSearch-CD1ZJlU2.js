import{i as b,j as s,L as i,m as p,f as L,p as T,r,br as M,R as w,c as R}from"./index-B0dcQ4hl.js";import{f as E}from"./fireMemoDetail-CrGCo_k8.js";import I from"./TwDetail-BwvB8c9F.js";import{T as q}from"./TwSearchBox-BGoe1RPg.js";import{b as v,T as k}from"./blogMainListData--ykpPm01.js";import"./SinyImageList-D49hPtMe.js";import"./HtmlCode-CA90S57Z.js";import"./HtmlText-CfZZmL5T.js";import"./index-Cml0mMAo.js";/* empty css                   */import"./ImageListItem-HF6-hX4I.js";import"./ComponentCard-Db0ewBXg.js";import"./HtmlCode-C_d_1jhg.js";import"./copy-DxBY2xUC.js";import"./TwRadio-D3JJ1DUl.js";import"./TwBadge-DX7btmwC.js";import"./toPropertyKey-DCwh5dYN.js";import"./CodeText-Bb8n7soC.js";import"./pencil-UrVXXSvW.js";import"./AniButton-DJKiCTFh.js";import"./Button-ByO7TzyK.js";const C=({uid:o,state:e})=>{const t=b({queryKey:["blogMainSearch",e&&e?.s?e.s:""],queryFn:()=>v(e?.s,o===p?p:"")});return t.isLoading?s.jsx(i,{}):t.error?s.jsxs("div",{children:["Error: ",t.error.message]}):s.jsx(k,{query:t,index:"1",s:e&&e?.s?e.s:"",sx:{mt:2}})};function se(){const o=L(),e=o.state,{user:t}=T(),d=r.useRef(e===null?"":e.s),[m,x]=r.useState(),[f]=M(),h=f.get("g"),[j,g]=r.useState(),[S,c]=r.useState(!0),l=h==="h"?"home":"memo";return r.useEffect(()=>{const y=async u=>{if(u!==""){const D=await E(l,t?.uid,u,d.current);g(D),c(!1)}};c(!0);const n=o.pathname.split("/"),a=n.length>2?n[n.length-1]:"";x(a),a!=null&&a!=="search"&&y(a)},[o.pathname]),s.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",justifyContent:"center"},children:s.jsxs(r.Suspense,{fallback:s.jsx(i,{}),children:[s.jsx(w,{children:s.jsx(R,{path:"/:memoId",element:s.jsx(I,{rootDb:l,isLoading:S,memoDetailData:j})})}),m==="search"?s.jsx(q,{state:e,gubun:"tw"}):"",t===null?s.jsx(i,{}):m==="search"&&e!==null&&e?.s!==""&&s.jsx(r.Suspense,{fallback:s.jsx(i,{}),children:s.jsx(C,{index:"1",uid:t?.uid,state:e})})]})})}export{se as default};
