import{r as n,e as y,j as a,aL as p,al as x,bb as D,b8 as O}from"./index-CmP4Fnif.js";const C=()=>{const[c,m]=n.useState({labels:[],series:[]}),[r,u]=n.useState(null),[j,l]=n.useState({isOpen:!1}),{t:i}=y();return n.useEffect(()=>{(async()=>{const t=await O("home_cnt");if(t){u(t);const s=Object.keys(t).sort().reverse().slice(0,30),f=s.map(e=>e.split("-").slice(1).join("-")),o=s.map(e=>Object.keys(t[e]).length);m({labels:f,series:o})}})()},[]),a.jsxs(a.Fragment,{children:[a.jsx(p,{...j}),a.jsx(x,{title:i("visitors.count"),className:"w-full justify-center mt-5",children:a.jsx(D,{series:[{name:i("count"),data:c.series}],labels:c.labels,showDownload:!1,onDataPointSelection:(b,t,d)=>{const s=d.dataPointIndex;if(r&&s>-1){const o=Object.keys(r).sort().reverse()[s],e=r[o],h=Object.keys(e).join("<br/>");l({isOpen:!0,title:`${o} ${i("visitors.count")}`,message:h,onClose:()=>l({isOpen:!1})})}}})})]})};export{C as HomeChartVisitors,C as default};
