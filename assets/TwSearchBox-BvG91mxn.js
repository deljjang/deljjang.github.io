import{i as v,br as f,bI as k,bJ as S,bK as C,bL as D,r as u,j as t,p as $,bM as R,z as x}from"./index-DJthDwo5.js";const O=({state:o,gubun:n="tw"})=>{const{t:h}=v(),[l,g]=f(n==="tw"?k:S),[d,m]=f(n==="tw"?C:D);return u.useEffect(()=>{o?.s&&d!==o.s&&(g(i=>({...i,[o.s]:(i[o.s]||0)+1})),m(o.s))},[o]),t.jsx(z,{title:h("search_list"),className:"mt-1",gubun:n})},z=({title:o,children:n,className:h="",gubun:l="tw"})=>{const g=$(),{t:d}=v(),[m,i]=f(l==="tw"?k:S),[p,c]=u.useState(null),a=u.useRef(),b=u.useRef(!1),j=Object.keys(m),y=e=>{w(e)},M=e=>{c(p===e?null:e)},N=(e,s)=>{e.button===0&&(e.preventDefault(),e.stopPropagation(),a.current=setTimeout(()=>{M(s),a.current=null,b.current=!0},500))},L=e=>{a.current&&(clearTimeout(a.current),a.current=null,y(e))},P=()=>{a.current&&(clearTimeout(a.current),a.current=null)},T=(e,s)=>{e.preventDefault(),e.stopPropagation(),c(p===s?null:s)},w=e=>{const s=l==="tw"?"/tw/search":`/${l}/search`;g(s,{state:{s:e}}),c(null)},W=e=>{i(s=>{const r={...s};return delete r[e],r}),c(null)};return t.jsxs("div",{className:`rounded-sm border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] overflow-visible w-full ${h} mb-3`,onClick:e=>{if(e.stopPropagation(),e.preventDefault(),b.current){b.current=!1;return}c(null)},children:[t.jsx("div",{className:"flex flex-col px-4 py-2",children:t.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:o})}),t.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-9 gap-2 p-2 sm:p-4 border-t bg-stone-100 dark:bg-stone-950 border-gray-100 dark:border-gray-800 overflow-visible",children:[j.map((e,s)=>t.jsxs("div",{className:"relative",children:[t.jsx(R,{className:"cursor-pointer",variant:"light",size:"md",color:"brand",onMouseDown:r=>N(r,e),onMouseUp:()=>L(e),onMouseLeave:P,onContextMenu:r=>T(r,e),children:e}),p===e&&t.jsxs("div",{className:`absolute top-full left-0 mt-1 bg-white dark:bg-black border border-gray-200 dark:border-gray-700 ${x.roundedLg} shadow-lg z-50 min-w-20`,children:[t.jsx("button",{className:`w-full px-3 py-2 text-left ${x.textSm} hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg`,onClick:r=>{r.preventDefault(),r.stopPropagation(),w(e)},children:d("view")}),t.jsx("button",{className:`w-full px-3 py-2 text-left ${x.textSm} text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg`,onClick:r=>{r.stopPropagation(),W(e)},children:d("delete")})]})]},s)),t.jsx("div",{children:n})]})]})};export{O as T};
