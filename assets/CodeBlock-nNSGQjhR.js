import{j as e}from"./index-4B6SYRcx.js";import{r as u}from"./router-BlMcuVHC.js";import{g as p,bn as x}from"./App-ksFIg6Zc.js";import"./vendor-CCYiWZgt.js";const v=({id:i,block:n,styleClasses:c,onUpdateBlock:g,isCodeEditing:d,setIsCodeEditing:t,readOnly:f=!1})=>{const{t:o}=p(),r=u.useRef(null),l=u.useRef(null),h=s=>{r.current&&l.current&&g(i,{content:r.current.value,highlightLine:l.current.value}),t(!1)},a=s=>{s.key==="Escape"&&t(!1)};return e.jsx(e.Fragment,{children:d&&!f?e.jsxs("div",{className:"CodeBlock w-full relative",children:[e.jsx("textarea",{ref:r,defaultValue:n.content,onKeyDown:a,autoFocus:!0,rows:`${n.content.split(/\r\n|\r|\n/g).length}`,className:`CodeBlock_textarea ${c.code} w-full min-h-[100px] focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-b-none`}),e.jsx("input",{ref:l,type:"text",defaultValue:n.highlightLine||"",onKeyDown:a,placeholder:o("highlight_lines_placeholder","e.g., 1,3-5"),className:"CodeBlock_input w-full p-2 text-sm bg-gray-100 dark:bg-zinc-800 border-t border-gray-300 dark:border-zinc-600 focus:outline-none rounded-b-md"}),e.jsxs("div",{className:"absolute top-2 right-2 px-3 py-1 ",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-3 py-1 text-xs font-semibold text-white bg-blue-500 mr-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:o("cancel")}),e.jsx("button",{onClick:s=>h(),className:"px-3 py-1 text-xs font-semibold text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",children:o("done")})]})]}):e.jsx(x,{language:n.language||"javascript",postData:`${n.content}`,highlightLine:n.highlightLine})})};export{v as CodeBlock};
