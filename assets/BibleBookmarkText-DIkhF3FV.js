import{V as d,d as k,G as b,r as m,f as x,W as B,s as f,j as t,t as y,M as j,D as $}from"./index-F56QS38a.js";import{G as i}from"./Grid-B4erBMlg.js";const p=()=>{const u=d(),{user:e}=k(),r=b({queryKey:["bibleBookmarks",e?.uid],queryFn:()=>o(),enabled:!!e?.uid});async function o(){if(!e?.uid)return null;const s=m(x,`bible_mark/${e.uid}`),a=await B(s);if(a.exists()){const n=a.val();return n?Object.values(n).filter(c=>c.bookmark==="Y"):[]}else return[]}return{query:r,setBibleBookmark:s=>{if(!e?.uid){console.error("사용자 정보가 없어 북마크를 설정할 수 없습니다.");return}let a="N";(s.bookmark===void 0||s.bookmark==="N")&&(a="Y");const n={...s,bookmark:a},l=`bible_mark/${e.uid}/${s.cd1}_${s.cd2}_${s.cd3}_${s.cd4}`;f(l,a==="N"?null:n),u.invalidateQueries({queryKey:["bibleBookmarks",e.uid]})}}},q=()=>{const{query:u}=p(),e=u.data;return e?t.jsxs(t.Fragment,{children:[e.map((r,o)=>t.jsxs(i,{container:!0,spacing:2,columns:{xs:5,sm:7,md:10,lg:12},id:`id_${o+1}`,children:[t.jsx(i,{item:!0,xs:1,md:1,children:t.jsx(y,{to:`/bible/${r.cd1}_${r.cd2}_${r.cd3}`,state:{cd4:r.cd4},children:r.nm})}),t.jsx(i,{item:!0,xs:4,sm:6,md:9,lg:11,children:t.jsx(j,{show:!0,text:r.txt})})]},o)),t.jsx($,{})]}):null};export{q as B,p as u};
